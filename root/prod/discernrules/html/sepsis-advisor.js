/*
 * jQuery JavaScript Library v1.8.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: Thu Aug 30 2012 17:17:22 GMT-0400 (Eastern Daylight Time)
 */
(function(window,undefined){var rootjQuery,readyList,document=window.document,location=window.location,navigator=window.navigator,_jQuery=window.jQuery,_$=window.$,core_push=Array.prototype.push,core_slice=Array.prototype.slice,core_indexOf=Array.prototype.indexOf,core_toString=Object.prototype.toString,core_hasOwn=Object.prototype.hasOwnProperty,core_trim=String.prototype.trim,jQuery=function(selector,context){return new jQuery.fn.init(selector,context,rootjQuery);
},core_pnum=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,core_rnotwhite=/\S/,core_rspace=/\s+/,rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rquickExpr=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,rvalidchars=/^[\],:{}\s]*$/,rvalidbraces=/(?:^|:|,)(?:\s*\[)+/g,rvalidescape=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,rvalidtokens=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return(letter+"").toUpperCase();
},DOMContentLoaded=function(){if(document.addEventListener){document.removeEventListener("DOMContentLoaded",DOMContentLoaded,false);
jQuery.ready();
}else{if(document.readyState==="complete"){document.detachEvent("onreadystatechange",DOMContentLoaded);
jQuery.ready();
}}},class2type={};
jQuery.fn=jQuery.prototype={constructor:jQuery,init:function(selector,context,rootjQuery){var match,elem,ret,doc;
if(!selector){return this;
}if(selector.nodeType){this.context=this[0]=selector;
this.length=1;
return this;
}if(typeof selector==="string"){if(selector.charAt(0)==="<"&&selector.charAt(selector.length-1)===">"&&selector.length>=3){match=[null,selector,null];
}else{match=rquickExpr.exec(selector);
}if(match&&(match[1]||!context)){if(match[1]){context=context instanceof jQuery?context[0]:context;
doc=(context&&context.nodeType?context.ownerDocument||context:document);
selector=jQuery.parseHTML(match[1],doc,true);
if(rsingleTag.test(match[1])&&jQuery.isPlainObject(context)){this.attr.call(selector,context,true);
}return jQuery.merge(this,selector);
}else{elem=document.getElementById(match[2]);
if(elem&&elem.parentNode){if(elem.id!==match[2]){return rootjQuery.find(selector);
}this.length=1;
this[0]=elem;
}this.context=document;
this.selector=selector;
return this;
}}else{if(!context||context.jquery){return(context||rootjQuery).find(selector);
}else{return this.constructor(context).find(selector);
}}}else{if(jQuery.isFunction(selector)){return rootjQuery.ready(selector);
}}if(selector.selector!==undefined){this.selector=selector.selector;
this.context=selector.context;
}return jQuery.makeArray(selector,this);
},selector:"",jquery:"1.8.1",length:0,size:function(){return this.length;
},toArray:function(){return core_slice.call(this);
},get:function(num){return num==null?this.toArray():(num<0?this[this.length+num]:this[num]);
},pushStack:function(elems,name,selector){var ret=jQuery.merge(this.constructor(),elems);
ret.prevObject=this;
ret.context=this.context;
if(name==="find"){ret.selector=this.selector+(this.selector?" ":"")+selector;
}else{if(name){ret.selector=this.selector+"."+name+"("+selector+")";
}}return ret;
},each:function(callback,args){return jQuery.each(this,callback,args);
},ready:function(fn){jQuery.ready.promise().done(fn);
return this;
},eq:function(i){i=+i;
return i===-1?this.slice(i):this.slice(i,i+1);
},first:function(){return this.eq(0);
},last:function(){return this.eq(-1);
},slice:function(){return this.pushStack(core_slice.apply(this,arguments),"slice",core_slice.call(arguments).join(","));
},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem);
}));
},end:function(){return this.prevObject||this.constructor(null);
},push:core_push,sort:[].sort,splice:[].splice};
jQuery.fn.init.prototype=jQuery.fn;
jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=false;
if(typeof target==="boolean"){deep=target;
target=arguments[1]||{};
i=2;
}if(typeof target!=="object"&&!jQuery.isFunction(target)){target={};
}if(length===i){target=this;
--i;
}for(;
i<length;
i++){if((options=arguments[i])!=null){for(name in options){src=target[name];
copy=options[name];
if(target===copy){continue;
}if(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))){if(copyIsArray){copyIsArray=false;
clone=src&&jQuery.isArray(src)?src:[];
}else{clone=src&&jQuery.isPlainObject(src)?src:{};
}target[name]=jQuery.extend(deep,clone,copy);
}else{if(copy!==undefined){target[name]=copy;
}}}}}return target;
};
jQuery.extend({noConflict:function(deep){if(window.$===jQuery){window.$=_$;
}if(deep&&window.jQuery===jQuery){window.jQuery=_jQuery;
}return jQuery;
},isReady:false,readyWait:1,holdReady:function(hold){if(hold){jQuery.readyWait++;
}else{jQuery.ready(true);
}},ready:function(wait){if(wait===true?--jQuery.readyWait:jQuery.isReady){return;
}if(!document.body){return setTimeout(jQuery.ready,1);
}jQuery.isReady=true;
if(wait!==true&&--jQuery.readyWait>0){return;
}readyList.resolveWith(document,[jQuery]);
if(jQuery.fn.trigger){jQuery(document).trigger("ready").off("ready");
}},isFunction:function(obj){return jQuery.type(obj)==="function";
},isArray:Array.isArray||function(obj){return jQuery.type(obj)==="array";
},isWindow:function(obj){return obj!=null&&obj==obj.window;
},isNumeric:function(obj){return !isNaN(parseFloat(obj))&&isFinite(obj);
},type:function(obj){return obj==null?String(obj):class2type[core_toString.call(obj)]||"object";
},isPlainObject:function(obj){if(!obj||jQuery.type(obj)!=="object"||obj.nodeType||jQuery.isWindow(obj)){return false;
}try{if(obj.constructor&&!core_hasOwn.call(obj,"constructor")&&!core_hasOwn.call(obj.constructor.prototype,"isPrototypeOf")){return false;
}}catch(e){return false;
}var key;
for(key in obj){}return key===undefined||core_hasOwn.call(obj,key);
},isEmptyObject:function(obj){var name;
for(name in obj){return false;
}return true;
},error:function(msg){throw new Error(msg);
},parseHTML:function(data,context,scripts){var parsed;
if(!data||typeof data!=="string"){return null;
}if(typeof context==="boolean"){scripts=context;
context=0;
}context=context||document;
if((parsed=rsingleTag.exec(data))){return[context.createElement(parsed[1])];
}parsed=jQuery.buildFragment([data],context,scripts?null:[]);
return jQuery.merge([],(parsed.cacheable?jQuery.clone(parsed.fragment):parsed.fragment).childNodes);
},parseJSON:function(data){if(!data||typeof data!=="string"){return null;
}data=jQuery.trim(data);
if(window.JSON&&window.JSON.parse){return window.JSON.parse(data);
}if(rvalidchars.test(data.replace(rvalidescape,"@").replace(rvalidtokens,"]").replace(rvalidbraces,""))){return(new Function("return "+data))();
}jQuery.error("Invalid JSON: "+data);
},parseXML:function(data){var xml,tmp;
if(!data||typeof data!=="string"){return null;
}try{if(window.DOMParser){tmp=new DOMParser();
xml=tmp.parseFromString(data,"text/xml");
}else{xml=new ActiveXObject("Microsoft.XMLDOM");
xml.async="false";
xml.loadXML(data);
}}catch(e){xml=undefined;
}if(!xml||!xml.documentElement||xml.getElementsByTagName("parsererror").length){jQuery.error("Invalid XML: "+data);
}return xml;
},noop:function(){},globalEval:function(data){if(data&&core_rnotwhite.test(data)){(window.execScript||function(data){window["eval"].call(window,data);
})(data);
}},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase);
},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toUpperCase()===name.toUpperCase();
},each:function(obj,callback,args){var name,i=0,length=obj.length,isObj=length===undefined||jQuery.isFunction(obj);
if(args){if(isObj){for(name in obj){if(callback.apply(obj[name],args)===false){break;
}}}else{for(;
i<length;
){if(callback.apply(obj[i++],args)===false){break;
}}}}else{if(isObj){for(name in obj){if(callback.call(obj[name],name,obj[name])===false){break;
}}}else{for(;
i<length;
){if(callback.call(obj[i],i,obj[i++])===false){break;
}}}}return obj;
},trim:core_trim&&!core_trim.call("\uFEFF\xA0")?function(text){return text==null?"":core_trim.call(text);
}:function(text){return text==null?"":text.toString().replace(rtrim,"");
},makeArray:function(arr,results){var type,ret=results||[];
if(arr!=null){type=jQuery.type(arr);
if(arr.length==null||type==="string"||type==="function"||type==="regexp"||jQuery.isWindow(arr)){core_push.call(ret,arr);
}else{jQuery.merge(ret,arr);
}}return ret;
},inArray:function(elem,arr,i){var len;
if(arr){if(core_indexOf){return core_indexOf.call(arr,elem,i);
}len=arr.length;
i=i?i<0?Math.max(0,len+i):i:0;
for(;
i<len;
i++){if(i in arr&&arr[i]===elem){return i;
}}}return -1;
},merge:function(first,second){var l=second.length,i=first.length,j=0;
if(typeof l==="number"){for(;
j<l;
j++){first[i++]=second[j];
}}else{while(second[j]!==undefined){first[i++]=second[j++];
}}first.length=i;
return first;
},grep:function(elems,callback,inv){var retVal,ret=[],i=0,length=elems.length;
inv=!!inv;
for(;
i<length;
i++){retVal=!!callback(elems[i],i);
if(inv!==retVal){ret.push(elems[i]);
}}return ret;
},map:function(elems,callback,arg){var value,key,ret=[],i=0,length=elems.length,isArray=elems instanceof jQuery||length!==undefined&&typeof length==="number"&&((length>0&&elems[0]&&elems[length-1])||length===0||jQuery.isArray(elems));
if(isArray){for(;
i<length;
i++){value=callback(elems[i],i,arg);
if(value!=null){ret[ret.length]=value;
}}}else{for(key in elems){value=callback(elems[key],key,arg);
if(value!=null){ret[ret.length]=value;
}}}return ret.concat.apply([],ret);
},guid:1,proxy:function(fn,context){var tmp,args,proxy;
if(typeof context==="string"){tmp=fn[context];
context=fn;
fn=tmp;
}if(!jQuery.isFunction(fn)){return undefined;
}args=core_slice.call(arguments,2);
proxy=function(){return fn.apply(context,args.concat(core_slice.call(arguments)));
};
proxy.guid=fn.guid=fn.guid||proxy.guid||jQuery.guid++;
return proxy;
},access:function(elems,fn,key,value,chainable,emptyGet,pass){var exec,bulk=key==null,i=0,length=elems.length;
if(key&&typeof key==="object"){for(i in key){jQuery.access(elems,fn,i,key[i],1,emptyGet,value);
}chainable=1;
}else{if(value!==undefined){exec=pass===undefined&&jQuery.isFunction(value);
if(bulk){if(exec){exec=fn;
fn=function(elem,key,value){return exec.call(jQuery(elem),value);
};
}else{fn.call(elems,value);
fn=null;
}}if(fn){for(;
i<length;
i++){fn(elems[i],key,exec?value.call(elems[i],i,fn(elems[i],key)):value,pass);
}}chainable=1;
}}return chainable?elems:bulk?fn.call(elems):length?fn(elems[0],key):emptyGet;
},now:function(){return(new Date()).getTime();
}});
jQuery.ready.promise=function(obj){if(!readyList){readyList=jQuery.Deferred();
if(document.readyState==="complete"){setTimeout(jQuery.ready,1);
}else{if(document.addEventListener){document.addEventListener("DOMContentLoaded",DOMContentLoaded,false);
window.addEventListener("load",jQuery.ready,false);
}else{document.attachEvent("onreadystatechange",DOMContentLoaded);
window.attachEvent("onload",jQuery.ready);
var top=false;
try{top=window.frameElement==null&&document.documentElement;
}catch(e){}if(top&&top.doScroll){(function doScrollCheck(){if(!jQuery.isReady){try{top.doScroll("left");
}catch(e){return setTimeout(doScrollCheck,50);
}jQuery.ready();
}})();
}}}}return readyList.promise(obj);
};
jQuery.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase();
});
rootjQuery=jQuery(document);
var optionsCache={};
function createOptions(options){var object=optionsCache[options]={};
jQuery.each(options.split(core_rspace),function(_,flag){object[flag]=true;
});
return object;
}jQuery.Callbacks=function(options){options=typeof options==="string"?(optionsCache[options]||createOptions(options)):jQuery.extend({},options);
var memory,fired,firing,firingStart,firingLength,firingIndex,list=[],stack=!options.once&&[],fire=function(data){memory=options.memory&&data;
fired=true;
firingIndex=firingStart||0;
firingStart=0;
firingLength=list.length;
firing=true;
for(;
list&&firingIndex<firingLength;
firingIndex++){if(list[firingIndex].apply(data[0],data[1])===false&&options.stopOnFalse){memory=false;
break;
}}firing=false;
if(list){if(stack){if(stack.length){fire(stack.shift());
}}else{if(memory){list=[];
}else{self.disable();
}}}},self={add:function(){if(list){var start=list.length;
(function add(args){jQuery.each(args,function(_,arg){var type=jQuery.type(arg);
if(type==="function"&&(!options.unique||!self.has(arg))){list.push(arg);
}else{if(arg&&arg.length&&type!=="string"){add(arg);
}}});
})(arguments);
if(firing){firingLength=list.length;
}else{if(memory){firingStart=start;
fire(memory);
}}}return this;
},remove:function(){if(list){jQuery.each(arguments,function(_,arg){var index;
while((index=jQuery.inArray(arg,list,index))>-1){list.splice(index,1);
if(firing){if(index<=firingLength){firingLength--;
}if(index<=firingIndex){firingIndex--;
}}}});
}return this;
},has:function(fn){return jQuery.inArray(fn,list)>-1;
},empty:function(){list=[];
return this;
},disable:function(){list=stack=memory=undefined;
return this;
},disabled:function(){return !list;
},lock:function(){stack=undefined;
if(!memory){self.disable();
}return this;
},locked:function(){return !stack;
},fireWith:function(context,args){args=args||[];
args=[context,args.slice?args.slice():args];
if(list&&(!fired||stack)){if(firing){stack.push(args);
}else{fire(args);
}}return this;
},fire:function(){self.fireWith(this,arguments);
return this;
},fired:function(){return !!fired;
}};
return self;
};
jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state;
},always:function(){deferred.done(arguments).fail(arguments);
return this;
},then:function(){var fns=arguments;
return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var action=tuple[0],fn=fns[i];
deferred[tuple[1]](jQuery.isFunction(fn)?function(){var returned=fn.apply(this,arguments);
if(returned&&jQuery.isFunction(returned.promise)){returned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify);
}else{newDefer[action+"With"](this===deferred?newDefer:this,[returned]);
}}:newDefer[action]);
});
fns=null;
}).promise();
},promise:function(obj){return typeof obj==="object"?jQuery.extend(obj,promise):promise;
}},deferred={};
promise.pipe=promise.then;
jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];
promise[tuple[1]]=list.add;
if(stateString){list.add(function(){state=stateString;
},tuples[i^1][2].disable,tuples[2][2].lock);
}deferred[tuple[0]]=list.fire;
deferred[tuple[0]+"With"]=list.fireWith;
});
promise.promise(deferred);
if(func){func.call(deferred,deferred);
}return deferred;
},when:function(subordinate){var i=0,resolveValues=core_slice.call(arguments),length=resolveValues.length,remaining=length!==1||(subordinate&&jQuery.isFunction(subordinate.promise))?length:0,deferred=remaining===1?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this;
values[i]=arguments.length>1?core_slice.call(arguments):value;
if(values===progressValues){deferred.notifyWith(contexts,values);
}else{if(!(--remaining)){deferred.resolveWith(contexts,values);
}}};
},progressValues,progressContexts,resolveContexts;
if(length>1){progressValues=new Array(length);
progressContexts=new Array(length);
resolveContexts=new Array(length);
for(;
i<length;
i++){if(resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)){resolveValues[i].promise().done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject).progress(updateFunc(i,progressContexts,progressValues));
}else{--remaining;
}}}if(!remaining){deferred.resolveWith(resolveContexts,resolveValues);
}return deferred.promise();
}});
jQuery.support=(function(){var support,all,a,select,opt,input,fragment,eventName,i,isSupported,clickFn,div=document.createElement("div");
div.setAttribute("className","t");
div.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";
all=div.getElementsByTagName("*");
a=div.getElementsByTagName("a")[0];
a.style.cssText="top:1px;float:left;opacity:.5";
if(!all||!all.length||!a){return{};
}select=document.createElement("select");
opt=select.appendChild(document.createElement("option"));
input=div.getElementsByTagName("input")[0];
support={leadingWhitespace:(div.firstChild.nodeType===3),tbody:!div.getElementsByTagName("tbody").length,htmlSerialize:!!div.getElementsByTagName("link").length,style:/top/.test(a.getAttribute("style")),hrefNormalized:(a.getAttribute("href")==="/a"),opacity:/^0.5/.test(a.style.opacity),cssFloat:!!a.style.cssFloat,checkOn:(input.value==="on"),optSelected:opt.selected,getSetAttribute:div.className!=="t",enctype:!!document.createElement("form").enctype,html5Clone:document.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",boxModel:(document.compatMode==="CSS1Compat"),submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true,boxSizingReliable:true,pixelPosition:false};
input.checked=true;
support.noCloneChecked=input.cloneNode(true).checked;
select.disabled=true;
support.optDisabled=!opt.disabled;
try{delete div.test;
}catch(e){support.deleteExpando=false;
}if(!div.addEventListener&&div.attachEvent&&div.fireEvent){div.attachEvent("onclick",clickFn=function(){support.noCloneEvent=false;
});
div.cloneNode(true).fireEvent("onclick");
div.detachEvent("onclick",clickFn);
}input=document.createElement("input");
input.value="t";
input.setAttribute("type","radio");
support.radioValue=input.value==="t";
input.setAttribute("checked","checked");
input.setAttribute("name","t");
div.appendChild(input);
fragment=document.createDocumentFragment();
fragment.appendChild(div.lastChild);
support.checkClone=fragment.cloneNode(true).cloneNode(true).lastChild.checked;
support.appendChecked=input.checked;
fragment.removeChild(input);
fragment.appendChild(div);
if(div.attachEvent){for(i in {submit:true,change:true,focusin:true}){eventName="on"+i;
isSupported=(eventName in div);
if(!isSupported){div.setAttribute(eventName,"return;");
isSupported=(typeof div[eventName]==="function");
}support[i+"Bubbles"]=isSupported;
}}jQuery(function(){var container,div,tds,marginDiv,divReset="padding:0;margin:0;border:0;display:block;overflow:hidden;",body=document.getElementsByTagName("body")[0];
if(!body){return;
}container=document.createElement("div");
container.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px";
body.insertBefore(container,body.firstChild);
div=document.createElement("div");
container.appendChild(div);
div.innerHTML="<table><tr><td></td><td>t</td></tr></table>";
tds=div.getElementsByTagName("td");
tds[0].style.cssText="padding:0;margin:0;border:0;display:none";
isSupported=(tds[0].offsetHeight===0);
tds[0].style.display="";
tds[1].style.display="none";
support.reliableHiddenOffsets=isSupported&&(tds[0].offsetHeight===0);
div.innerHTML="";
div.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";
support.boxSizing=(div.offsetWidth===4);
support.doesNotIncludeMarginInBodyOffset=(body.offsetTop!==1);
if(window.getComputedStyle){support.pixelPosition=(window.getComputedStyle(div,null)||{}).top!=="1%";
support.boxSizingReliable=(window.getComputedStyle(div,null)||{width:"4px"}).width==="4px";
marginDiv=document.createElement("div");
marginDiv.style.cssText=div.style.cssText=divReset;
marginDiv.style.marginRight=marginDiv.style.width="0";
div.style.width="1px";
div.appendChild(marginDiv);
support.reliableMarginRight=!parseFloat((window.getComputedStyle(marginDiv,null)||{}).marginRight);
}if(typeof div.style.zoom!=="undefined"){div.innerHTML="";
div.style.cssText=divReset+"width:1px;padding:1px;display:inline;zoom:1";
support.inlineBlockNeedsLayout=(div.offsetWidth===3);
div.style.display="block";
div.style.overflow="visible";
div.innerHTML="<div></div>";
div.firstChild.style.width="5px";
support.shrinkWrapBlocks=(div.offsetWidth!==3);
container.style.zoom=1;
}body.removeChild(container);
container=div=tds=marginDiv=null;
});
fragment.removeChild(div);
all=a=select=opt=input=fragment=div=null;
return support;
})();
var rbrace=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,rmultiDash=/([A-Z])/g;
jQuery.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(jQuery.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(elem){elem=elem.nodeType?jQuery.cache[elem[jQuery.expando]]:elem[jQuery.expando];
return !!elem&&!isEmptyDataObject(elem);
},data:function(elem,name,data,pvt){if(!jQuery.acceptData(elem)){return;
}var thisCache,ret,internalKey=jQuery.expando,getByName=typeof name==="string",isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[internalKey]:elem[internalKey]&&internalKey;
if((!id||!cache[id]||(!pvt&&!cache[id].data))&&getByName&&data===undefined){return;
}if(!id){if(isNode){elem[internalKey]=id=jQuery.deletedIds.pop()||++jQuery.uuid;
}else{id=internalKey;
}}if(!cache[id]){cache[id]={};
if(!isNode){cache[id].toJSON=jQuery.noop;
}}if(typeof name==="object"||typeof name==="function"){if(pvt){cache[id]=jQuery.extend(cache[id],name);
}else{cache[id].data=jQuery.extend(cache[id].data,name);
}}thisCache=cache[id];
if(!pvt){if(!thisCache.data){thisCache.data={};
}thisCache=thisCache.data;
}if(data!==undefined){thisCache[jQuery.camelCase(name)]=data;
}if(getByName){ret=thisCache[name];
if(ret==null){ret=thisCache[jQuery.camelCase(name)];
}}else{ret=thisCache;
}return ret;
},removeData:function(elem,name,pvt){if(!jQuery.acceptData(elem)){return;
}var thisCache,i,l,isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[jQuery.expando]:jQuery.expando;
if(!cache[id]){return;
}if(name){thisCache=pvt?cache[id]:cache[id].data;
if(thisCache){if(!jQuery.isArray(name)){if(name in thisCache){name=[name];
}else{name=jQuery.camelCase(name);
if(name in thisCache){name=[name];
}else{name=name.split(" ");
}}}for(i=0,l=name.length;
i<l;
i++){delete thisCache[name[i]];
}if(!(pvt?isEmptyDataObject:jQuery.isEmptyObject)(thisCache)){return;
}}}if(!pvt){delete cache[id].data;
if(!isEmptyDataObject(cache[id])){return;
}}if(isNode){jQuery.cleanData([elem],true);
}else{if(jQuery.support.deleteExpando||cache!=cache.window){delete cache[id];
}else{cache[id]=null;
}}},_data:function(elem,name,data){return jQuery.data(elem,name,data,true);
},acceptData:function(elem){var noData=elem.nodeName&&jQuery.noData[elem.nodeName.toLowerCase()];
return !noData||noData!==true&&elem.getAttribute("classid")===noData;
}});
jQuery.fn.extend({data:function(key,value){var parts,part,attr,name,l,elem=this[0],i=0,data=null;
if(key===undefined){if(this.length){data=jQuery.data(elem);
if(elem.nodeType===1&&!jQuery._data(elem,"parsedAttrs")){attr=elem.attributes;
for(l=attr.length;
i<l;
i++){name=attr[i].name;
if(name.indexOf("data-")===0){name=jQuery.camelCase(name.substring(5));
dataAttr(elem,name,data[name]);
}}jQuery._data(elem,"parsedAttrs",true);
}}return data;
}if(typeof key==="object"){return this.each(function(){jQuery.data(this,key);
});
}parts=key.split(".",2);
parts[1]=parts[1]?"."+parts[1]:"";
part=parts[1]+"!";
return jQuery.access(this,function(value){if(value===undefined){data=this.triggerHandler("getData"+part,[parts[0]]);
if(data===undefined&&elem){data=jQuery.data(elem,key);
data=dataAttr(elem,key,data);
}return data===undefined&&parts[1]?this.data(parts[0]):data;
}parts[1]=value;
this.each(function(){var self=jQuery(this);
self.triggerHandler("setData"+part,parts);
jQuery.data(this,key,value);
self.triggerHandler("changeData"+part,parts);
});
},null,value,arguments.length>1,null,false);
},removeData:function(key){return this.each(function(){jQuery.removeData(this,key);
});
}});
function dataAttr(elem,key,data){if(data===undefined&&elem.nodeType===1){var name="data-"+key.replace(rmultiDash,"-$1").toLowerCase();
data=elem.getAttribute(name);
if(typeof data==="string"){try{data=data==="true"?true:data==="false"?false:data==="null"?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data;
}catch(e){}jQuery.data(elem,key,data);
}else{data=undefined;
}}return data;
}function isEmptyDataObject(obj){var name;
for(name in obj){if(name==="data"&&jQuery.isEmptyObject(obj[name])){continue;
}if(name!=="toJSON"){return false;
}}return true;
}jQuery.extend({queue:function(elem,type,data){var queue;
if(elem){type=(type||"fx")+"queue";
queue=jQuery._data(elem,type);
if(data){if(!queue||jQuery.isArray(data)){queue=jQuery._data(elem,type,jQuery.makeArray(data));
}else{queue.push(data);
}}return queue||[];
}},dequeue:function(elem,type){type=type||"fx";
var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type);
};
if(fn==="inprogress"){fn=queue.shift();
startLength--;
}if(fn){if(type==="fx"){queue.unshift("inprogress");
}delete hooks.stop;
fn.call(elem,next,hooks);
}if(!startLength&&hooks){hooks.empty.fire();
}},_queueHooks:function(elem,type){var key=type+"queueHooks";
return jQuery._data(elem,key)||jQuery._data(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){jQuery.removeData(elem,type+"queue",true);
jQuery.removeData(elem,key,true);
})});
}});
jQuery.fn.extend({queue:function(type,data){var setter=2;
if(typeof type!=="string"){data=type;
type="fx";
setter--;
}if(arguments.length<setter){return jQuery.queue(this[0],type);
}return data===undefined?this:this.each(function(){var queue=jQuery.queue(this,type,data);
jQuery._queueHooks(this,type);
if(type==="fx"&&queue[0]!=="inprogress"){jQuery.dequeue(this,type);
}});
},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type);
});
},delay:function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;
type=type||"fx";
return this.queue(type,function(next,hooks){var timeout=setTimeout(next,time);
hooks.stop=function(){clearTimeout(timeout);
};
});
},clearQueue:function(type){return this.queue(type||"fx",[]);
},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){if(!(--count)){defer.resolveWith(elements,[elements]);
}};
if(typeof type!=="string"){obj=type;
type=undefined;
}type=type||"fx";
while(i--){tmp=jQuery._data(elements[i],type+"queueHooks");
if(tmp&&tmp.empty){count++;
tmp.empty.add(resolve);
}}resolve();
return defer.promise(obj);
}});
var nodeHook,boolHook,fixSpecified,rclass=/[\t\r\n]/g,rreturn=/\r/g,rtype=/^(?:button|input)$/i,rfocusable=/^(?:button|input|object|select|textarea)$/i,rclickable=/^a(?:rea|)$/i,rboolean=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,getSetAttribute=jQuery.support.getSetAttribute;
jQuery.fn.extend({attr:function(name,value){return jQuery.access(this,jQuery.attr,name,value,arguments.length>1);
},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name);
});
},prop:function(name,value){return jQuery.access(this,jQuery.prop,name,value,arguments.length>1);
},removeProp:function(name){name=jQuery.propFix[name]||name;
return this.each(function(){try{this[name]=undefined;
delete this[name];
}catch(e){}});
},addClass:function(value){var classNames,i,l,elem,setClass,c,cl;
if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className));
});
}if(value&&typeof value==="string"){classNames=value.split(core_rspace);
for(i=0,l=this.length;
i<l;
i++){elem=this[i];
if(elem.nodeType===1){if(!elem.className&&classNames.length===1){elem.className=value;
}else{setClass=" "+elem.className+" ";
for(c=0,cl=classNames.length;
c<cl;
c++){if(!~setClass.indexOf(" "+classNames[c]+" ")){setClass+=classNames[c]+" ";
}}elem.className=jQuery.trim(setClass);
}}}}return this;
},removeClass:function(value){var removes,className,elem,c,cl,i,l;
if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className));
});
}if((value&&typeof value==="string")||value===undefined){removes=(value||"").split(core_rspace);
for(i=0,l=this.length;
i<l;
i++){elem=this[i];
if(elem.nodeType===1&&elem.className){className=(" "+elem.className+" ").replace(rclass," ");
for(c=0,cl=removes.length;
c<cl;
c++){while(className.indexOf(" "+removes[c]+" ")>-1){className=className.replace(" "+removes[c]+" "," ");
}}elem.className=value?jQuery.trim(className):"";
}}}return this;
},toggleClass:function(value,stateVal){var type=typeof value,isBool=typeof stateVal==="boolean";
if(jQuery.isFunction(value)){return this.each(function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal);
});
}return this.each(function(){if(type==="string"){var className,i=0,self=jQuery(this),state=stateVal,classNames=value.split(core_rspace);
while((className=classNames[i++])){state=isBool?state:!self.hasClass(className);
self[state?"addClass":"removeClass"](className);
}}else{if(type==="undefined"||type==="boolean"){if(this.className){jQuery._data(this,"__className__",this.className);
}this.className=this.className||value===false?"":jQuery._data(this,"__className__")||"";
}}});
},hasClass:function(selector){var className=" "+selector+" ",i=0,l=this.length;
for(;
i<l;
i++){if(this[i].nodeType===1&&(" "+this[i].className+" ").replace(rclass," ").indexOf(className)>-1){return true;
}}return false;
},val:function(value){var hooks,ret,isFunction,elem=this[0];
if(!arguments.length){if(elem){hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()];
if(hooks&&"get" in hooks&&(ret=hooks.get(elem,"value"))!==undefined){return ret;
}ret=elem.value;
return typeof ret==="string"?ret.replace(rreturn,""):ret==null?"":ret;
}return;
}isFunction=jQuery.isFunction(value);
return this.each(function(i){var val,self=jQuery(this);
if(this.nodeType!==1){return;
}if(isFunction){val=value.call(this,i,self.val());
}else{val=value;
}if(val==null){val="";
}else{if(typeof val==="number"){val+="";
}else{if(jQuery.isArray(val)){val=jQuery.map(val,function(value){return value==null?"":value+"";
});
}}}hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];
if(!hooks||!("set" in hooks)||hooks.set(this,val,"value")===undefined){this.value=val;
}});
}});
jQuery.extend({valHooks:{option:{get:function(elem){var val=elem.attributes.value;
return !val||val.specified?elem.value:elem.text;
}},select:{get:function(elem){var value,i,max,option,index=elem.selectedIndex,values=[],options=elem.options,one=elem.type==="select-one";
if(index<0){return null;
}i=one?index:0;
max=one?index+1:options.length;
for(;
i<max;
i++){option=options[i];
if(option.selected&&(jQuery.support.optDisabled?!option.disabled:option.getAttribute("disabled")===null)&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,"optgroup"))){value=jQuery(option).val();
if(one){return value;
}values.push(value);
}}if(one&&!values.length&&options.length){return jQuery(options[index]).val();
}return values;
},set:function(elem,value){var values=jQuery.makeArray(value);
jQuery(elem).find("option").each(function(){this.selected=jQuery.inArray(jQuery(this).val(),values)>=0;
});
if(!values.length){elem.selectedIndex=-1;
}return values;
}}},attrFn:{},attr:function(elem,name,value,pass){var ret,hooks,notxml,nType=elem.nodeType;
if(!elem||nType===3||nType===8||nType===2){return;
}if(pass&&jQuery.isFunction(jQuery.fn[name])){return jQuery(elem)[name](value);
}if(typeof elem.getAttribute==="undefined"){return jQuery.prop(elem,name,value);
}notxml=nType!==1||!jQuery.isXMLDoc(elem);
if(notxml){name=name.toLowerCase();
hooks=jQuery.attrHooks[name]||(rboolean.test(name)?boolHook:nodeHook);
}if(value!==undefined){if(value===null){jQuery.removeAttr(elem,name);
return;
}else{if(hooks&&"set" in hooks&&notxml&&(ret=hooks.set(elem,value,name))!==undefined){return ret;
}else{elem.setAttribute(name,""+value);
return value;
}}}else{if(hooks&&"get" in hooks&&notxml&&(ret=hooks.get(elem,name))!==null){return ret;
}else{ret=elem.getAttribute(name);
return ret===null?undefined:ret;
}}},removeAttr:function(elem,value){var propName,attrNames,name,isBool,i=0;
if(value&&elem.nodeType===1){attrNames=value.split(core_rspace);
for(;
i<attrNames.length;
i++){name=attrNames[i];
if(name){propName=jQuery.propFix[name]||name;
isBool=rboolean.test(name);
if(!isBool){jQuery.attr(elem,name,"");
}elem.removeAttribute(getSetAttribute?name:propName);
if(isBool&&propName in elem){elem[propName]=false;
}}}}},attrHooks:{type:{set:function(elem,value){if(rtype.test(elem.nodeName)&&elem.parentNode){jQuery.error("type property can't be changed");
}else{if(!jQuery.support.radioValue&&value==="radio"&&jQuery.nodeName(elem,"input")){var val=elem.value;
elem.setAttribute("type",value);
if(val){elem.value=val;
}return value;
}}}},value:{get:function(elem,name){if(nodeHook&&jQuery.nodeName(elem,"button")){return nodeHook.get(elem,name);
}return name in elem?elem.value:null;
},set:function(elem,value,name){if(nodeHook&&jQuery.nodeName(elem,"button")){return nodeHook.set(elem,value,name);
}elem.value=value;
}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(elem,name,value){var ret,hooks,notxml,nType=elem.nodeType;
if(!elem||nType===3||nType===8||nType===2){return;
}notxml=nType!==1||!jQuery.isXMLDoc(elem);
if(notxml){name=jQuery.propFix[name]||name;
hooks=jQuery.propHooks[name];
}if(value!==undefined){if(hooks&&"set" in hooks&&(ret=hooks.set(elem,value,name))!==undefined){return ret;
}else{return(elem[name]=value);
}}else{if(hooks&&"get" in hooks&&(ret=hooks.get(elem,name))!==null){return ret;
}else{return elem[name];
}}},propHooks:{tabIndex:{get:function(elem){var attributeNode=elem.getAttributeNode("tabindex");
return attributeNode&&attributeNode.specified?parseInt(attributeNode.value,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:undefined;
}}}});
boolHook={get:function(elem,name){var attrNode,property=jQuery.prop(elem,name);
return property===true||typeof property!=="boolean"&&(attrNode=elem.getAttributeNode(name))&&attrNode.nodeValue!==false?name.toLowerCase():undefined;
},set:function(elem,value,name){var propName;
if(value===false){jQuery.removeAttr(elem,name);
}else{propName=jQuery.propFix[name]||name;
if(propName in elem){elem[propName]=true;
}elem.setAttribute(name,name.toLowerCase());
}return name;
}};
if(!getSetAttribute){fixSpecified={name:true,id:true,coords:true};
nodeHook=jQuery.valHooks.button={get:function(elem,name){var ret;
ret=elem.getAttributeNode(name);
return ret&&(fixSpecified[name]?ret.value!=="":ret.specified)?ret.value:undefined;
},set:function(elem,value,name){var ret=elem.getAttributeNode(name);
if(!ret){ret=document.createAttribute(name);
elem.setAttributeNode(ret);
}return(ret.value=value+"");
}};
jQuery.each(["width","height"],function(i,name){jQuery.attrHooks[name]=jQuery.extend(jQuery.attrHooks[name],{set:function(elem,value){if(value===""){elem.setAttribute(name,"auto");
return value;
}}});
});
jQuery.attrHooks.contenteditable={get:nodeHook.get,set:function(elem,value,name){if(value===""){value="false";
}nodeHook.set(elem,value,name);
}};
}if(!jQuery.support.hrefNormalized){jQuery.each(["href","src","width","height"],function(i,name){jQuery.attrHooks[name]=jQuery.extend(jQuery.attrHooks[name],{get:function(elem){var ret=elem.getAttribute(name,2);
return ret===null?undefined:ret;
}});
});
}if(!jQuery.support.style){jQuery.attrHooks.style={get:function(elem){return elem.style.cssText.toLowerCase()||undefined;
},set:function(elem,value){return(elem.style.cssText=""+value);
}};
}if(!jQuery.support.optSelected){jQuery.propHooks.selected=jQuery.extend(jQuery.propHooks.selected,{get:function(elem){var parent=elem.parentNode;
if(parent){parent.selectedIndex;
if(parent.parentNode){parent.parentNode.selectedIndex;
}}return null;
}});
}if(!jQuery.support.enctype){jQuery.propFix.enctype="encoding";
}if(!jQuery.support.checkOn){jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={get:function(elem){return elem.getAttribute("value")===null?"on":elem.value;
}};
});
}jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]=jQuery.extend(jQuery.valHooks[this],{set:function(elem,value){if(jQuery.isArray(value)){return(elem.checked=jQuery.inArray(jQuery(elem).val(),value)>=0);
}}});
});
var rformElems=/^(?:textarea|input|select)$/i,rtypenamespace=/^([^\.]*|)(?:\.(.+)|)$/,rhoverHack=/(?:^|\s)hover(\.\S+|)\b/,rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,hoverHack=function(events){return jQuery.event.special.hover?events:events.replace(rhoverHack,"mouseenter$1 mouseleave$1");
};
jQuery.event={add:function(elem,types,handler,data,selector){var elemData,eventHandle,events,t,tns,type,namespaces,handleObj,handleObjIn,handlers,special;
if(elem.nodeType===3||elem.nodeType===8||!types||!handler||!(elemData=jQuery._data(elem))){return;
}if(handler.handler){handleObjIn=handler;
handler=handleObjIn.handler;
selector=handleObjIn.selector;
}if(!handler.guid){handler.guid=jQuery.guid++;
}events=elemData.events;
if(!events){elemData.events=events={};
}eventHandle=elemData.handle;
if(!eventHandle){elemData.handle=eventHandle=function(e){return typeof jQuery!=="undefined"&&(!e||jQuery.event.triggered!==e.type)?jQuery.event.dispatch.apply(eventHandle.elem,arguments):undefined;
};
eventHandle.elem=elem;
}types=jQuery.trim(hoverHack(types)).split(" ");
for(t=0;
t<types.length;
t++){tns=rtypenamespace.exec(types[t])||[];
type=tns[1];
namespaces=(tns[2]||"").split(".").sort();
special=jQuery.event.special[type]||{};
type=(selector?special.delegateType:special.bindType)||type;
special=jQuery.event.special[type]||{};
handleObj=jQuery.extend({type:type,origType:tns[1],data:data,handler:handler,guid:handler.guid,selector:selector,namespace:namespaces.join(".")},handleObjIn);
handlers=events[type];
if(!handlers){handlers=events[type]=[];
handlers.delegateCount=0;
if(!special.setup||special.setup.call(elem,data,namespaces,eventHandle)===false){if(elem.addEventListener){elem.addEventListener(type,eventHandle,false);
}else{if(elem.attachEvent){elem.attachEvent("on"+type,eventHandle);
}}}}if(special.add){special.add.call(elem,handleObj);
if(!handleObj.handler.guid){handleObj.handler.guid=handler.guid;
}}if(selector){handlers.splice(handlers.delegateCount++,0,handleObj);
}else{handlers.push(handleObj);
}jQuery.event.global[type]=true;
}elem=null;
},global:{},remove:function(elem,types,handler,selector,mappedTypes){var t,tns,type,origType,namespaces,origCount,j,events,special,eventType,handleObj,elemData=jQuery.hasData(elem)&&jQuery._data(elem);
if(!elemData||!(events=elemData.events)){return;
}types=jQuery.trim(hoverHack(types||"")).split(" ");
for(t=0;
t<types.length;
t++){tns=rtypenamespace.exec(types[t])||[];
type=origType=tns[1];
namespaces=tns[2];
if(!type){for(type in events){jQuery.event.remove(elem,type+types[t],handler,selector,true);
}continue;
}special=jQuery.event.special[type]||{};
type=(selector?special.delegateType:special.bindType)||type;
eventType=events[type]||[];
origCount=eventType.length;
namespaces=namespaces?new RegExp("(^|\\.)"+namespaces.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;
for(j=0;
j<eventType.length;
j++){handleObj=eventType[j];
if((mappedTypes||origType===handleObj.origType)&&(!handler||handler.guid===handleObj.guid)&&(!namespaces||namespaces.test(handleObj.namespace))&&(!selector||selector===handleObj.selector||selector==="**"&&handleObj.selector)){eventType.splice(j--,1);
if(handleObj.selector){eventType.delegateCount--;
}if(special.remove){special.remove.call(elem,handleObj);
}}}if(eventType.length===0&&origCount!==eventType.length){if(!special.teardown||special.teardown.call(elem,namespaces,elemData.handle)===false){jQuery.removeEvent(elem,type,elemData.handle);
}delete events[type];
}}if(jQuery.isEmptyObject(events)){delete elemData.handle;
jQuery.removeData(elem,"events",true);
}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(event,data,elem,onlyHandlers){if(elem&&(elem.nodeType===3||elem.nodeType===8)){return;
}var cache,exclusive,i,cur,old,ontype,special,handle,eventPath,bubbleType,type=event.type||event,namespaces=[];
if(rfocusMorph.test(type+jQuery.event.triggered)){return;
}if(type.indexOf("!")>=0){type=type.slice(0,-1);
exclusive=true;
}if(type.indexOf(".")>=0){namespaces=type.split(".");
type=namespaces.shift();
namespaces.sort();
}if((!elem||jQuery.event.customEvent[type])&&!jQuery.event.global[type]){return;
}event=typeof event==="object"?event[jQuery.expando]?event:new jQuery.Event(type,event):new jQuery.Event(type);
event.type=type;
event.isTrigger=true;
event.exclusive=exclusive;
event.namespace=namespaces.join(".");
event.namespace_re=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;
ontype=type.indexOf(":")<0?"on"+type:"";
if(!elem){cache=jQuery.cache;
for(i in cache){if(cache[i].events&&cache[i].events[type]){jQuery.event.trigger(event,data,cache[i].handle.elem,true);
}}return;
}event.result=undefined;
if(!event.target){event.target=elem;
}data=data!=null?jQuery.makeArray(data):[];
data.unshift(event);
special=jQuery.event.special[type]||{};
if(special.trigger&&special.trigger.apply(elem,data)===false){return;
}eventPath=[[elem,special.bindType||type]];
if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){bubbleType=special.delegateType||type;
cur=rfocusMorph.test(bubbleType+type)?elem:elem.parentNode;
for(old=elem;
cur;
cur=cur.parentNode){eventPath.push([cur,bubbleType]);
old=cur;
}if(old===(elem.ownerDocument||document)){eventPath.push([old.defaultView||old.parentWindow||window,bubbleType]);
}}for(i=0;
i<eventPath.length&&!event.isPropagationStopped();
i++){cur=eventPath[i][0];
event.type=eventPath[i][1];
handle=(jQuery._data(cur,"events")||{})[event.type]&&jQuery._data(cur,"handle");
if(handle){handle.apply(cur,data);
}handle=ontype&&cur[ontype];
if(handle&&jQuery.acceptData(cur)&&handle.apply(cur,data)===false){event.preventDefault();
}}event.type=type;
if(!onlyHandlers&&!event.isDefaultPrevented()){if((!special._default||special._default.apply(elem.ownerDocument,data)===false)&&!(type==="click"&&jQuery.nodeName(elem,"a"))&&jQuery.acceptData(elem)){if(ontype&&elem[type]&&((type!=="focus"&&type!=="blur")||event.target.offsetWidth!==0)&&!jQuery.isWindow(elem)){old=elem[ontype];
if(old){elem[ontype]=null;
}jQuery.event.triggered=type;
elem[type]();
jQuery.event.triggered=undefined;
if(old){elem[ontype]=old;
}}}}return event.result;
},dispatch:function(event){event=jQuery.event.fix(event||window.event);
var i,j,cur,ret,selMatch,matched,matches,handleObj,sel,related,handlers=((jQuery._data(this,"events")||{})[event.type]||[]),delegateCount=handlers.delegateCount,args=[].slice.call(arguments),run_all=!event.exclusive&&!event.namespace,special=jQuery.event.special[event.type]||{},handlerQueue=[];
args[0]=event;
event.delegateTarget=this;
if(special.preDispatch&&special.preDispatch.call(this,event)===false){return;
}if(delegateCount&&!(event.button&&event.type==="click")){for(cur=event.target;
cur!=this;
cur=cur.parentNode||this){if(cur.disabled!==true||event.type!=="click"){selMatch={};
matches=[];
for(i=0;
i<delegateCount;
i++){handleObj=handlers[i];
sel=handleObj.selector;
if(selMatch[sel]===undefined){selMatch[sel]=jQuery(sel,this).index(cur)>=0;
}if(selMatch[sel]){matches.push(handleObj);
}}if(matches.length){handlerQueue.push({elem:cur,matches:matches});
}}}}if(handlers.length>delegateCount){handlerQueue.push({elem:this,matches:handlers.slice(delegateCount)});
}for(i=0;
i<handlerQueue.length&&!event.isPropagationStopped();
i++){matched=handlerQueue[i];
event.currentTarget=matched.elem;
for(j=0;
j<matched.matches.length&&!event.isImmediatePropagationStopped();
j++){handleObj=matched.matches[j];
if(run_all||(!event.namespace&&!handleObj.namespace)||event.namespace_re&&event.namespace_re.test(handleObj.namespace)){event.data=handleObj.data;
event.handleObj=handleObj;
ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args);
if(ret!==undefined){event.result=ret;
if(ret===false){event.preventDefault();
event.stopPropagation();
}}}}}if(special.postDispatch){special.postDispatch.call(this,event);
}return event.result;
},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){if(event.which==null){event.which=original.charCode!=null?original.charCode:original.keyCode;
}return event;
}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var eventDoc,doc,body,button=original.button,fromElement=original.fromElement;
if(event.pageX==null&&original.clientX!=null){eventDoc=event.target.ownerDocument||document;
doc=eventDoc.documentElement;
body=eventDoc.body;
event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);
event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0);
}if(!event.relatedTarget&&fromElement){event.relatedTarget=fromElement===event.target?original.toElement:fromElement;
}if(!event.which&&button!==undefined){event.which=(button&1?1:(button&2?3:(button&4?2:0)));
}return event;
}},fix:function(event){if(event[jQuery.expando]){return event;
}var i,prop,originalEvent=event,fixHook=jQuery.event.fixHooks[event.type]||{},copy=fixHook.props?this.props.concat(fixHook.props):this.props;
event=jQuery.Event(originalEvent);
for(i=copy.length;
i;
){prop=copy[--i];
event[prop]=originalEvent[prop];
}if(!event.target){event.target=originalEvent.srcElement||document;
}if(event.target.nodeType===3){event.target=event.target.parentNode;
}event.metaKey=!!event.metaKey;
return fixHook.filter?fixHook.filter(event,originalEvent):event;
},special:{load:{noBubble:true},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(data,namespaces,eventHandle){if(jQuery.isWindow(this)){this.onbeforeunload=eventHandle;
}},teardown:function(namespaces,eventHandle){if(this.onbeforeunload===eventHandle){this.onbeforeunload=null;
}}}},simulate:function(type,elem,event,bubble){var e=jQuery.extend(new jQuery.Event(),event,{type:type,isSimulated:true,originalEvent:{}});
if(bubble){jQuery.event.trigger(e,null,elem);
}else{jQuery.event.dispatch.call(elem,e);
}if(e.isDefaultPrevented()){event.preventDefault();
}}};
jQuery.event.handle=jQuery.event.dispatch;
jQuery.removeEvent=document.removeEventListener?function(elem,type,handle){if(elem.removeEventListener){elem.removeEventListener(type,handle,false);
}}:function(elem,type,handle){var name="on"+type;
if(elem.detachEvent){if(typeof elem[name]==="undefined"){elem[name]=null;
}elem.detachEvent(name,handle);
}};
jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event)){return new jQuery.Event(src,props);
}if(src&&src.type){this.originalEvent=src;
this.type=src.type;
this.isDefaultPrevented=(src.defaultPrevented||src.returnValue===false||src.getPreventDefault&&src.getPreventDefault())?returnTrue:returnFalse;
}else{this.type=src;
}if(props){jQuery.extend(this,props);
}this.timeStamp=src&&src.timeStamp||jQuery.now();
this[jQuery.expando]=true;
};
function returnFalse(){return false;
}function returnTrue(){return true;
}jQuery.Event.prototype={preventDefault:function(){this.isDefaultPrevented=returnTrue;
var e=this.originalEvent;
if(!e){return;
}if(e.preventDefault){e.preventDefault();
}else{e.returnValue=false;
}},stopPropagation:function(){this.isPropagationStopped=returnTrue;
var e=this.originalEvent;
if(!e){return;
}if(e.stopPropagation){e.stopPropagation();
}e.cancelBubble=true;
},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue;
this.stopPropagation();
},isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse};
jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj,selector=handleObj.selector;
if(!related||(related!==target&&!jQuery.contains(target,related))){event.type=handleObj.origType;
ret=handleObj.handler.apply(this,arguments);
event.type=fix;
}return ret;
}};
});
if(!jQuery.support.submitBubbles){jQuery.event.special.submit={setup:function(){if(jQuery.nodeName(this,"form")){return false;
}jQuery.event.add(this,"click._submit keypress._submit",function(e){var elem=e.target,form=jQuery.nodeName(elem,"input")||jQuery.nodeName(elem,"button")?elem.form:undefined;
if(form&&!jQuery._data(form,"_submit_attached")){jQuery.event.add(form,"submit._submit",function(event){event._submit_bubble=true;
});
jQuery._data(form,"_submit_attached",true);
}});
},postDispatch:function(event){if(event._submit_bubble){delete event._submit_bubble;
if(this.parentNode&&!event.isTrigger){jQuery.event.simulate("submit",this.parentNode,event,true);
}}},teardown:function(){if(jQuery.nodeName(this,"form")){return false;
}jQuery.event.remove(this,"._submit");
}};
}if(!jQuery.support.changeBubbles){jQuery.event.special.change={setup:function(){if(rformElems.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){jQuery.event.add(this,"propertychange._change",function(event){if(event.originalEvent.propertyName==="checked"){this._just_changed=true;
}});
jQuery.event.add(this,"click._change",function(event){if(this._just_changed&&!event.isTrigger){this._just_changed=false;
}jQuery.event.simulate("change",this,event,true);
});
}return false;
}jQuery.event.add(this,"beforeactivate._change",function(e){var elem=e.target;
if(rformElems.test(elem.nodeName)&&!jQuery._data(elem,"_change_attached")){jQuery.event.add(elem,"change._change",function(event){if(this.parentNode&&!event.isSimulated&&!event.isTrigger){jQuery.event.simulate("change",this.parentNode,event,true);
}});
jQuery._data(elem,"_change_attached",true);
}});
},handle:function(event){var elem=event.target;
if(this!==elem||event.isSimulated||event.isTrigger||(elem.type!=="radio"&&elem.type!=="checkbox")){return event.handleObj.handler.apply(this,arguments);
}},teardown:function(){jQuery.event.remove(this,"._change");
return !rformElems.test(this.nodeName);
}};
}if(!jQuery.support.focusinBubbles){jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var attaches=0,handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),true);
};
jQuery.event.special[fix]={setup:function(){if(attaches++===0){document.addEventListener(orig,handler,true);
}},teardown:function(){if(--attaches===0){document.removeEventListener(orig,handler,true);
}}};
});
}jQuery.fn.extend({on:function(types,selector,data,fn,one){var origFn,type;
if(typeof types==="object"){if(typeof selector!=="string"){data=data||selector;
selector=undefined;
}for(type in types){this.on(type,selector,data,types[type],one);
}return this;
}if(data==null&&fn==null){fn=selector;
data=selector=undefined;
}else{if(fn==null){if(typeof selector==="string"){fn=data;
data=undefined;
}else{fn=data;
data=selector;
selector=undefined;
}}}if(fn===false){fn=returnFalse;
}else{if(!fn){return this;
}}if(one===1){origFn=fn;
fn=function(event){jQuery().off(event);
return origFn.apply(this,arguments);
};
fn.guid=origFn.guid||(origFn.guid=jQuery.guid++);
}return this.each(function(){jQuery.event.add(this,types,fn,data,selector);
});
},one:function(types,selector,data,fn){return this.on(types,selector,data,fn,1);
},off:function(types,selector,fn){var handleObj,type;
if(types&&types.preventDefault&&types.handleObj){handleObj=types.handleObj;
jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler);
return this;
}if(typeof types==="object"){for(type in types){this.off(type,selector,types[type]);
}return this;
}if(selector===false||typeof selector==="function"){fn=selector;
selector=undefined;
}if(fn===false){fn=returnFalse;
}return this.each(function(){jQuery.event.remove(this,types,fn,selector);
});
},bind:function(types,data,fn){return this.on(types,null,data,fn);
},unbind:function(types,fn){return this.off(types,null,fn);
},live:function(types,data,fn){jQuery(this.context).on(types,this.selector,data,fn);
return this;
},die:function(types,fn){jQuery(this.context).off(types,this.selector||"**",fn);
return this;
},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn);
},undelegate:function(selector,types,fn){return arguments.length==1?this.off(selector,"**"):this.off(types,selector||"**",fn);
},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this);
});
},triggerHandler:function(type,data){if(this[0]){return jQuery.event.trigger(type,data,this[0],true);
}},toggle:function(fn){var args=arguments,guid=fn.guid||jQuery.guid++,i=0,toggler=function(event){var lastToggle=(jQuery._data(this,"lastToggle"+fn.guid)||0)%i;
jQuery._data(this,"lastToggle"+fn.guid,lastToggle+1);
event.preventDefault();
return args[lastToggle].apply(this,arguments)||false;
};
toggler.guid=guid;
while(i<args.length){args[i++].guid=guid;
}return this.click(toggler);
},hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver);
}});
jQuery.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu").split(" "),function(i,name){jQuery.fn[name]=function(data,fn){if(fn==null){fn=data;
data=null;
}return arguments.length>0?this.on(name,null,data,fn):this.trigger(name);
};
if(rkeyEvent.test(name)){jQuery.event.fixHooks[name]=jQuery.event.keyHooks;
}if(rmouseEvent.test(name)){jQuery.event.fixHooks[name]=jQuery.event.mouseHooks;
}});
/*
 * Sizzle CSS Selector Engine
 *  Copyright 2012 jQuery Foundation and other contributors
 *  Released under the MIT license
 *  http://sizzlejs.com/
 */
(function(window,undefined){var dirruns,cachedruns,assertGetIdNotName,Expr,getText,isXML,contains,compile,sortOrder,hasDuplicate,baseHasDuplicate=true,strundefined="undefined",expando=("sizcache"+Math.random()).replace(".",""),document=window.document,docElem=document.documentElement,done=0,slice=[].slice,push=[].push,markFunction=function(fn,value){fn[expando]=value||true;
return fn;
},createCache=function(){var cache={},keys=[];
return markFunction(function(key,value){if(keys.push(key)>Expr.cacheLength){delete cache[keys.shift()];
}return(cache[key]=value);
},cache);
},classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),whitespace="[\\x20\\t\\r\\n\\f]",characterEncoding="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",identifier=characterEncoding.replace("w","w#"),operators="([*^$|!~]?=)",attributes="\\["+whitespace+"*("+characterEncoding+")"+whitespace+"*(?:"+operators+whitespace+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+identifier+")|)|)"+whitespace+"*\\]",pseudos=":("+characterEncoding+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+attributes+")|[^:]|\\\\.)*|.*))\\)|)",pos=":(nth|eq|gt|lt|first|last|even|odd)(?:\\(((?:-\\d)?\\d*)\\)|)(?=[^-]|$)",rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([\\x20\\t\\r\\n\\f>+~])"+whitespace+"*"),rpseudo=new RegExp(pseudos),rquickExpr=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,rnot=/^:not/,rsibling=/[\x20\t\r\n\f]*[+~]/,rendsWithNot=/:not\($/,rheader=/h\d/i,rinputs=/input|select|textarea|button/i,rbackslash=/\\(?!\\)/g,matchExpr={ID:new RegExp("^#("+characterEncoding+")"),CLASS:new RegExp("^\\.("+characterEncoding+")"),NAME:new RegExp("^\\[name=['\"]?("+characterEncoding+")['\"]?\\]"),TAG:new RegExp("^("+characterEncoding.replace("w","w*")+")"),ATTR:new RegExp("^"+attributes),PSEUDO:new RegExp("^"+pseudos),CHILD:new RegExp("^:(only|nth|last|first)-child(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),POS:new RegExp(pos,"ig"),needsContext:new RegExp("^"+whitespace+"*[>+~]|"+pos,"i")},assert=function(fn){var div=document.createElement("div");
try{return fn(div);
}catch(e){return false;
}finally{div=null;
}},assertTagNameNoComments=assert(function(div){div.appendChild(document.createComment(""));
return !div.getElementsByTagName("*").length;
}),assertHrefNotNormalized=assert(function(div){div.innerHTML="<a href='#'></a>";
return div.firstChild&&typeof div.firstChild.getAttribute!==strundefined&&div.firstChild.getAttribute("href")==="#";
}),assertAttributes=assert(function(div){div.innerHTML="<select></select>";
var type=typeof div.lastChild.getAttribute("multiple");
return type!=="boolean"&&type!=="string";
}),assertUsableClassName=assert(function(div){div.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";
if(!div.getElementsByClassName||!div.getElementsByClassName("e").length){return false;
}div.lastChild.className="e";
return div.getElementsByClassName("e").length===2;
}),assertUsableName=assert(function(div){div.id=expando+0;
div.innerHTML="<a name='"+expando+"'></a><div name='"+expando+"'></div>";
docElem.insertBefore(div,docElem.firstChild);
var pass=document.getElementsByName&&document.getElementsByName(expando).length===2+document.getElementsByName(expando+0).length;
assertGetIdNotName=!document.getElementById(expando);
docElem.removeChild(div);
return pass;
});
try{slice.call(docElem.childNodes,0)[0].nodeType;
}catch(e){slice=function(i){var elem,results=[];
for(;
(elem=this[i]);
i++){results.push(elem);
}return results;
};
}function Sizzle(selector,context,results,seed){results=results||[];
context=context||document;
var match,elem,xml,m,nodeType=context.nodeType;
if(nodeType!==1&&nodeType!==9){return[];
}if(!selector||typeof selector!=="string"){return results;
}xml=isXML(context);
if(!xml&&!seed){if((match=rquickExpr.exec(selector))){if((m=match[1])){if(nodeType===9){elem=context.getElementById(m);
if(elem&&elem.parentNode){if(elem.id===m){results.push(elem);
return results;
}}else{return results;
}}else{if(context.ownerDocument&&(elem=context.ownerDocument.getElementById(m))&&contains(context,elem)&&elem.id===m){results.push(elem);
return results;
}}}else{if(match[2]){push.apply(results,slice.call(context.getElementsByTagName(selector),0));
return results;
}else{if((m=match[3])&&assertUsableClassName&&context.getElementsByClassName){push.apply(results,slice.call(context.getElementsByClassName(m),0));
return results;
}}}}}return select(selector,context,results,seed,xml);
}Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements);
};
Sizzle.matchesSelector=function(elem,expr){return Sizzle(expr,null,null,[elem]).length>0;
};
function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();
return name==="input"&&elem.type===type;
};
}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();
return(name==="input"||name==="button")&&elem.type===type;
};
}getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;
if(nodeType){if(nodeType===1||nodeType===9||nodeType===11){if(typeof elem.textContent==="string"){return elem.textContent;
}else{for(elem=elem.firstChild;
elem;
elem=elem.nextSibling){ret+=getText(elem);
}}}else{if(nodeType===3||nodeType===4){return elem.nodeValue;
}}}else{for(;
(node=elem[i]);
i++){ret+=getText(node);
}}return ret;
};
isXML=Sizzle.isXML=function isXML(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;
return documentElement?documentElement.nodeName!=="HTML":false;
};
contains=Sizzle.contains=docElem.contains?function(a,b){var adown=a.nodeType===9?a.documentElement:a,bup=b&&b.parentNode;
return a===bup||!!(bup&&bup.nodeType===1&&adown.contains&&adown.contains(bup));
}:docElem.compareDocumentPosition?function(a,b){return b&&!!(a.compareDocumentPosition(b)&16);
}:function(a,b){while((b=b.parentNode)){if(b===a){return true;
}}return false;
};
Sizzle.attr=function(elem,name){var attr,xml=isXML(elem);
if(!xml){name=name.toLowerCase();
}if(Expr.attrHandle[name]){return Expr.attrHandle[name](elem);
}if(assertAttributes||xml){return elem.getAttribute(name);
}attr=elem.getAttributeNode(name);
return attr?typeof elem[name]==="boolean"?elem[name]?name:null:attr.specified?attr.value:null:null;
};
Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,order:new RegExp("ID|TAG"+(assertUsableName?"|NAME":"")+(assertUsableClassName?"|CLASS":"")),attrHandle:assertHrefNotNormalized?{}:{href:function(elem){return elem.getAttribute("href",2);
},type:function(elem){return elem.getAttribute("type");
}},find:{ID:assertGetIdNotName?function(id,context,xml){if(typeof context.getElementById!==strundefined&&!xml){var m=context.getElementById(id);
return m&&m.parentNode?[m]:[];
}}:function(id,context,xml){if(typeof context.getElementById!==strundefined&&!xml){var m=context.getElementById(id);
return m?m.id===id||typeof m.getAttributeNode!==strundefined&&m.getAttributeNode("id").value===id?[m]:undefined:[];
}},TAG:assertTagNameNoComments?function(tag,context){if(typeof context.getElementsByTagName!==strundefined){return context.getElementsByTagName(tag);
}}:function(tag,context){var results=context.getElementsByTagName(tag);
if(tag==="*"){var elem,tmp=[],i=0;
for(;
(elem=results[i]);
i++){if(elem.nodeType===1){tmp.push(elem);
}}return tmp;
}return results;
},NAME:function(tag,context){if(typeof context.getElementsByName!==strundefined){return context.getElementsByName(name);
}},CLASS:function(className,context,xml){if(typeof context.getElementsByClassName!==strundefined&&!xml){return context.getElementsByClassName(className);
}}},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){match[1]=match[1].replace(rbackslash,"");
match[3]=(match[4]||match[5]||"").replace(rbackslash,"");
if(match[2]==="~="){match[3]=" "+match[3]+" ";
}return match.slice(0,4);
},CHILD:function(match){match[1]=match[1].toLowerCase();
if(match[1]==="nth"){if(!match[2]){Sizzle.error(match[0]);
}match[3]=+(match[3]?match[4]+(match[5]||1):2*(match[2]==="even"||match[2]==="odd"));
match[4]=+((match[6]+match[7])||match[2]==="odd");
}else{if(match[2]){Sizzle.error(match[0]);
}}return match;
},PSEUDO:function(match,context,xml){var unquoted,excess;
if(matchExpr.CHILD.test(match[0])){return null;
}if(match[3]){match[2]=match[3];
}else{if((unquoted=match[4])){if(rpseudo.test(unquoted)&&(excess=tokenize(unquoted,context,xml,true))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)){unquoted=unquoted.slice(0,excess);
match[0]=match[0].slice(0,excess);
}match[2]=unquoted;
}}return match.slice(0,3);
}},filter:{ID:assertGetIdNotName?function(id){id=id.replace(rbackslash,"");
return function(elem){return elem.getAttribute("id")===id;
};
}:function(id){id=id.replace(rbackslash,"");
return function(elem){var node=typeof elem.getAttributeNode!==strundefined&&elem.getAttributeNode("id");
return node&&node.value===id;
};
},TAG:function(nodeName){if(nodeName==="*"){return function(){return true;
};
}nodeName=nodeName.replace(rbackslash,"").toLowerCase();
return function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName;
};
},CLASS:function(className){var pattern=classCache[expando][className];
if(!pattern){pattern=classCache(className,new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"));
}return function(elem){return pattern.test(elem.className||(typeof elem.getAttribute!==strundefined&&elem.getAttribute("class"))||"");
};
},ATTR:function(name,operator,check){if(!operator){return function(elem){return Sizzle.attr(elem,name)!=null;
};
}return function(elem){var result=Sizzle.attr(elem,name),value=result+"";
if(result==null){return operator==="!=";
}switch(operator){case"=":return value===check;
case"!=":return value!==check;
case"^=":return check&&value.indexOf(check)===0;
case"*=":return check&&value.indexOf(check)>-1;
case"$=":return check&&value.substr(value.length-check.length)===check;
case"~=":return(" "+value+" ").indexOf(check)>-1;
case"|=":return value===check||value.substr(0,check.length+1)===check+"-";
}};
},CHILD:function(type,argument,first,last){if(type==="nth"){var doneName=done++;
return function(elem){var parent,diff,count=0,node=elem;
if(first===1&&last===0){return true;
}parent=elem.parentNode;
if(parent&&(parent[expando]!==doneName||!elem.sizset)){for(node=parent.firstChild;
node;
node=node.nextSibling){if(node.nodeType===1){node.sizset=++count;
if(node===elem){break;
}}}parent[expando]=doneName;
}diff=elem.sizset-last;
if(first===0){return diff===0;
}else{return(diff%first===0&&diff/first>=0);
}};
}return function(elem){var node=elem;
switch(type){case"only":case"first":while((node=node.previousSibling)){if(node.nodeType===1){return false;
}}if(type==="first"){return true;
}node=elem;
case"last":while((node=node.nextSibling)){if(node.nodeType===1){return false;
}}return true;
}};
},PSEUDO:function(pseudo,argument,context,xml){var args,fn=Expr.pseudos[pseudo]||Expr.pseudos[pseudo.toLowerCase()];
if(!fn){Sizzle.error("unsupported pseudo: "+pseudo);
}if(!fn[expando]){if(fn.length>1){args=[pseudo,pseudo,"",argument];
return function(elem){return fn(elem,0,args);
};
}return fn;
}return fn(argument,context,xml);
}},pseudos:{not:markFunction(function(selector,context,xml){var matcher=compile(selector.replace(rtrim,"$1"),context,xml);
return function(elem){return !matcher(elem);
};
}),enabled:function(elem){return elem.disabled===false;
},disabled:function(elem){return elem.disabled===true;
},checked:function(elem){var nodeName=elem.nodeName.toLowerCase();
return(nodeName==="input"&&!!elem.checked)||(nodeName==="option"&&!!elem.selected);
},selected:function(elem){if(elem.parentNode){elem.parentNode.selectedIndex;
}return elem.selected===true;
},parent:function(elem){return !Expr.pseudos.empty(elem);
},empty:function(elem){var nodeType;
elem=elem.firstChild;
while(elem){if(elem.nodeName>"@"||(nodeType=elem.nodeType)===3||nodeType===4){return false;
}elem=elem.nextSibling;
}return true;
},contains:markFunction(function(text){return function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1;
};
}),has:markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0;
};
}),header:function(elem){return rheader.test(elem.nodeName);
},text:function(elem){var type,attr;
return elem.nodeName.toLowerCase()==="input"&&(type=elem.type)==="text"&&((attr=elem.getAttribute("type"))==null||attr.toLowerCase()===type);
},radio:createInputPseudo("radio"),checkbox:createInputPseudo("checkbox"),file:createInputPseudo("file"),password:createInputPseudo("password"),image:createInputPseudo("image"),submit:createButtonPseudo("submit"),reset:createButtonPseudo("reset"),button:function(elem){var name=elem.nodeName.toLowerCase();
return name==="input"&&elem.type==="button"||name==="button";
},input:function(elem){return rinputs.test(elem.nodeName);
},focus:function(elem){var doc=elem.ownerDocument;
return elem===doc.activeElement&&(!doc.hasFocus||doc.hasFocus())&&!!(elem.type||elem.href);
},active:function(elem){return elem===elem.ownerDocument.activeElement;
}},setFilters:{first:function(elements,argument,not){return not?elements.slice(1):[elements[0]];
},last:function(elements,argument,not){var elem=elements.pop();
return not?elements:[elem];
},even:function(elements,argument,not){var results=[],i=not?1:0,len=elements.length;
for(;
i<len;
i=i+2){results.push(elements[i]);
}return results;
},odd:function(elements,argument,not){var results=[],i=not?0:1,len=elements.length;
for(;
i<len;
i=i+2){results.push(elements[i]);
}return results;
},lt:function(elements,argument,not){return not?elements.slice(+argument):elements.slice(0,+argument);
},gt:function(elements,argument,not){return not?elements.slice(0,+argument+1):elements.slice(+argument+1);
},eq:function(elements,argument,not){var elem=elements.splice(+argument,1);
return not?elements:elem;
}}};
function siblingCheck(a,b,ret){if(a===b){return ret;
}var cur=a.nextSibling;
while(cur){if(cur===b){return -1;
}cur=cur.nextSibling;
}return 1;
}sortOrder=docElem.compareDocumentPosition?function(a,b){if(a===b){hasDuplicate=true;
return 0;
}return(!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition:a.compareDocumentPosition(b)&4)?-1:1;
}:function(a,b){if(a===b){hasDuplicate=true;
return 0;
}else{if(a.sourceIndex&&b.sourceIndex){return a.sourceIndex-b.sourceIndex;
}}var al,bl,ap=[],bp=[],aup=a.parentNode,bup=b.parentNode,cur=aup;
if(aup===bup){return siblingCheck(a,b);
}else{if(!aup){return -1;
}else{if(!bup){return 1;
}}}while(cur){ap.unshift(cur);
cur=cur.parentNode;
}cur=bup;
while(cur){bp.unshift(cur);
cur=cur.parentNode;
}al=ap.length;
bl=bp.length;
for(var i=0;
i<al&&i<bl;
i++){if(ap[i]!==bp[i]){return siblingCheck(ap[i],bp[i]);
}}return i===al?siblingCheck(a,bp[i],-1):siblingCheck(ap[i],b,1);
};
[0,0].sort(sortOrder);
baseHasDuplicate=!hasDuplicate;
Sizzle.uniqueSort=function(results){var elem,i=1;
hasDuplicate=baseHasDuplicate;
results.sort(sortOrder);
if(hasDuplicate){for(;
(elem=results[i]);
i++){if(elem===results[i-1]){results.splice(i--,1);
}}}return results;
};
Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg);
};
function tokenize(selector,context,xml,parseOnly){var matched,match,tokens,type,soFar,groups,group,i,preFilters,filters,checkContext=!xml&&context!==document,key=(checkContext?"<s>":"")+selector.replace(rtrim,"$1<s>"),cached=tokenCache[expando][key];
if(cached){return parseOnly?0:slice.call(cached,0);
}soFar=selector;
groups=[];
i=0;
preFilters=Expr.preFilter;
filters=Expr.filter;
while(soFar){if(!matched||(match=rcomma.exec(soFar))){if(match){soFar=soFar.slice(match[0].length);
tokens.selector=group;
}groups.push(tokens=[]);
group="";
if(checkContext){soFar=" "+soFar;
}}matched=false;
if((match=rcombinators.exec(soFar))){group+=match[0];
soFar=soFar.slice(match[0].length);
matched=tokens.push({part:match.pop().replace(rtrim," "),string:match[0],captures:match});
}for(type in filters){if((match=matchExpr[type].exec(soFar))&&(!preFilters[type]||(match=preFilters[type](match,context,xml)))){group+=match[0];
soFar=soFar.slice(match[0].length);
matched=tokens.push({part:type,string:match.shift(),captures:match});
}}if(!matched){break;
}}if(group){tokens.selector=group;
}return parseOnly?soFar.length:soFar?Sizzle.error(selector):slice.call(tokenCache(key,groups),0);
}function addCombinator(matcher,combinator,context,xml){var dir=combinator.dir,doneName=done++;
if(!matcher){matcher=function(elem){return elem===context;
};
}return combinator.first?function(elem){while((elem=elem[dir])){if(elem.nodeType===1){return matcher(elem)&&elem;
}}}:xml?function(elem){while((elem=elem[dir])){if(elem.nodeType===1){if(matcher(elem)){return elem;
}}}}:function(elem){var cache,dirkey=doneName+"."+dirruns,cachedkey=dirkey+"."+cachedruns;
while((elem=elem[dir])){if(elem.nodeType===1){if((cache=elem[expando])===cachedkey){return elem.sizset;
}else{if(typeof cache==="string"&&cache.indexOf(dirkey)===0){if(elem.sizset){return elem;
}}else{elem[expando]=cachedkey;
if(matcher(elem)){elem.sizset=true;
return elem;
}elem.sizset=false;
}}}}};
}function addMatcher(higher,deeper){return higher?function(elem){var result=deeper(elem);
return result&&higher(result===true?elem:result);
}:deeper;
}function matcherFromTokens(tokens,context,xml){var token,matcher,i=0;
for(;
(token=tokens[i]);
i++){if(Expr.relative[token.part]){matcher=addCombinator(matcher,Expr.relative[token.part],context,xml);
}else{matcher=addMatcher(matcher,Expr.filter[token.part].apply(null,token.captures.concat(context,xml)));
}}return matcher;
}function matcherFromGroupMatchers(matchers){return function(elem){var matcher,j=0;
for(;
(matcher=matchers[j]);
j++){if(matcher(elem)){return true;
}}return false;
};
}compile=Sizzle.compile=function(selector,context,xml){var group,i,len,cached=compilerCache[expando][selector];
if(cached&&cached.context===context){return cached;
}group=tokenize(selector,context,xml);
for(i=0,len=group.length;
i<len;
i++){group[i]=matcherFromTokens(group[i],context,xml);
}cached=compilerCache(selector,matcherFromGroupMatchers(group));
cached.context=context;
cached.runs=cached.dirruns=0;
return cached;
};
function multipleContexts(selector,contexts,results,seed){var i=0,len=contexts.length;
for(;
i<len;
i++){Sizzle(selector,contexts[i],results,seed);
}}function handlePOSGroup(selector,posfilter,argument,contexts,seed,not){var results,fn=Expr.setFilters[posfilter.toLowerCase()];
if(!fn){Sizzle.error(posfilter);
}if(selector||!(results=seed)){multipleContexts(selector||"*",contexts,(results=[]),seed);
}return results.length>0?fn(results,argument,not):[];
}function handlePOS(groups,context,results,seed){var group,part,j,groupLen,token,selector,anchor,elements,match,matched,lastIndex,currentContexts,not,i=0,len=groups.length,rpos=matchExpr.POS,rposgroups=new RegExp("^"+rpos.source+"(?!"+whitespace+")","i"),setUndefined=function(){var i=1,len=arguments.length-2;
for(;
i<len;
i++){if(arguments[i]===undefined){match[i]=undefined;
}}};
for(;
i<len;
i++){group=groups[i];
part="";
elements=seed;
for(j=0,groupLen=group.length;
j<groupLen;
j++){token=group[j];
selector=token.string;
if(token.part==="PSEUDO"){rpos.exec("");
anchor=0;
while((match=rpos.exec(selector))){matched=true;
lastIndex=rpos.lastIndex=match.index+match[0].length;
if(lastIndex>anchor){part+=selector.slice(anchor,match.index);
anchor=lastIndex;
currentContexts=[context];
if(rcombinators.test(part)){if(elements){currentContexts=elements;
}elements=seed;
}if((not=rendsWithNot.test(part))){part=part.slice(0,-5).replace(rcombinators,"$&*");
anchor++;
}if(match.length>1){match[0].replace(rposgroups,setUndefined);
}elements=handlePOSGroup(part,match[1],match[2],currentContexts,elements,not);
}part="";
}}if(!matched){part+=selector;
}matched=false;
}if(part){if(rcombinators.test(part)){multipleContexts(part,elements||[context],results,seed);
}else{Sizzle(part,context,results,seed?seed.concat(elements):elements);
}}else{push.apply(results,elements);
}}return len===1?results:Sizzle.uniqueSort(results);
}function select(selector,context,results,seed,xml){selector=selector.replace(rtrim,"$1");
var elements,matcher,cached,elem,i,tokens,token,lastToken,findContext,type,match=tokenize(selector,context,xml),contextNodeType=context.nodeType;
if(matchExpr.POS.test(selector)){return handlePOS(match,context,results,seed);
}if(seed){elements=slice.call(seed,0);
}else{if(match.length===1){if((tokens=slice.call(match[0],0)).length>2&&(token=tokens[0]).part==="ID"&&contextNodeType===9&&!xml&&Expr.relative[tokens[1].part]){context=Expr.find.ID(token.captures[0].replace(rbackslash,""),context,xml)[0];
if(!context){return results;
}selector=selector.slice(tokens.shift().string.length);
}findContext=((match=rsibling.exec(tokens[0].string))&&!match.index&&context.parentNode)||context;
lastToken="";
for(i=tokens.length-1;
i>=0;
i--){token=tokens[i];
type=token.part;
lastToken=token.string+lastToken;
if(Expr.relative[type]){break;
}if(Expr.order.test(type)){elements=Expr.find[type](token.captures[0].replace(rbackslash,""),findContext,xml);
if(elements==null){continue;
}else{selector=selector.slice(0,selector.length-lastToken.length)+lastToken.replace(matchExpr[type],"");
if(!selector){push.apply(results,slice.call(elements,0));
}break;
}}}}}if(selector){matcher=compile(selector,context,xml);
dirruns=matcher.dirruns++;
if(elements==null){elements=Expr.find.TAG("*",(rsibling.test(selector)&&context.parentNode)||context);
}for(i=0;
(elem=elements[i]);
i++){cachedruns=matcher.runs++;
if(matcher(elem)){results.push(elem);
}}}return results;
}if(document.querySelectorAll){(function(){var disconnectedMatch,oldSelect=select,rescape=/'|\\/g,rattributeQuotes=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,rbuggyQSA=[],rbuggyMatches=[":active"],matches=docElem.matchesSelector||docElem.mozMatchesSelector||docElem.webkitMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector;
assert(function(div){div.innerHTML="<select><option selected=''></option></select>";
if(!div.querySelectorAll("[selected]").length){rbuggyQSA.push("\\["+whitespace+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)");
}if(!div.querySelectorAll(":checked").length){rbuggyQSA.push(":checked");
}});
assert(function(div){div.innerHTML="<p test=''></p>";
if(div.querySelectorAll("[test^='']").length){rbuggyQSA.push("[*^$]="+whitespace+"*(?:\"\"|'')");
}div.innerHTML="<input type='hidden'/>";
if(!div.querySelectorAll(":enabled").length){rbuggyQSA.push(":enabled",":disabled");
}});
rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|"));
select=function(selector,context,results,seed,xml){if(!seed&&!xml&&(!rbuggyQSA||!rbuggyQSA.test(selector))){if(context.nodeType===9){try{push.apply(results,slice.call(context.querySelectorAll(selector),0));
return results;
}catch(qsaError){}}else{if(context.nodeType===1&&context.nodeName.toLowerCase()!=="object"){var groups,i,len,old=context.getAttribute("id"),nid=old||expando,newContext=rsibling.test(selector)&&context.parentNode||context;
if(old){nid=nid.replace(rescape,"\\$&");
}else{context.setAttribute("id",nid);
}groups=tokenize(selector,context,xml);
nid="[id='"+nid+"']";
for(i=0,len=groups.length;
i<len;
i++){groups[i]=nid+groups[i].selector;
}try{push.apply(results,slice.call(newContext.querySelectorAll(groups.join(",")),0));
return results;
}catch(qsaError){}finally{if(!old){context.removeAttribute("id");
}}}}}return oldSelect(selector,context,results,seed,xml);
};
if(matches){assert(function(div){disconnectedMatch=matches.call(div,"div");
try{matches.call(div,"[test!='']:sizzle");
rbuggyMatches.push(matchExpr.PSEUDO.source,matchExpr.POS.source,"!=");
}catch(e){}});
rbuggyMatches=new RegExp(rbuggyMatches.join("|"));
Sizzle.matchesSelector=function(elem,expr){expr=expr.replace(rattributeQuotes,"='$1']");
if(!isXML(elem)&&!rbuggyMatches.test(expr)&&(!rbuggyQSA||!rbuggyQSA.test(expr))){try{var ret=matches.call(elem,expr);
if(ret||disconnectedMatch||elem.document&&elem.document.nodeType!==11){return ret;
}}catch(e){}}return Sizzle(expr,null,null,[elem]).length>0;
};
}})();
}Expr.setFilters.nth=Expr.setFilters.eq;
Expr.filters=Expr.pseudos;
Sizzle.attr=jQuery.attr;
jQuery.find=Sizzle;
jQuery.expr=Sizzle.selectors;
jQuery.expr[":"]=jQuery.expr.pseudos;
jQuery.unique=Sizzle.uniqueSort;
jQuery.text=Sizzle.getText;
jQuery.isXMLDoc=Sizzle.isXML;
jQuery.contains=Sizzle.contains;
})(window);
var runtil=/Until$/,rparentsprev=/^(?:parents|prev(?:Until|All))/,isSimple=/^.[^:#\[\.,]*$/,rneedsContext=jQuery.expr.match.needsContext,guaranteedUnique={children:true,contents:true,next:true,prev:true};
jQuery.fn.extend({find:function(selector){var i,l,length,n,r,ret,self=this;
if(typeof selector!=="string"){return jQuery(selector).filter(function(){for(i=0,l=self.length;
i<l;
i++){if(jQuery.contains(self[i],this)){return true;
}}});
}ret=this.pushStack("","find",selector);
for(i=0,l=this.length;
i<l;
i++){length=ret.length;
jQuery.find(selector,this[i],ret);
if(i>0){for(n=length;
n<ret.length;
n++){for(r=0;
r<length;
r++){if(ret[r]===ret[n]){ret.splice(n--,1);
break;
}}}}}return ret;
},has:function(target){var i,targets=jQuery(target,this),len=targets.length;
return this.filter(function(){for(i=0;
i<len;
i++){if(jQuery.contains(this,targets[i])){return true;
}}});
},not:function(selector){return this.pushStack(winnow(this,selector,false),"not",selector);
},filter:function(selector){return this.pushStack(winnow(this,selector,true),"filter",selector);
},is:function(selector){return !!selector&&(typeof selector==="string"?rneedsContext.test(selector)?jQuery(selector,this.context).index(this[0])>=0:jQuery.filter(selector,this).length>0:this.filter(selector).length>0);
},closest:function(selectors,context){var cur,i=0,l=this.length,ret=[],pos=rneedsContext.test(selectors)||typeof selectors!=="string"?jQuery(selectors,context||this.context):0;
for(;
i<l;
i++){cur=this[i];
while(cur&&cur.ownerDocument&&cur!==context&&cur.nodeType!==11){if(pos?pos.index(cur)>-1:jQuery.find.matchesSelector(cur,selectors)){ret.push(cur);
break;
}cur=cur.parentNode;
}}ret=ret.length>1?jQuery.unique(ret):ret;
return this.pushStack(ret,"closest",selectors);
},index:function(elem){if(!elem){return(this[0]&&this[0].parentNode)?this.prevAll().length:-1;
}if(typeof elem==="string"){return jQuery.inArray(this[0],jQuery(elem));
}return jQuery.inArray(elem.jquery?elem[0]:elem,this);
},add:function(selector,context){var set=typeof selector==="string"?jQuery(selector,context):jQuery.makeArray(selector&&selector.nodeType?[selector]:selector),all=jQuery.merge(this.get(),set);
return this.pushStack(isDisconnected(set[0])||isDisconnected(all[0])?all:jQuery.unique(all));
},addBack:function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector));
}});
jQuery.fn.andSelf=jQuery.fn.addBack;
function isDisconnected(node){return !node||!node.parentNode||node.parentNode.nodeType===11;
}function sibling(cur,dir){do{cur=cur[dir];
}while(cur&&cur.nodeType!==1);
return cur;
}jQuery.each({parent:function(elem){var parent=elem.parentNode;
return parent&&parent.nodeType!==11?parent:null;
},parents:function(elem){return jQuery.dir(elem,"parentNode");
},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until);
},next:function(elem){return sibling(elem,"nextSibling");
},prev:function(elem){return sibling(elem,"previousSibling");
},nextAll:function(elem){return jQuery.dir(elem,"nextSibling");
},prevAll:function(elem){return jQuery.dir(elem,"previousSibling");
},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until);
},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until);
},siblings:function(elem){return jQuery.sibling((elem.parentNode||{}).firstChild,elem);
},children:function(elem){return jQuery.sibling(elem.firstChild);
},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.merge([],elem.childNodes);
}},function(name,fn){jQuery.fn[name]=function(until,selector){var ret=jQuery.map(this,fn,until);
if(!runtil.test(name)){selector=until;
}if(selector&&typeof selector==="string"){ret=jQuery.filter(selector,ret);
}ret=this.length>1&&!guaranteedUnique[name]?jQuery.unique(ret):ret;
if(this.length>1&&rparentsprev.test(name)){ret=ret.reverse();
}return this.pushStack(ret,name,core_slice.call(arguments).join(","));
};
});
jQuery.extend({filter:function(expr,elems,not){if(not){expr=":not("+expr+")";
}return elems.length===1?jQuery.find.matchesSelector(elems[0],expr)?[elems[0]]:[]:jQuery.find.matches(expr,elems);
},dir:function(elem,dir,until){var matched=[],cur=elem[dir];
while(cur&&cur.nodeType!==9&&(until===undefined||cur.nodeType!==1||!jQuery(cur).is(until))){if(cur.nodeType===1){matched.push(cur);
}cur=cur[dir];
}return matched;
},sibling:function(n,elem){var r=[];
for(;
n;
n=n.nextSibling){if(n.nodeType===1&&n!==elem){r.push(n);
}}return r;
}});
function winnow(elements,qualifier,keep){qualifier=qualifier||0;
if(jQuery.isFunction(qualifier)){return jQuery.grep(elements,function(elem,i){var retVal=!!qualifier.call(elem,i,elem);
return retVal===keep;
});
}else{if(qualifier.nodeType){return jQuery.grep(elements,function(elem,i){return(elem===qualifier)===keep;
});
}else{if(typeof qualifier==="string"){var filtered=jQuery.grep(elements,function(elem){return elem.nodeType===1;
});
if(isSimple.test(qualifier)){return jQuery.filter(qualifier,filtered,!keep);
}else{qualifier=jQuery.filter(qualifier,filtered);
}}}}return jQuery.grep(elements,function(elem,i){return(jQuery.inArray(elem,qualifier)>=0)===keep;
});
}function createSafeFragment(document){var list=nodeNames.split("|"),safeFrag=document.createDocumentFragment();
if(safeFrag.createElement){while(list.length){safeFrag.createElement(list.pop());
}}return safeFrag;
}var nodeNames="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",rinlinejQuery=/ jQuery\d+="(?:null|\d+)"/g,rleadingWhitespace=/^\s+/,rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rtbody=/<tbody/i,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,rnocache=/<(?:script|object|embed|option|style)/i,rnoshimcache=new RegExp("<(?:"+nodeNames+")[\\s/>]","i"),rcheckableType=/^(?:checkbox|radio)$/,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/\/(java|ecma)script/i,rcleanScript=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},safeFragment=createSafeFragment(document),fragmentDiv=safeFragment.appendChild(document.createElement("div"));
wrapMap.optgroup=wrapMap.option;
wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;
wrapMap.th=wrapMap.td;
if(!jQuery.support.htmlSerialize){wrapMap._default=[1,"X<div>","</div>"];
}jQuery.fn.extend({text:function(value){return jQuery.access(this,function(value){return value===undefined?jQuery.text(this):this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(value));
},null,value,arguments.length);
},wrapAll:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapAll(html.call(this,i));
});
}if(this[0]){var wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(true);
if(this[0].parentNode){wrap.insertBefore(this[0]);
}wrap.map(function(){var elem=this;
while(elem.firstChild&&elem.firstChild.nodeType===1){elem=elem.firstChild;
}return elem;
}).append(this);
}return this;
},wrapInner:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapInner(html.call(this,i));
});
}return this.each(function(){var self=jQuery(this),contents=self.contents();
if(contents.length){contents.wrapAll(html);
}else{self.append(html);
}});
},wrap:function(html){var isFunction=jQuery.isFunction(html);
return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html);
});
},unwrap:function(){return this.parent().each(function(){if(!jQuery.nodeName(this,"body")){jQuery(this).replaceWith(this.childNodes);
}}).end();
},append:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1||this.nodeType===11){this.appendChild(elem);
}});
},prepend:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1||this.nodeType===11){this.insertBefore(elem,this.firstChild);
}});
},before:function(){if(!isDisconnected(this[0])){return this.domManip(arguments,false,function(elem){this.parentNode.insertBefore(elem,this);
});
}if(arguments.length){var set=jQuery.clean(arguments);
return this.pushStack(jQuery.merge(set,this),"before",this.selector);
}},after:function(){if(!isDisconnected(this[0])){return this.domManip(arguments,false,function(elem){this.parentNode.insertBefore(elem,this.nextSibling);
});
}if(arguments.length){var set=jQuery.clean(arguments);
return this.pushStack(jQuery.merge(this,set),"after",this.selector);
}},remove:function(selector,keepData){var elem,i=0;
for(;
(elem=this[i])!=null;
i++){if(!selector||jQuery.filter(selector,[elem]).length){if(!keepData&&elem.nodeType===1){jQuery.cleanData(elem.getElementsByTagName("*"));
jQuery.cleanData([elem]);
}if(elem.parentNode){elem.parentNode.removeChild(elem);
}}}return this;
},empty:function(){var elem,i=0;
for(;
(elem=this[i])!=null;
i++){if(elem.nodeType===1){jQuery.cleanData(elem.getElementsByTagName("*"));
}while(elem.firstChild){elem.removeChild(elem.firstChild);
}}return this;
},clone:function(dataAndEvents,deepDataAndEvents){dataAndEvents=dataAndEvents==null?false:dataAndEvents;
deepDataAndEvents=deepDataAndEvents==null?dataAndEvents:deepDataAndEvents;
return this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents);
});
},html:function(value){return jQuery.access(this,function(value){var elem=this[0]||{},i=0,l=this.length;
if(value===undefined){return elem.nodeType===1?elem.innerHTML.replace(rinlinejQuery,""):undefined;
}if(typeof value==="string"&&!rnoInnerhtml.test(value)&&(jQuery.support.htmlSerialize||!rnoshimcache.test(value))&&(jQuery.support.leadingWhitespace||!rleadingWhitespace.test(value))&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=value.replace(rxhtmlTag,"<$1></$2>");
try{for(;
i<l;
i++){elem=this[i]||{};
if(elem.nodeType===1){jQuery.cleanData(elem.getElementsByTagName("*"));
elem.innerHTML=value;
}}elem=0;
}catch(e){}}if(elem){this.empty().append(value);
}},null,value,arguments.length);
},replaceWith:function(value){if(!isDisconnected(this[0])){if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this),old=self.html();
self.replaceWith(value.call(this,i,old));
});
}if(typeof value!=="string"){value=jQuery(value).detach();
}return this.each(function(){var next=this.nextSibling,parent=this.parentNode;
jQuery(this).remove();
if(next){jQuery(next).before(value);
}else{jQuery(parent).append(value);
}});
}return this.length?this.pushStack(jQuery(jQuery.isFunction(value)?value():value),"replaceWith",value):this;
},detach:function(selector){return this.remove(selector,true);
},domManip:function(args,table,callback){args=[].concat.apply([],args);
var results,first,fragment,iNoClone,i=0,value=args[0],scripts=[],l=this.length;
if(!jQuery.support.checkClone&&l>1&&typeof value==="string"&&rchecked.test(value)){return this.each(function(){jQuery(this).domManip(args,table,callback);
});
}if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this);
args[0]=value.call(this,i,table?self.html():undefined);
self.domManip(args,table,callback);
});
}if(this[0]){results=jQuery.buildFragment(args,this,scripts);
fragment=results.fragment;
first=fragment.firstChild;
if(fragment.childNodes.length===1){fragment=first;
}if(first){table=table&&jQuery.nodeName(first,"tr");
for(iNoClone=results.cacheable||l-1;
i<l;
i++){callback.call(table&&jQuery.nodeName(this[i],"table")?findOrAppend(this[i],"tbody"):this[i],i===iNoClone?fragment:jQuery.clone(fragment,true,true));
}}fragment=first=null;
if(scripts.length){jQuery.each(scripts,function(i,elem){if(elem.src){if(jQuery.ajax){jQuery.ajax({url:elem.src,type:"GET",dataType:"script",async:false,global:false,"throws":true});
}else{jQuery.error("no ajax");
}}else{jQuery.globalEval((elem.text||elem.textContent||elem.innerHTML||"").replace(rcleanScript,""));
}if(elem.parentNode){elem.parentNode.removeChild(elem);
}});
}}return this;
}});
function findOrAppend(elem,tag){return elem.getElementsByTagName(tag)[0]||elem.appendChild(elem.ownerDocument.createElement(tag));
}function cloneCopyEvent(src,dest){if(dest.nodeType!==1||!jQuery.hasData(src)){return;
}var type,i,l,oldData=jQuery._data(src),curData=jQuery._data(dest,oldData),events=oldData.events;
if(events){delete curData.handle;
curData.events={};
for(type in events){for(i=0,l=events[type].length;
i<l;
i++){jQuery.event.add(dest,type,events[type][i]);
}}}if(curData.data){curData.data=jQuery.extend({},curData.data);
}}function cloneFixAttributes(src,dest){var nodeName;
if(dest.nodeType!==1){return;
}if(dest.clearAttributes){dest.clearAttributes();
}if(dest.mergeAttributes){dest.mergeAttributes(src);
}nodeName=dest.nodeName.toLowerCase();
if(nodeName==="object"){if(dest.parentNode){dest.outerHTML=src.outerHTML;
}if(jQuery.support.html5Clone&&(src.innerHTML&&!jQuery.trim(dest.innerHTML))){dest.innerHTML=src.innerHTML;
}}else{if(nodeName==="input"&&rcheckableType.test(src.type)){dest.defaultChecked=dest.checked=src.checked;
if(dest.value!==src.value){dest.value=src.value;
}}else{if(nodeName==="option"){dest.selected=src.defaultSelected;
}else{if(nodeName==="input"||nodeName==="textarea"){dest.defaultValue=src.defaultValue;
}else{if(nodeName==="script"&&dest.text!==src.text){dest.text=src.text;
}}}}}dest.removeAttribute(jQuery.expando);
}jQuery.buildFragment=function(args,context,scripts){var fragment,cacheable,cachehit,first=args[0];
context=context||document;
context=!context.nodeType&&context[0]||context;
context=context.ownerDocument||context;
if(args.length===1&&typeof first==="string"&&first.length<512&&context===document&&first.charAt(0)==="<"&&!rnocache.test(first)&&(jQuery.support.checkClone||!rchecked.test(first))&&(jQuery.support.html5Clone||!rnoshimcache.test(first))){cacheable=true;
fragment=jQuery.fragments[first];
cachehit=fragment!==undefined;
}if(!fragment){fragment=context.createDocumentFragment();
jQuery.clean(args,context,fragment,scripts);
if(cacheable){jQuery.fragments[first]=cachehit&&fragment;
}}return{fragment:fragment,cacheable:cacheable};
};
jQuery.fragments={};
jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var elems,i=0,ret=[],insert=jQuery(selector),l=insert.length,parent=this.length===1&&this[0].parentNode;
if((parent==null||parent&&parent.nodeType===11&&parent.childNodes.length===1)&&l===1){insert[original](this[0]);
return this;
}else{for(;
i<l;
i++){elems=(i>0?this.clone(true):this).get();
jQuery(insert[i])[original](elems);
ret=ret.concat(elems);
}return this.pushStack(ret,name,insert.selector);
}};
});
function getAll(elem){if(typeof elem.getElementsByTagName!=="undefined"){return elem.getElementsByTagName("*");
}else{if(typeof elem.querySelectorAll!=="undefined"){return elem.querySelectorAll("*");
}else{return[];
}}}function fixDefaultChecked(elem){if(rcheckableType.test(elem.type)){elem.defaultChecked=elem.checked;
}}jQuery.extend({clone:function(elem,dataAndEvents,deepDataAndEvents){var srcElements,destElements,i,clone;
if(jQuery.support.html5Clone||jQuery.isXMLDoc(elem)||!rnoshimcache.test("<"+elem.nodeName+">")){clone=elem.cloneNode(true);
}else{fragmentDiv.innerHTML=elem.outerHTML;
fragmentDiv.removeChild(clone=fragmentDiv.firstChild);
}if((!jQuery.support.noCloneEvent||!jQuery.support.noCloneChecked)&&(elem.nodeType===1||elem.nodeType===11)&&!jQuery.isXMLDoc(elem)){cloneFixAttributes(elem,clone);
srcElements=getAll(elem);
destElements=getAll(clone);
for(i=0;
srcElements[i];
++i){if(destElements[i]){cloneFixAttributes(srcElements[i],destElements[i]);
}}}if(dataAndEvents){cloneCopyEvent(elem,clone);
if(deepDataAndEvents){srcElements=getAll(elem);
destElements=getAll(clone);
for(i=0;
srcElements[i];
++i){cloneCopyEvent(srcElements[i],destElements[i]);
}}}srcElements=destElements=null;
return clone;
},clean:function(elems,context,fragment,scripts){var i,j,elem,tag,wrap,depth,div,hasBody,tbody,len,handleScript,jsTags,safe=context===document&&safeFragment,ret=[];
if(!context||typeof context.createDocumentFragment==="undefined"){context=document;
}for(i=0;
(elem=elems[i])!=null;
i++){if(typeof elem==="number"){elem+="";
}if(!elem){continue;
}if(typeof elem==="string"){if(!rhtml.test(elem)){elem=context.createTextNode(elem);
}else{safe=safe||createSafeFragment(context);
div=context.createElement("div");
safe.appendChild(div);
elem=elem.replace(rxhtmlTag,"<$1></$2>");
tag=(rtagName.exec(elem)||["",""])[1].toLowerCase();
wrap=wrapMap[tag]||wrapMap._default;
depth=wrap[0];
div.innerHTML=wrap[1]+elem+wrap[2];
while(depth--){div=div.lastChild;
}if(!jQuery.support.tbody){hasBody=rtbody.test(elem);
tbody=tag==="table"&&!hasBody?div.firstChild&&div.firstChild.childNodes:wrap[1]==="<table>"&&!hasBody?div.childNodes:[];
for(j=tbody.length-1;
j>=0;
--j){if(jQuery.nodeName(tbody[j],"tbody")&&!tbody[j].childNodes.length){tbody[j].parentNode.removeChild(tbody[j]);
}}}if(!jQuery.support.leadingWhitespace&&rleadingWhitespace.test(elem)){div.insertBefore(context.createTextNode(rleadingWhitespace.exec(elem)[0]),div.firstChild);
}elem=div.childNodes;
div.parentNode.removeChild(div);
}}if(elem.nodeType){ret.push(elem);
}else{jQuery.merge(ret,elem);
}}if(div){elem=div=safe=null;
}if(!jQuery.support.appendChecked){for(i=0;
(elem=ret[i])!=null;
i++){if(jQuery.nodeName(elem,"input")){fixDefaultChecked(elem);
}else{if(typeof elem.getElementsByTagName!=="undefined"){jQuery.grep(elem.getElementsByTagName("input"),fixDefaultChecked);
}}}}if(fragment){handleScript=function(elem){if(!elem.type||rscriptType.test(elem.type)){return scripts?scripts.push(elem.parentNode?elem.parentNode.removeChild(elem):elem):fragment.appendChild(elem);
}};
for(i=0;
(elem=ret[i])!=null;
i++){if(!(jQuery.nodeName(elem,"script")&&handleScript(elem))){fragment.appendChild(elem);
if(typeof elem.getElementsByTagName!=="undefined"){jsTags=jQuery.grep(jQuery.merge([],elem.getElementsByTagName("script")),handleScript);
ret.splice.apply(ret,[i+1,0].concat(jsTags));
i+=jsTags.length;
}}}}return ret;
},cleanData:function(elems,acceptData){var data,id,elem,type,i=0,internalKey=jQuery.expando,cache=jQuery.cache,deleteExpando=jQuery.support.deleteExpando,special=jQuery.event.special;
for(;
(elem=elems[i])!=null;
i++){if(acceptData||jQuery.acceptData(elem)){id=elem[internalKey];
data=id&&cache[id];
if(data){if(data.events){for(type in data.events){if(special[type]){jQuery.event.remove(elem,type);
}else{jQuery.removeEvent(elem,type,data.handle);
}}}if(cache[id]){delete cache[id];
if(deleteExpando){delete elem[internalKey];
}else{if(elem.removeAttribute){elem.removeAttribute(internalKey);
}else{elem[internalKey]=null;
}}jQuery.deletedIds.push(id);
}}}}}});
(function(){var matched,browser;
jQuery.uaMatch=function(ua){ua=ua.toLowerCase();
var match=/(chrome)[ \/]([\w.]+)/.exec(ua)||/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||ua.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua)||[];
return{browser:match[1]||"",version:match[2]||"0"};
};
matched=jQuery.uaMatch(navigator.userAgent);
browser={};
if(matched.browser){browser[matched.browser]=true;
browser.version=matched.version;
}if(browser.chrome){browser.webkit=true;
}else{if(browser.webkit){browser.safari=true;
}}jQuery.browser=browser;
jQuery.sub=function(){function jQuerySub(selector,context){return new jQuerySub.fn.init(selector,context);
}jQuery.extend(true,jQuerySub,this);
jQuerySub.superclass=this;
jQuerySub.fn=jQuerySub.prototype=this();
jQuerySub.fn.constructor=jQuerySub;
jQuerySub.sub=this.sub;
jQuerySub.fn.init=function init(selector,context){if(context&&context instanceof jQuery&&!(context instanceof jQuerySub)){context=jQuerySub(context);
}return jQuery.fn.init.call(this,selector,context,rootjQuerySub);
};
jQuerySub.fn.init.prototype=jQuerySub.fn;
var rootjQuerySub=jQuerySub(document);
return jQuerySub;
};
})();
var curCSS,iframe,iframeDoc,ralpha=/alpha\([^)]*\)/i,ropacity=/opacity=([^)]*)/,rposition=/^(top|right|bottom|left)$/,rdisplayswap=/^(none|table(?!-c[ea]).+)/,rmargin=/^margin/,rnumsplit=new RegExp("^("+core_pnum+")(.*)$","i"),rnumnonpx=new RegExp("^("+core_pnum+")(?!px)[a-z%]+$","i"),rrelNum=new RegExp("^([-+])=("+core_pnum+")","i"),elemdisplay={},cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:0,fontWeight:400},cssExpand=["Top","Right","Bottom","Left"],cssPrefixes=["Webkit","O","Moz","ms"],eventsToggle=jQuery.fn.toggle;
function vendorPropName(style,name){if(name in style){return name;
}var capName=name.charAt(0).toUpperCase()+name.slice(1),origName=name,i=cssPrefixes.length;
while(i--){name=cssPrefixes[i]+capName;
if(name in style){return name;
}}return origName;
}function isHidden(elem,el){elem=el||elem;
return jQuery.css(elem,"display")==="none"||!jQuery.contains(elem.ownerDocument,elem);
}function showHide(elements,show){var elem,display,values=[],index=0,length=elements.length;
for(;
index<length;
index++){elem=elements[index];
if(!elem.style){continue;
}values[index]=jQuery._data(elem,"olddisplay");
if(show){if(!values[index]&&elem.style.display==="none"){elem.style.display="";
}if(elem.style.display===""&&isHidden(elem)){values[index]=jQuery._data(elem,"olddisplay",css_defaultDisplay(elem.nodeName));
}}else{display=curCSS(elem,"display");
if(!values[index]&&display!=="none"){jQuery._data(elem,"olddisplay",display);
}}}for(index=0;
index<length;
index++){elem=elements[index];
if(!elem.style){continue;
}if(!show||elem.style.display==="none"||elem.style.display===""){elem.style.display=show?values[index]||"":"none";
}}return elements;
}jQuery.fn.extend({css:function(name,value){return jQuery.access(this,function(elem,name,value){return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name);
},name,value,arguments.length>1);
},show:function(){return showHide(this,true);
},hide:function(){return showHide(this);
},toggle:function(state,fn2){var bool=typeof state==="boolean";
if(jQuery.isFunction(state)&&jQuery.isFunction(fn2)){return eventsToggle.apply(this,arguments);
}return this.each(function(){if(bool?state:isHidden(this)){jQuery(this).show();
}else{jQuery(this).hide();
}});
}});
jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");
return ret===""?"1":ret;
}}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":jQuery.support.cssFloat?"cssFloat":"styleFloat"},style:function(elem,name,value,extra){if(!elem||elem.nodeType===3||elem.nodeType===8||!elem.style){return;
}var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;
name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(style,origName));
hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];
if(value!==undefined){type=typeof value;
if(type==="string"&&(ret=rrelNum.exec(value))){value=(ret[1]+1)*ret[2]+parseFloat(jQuery.css(elem,name));
type="number";
}if(value==null||type==="number"&&isNaN(value)){return;
}if(type==="number"&&!jQuery.cssNumber[origName]){value+="px";
}if(!hooks||!("set" in hooks)||(value=hooks.set(elem,value,extra))!==undefined){try{style[name]=value;
}catch(e){}}}else{if(hooks&&"get" in hooks&&(ret=hooks.get(elem,false,extra))!==undefined){return ret;
}return style[name];
}},css:function(elem,name,numeric,extra){var val,num,hooks,origName=jQuery.camelCase(name);
name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(elem.style,origName));
hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];
if(hooks&&"get" in hooks){val=hooks.get(elem,true,extra);
}if(val===undefined){val=curCSS(elem,name);
}if(val==="normal"&&name in cssNormalTransform){val=cssNormalTransform[name];
}if(numeric||extra!==undefined){num=parseFloat(val);
return numeric||jQuery.isNumeric(num)?num||0:val;
}return val;
},swap:function(elem,options,callback){var ret,name,old={};
for(name in options){old[name]=elem.style[name];
elem.style[name]=options[name];
}ret=callback.call(elem);
for(name in options){elem.style[name]=old[name];
}return ret;
}});
if(window.getComputedStyle){curCSS=function(elem,name){var ret,width,minWidth,maxWidth,computed=window.getComputedStyle(elem,null),style=elem.style;
if(computed){ret=computed[name];
if(ret===""&&!jQuery.contains(elem.ownerDocument,elem)){ret=jQuery.style(elem,name);
}if(rnumnonpx.test(ret)&&rmargin.test(name)){width=style.width;
minWidth=style.minWidth;
maxWidth=style.maxWidth;
style.minWidth=style.maxWidth=style.width=ret;
ret=computed.width;
style.width=width;
style.minWidth=minWidth;
style.maxWidth=maxWidth;
}}return ret;
};
}else{if(document.documentElement.currentStyle){curCSS=function(elem,name){var left,rsLeft,ret=elem.currentStyle&&elem.currentStyle[name],style=elem.style;
if(ret==null&&style&&style[name]){ret=style[name];
}if(rnumnonpx.test(ret)&&!rposition.test(name)){left=style.left;
rsLeft=elem.runtimeStyle&&elem.runtimeStyle.left;
if(rsLeft){elem.runtimeStyle.left=elem.currentStyle.left;
}style.left=name==="fontSize"?"1em":ret;
ret=style.pixelLeft+"px";
style.left=left;
if(rsLeft){elem.runtimeStyle.left=rsLeft;
}}return ret===""?"auto":ret;
};
}}function setPositiveNumber(elem,value,subtract){var matches=rnumsplit.exec(value);
return matches?Math.max(0,matches[1]-(subtract||0))+(matches[2]||"px"):value;
}function augmentWidthOrHeight(elem,name,extra,isBorderBox){var i=extra===(isBorderBox?"border":"content")?4:name==="width"?1:0,val=0;
for(;
i<4;
i+=2){if(extra==="margin"){val+=jQuery.css(elem,extra+cssExpand[i],true);
}if(isBorderBox){if(extra==="content"){val-=parseFloat(curCSS(elem,"padding"+cssExpand[i]))||0;
}if(extra!=="margin"){val-=parseFloat(curCSS(elem,"border"+cssExpand[i]+"Width"))||0;
}}else{val+=parseFloat(curCSS(elem,"padding"+cssExpand[i]))||0;
if(extra!=="padding"){val+=parseFloat(curCSS(elem,"border"+cssExpand[i]+"Width"))||0;
}}}return val;
}function getWidthOrHeight(elem,name,extra){var val=name==="width"?elem.offsetWidth:elem.offsetHeight,valueIsBorderBox=true,isBorderBox=jQuery.support.boxSizing&&jQuery.css(elem,"boxSizing")==="border-box";
if(val<=0||val==null){val=curCSS(elem,name);
if(val<0||val==null){val=elem.style[name];
}if(rnumnonpx.test(val)){return val;
}valueIsBorderBox=isBorderBox&&(jQuery.support.boxSizingReliable||val===elem.style[name]);
val=parseFloat(val)||0;
}return(val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox))+"px";
}function css_defaultDisplay(nodeName){if(elemdisplay[nodeName]){return elemdisplay[nodeName];
}var elem=jQuery("<"+nodeName+">").appendTo(document.body),display=elem.css("display");
elem.remove();
if(display==="none"||display===""){iframe=document.body.appendChild(iframe||jQuery.extend(document.createElement("iframe"),{frameBorder:0,width:0,height:0}));
if(!iframeDoc||!iframe.createElement){iframeDoc=(iframe.contentWindow||iframe.contentDocument).document;
iframeDoc.write("<!doctype html><html><body>");
iframeDoc.close();
}elem=iframeDoc.body.appendChild(iframeDoc.createElement(nodeName));
display=curCSS(elem,"display");
document.body.removeChild(iframe);
}elemdisplay[nodeName]=display;
return display;
}jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){if(computed){if(elem.offsetWidth===0&&rdisplayswap.test(curCSS(elem,"display"))){return jQuery.swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra);
});
}else{return getWidthOrHeight(elem,name,extra);
}}},set:function(elem,value,extra){return setPositiveNumber(elem,value,extra?augmentWidthOrHeight(elem,name,extra,jQuery.support.boxSizing&&jQuery.css(elem,"boxSizing")==="border-box"):0);
}};
});
if(!jQuery.support.opacity){jQuery.cssHooks.opacity={get:function(elem,computed){return ropacity.test((computed&&elem.currentStyle?elem.currentStyle.filter:elem.style.filter)||"")?(0.01*parseFloat(RegExp.$1))+"":computed?"1":"";
},set:function(elem,value){var style=elem.style,currentStyle=elem.currentStyle,opacity=jQuery.isNumeric(value)?"alpha(opacity="+value*100+")":"",filter=currentStyle&&currentStyle.filter||style.filter||"";
style.zoom=1;
if(value>=1&&jQuery.trim(filter.replace(ralpha,""))===""&&style.removeAttribute){style.removeAttribute("filter");
if(currentStyle&&!currentStyle.filter){return;
}}style.filter=ralpha.test(filter)?filter.replace(ralpha,opacity):filter+" "+opacity;
}};
}jQuery(function(){if(!jQuery.support.reliableMarginRight){jQuery.cssHooks.marginRight={get:function(elem,computed){return jQuery.swap(elem,{display:"inline-block"},function(){if(computed){return curCSS(elem,"marginRight");
}});
}};
}if(!jQuery.support.pixelPosition&&jQuery.fn.position){jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]={get:function(elem,computed){if(computed){var ret=curCSS(elem,prop);
return rnumnonpx.test(ret)?jQuery(elem).position()[prop]+"px":ret;
}}};
});
}});
if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.hidden=function(elem){return(elem.offsetWidth===0&&elem.offsetHeight===0)||(!jQuery.support.reliableHiddenOffsets&&((elem.style&&elem.style.display)||curCSS(elem,"display"))==="none");
};
jQuery.expr.filters.visible=function(elem){return !jQuery.expr.filters.hidden(elem);
};
}jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){var i,parts=typeof value==="string"?value.split(" "):[value],expanded={};
for(i=0;
i<4;
i++){expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];
}return expanded;
}};
if(!rmargin.test(prefix)){jQuery.cssHooks[prefix+suffix].set=setPositiveNumber;
}});
var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rinput=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,rselectTextarea=/^(?:select|textarea)/i;
jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray());
},serializeArray:function(){return this.map(function(){return this.elements?jQuery.makeArray(this.elements):this;
}).filter(function(){return this.name&&!this.disabled&&(this.checked||rselectTextarea.test(this.nodeName)||rinput.test(this.type));
}).map(function(i,elem){var val=jQuery(this).val();
return val==null?null:jQuery.isArray(val)?jQuery.map(val,function(val,i){return{name:elem.name,value:val.replace(rCRLF,"\r\n")};
}):{name:elem.name,value:val.replace(rCRLF,"\r\n")};
}).get();
}});
jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():(value==null?"":value);
s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value);
};
if(traditional===undefined){traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional;
}if(jQuery.isArray(a)||(a.jquery&&!jQuery.isPlainObject(a))){jQuery.each(a,function(){add(this.name,this.value);
});
}else{for(prefix in a){buildParams(prefix,a[prefix],traditional,add);
}}return s.join("&").replace(r20,"+");
};
function buildParams(prefix,obj,traditional,add){var name;
if(jQuery.isArray(obj)){jQuery.each(obj,function(i,v){if(traditional||rbracket.test(prefix)){add(prefix,v);
}else{buildParams(prefix+"["+(typeof v==="object"?i:"")+"]",v,traditional,add);
}});
}else{if(!traditional&&jQuery.type(obj)==="object"){for(name in obj){buildParams(prefix+"["+name+"]",obj[name],traditional,add);
}}else{add(prefix,obj);
}}}var ajaxLocation,ajaxLocParts,rhash=/#.*$/,rheaders=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,rlocalProtocol=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rquery=/\?/,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,rts=/([?&])_=[^&]*/,rurl=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,_load=jQuery.fn.load,prefilters={},transports={},allTypes=["*/"]+["*"];
try{ajaxLocation=location.href;
}catch(e){ajaxLocation=document.createElement("a");
ajaxLocation.href="";
ajaxLocation=ajaxLocation.href;
}ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[];
function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){if(typeof dataTypeExpression!=="string"){func=dataTypeExpression;
dataTypeExpression="*";
}var dataType,list,placeBefore,dataTypes=dataTypeExpression.toLowerCase().split(core_rspace),i=0,length=dataTypes.length;
if(jQuery.isFunction(func)){for(;
i<length;
i++){dataType=dataTypes[i];
placeBefore=/^\+/.test(dataType);
if(placeBefore){dataType=dataType.substr(1)||"*";
}list=structure[dataType]=structure[dataType]||[];
list[placeBefore?"unshift":"push"](func);
}}};
}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,dataType,inspected){dataType=dataType||options.dataTypes[0];
inspected=inspected||{};
inspected[dataType]=true;
var selection,list=structure[dataType],i=0,length=list?list.length:0,executeOnly=(structure===prefilters);
for(;
i<length&&(executeOnly||!selection);
i++){selection=list[i](options,originalOptions,jqXHR);
if(typeof selection==="string"){if(!executeOnly||inspected[selection]){selection=undefined;
}else{options.dataTypes.unshift(selection);
selection=inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,selection,inspected);
}}}if((executeOnly||!selection)&&!inspected["*"]){selection=inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,"*",inspected);
}return selection;
}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};
for(key in src){if(src[key]!==undefined){(flatOptions[key]?target:(deep||(deep={})))[key]=src[key];
}}if(deep){jQuery.extend(true,target,deep);
}}jQuery.fn.load=function(url,params,callback){if(typeof url!=="string"&&_load){return _load.apply(this,arguments);
}if(!this.length){return this;
}var selector,type,response,self=this,off=url.indexOf(" ");
if(off>=0){selector=url.slice(off,url.length);
url=url.slice(0,off);
}if(jQuery.isFunction(params)){callback=params;
params=undefined;
}else{if(params&&typeof params==="object"){type="POST";
}}jQuery.ajax({url:url,type:type,dataType:"html",data:params,complete:function(jqXHR,status){if(callback){self.each(callback,response||[jqXHR.responseText,status,jqXHR]);
}}}).done(function(responseText){response=arguments;
self.html(selector?jQuery("<div>").append(responseText.replace(rscript,"")).find(selector):responseText);
});
return this;
};
jQuery.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(i,o){jQuery.fn[o]=function(f){return this.on(o,f);
};
});
jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;
callback=data;
data=undefined;
}return jQuery.ajax({type:method,url:url,data:data,success:callback,dataType:type});
};
});
jQuery.extend({getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script");
},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json");
},ajaxSetup:function(target,settings){if(settings){ajaxExtend(target,jQuery.ajaxSettings);
}else{settings=target;
target=jQuery.ajaxSettings;
}ajaxExtend(target,settings);
return target;
},ajaxSettings:{url:ajaxLocation,isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":allTypes},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":true,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){if(typeof url==="object"){options=url;
url=undefined;
}options=options||{};
var ifModifiedKey,responseHeadersString,responseHeaders,transport,timeoutTimer,parts,fireGlobals,i,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=callbackContext!==s&&(callbackContext.nodeType||callbackContext instanceof jQuery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,setRequestHeader:function(name,value){if(!state){var lname=name.toLowerCase();
name=requestHeadersNames[lname]=requestHeadersNames[lname]||name;
requestHeaders[name]=value;
}return this;
},getAllResponseHeaders:function(){return state===2?responseHeadersString:null;
},getResponseHeader:function(key){var match;
if(state===2){if(!responseHeaders){responseHeaders={};
while((match=rheaders.exec(responseHeadersString))){responseHeaders[match[1].toLowerCase()]=match[2];
}}match=responseHeaders[key.toLowerCase()];
}return match===undefined?null:match;
},overrideMimeType:function(type){if(!state){s.mimeType=type;
}return this;
},abort:function(statusText){statusText=statusText||strAbort;
if(transport){transport.abort(statusText);
}done(0,statusText);
return this;
}};
function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;
if(state===2){return;
}state=2;
if(timeoutTimer){clearTimeout(timeoutTimer);
}transport=undefined;
responseHeadersString=headers||"";
jqXHR.readyState=status>0?4:0;
if(responses){response=ajaxHandleResponses(s,jqXHR,responses);
}if(status>=200&&status<300||status===304){if(s.ifModified){modified=jqXHR.getResponseHeader("Last-Modified");
if(modified){jQuery.lastModified[ifModifiedKey]=modified;
}modified=jqXHR.getResponseHeader("Etag");
if(modified){jQuery.etag[ifModifiedKey]=modified;
}}if(status===304){statusText="notmodified";
isSuccess=true;
}else{isSuccess=ajaxConvert(s,response);
statusText=isSuccess.state;
success=isSuccess.data;
error=isSuccess.error;
isSuccess=!error;
}}else{error=statusText;
if(!statusText||status){statusText="error";
if(status<0){status=0;
}}}jqXHR.status=status;
jqXHR.statusText=""+(nativeStatusText||statusText);
if(isSuccess){deferred.resolveWith(callbackContext,[success,statusText,jqXHR]);
}else{deferred.rejectWith(callbackContext,[jqXHR,statusText,error]);
}jqXHR.statusCode(statusCode);
statusCode=undefined;
if(fireGlobals){globalEventContext.trigger("ajax"+(isSuccess?"Success":"Error"),[jqXHR,s,isSuccess?success:error]);
}completeDeferred.fireWith(callbackContext,[jqXHR,statusText]);
if(fireGlobals){globalEventContext.trigger("ajaxComplete",[jqXHR,s]);
if(!(--jQuery.active)){jQuery.event.trigger("ajaxStop");
}}}deferred.promise(jqXHR);
jqXHR.success=jqXHR.done;
jqXHR.error=jqXHR.fail;
jqXHR.complete=completeDeferred.add;
jqXHR.statusCode=function(map){if(map){var tmp;
if(state<2){for(tmp in map){statusCode[tmp]=[statusCode[tmp],map[tmp]];
}}else{tmp=map[jqXHR.status];
jqXHR.always(tmp);
}}return this;
};
s.url=((url||s.url)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//");
s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().split(core_rspace);
if(s.crossDomain==null){parts=rurl.exec(s.url.toLowerCase());
s.crossDomain=!!(parts&&(parts[1]!=ajaxLocParts[1]||parts[2]!=ajaxLocParts[2]||(parts[3]||(parts[1]==="http:"?80:443))!=(ajaxLocParts[3]||(ajaxLocParts[1]==="http:"?80:443))));
}if(s.data&&s.processData&&typeof s.data!=="string"){s.data=jQuery.param(s.data,s.traditional);
}inspectPrefiltersOrTransports(prefilters,s,options,jqXHR);
if(state===2){return jqXHR;
}fireGlobals=s.global;
s.type=s.type.toUpperCase();
s.hasContent=!rnoContent.test(s.type);
if(fireGlobals&&jQuery.active++===0){jQuery.event.trigger("ajaxStart");
}if(!s.hasContent){if(s.data){s.url+=(rquery.test(s.url)?"&":"?")+s.data;
delete s.data;
}ifModifiedKey=s.url;
if(s.cache===false){var ts=jQuery.now(),ret=s.url.replace(rts,"$1_="+ts);
s.url=ret+((ret===s.url)?(rquery.test(s.url)?"&":"?")+"_="+ts:"");
}}if(s.data&&s.hasContent&&s.contentType!==false||options.contentType){jqXHR.setRequestHeader("Content-Type",s.contentType);
}if(s.ifModified){ifModifiedKey=ifModifiedKey||s.url;
if(jQuery.lastModified[ifModifiedKey]){jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[ifModifiedKey]);
}if(jQuery.etag[ifModifiedKey]){jqXHR.setRequestHeader("If-None-Match",jQuery.etag[ifModifiedKey]);
}}jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+(s.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):s.accepts["*"]);
for(i in s.headers){jqXHR.setRequestHeader(i,s.headers[i]);
}if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===false||state===2)){return jqXHR.abort();
}strAbort="abort";
for(i in {success:1,error:1,complete:1}){jqXHR[i](s[i]);
}transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR);
if(!transport){done(-1,"No Transport");
}else{jqXHR.readyState=1;
if(fireGlobals){globalEventContext.trigger("ajaxSend",[jqXHR,s]);
}if(s.async&&s.timeout>0){timeoutTimer=setTimeout(function(){jqXHR.abort("timeout");
},s.timeout);
}try{state=1;
transport.send(requestHeaders,done);
}catch(e){if(state<2){done(-1,e);
}else{throw e;
}}}return jqXHR;
},active:0,lastModified:{},etag:{}});
function ajaxHandleResponses(s,jqXHR,responses){var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes,responseFields=s.responseFields;
for(type in responseFields){if(type in responses){jqXHR[responseFields[type]]=responses[type];
}}while(dataTypes[0]==="*"){dataTypes.shift();
if(ct===undefined){ct=s.mimeType||jqXHR.getResponseHeader("content-type");
}}if(ct){for(type in contents){if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);
break;
}}}if(dataTypes[0] in responses){finalDataType=dataTypes[0];
}else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;
break;
}if(!firstDataType){firstDataType=type;
}}finalDataType=finalDataType||firstDataType;
}if(finalDataType){if(finalDataType!==dataTypes[0]){dataTypes.unshift(finalDataType);
}return responses[finalDataType];
}}function ajaxConvert(s,response){var conv,conv2,current,tmp,dataTypes=s.dataTypes.slice(),prev=dataTypes[0],converters={},i=0;
if(s.dataFilter){response=s.dataFilter(response,s.dataType);
}if(dataTypes[1]){for(conv in s.converters){converters[conv.toLowerCase()]=s.converters[conv];
}}for(;
(current=dataTypes[++i]);
){if(current!=="*"){if(prev!=="*"&&prev!==current){conv=converters[prev+" "+current]||converters["* "+current];
if(!conv){for(conv2 in converters){tmp=conv2.split(" ");
if(tmp[1]===current){conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]];
if(conv){if(conv===true){conv=converters[conv2];
}else{if(converters[conv2]!==true){current=tmp[0];
dataTypes.splice(i--,0,current);
}}break;
}}}}if(conv!==true){if(conv&&s["throws"]){response=conv(response);
}else{try{response=conv(response);
}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current};
}}}}prev=current;
}}return{state:"success",data:response};
}var oldCallbacks=[],rquestion=/\?/,rjsonp=/(=)\?(?=&|$)|\?\?/,nonce=jQuery.now();
jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||(jQuery.expando+"_"+(nonce++));
this[callback]=true;
return callback;
}});
jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,data=s.data,url=s.url,hasCallback=s.jsonp!==false,replaceInUrl=hasCallback&&rjsonp.test(url),replaceInData=hasCallback&&!replaceInUrl&&typeof data==="string"&&!(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(data);
if(s.dataTypes[0]==="jsonp"||replaceInUrl||replaceInData){callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback;
overwritten=window[callbackName];
if(replaceInUrl){s.url=url.replace(rjsonp,"$1"+callbackName);
}else{if(replaceInData){s.data=data.replace(rjsonp,"$1"+callbackName);
}else{if(hasCallback){s.url+=(rquestion.test(url)?"&":"?")+s.jsonp+"="+callbackName;
}}}s.converters["script json"]=function(){if(!responseContainer){jQuery.error(callbackName+" was not called");
}return responseContainer[0];
};
s.dataTypes[0]="json";
window[callbackName]=function(){responseContainer=arguments;
};
jqXHR.always(function(){window[callbackName]=overwritten;
if(s[callbackName]){s.jsonpCallback=originalSettings.jsonpCallback;
oldCallbacks.push(callbackName);
}if(responseContainer&&jQuery.isFunction(overwritten)){overwritten(responseContainer[0]);
}responseContainer=overwritten=undefined;
});
return"script";
}});
jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(text){jQuery.globalEval(text);
return text;
}}});
jQuery.ajaxPrefilter("script",function(s){if(s.cache===undefined){s.cache=false;
}if(s.crossDomain){s.type="GET";
s.global=false;
}});
jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,head=document.head||document.getElementsByTagName("head")[0]||document.documentElement;
return{send:function(_,callback){script=document.createElement("script");
script.async="async";
if(s.scriptCharset){script.charset=s.scriptCharset;
}script.src=s.url;
script.onload=script.onreadystatechange=function(_,isAbort){if(isAbort||!script.readyState||/loaded|complete/.test(script.readyState)){script.onload=script.onreadystatechange=null;
if(head&&script.parentNode){head.removeChild(script);
}script=undefined;
if(!isAbort){callback(200,"success");
}}};
head.insertBefore(script,head.firstChild);
},abort:function(){if(script){script.onload(0,1);
}}};
}});
var xhrCallbacks,xhrOnUnloadAbort=window.ActiveXObject?function(){for(var key in xhrCallbacks){xhrCallbacks[key](0,1);
}}:false,xhrId=0;
function createStandardXHR(){try{return new window.XMLHttpRequest();
}catch(e){}}function createActiveXHR(){try{return new window.ActiveXObject("Microsoft.XMLHTTP");
}catch(e){}}jQuery.ajaxSettings.xhr=window.ActiveXObject?function(){return !this.isLocal&&createStandardXHR()||createActiveXHR();
}:createStandardXHR;
(function(xhr){jQuery.extend(jQuery.support,{ajax:!!xhr,cors:!!xhr&&("withCredentials" in xhr)});
})(jQuery.ajaxSettings.xhr());
if(jQuery.support.ajax){jQuery.ajaxTransport(function(s){if(!s.crossDomain||jQuery.support.cors){var callback;
return{send:function(headers,complete){var handle,i,xhr=s.xhr();
if(s.username){xhr.open(s.type,s.url,s.async,s.username,s.password);
}else{xhr.open(s.type,s.url,s.async);
}if(s.xhrFields){for(i in s.xhrFields){xhr[i]=s.xhrFields[i];
}}if(s.mimeType&&xhr.overrideMimeType){xhr.overrideMimeType(s.mimeType);
}if(!s.crossDomain&&!headers["X-Requested-With"]){headers["X-Requested-With"]="XMLHttpRequest";
}try{for(i in headers){xhr.setRequestHeader(i,headers[i]);
}}catch(_){}xhr.send((s.hasContent&&s.data)||null);
callback=function(_,isAbort){var status,statusText,responseHeaders,responses,xml;
try{if(callback&&(isAbort||xhr.readyState===4)){callback=undefined;
if(handle){xhr.onreadystatechange=jQuery.noop;
if(xhrOnUnloadAbort){delete xhrCallbacks[handle];
}}if(isAbort){if(xhr.readyState!==4){xhr.abort();
}}else{status=xhr.status;
responseHeaders=xhr.getAllResponseHeaders();
responses={};
xml=xhr.responseXML;
if(xml&&xml.documentElement){responses.xml=xml;
}try{responses.text=xhr.responseText;
}catch(_){}try{statusText=xhr.statusText;
}catch(e){statusText="";
}if(!status&&s.isLocal&&!s.crossDomain){status=responses.text?200:404;
}else{if(status===1223){status=204;
}}}}}catch(firefoxAccessException){if(!isAbort){complete(-1,firefoxAccessException);
}}if(responses){complete(status,statusText,responses,responseHeaders);
}};
if(!s.async){callback();
}else{if(xhr.readyState===4){setTimeout(callback,0);
}else{handle=++xhrId;
if(xhrOnUnloadAbort){if(!xhrCallbacks){xhrCallbacks={};
jQuery(window).unload(xhrOnUnloadAbort);
}xhrCallbacks[handle]=callback;
}xhr.onreadystatechange=callback;
}}},abort:function(){if(callback){callback(0,1);
}}};
}});
}var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([-+])=|)("+core_pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(prop,value){var end,unit,prevScale,tween=this.createTween(prop,value),parts=rfxnum.exec(value),target=tween.cur(),start=+target||0,scale=1;
if(parts){end=+parts[2];
unit=parts[3]||(jQuery.cssNumber[prop]?"":"px");
if(unit!=="px"&&start){start=jQuery.css(tween.elem,prop,true)||end||1;
do{prevScale=scale=scale||".5";
start=start/scale;
jQuery.style(tween.elem,prop,start+unit);
scale=tween.cur()/target;
}while(scale!==1&&scale!==prevScale);
}tween.unit=unit;
tween.start=start;
tween.end=parts[1]?start+(parts[1]+1)*end:end;
}return tween;
}]};
function createFxNow(){setTimeout(function(){fxNow=undefined;
},0);
return(fxNow=jQuery.now());
}function createTweens(animation,props){jQuery.each(props,function(prop,value){var collection=(tweeners[prop]||[]).concat(tweeners["*"]),index=0,length=collection.length;
for(;
index<length;
index++){if(collection[index].call(animation,prop,value)){return;
}}});
}function Animation(elem,properties,options){var result,index=0,tweenerIndex=0,length=animationPrefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem;
}),tick=function(){var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),percent=1-(remaining/animation.duration||0),index=0,length=animation.tweens.length;
for(;
index<length;
index++){animation.tweens[index].run(percent);
}deferred.notifyWith(elem,[animation,percent,remaining]);
if(percent<1&&length){return remaining;
}else{deferred.resolveWith(elem,[animation]);
return false;
}},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(true,{specialEasing:{}},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end,easing){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);
animation.tweens.push(tween);
return tween;
},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;
for(;
index<length;
index++){animation.tweens[index].run(1);
}if(gotoEnd){deferred.resolveWith(elem,[animation,gotoEnd]);
}else{deferred.rejectWith(elem,[animation,gotoEnd]);
}return this;
}}),props=animation.props;
propFilter(props,animation.opts.specialEasing);
for(;
index<length;
index++){result=animationPrefilters[index].call(animation,elem,props,animation.opts);
if(result){return result;
}}createTweens(animation,props);
if(jQuery.isFunction(animation.opts.start)){animation.opts.start.call(elem,animation);
}jQuery.fx.timer(jQuery.extend(tick,{anim:animation,queue:animation.opts.queue,elem:elem}));
return animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always);
}function propFilter(props,specialEasing){var index,name,easing,value,hooks;
for(index in props){name=jQuery.camelCase(index);
easing=specialEasing[name];
value=props[index];
if(jQuery.isArray(value)){easing=value[1];
value=props[index]=value[0];
}if(index!==name){props[name]=value;
delete props[index];
}hooks=jQuery.cssHooks[name];
if(hooks&&"expand" in hooks){value=hooks.expand(value);
delete props[name];
for(index in value){if(!(index in props)){props[index]=value[index];
specialEasing[index]=easing;
}}}else{specialEasing[name]=easing;
}}}jQuery.Animation=jQuery.extend(Animation,{tweener:function(props,callback){if(jQuery.isFunction(props)){callback=props;
props=["*"];
}else{props=props.split(" ");
}var prop,index=0,length=props.length;
for(;
index<length;
index++){prop=props[index];
tweeners[prop]=tweeners[prop]||[];
tweeners[prop].unshift(callback);
}},prefilter:function(callback,prepend){if(prepend){animationPrefilters.unshift(callback);
}else{animationPrefilters.push(callback);
}}});
function defaultPrefilter(elem,props,opts){var index,prop,value,length,dataShow,tween,hooks,oldfire,anim=this,style=elem.style,orig={},handled=[],hidden=elem.nodeType&&isHidden(elem);
if(!opts.queue){hooks=jQuery._queueHooks(elem,"fx");
if(hooks.unqueued==null){hooks.unqueued=0;
oldfire=hooks.empty.fire;
hooks.empty.fire=function(){if(!hooks.unqueued){oldfire();
}};
}hooks.unqueued++;
anim.always(function(){anim.always(function(){hooks.unqueued--;
if(!jQuery.queue(elem,"fx").length){hooks.empty.fire();
}});
});
}if(elem.nodeType===1&&("height" in props||"width" in props)){opts.overflow=[style.overflow,style.overflowX,style.overflowY];
if(jQuery.css(elem,"display")==="inline"&&jQuery.css(elem,"float")==="none"){if(!jQuery.support.inlineBlockNeedsLayout||css_defaultDisplay(elem.nodeName)==="inline"){style.display="inline-block";
}else{style.zoom=1;
}}}if(opts.overflow){style.overflow="hidden";
if(!jQuery.support.shrinkWrapBlocks){anim.done(function(){style.overflow=opts.overflow[0];
style.overflowX=opts.overflow[1];
style.overflowY=opts.overflow[2];
});
}}for(index in props){value=props[index];
if(rfxtypes.exec(value)){delete props[index];
if(value===(hidden?"hide":"show")){continue;
}handled.push(index);
}}length=handled.length;
if(length){dataShow=jQuery._data(elem,"fxshow")||jQuery._data(elem,"fxshow",{});
if(hidden){jQuery(elem).show();
}else{anim.done(function(){jQuery(elem).hide();
});
}anim.done(function(){var prop;
jQuery.removeData(elem,"fxshow",true);
for(prop in orig){jQuery.style(elem,prop,orig[prop]);
}});
for(index=0;
index<length;
index++){prop=handled[index];
tween=anim.createTween(prop,hidden?dataShow[prop]:0);
orig[prop]=dataShow[prop]||jQuery.style(elem,prop);
if(!(prop in dataShow)){dataShow[prop]=tween.start;
if(hidden){tween.end=tween.start;
tween.start=prop==="width"||prop==="height"?1:0;
}}}}}function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing);
}jQuery.Tween=Tween;
Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem;
this.prop=prop;
this.easing=easing||"swing";
this.options=options;
this.start=this.now=this.cur();
this.end=end;
this.unit=unit||(jQuery.cssNumber[prop]?"":"px");
},cur:function(){var hooks=Tween.propHooks[this.prop];
return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this);
},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];
if(this.options.duration){this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration);
}else{this.pos=eased=percent;
}this.now=(this.end-this.start)*eased+this.start;
if(this.options.step){this.options.step.call(this.elem,this.now,this);
}if(hooks&&hooks.set){hooks.set(this);
}else{Tween.propHooks._default.set(this);
}return this;
}};
Tween.prototype.init.prototype=Tween.prototype;
Tween.propHooks={_default:{get:function(tween){var result;
if(tween.elem[tween.prop]!=null&&(!tween.elem.style||tween.elem.style[tween.prop]==null)){return tween.elem[tween.prop];
}result=jQuery.css(tween.elem,tween.prop,false,"");
return !result||result==="auto"?0:result;
},set:function(tween){if(jQuery.fx.step[tween.prop]){jQuery.fx.step[tween.prop](tween);
}else{if(tween.elem.style&&(tween.elem.style[jQuery.cssProps[tween.prop]]!=null||jQuery.cssHooks[tween.prop])){jQuery.style(tween.elem,tween.prop,tween.now+tween.unit);
}else{tween.elem[tween.prop]=tween.now;
}}}}};
Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){if(tween.elem.nodeType&&tween.elem.parentNode){tween.elem[tween.prop]=tween.now;
}}};
jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];
jQuery.fn[name]=function(speed,easing,callback){return speed==null||typeof speed==="boolean"||(!i&&jQuery.isFunction(speed)&&jQuery.isFunction(easing))?cssFn.apply(this,arguments):this.animate(genFx(name,true),speed,easing,callback);
};
});
jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback);
},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);
if(empty){anim.stop(true);
}};
return empty||optall.queue===false?this.each(doAnimation):this.queue(optall.queue,doAnimation);
},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;
delete hooks.stop;
stop(gotoEnd);
};
if(typeof type!=="string"){gotoEnd=clearQueue;
clearQueue=type;
type=undefined;
}if(clearQueue&&type!==false){this.queue(type||"fx",[]);
}return this.each(function(){var dequeue=true,index=type!=null&&type+"queueHooks",timers=jQuery.timers,data=jQuery._data(this);
if(index){if(data[index]&&data[index].stop){stopQueue(data[index]);
}}else{for(index in data){if(data[index]&&data[index].stop&&rrun.test(index)){stopQueue(data[index]);
}}}for(index=timers.length;
index--;
){if(timers[index].elem===this&&(type==null||timers[index].queue===type)){timers[index].anim.stop(gotoEnd);
dequeue=false;
timers.splice(index,1);
}}if(dequeue||!gotoEnd){jQuery.dequeue(this,type);
}});
}});
function genFx(type,includeWidth){var which,attrs={height:type},i=0;
includeWidth=includeWidth?1:0;
for(;
i<4;
i+=2-includeWidth){which=cssExpand[i];
attrs["margin"+which]=attrs["padding"+which]=type;
}if(includeWidth){attrs.opacity=attrs.width=type;
}return attrs;
}jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback);
};
});
jQuery.speed=function(speed,easing,fn){var opt=speed&&typeof speed==="object"?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};
opt.duration=jQuery.fx.off?0:typeof opt.duration==="number"?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default;
if(opt.queue==null||opt.queue===true){opt.queue="fx";
}opt.old=opt.complete;
opt.complete=function(){if(jQuery.isFunction(opt.old)){opt.old.call(this);
}if(opt.queue){jQuery.dequeue(this,opt.queue);
}};
return opt;
};
jQuery.easing={linear:function(p){return p;
},swing:function(p){return 0.5-Math.cos(p*Math.PI)/2;
}};
jQuery.timers=[];
jQuery.fx=Tween.prototype.init;
jQuery.fx.tick=function(){var timer,timers=jQuery.timers,i=0;
for(;
i<timers.length;
i++){timer=timers[i];
if(!timer()&&timers[i]===timer){timers.splice(i--,1);
}}if(!timers.length){jQuery.fx.stop();
}};
jQuery.fx.timer=function(timer){if(timer()&&jQuery.timers.push(timer)&&!timerId){timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval);
}};
jQuery.fx.interval=13;
jQuery.fx.stop=function(){clearInterval(timerId);
timerId=null;
};
jQuery.fx.speeds={slow:600,fast:200,_default:400};
jQuery.fx.step={};
if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem;
}).length;
};
}var rroot=/^(?:body|html)$/i;
jQuery.fn.offset=function(options){if(arguments.length){return options===undefined?this:this.each(function(i){jQuery.offset.setOffset(this,options,i);
});
}var box,docElem,body,win,clientTop,clientLeft,scrollTop,scrollLeft,top,left,elem=this[0],doc=elem&&elem.ownerDocument;
if(!doc){return;
}if((body=doc.body)===elem){return jQuery.offset.bodyOffset(elem);
}docElem=doc.documentElement;
if(!jQuery.contains(docElem,elem)){return{top:0,left:0};
}box=elem.getBoundingClientRect();
win=getWindow(doc);
clientTop=docElem.clientTop||body.clientTop||0;
clientLeft=docElem.clientLeft||body.clientLeft||0;
scrollTop=win.pageYOffset||docElem.scrollTop;
scrollLeft=win.pageXOffset||docElem.scrollLeft;
top=box.top+scrollTop-clientTop;
left=box.left+scrollLeft-clientLeft;
return{top:top,left:left};
};
jQuery.offset={bodyOffset:function(body){var top=body.offsetTop,left=body.offsetLeft;
if(jQuery.support.doesNotIncludeMarginInBodyOffset){top+=parseFloat(jQuery.css(body,"marginTop"))||0;
left+=parseFloat(jQuery.css(body,"marginLeft"))||0;
}return{top:top,left:left};
},setOffset:function(elem,options,i){var position=jQuery.css(elem,"position");
if(position==="static"){elem.style.position="relative";
}var curElem=jQuery(elem),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),calculatePosition=(position==="absolute"||position==="fixed")&&jQuery.inArray("auto",[curCSSTop,curCSSLeft])>-1,props={},curPosition={},curTop,curLeft;
if(calculatePosition){curPosition=curElem.position();
curTop=curPosition.top;
curLeft=curPosition.left;
}else{curTop=parseFloat(curCSSTop)||0;
curLeft=parseFloat(curCSSLeft)||0;
}if(jQuery.isFunction(options)){options=options.call(elem,i,curOffset);
}if(options.top!=null){props.top=(options.top-curOffset.top)+curTop;
}if(options.left!=null){props.left=(options.left-curOffset.left)+curLeft;
}if("using" in options){options.using.call(elem,props);
}else{curElem.css(props);
}}};
jQuery.fn.extend({position:function(){if(!this[0]){return;
}var elem=this[0],offsetParent=this.offsetParent(),offset=this.offset(),parentOffset=rroot.test(offsetParent[0].nodeName)?{top:0,left:0}:offsetParent.offset();
offset.top-=parseFloat(jQuery.css(elem,"marginTop"))||0;
offset.left-=parseFloat(jQuery.css(elem,"marginLeft"))||0;
parentOffset.top+=parseFloat(jQuery.css(offsetParent[0],"borderTopWidth"))||0;
parentOffset.left+=parseFloat(jQuery.css(offsetParent[0],"borderLeftWidth"))||0;
return{top:offset.top-parentOffset.top,left:offset.left-parentOffset.left};
},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent||document.body;
while(offsetParent&&(!rroot.test(offsetParent.nodeName)&&jQuery.css(offsetParent,"position")==="static")){offsetParent=offsetParent.offsetParent;
}return offsetParent||document.body;
});
}});
jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top=/Y/.test(prop);
jQuery.fn[method]=function(val){return jQuery.access(this,function(elem,method,val){var win=getWindow(elem);
if(val===undefined){return win?(prop in win)?win[prop]:win.document.documentElement[method]:elem[method];
}if(win){win.scrollTo(!top?val:jQuery(win).scrollLeft(),top?val:jQuery(win).scrollTop());
}else{elem[method]=val;
}},method,val,arguments.length,null);
};
});
function getWindow(elem){return jQuery.isWindow(elem)?elem:elem.nodeType===9?elem.defaultView||elem.parentWindow:false;
}jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||typeof margin!=="boolean"),extra=defaultExtra||(margin===true||value===true?"margin":"border");
return jQuery.access(this,function(elem,type,value){var doc;
if(jQuery.isWindow(elem)){return elem.document.documentElement["client"+name];
}if(elem.nodeType===9){doc=elem.documentElement;
return Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name]);
}return value===undefined?jQuery.css(elem,type,value,extra):jQuery.style(elem,type,value,extra);
},type,chainable?margin:undefined,chainable,null);
};
});
});
window.jQuery=window.$=jQuery;
if(typeof define==="function"&&define.amd&&define.amd.jQuery){define("jquery",[],function(){return jQuery;
});
}})(window);
/* jQuery UI - v1.10.3 - 2013-07-08
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.menu.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js, jquery.ui.effect.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js
* Copyright 2013 jQuery Foundation and other contributors Licensed MIT */
(function(e,t){function i(t,i){var a,n,r,o=t.nodeName.toLowerCase();
return"area"===o?(a=t.parentNode,n=a.name,t.href&&n&&"map"===a.nodeName.toLowerCase()?(r=e("img[usemap=#"+n+"]")[0],!!r&&s(r)):!1):(/input|select|textarea|button|object/.test(o)?!t.disabled:"a"===o?t.href||i:i)&&s(t);
}function s(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility");
}).length;
}var a=0,n=/^ui-id-\d+$/;
e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(i,s){return"number"==typeof i?this.each(function(){var t=this;
setTimeout(function(){e(t).focus(),s&&s.call(t);
},i);
}):t.apply(this,arguments);
};
}(e.fn.focus),scrollParent:function(){var t;
return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"));
}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"));
}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t;
},zIndex:function(i){if(i!==t){return this.css("zIndex",i);
}if(this.length){for(var s,a,n=e(this[0]);
n.length&&n[0]!==document;
){if(s=n.css("position"),("absolute"===s||"relative"===s||"fixed"===s)&&(a=parseInt(n.css("zIndex"),10),!isNaN(a)&&0!==a)){return a;
}n=n.parent();
}}return 0;
},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a);
});
},removeUniqueId:function(){return this.each(function(){n.test(this.id)&&e(this).removeAttr("id");
});
}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return !!e.data(i,t);
};
}):function(t,i,s){return !!e.data(t,s[3]);
},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")));
},tabbable:function(t){var s=e.attr(t,"tabindex"),a=isNaN(s);
return(a||s>=0)&&i(t,!a);
}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,s){function a(t,i,s,a){return e.each(n,function(){i-=parseFloat(e.css(t,"padding"+this))||0,s&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),a&&(i-=parseFloat(e.css(t,"margin"+this))||0);
}),i;
}var n="Width"===s?["Left","Right"]:["Top","Bottom"],r=s.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};
e.fn["inner"+s]=function(i){return i===t?o["inner"+s].call(this):this.each(function(){e(this).css(r,a(this,i)+"px");
});
},e.fn["outer"+s]=function(t,i){return"number"!=typeof t?o["outer"+s].call(this,t):this.each(function(){e(this).css(r,a(this,t,!0,i)+"px");
});
};
}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e));
}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this);
};
}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart" in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault();
});
},enableSelection:function(){return this.unbind(".ui-disableSelection");
}}),e.extend(e.ui,{plugin:{add:function(t,i,s){var a,n=e.ui[t].prototype;
for(a in s){n.plugins[a]=n.plugins[a]||[],n.plugins[a].push([i,s[a]]);
}},call:function(e,t,i){var s,a=e.plugins[t];
if(a&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType){for(s=0;
a.length>s;
s++){e.options[a[s][0]]&&a[s][1].apply(e.element,i);
}}}},hasScroll:function(t,i){if("hidden"===e(t).css("overflow")){return !1;
}var s=i&&"left"===i?"scrollLeft":"scrollTop",a=!1;
return t[s]>0?!0:(t[s]=1,a=t[s]>0,t[s]=0,a);
}});
})(jQuery);
(function(e,t){var i=0,s=Array.prototype.slice,n=e.cleanData;
e.cleanData=function(t){for(var i,s=0;
null!=(i=t[s]);
s++){try{e(i).triggerHandler("remove");
}catch(a){}}n(t);
},e.widget=function(i,s,n){var a,r,o,h,l={},u=i.split(".")[0];
i=i.split(".")[1],a=u+"-"+i,n||(n=s,s=e.Widget),e.expr[":"][a.toLowerCase()]=function(t){return !!e.data(t,a);
},e[u]=e[u]||{},r=e[u][i],o=e[u][i]=function(e,i){return this._createWidget?(arguments.length&&this._createWidget(e,i),t):new o(e,i);
},e.extend(o,r,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),h=new s,h.options=e.widget.extend({},h.options),e.each(n,function(i,n){return e.isFunction(n)?(l[i]=function(){var e=function(){return s.prototype[i].apply(this,arguments);
},t=function(e){return s.prototype[i].apply(this,e);
};
return function(){var i,s=this._super,a=this._superApply;
return this._super=e,this._superApply=t,i=n.apply(this,arguments),this._super=s,this._superApply=a,i;
};
}(),t):(l[i]=n,t);
}),o.prototype=e.widget.extend(h,{widgetEventPrefix:r?h.widgetEventPrefix:i},l,{constructor:o,namespace:u,widgetName:i,widgetFullName:a}),r?(e.each(r._childConstructors,function(t,i){var s=i.prototype;
e.widget(s.namespace+"."+s.widgetName,o,i._proto);
}),delete r._childConstructors):s._childConstructors.push(o),e.widget.bridge(i,o);
},e.widget.extend=function(i){for(var n,a,r=s.call(arguments,1),o=0,h=r.length;
h>o;
o++){for(n in r[o]){a=r[o][n],r[o].hasOwnProperty(n)&&a!==t&&(i[n]=e.isPlainObject(a)?e.isPlainObject(i[n])?e.widget.extend({},i[n],a):e.widget.extend({},a):a);
}}return i;
},e.widget.bridge=function(i,n){var a=n.prototype.widgetFullName||i;
e.fn[i]=function(r){var o="string"==typeof r,h=s.call(arguments,1),l=this;
return r=!o&&h.length?e.widget.extend.apply(null,[r].concat(h)):r,o?this.each(function(){var s,n=e.data(this,a);
return n?e.isFunction(n[r])&&"_"!==r.charAt(0)?(s=n[r].apply(n,h),s!==n&&s!==t?(l=s&&s.jquery?l.pushStack(s.get()):s,!1):t):e.error("no such method '"+r+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+r+"'");
}):this.each(function(){var t=e.data(this,a);
t?t.option(r||{})._init():e.data(this,a,new n(r,this));
}),l;
};
},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,s){s=e(s||this.defaultElement||this)[0],this.element=e(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),s!==this&&(e.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===s&&this.destroy();
}}),this.document=e(s.style?s.ownerDocument:s.document||s),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init();
},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus");
},_destroy:e.noop,widget:function(){return this.element;
},option:function(i,s){var n,a,r,o=i;
if(0===arguments.length){return e.widget.extend({},this.options);
}if("string"==typeof i){if(o={},n=i.split("."),i=n.shift(),n.length){for(a=o[i]=e.widget.extend({},this.options[i]),r=0;
n.length-1>r;
r++){a[n[r]]=a[n[r]]||{},a=a[n[r]];
}if(i=n.pop(),s===t){return a[i]===t?null:a[i];
}a[i]=s;
}else{if(s===t){return this.options[i]===t?null:this.options[i];
}o[i]=s;
}}return this._setOptions(o),this;
},_setOptions:function(e){var t;
for(t in e){this._setOption(t,e[t]);
}return this;
},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this;
},enable:function(){return this._setOption("disabled",!1);
},disable:function(){return this._setOption("disabled",!0);
},_on:function(i,s,n){var a,r=this;
"boolean"!=typeof i&&(n=s,s=i,i=!1),n?(s=a=e(s),this.bindings=this.bindings.add(s)):(n=s,s=this.element,a=this.widget()),e.each(n,function(n,o){function h(){return i||r.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?r[o]:o).apply(r,arguments):t;
}"string"!=typeof o&&(h.guid=o.guid=o.guid||h.guid||e.guid++);
var l=n.match(/^(\w+)\s*(.*)$/),u=l[1]+r.eventNamespace,c=l[2];
c?a.delegate(c,u,h):s.bind(u,h);
});
},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t);
},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments);
}var s=this;
return setTimeout(i,t||0);
},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover");
},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover");
}});
},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus");
},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus");
}});
},_trigger:function(t,i,s){var n,a,r=this.options[t];
if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent){for(n in a){n in i||(i[n]=a[n]);
}}return this.element.trigger(i,s),!(e.isFunction(r)&&r.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented());
}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,n,a){"string"==typeof n&&(n={effect:n});
var r,o=n?n===!0||"number"==typeof n?i:n.effect||i:t;
n=n||{},"number"==typeof n&&(n={duration:n}),r=!e.isEmptyObject(n),n.complete=a,n.delay&&s.delay(n.delay),r&&e.effects&&e.effects.effect[o]?s[t](n):o!==t&&s[o]?s[o](n.duration,n.easing,a):s.queue(function(i){e(this)[t](),a&&a.call(s[0]),i();
});
};
});
})(jQuery);
(function(e){var t=!1;
e(document).mouseup(function(){t=!1;
}),e.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;
this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e);
}).bind("click."+this.widgetName,function(i){return !0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):undefined;
}),this.started=!1;
},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);
},_mouseDown:function(i){if(!t){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;
var s=this,n=1===i.which,a="string"==typeof this.options.cancel&&i.target.nodeName?e(i.target).closest(this.options.cancel).length:!1;
return n&&!a&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0;
},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return s._mouseMove(e);
},this._mouseUpDelegate=function(e){return s._mouseUp(e);
},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0)):!0;
}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted);
},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1;
},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance;
},_mouseDelayMet:function(){return this.mouseDelayMet;
},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return !0;
}});
})(jQuery);
(function(t,e){function i(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)];
}function s(e,i){return parseInt(t.css(e,i),10)||0;
}function n(e){var i=e[0];
return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()};
}t.ui=t.ui||{};
var a,o=Math.max,r=Math.abs,h=Math.round,l=/left|center|right/,c=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=t.fn.position;
t.position={scrollbarWidth:function(){if(a!==e){return a;
}var i,s,n=t("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=n.children()[0];
return t("body").append(n),i=o.offsetWidth,n.css("overflow","scroll"),s=o.offsetWidth,i===s&&(s=n[0].clientWidth),n.remove(),a=i-s;
},getScrollInfo:function(e){var i=e.isWindow?"":e.element.css("overflow-x"),s=e.isWindow?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,a="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;
return{width:a?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0};
},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]);
return{element:i,isWindow:s,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s?i.width():i.outerWidth(),height:s?i.height():i.outerHeight()};
}},t.fn.position=function(e){if(!e||!e.of){return f.apply(this,arguments);
}e=t.extend({},e);
var a,p,m,g,v,b,_=t(e.of),y=t.position.getWithinInfo(e.within),w=t.position.getScrollInfo(y),x=(e.collision||"flip").split(" "),k={};
return b=n(_),_[0].preventDefault&&(e.at="left top"),p=b.width,m=b.height,g=b.offset,v=t.extend({},g),t.each(["my","at"],function(){var t,i,s=(e[this]||"").split(" ");
1===s.length&&(s=l.test(s[0])?s.concat(["center"]):c.test(s[0])?["center"].concat(s):["center","center"]),s[0]=l.test(s[0])?s[0]:"center",s[1]=c.test(s[1])?s[1]:"center",t=u.exec(s[0]),i=u.exec(s[1]),k[this]=[t?t[0]:0,i?i[0]:0],e[this]=[d.exec(s[0])[0],d.exec(s[1])[0]];
}),1===x.length&&(x[1]=x[0]),"right"===e.at[0]?v.left+=p:"center"===e.at[0]&&(v.left+=p/2),"bottom"===e.at[1]?v.top+=m:"center"===e.at[1]&&(v.top+=m/2),a=i(k.at,p,m),v.left+=a[0],v.top+=a[1],this.each(function(){var n,l,c=t(this),u=c.outerWidth(),d=c.outerHeight(),f=s(this,"marginLeft"),b=s(this,"marginTop"),D=u+f+s(this,"marginRight")+w.width,T=d+b+s(this,"marginBottom")+w.height,C=t.extend({},v),M=i(k.my,c.outerWidth(),c.outerHeight());
"right"===e.my[0]?C.left-=u:"center"===e.my[0]&&(C.left-=u/2),"bottom"===e.my[1]?C.top-=d:"center"===e.my[1]&&(C.top-=d/2),C.left+=M[0],C.top+=M[1],t.support.offsetFractions||(C.left=h(C.left),C.top=h(C.top)),n={marginLeft:f,marginTop:b},t.each(["left","top"],function(i,s){t.ui.position[x[i]]&&t.ui.position[x[i]][s](C,{targetWidth:p,targetHeight:m,elemWidth:u,elemHeight:d,collisionPosition:n,collisionWidth:D,collisionHeight:T,offset:[a[0]+M[0],a[1]+M[1]],my:e.my,at:e.at,within:y,elem:c});
}),e.using&&(l=function(t){var i=g.left-C.left,s=i+p-u,n=g.top-C.top,a=n+m-d,h={target:{element:_,left:g.left,top:g.top,width:p,height:m},element:{element:c,left:C.left,top:C.top,width:u,height:d},horizontal:0>s?"left":i>0?"right":"center",vertical:0>a?"top":n>0?"bottom":"middle"};
u>p&&p>r(i+s)&&(h.horizontal="center"),d>m&&m>r(n+a)&&(h.vertical="middle"),h.important=o(r(i),r(s))>o(r(n),r(a))?"horizontal":"vertical",e.using.call(this,t,h);
}),c.offset(t.extend(C,{using:l}));
});
},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=t.left-e.collisionPosition.marginLeft,h=n-r,l=r+e.collisionWidth-a-n;
e.collisionWidth>a?h>0&&0>=l?(i=t.left+h+e.collisionWidth-a-n,t.left+=h-i):t.left=l>0&&0>=h?n:h>l?n+a-e.collisionWidth:n:h>0?t.left+=h:l>0?t.left-=l:t.left=o(t.left-r,t.left);
},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,h=n-r,l=r+e.collisionHeight-a-n;
e.collisionHeight>a?h>0&&0>=l?(i=t.top+h+e.collisionHeight-a-n,t.top+=h-i):t.top=l>0&&0>=h?n:h>l?n+a-e.collisionHeight:n:h>0?t.top+=h:l>0?t.top-=l:t.top=o(t.top-r,t.top);
}},flip:{left:function(t,e){var i,s,n=e.within,a=n.offset.left+n.scrollLeft,o=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-h,u=l+e.collisionWidth-o-h,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];
0>c?(i=t.left+d+p+f+e.collisionWidth-o-a,(0>i||r(c)>i)&&(t.left+=d+p+f)):u>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-h,(s>0||u>r(s))&&(t.left+=d+p+f));
},top:function(t,e){var i,s,n=e.within,a=n.offset.top+n.scrollTop,o=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-h,u=l+e.collisionHeight-o-h,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];
0>c?(s=t.top+p+f+m+e.collisionHeight-o-a,t.top+p+f+m>c&&(0>s||r(c)>s)&&(t.top+=p+f+m)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+m-h,t.top+p+f+m>u&&(i>0||u>r(i))&&(t.top+=p+f+m));
}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments);
},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments);
}}},function(){var e,i,s,n,a,o=document.getElementsByTagName("body")[0],r=document.createElement("div");
e=document.createElement(o?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&t.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});
for(a in s){e.style[a]=s[a];
}e.appendChild(r),i=o||document.documentElement,i.insertBefore(e,i.firstChild),r.style.cssText="position: absolute; left: 10.7432222px;",n=t(r).offset().left,t.support.offsetFractions=n>10&&11>n,e.innerHTML="",i.removeChild(e);
}();
})(jQuery);
(function(e){e.widget("ui.draggable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit();
},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy();
},_mouseCapture:function(t){var i=this.options;
return this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(e(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(e(this).offset()).appendTo("body");
}),!0):!1);
},_mouseStart:function(t){var i=this.options;
return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0);
},_mouseDrag:function(t,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();
if(this._trigger("drag",t,s)===!1){return this._mouseUp({}),!1;
}this.position=s.position;
}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1;
},_mouseStop:function(t){var i=this,s=!1;
return e.ui.ddmanager&&!this.options.dropBehaviour&&(s=e.ui.ddmanager.drop(this,t)),this.dropped&&(s=this.dropped,this.dropped=!1),"original"!==this.options.helper||e.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear();
}):this._trigger("stop",t)!==!1&&this._clear(),!1):!1;
},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this);
}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t);
},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this;
},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0;
},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;
return s.parents("body").length||s.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css("position"))||s.css("position","absolute"),s;
},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left" in t&&(this.offset.click.left=t.left+this.margins.left),"right" in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top" in t&&(this.offset.click.top=t.top+this.margins.top),"bottom" in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top);
},_getParentOffset:function(){var t=this.offsetParent.offset();
return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};
},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.element.position();
return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()};
}return{top:0,left:0};
},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0};
},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};
},_setContainment:function(){var t,i,s,n=this.options;
return n.containment?"window"===n.containment?(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):"document"===n.containment?(this.containment=[0,0,e(document).width()-this.helperProportions.width-this.margins.left,(e(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):n.containment.constructor===Array?(this.containment=n.containment,undefined):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=e(n.containment),s=i[0],s&&(t="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i),undefined):(this.containment=null,undefined);
},_convertPositionTo:function(t,i){i||(i=this.position);
var s="absolute"===t?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;
return this.offset.scroll||(this.offset.scroll={top:n.scrollTop(),left:n.scrollLeft()}),{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*s};
},_generatePosition:function(t){var i,s,n,a,o=this.options,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=t.pageX,l=t.pageY;
return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(s=this.relative_container.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),o.grid&&(n=o.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-o.grid[1]:n+o.grid[1]:n,a=o.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,h=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]:a)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)};
},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1;
},_trigger:function(t,i,s){return s=s||this._uiHash(),e.ui.plugin.call(this,t,[i,s]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,i,s);
},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs};
}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var s=e(this).data("ui-draggable"),n=s.options,a=e.extend({},i,{item:s.element});
s.sortables=[],e(n.connectToSortable).each(function(){var i=e.data(this,"ui-sortable");
i&&!i.options.disabled&&(s.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,a));
});
},stop:function(t,i){var s=e(this).data("ui-draggable"),n=e.extend({},i,{item:s.element});
e.each(s.sortables,function(){this.instance.isOver?(this.instance.isOver=0,s.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===s.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,n));
});
},drag:function(t,i){var s=e(this).data("ui-draggable"),n=this;
e.each(s.sortables,function(){var a=!1,o=this;
this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(a=!0,e.each(s.sortables,function(){return this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this!==o&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(o.instance.element[0],this.instance.element[0])&&(a=!1),a;
})),a?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(n).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0];
},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=s.offset.click.top,this.instance.offset.click.left=s.offset.click.left,this.instance.offset.parent.left-=s.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=s.offset.parent.top-this.instance.offset.parent.top,s._trigger("toSortable",t),s.dropped=this.instance.element,s.currentItem=s.element,this.instance.fromOutside=s),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),s._trigger("fromSortable",t),s.dropped=!1);
});
}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),i=e(this).data("ui-draggable").options;
t.css("cursor")&&(i._cursor=t.css("cursor")),t.css("cursor",i.cursor);
},stop:function(){var t=e(this).data("ui-draggable").options;
t._cursor&&e("body").css("cursor",t._cursor);
}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i){var s=e(i.helper),n=e(this).data("ui-draggable").options;
s.css("opacity")&&(n._opacity=s.css("opacity")),s.css("opacity",n.opacity);
},stop:function(t,i){var s=e(this).data("ui-draggable").options;
s._opacity&&e(i.helper).css("opacity",s._opacity);
}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");
t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset());
},drag:function(t){var i=e(this).data("ui-draggable"),s=i.options,n=!1;
i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(s.axis&&"x"===s.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-t.pageY<s.scrollSensitivity?i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop+s.scrollSpeed:t.pageY-i.overflowOffset.top<s.scrollSensitivity&&(i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop-s.scrollSpeed)),s.axis&&"y"===s.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-t.pageX<s.scrollSensitivity?i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft+s.scrollSpeed:t.pageX-i.overflowOffset.left<s.scrollSensitivity&&(i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft-s.scrollSpeed))):(s.axis&&"x"===s.axis||(t.pageY-e(document).scrollTop()<s.scrollSensitivity?n=e(document).scrollTop(e(document).scrollTop()-s.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<s.scrollSensitivity&&(n=e(document).scrollTop(e(document).scrollTop()+s.scrollSpeed))),s.axis&&"y"===s.axis||(t.pageX-e(document).scrollLeft()<s.scrollSensitivity?n=e(document).scrollLeft(e(document).scrollLeft()-s.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<s.scrollSensitivity&&(n=e(document).scrollLeft(e(document).scrollLeft()+s.scrollSpeed)))),n!==!1&&e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t);
}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),i=t.options;
t.snapElements=[],e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=e(this),s=i.offset();
this!==t.element[0]&&t.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:s.top,left:s.left});
});
},drag:function(t,i){var s,n,a,o,r,h,l,u,c,d,p=e(this).data("ui-draggable"),f=p.options,m=f.snapTolerance,g=i.offset.left,v=g+p.helperProportions.width,b=i.offset.top,y=b+p.helperProportions.height;
for(c=p.snapElements.length-1;
c>=0;
c--){r=p.snapElements[c].left,h=r+p.snapElements[c].width,l=p.snapElements[c].top,u=l+p.snapElements[c].height,r-m>v||g>h+m||l-m>y||b>u+m||!e.contains(p.snapElements[c].item.ownerDocument,p.snapElements[c].item)?(p.snapElements[c].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[c].item})),p.snapElements[c].snapping=!1):("inner"!==f.snapMode&&(s=m>=Math.abs(l-y),n=m>=Math.abs(u-b),a=m>=Math.abs(r-v),o=m>=Math.abs(h-g),s&&(i.position.top=p._convertPositionTo("relative",{top:l-p.helperProportions.height,left:0}).top-p.margins.top),n&&(i.position.top=p._convertPositionTo("relative",{top:u,left:0}).top-p.margins.top),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:r-p.helperProportions.width}).left-p.margins.left),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:h}).left-p.margins.left)),d=s||n||a||o,"outer"!==f.snapMode&&(s=m>=Math.abs(l-b),n=m>=Math.abs(u-y),a=m>=Math.abs(r-g),o=m>=Math.abs(h-v),s&&(i.position.top=p._convertPositionTo("relative",{top:l,left:0}).top-p.margins.top),n&&(i.position.top=p._convertPositionTo("relative",{top:u-p.helperProportions.height,left:0}).top-p.margins.top),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:r}).left-p.margins.left),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:h-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[c].snapping&&(s||n||a||o||d)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[c].item})),p.snapElements[c].snapping=s||n||a||o||d);
}}}),e.ui.plugin.add("draggable","stack",{start:function(){var t,i=this.data("ui-draggable").options,s=e.makeArray(e(i.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0);
});
s.length&&(t=parseInt(e(s[0]).css("zIndex"),10)||0,e(s).each(function(i){e(this).css("zIndex",t+i);
}),this.css("zIndex",t+s.length));
}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i){var s=e(i.helper),n=e(this).data("ui-draggable").options;
s.css("zIndex")&&(n._zIndex=s.css("zIndex")),s.css("zIndex",n.zIndex);
},stop:function(t,i){var s=e(this).data("ui-draggable").options;
s._zIndex&&e(i.helper).css("zIndex",s._zIndex);
}});
})(jQuery);
(function(e){function t(e,t,i){return e>t&&t+i>e;
}e.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t=this.options,i=t.accept;
this.isover=!1,this.isout=!0,this.accept=e.isFunction(i)?i:function(e){return e.is(i);
},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[],e.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable");
},_destroy:function(){for(var t=0,i=e.ui.ddmanager.droppables[this.options.scope];
i.length>t;
t++){i[t]===this&&i.splice(t,1);
}this.element.removeClass("ui-droppable ui-droppable-disabled");
},_setOption:function(t,i){"accept"===t&&(this.accept=e.isFunction(i)?i:function(e){return e.is(i);
}),e.Widget.prototype._setOption.apply(this,arguments);
},_activate:function(t){var i=e.ui.ddmanager.current;
this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i));
},_deactivate:function(t){var i=e.ui.ddmanager.current;
this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i));
},_over:function(t){var i=e.ui.ddmanager.current;
i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)));
},_out:function(t){var i=e.ui.ddmanager.current;
i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)));
},_drop:function(t,i){var s=i||e.ui.ddmanager.current,n=!1;
return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"ui-droppable");
return t.options.greedy&&!t.options.disabled&&t.options.scope===s.options.scope&&t.accept.call(t.element[0],s.currentItem||s.element)&&e.ui.intersect(s,e.extend(t,{offset:t.element.offset()}),t.options.tolerance)?(n=!0,!1):undefined;
}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(s)),this.element):!1):!1;
},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs};
}}),e.ui.intersect=function(e,i,s){if(!i.offset){return !1;
}var n,a,o=(e.positionAbs||e.position.absolute).left,r=o+e.helperProportions.width,h=(e.positionAbs||e.position.absolute).top,l=h+e.helperProportions.height,u=i.offset.left,c=u+i.proportions.width,d=i.offset.top,p=d+i.proportions.height;
switch(s){case"fit":return o>=u&&c>=r&&h>=d&&p>=l;
case"intersect":return o+e.helperProportions.width/2>u&&c>r-e.helperProportions.width/2&&h+e.helperProportions.height/2>d&&p>l-e.helperProportions.height/2;
case"pointer":return n=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,a=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top,t(a,d,i.proportions.height)&&t(n,u,i.proportions.width);
case"touch":return(h>=d&&p>=h||l>=d&&p>=l||d>h&&l>p)&&(o>=u&&c>=o||r>=u&&c>=r||u>o&&r>c);
default:return !1;
}},e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var s,n,a=e.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,r=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();
e:for(s=0;
a.length>s;
s++){if(!(a[s].options.disabled||t&&!a[s].accept.call(a[s].element[0],t.currentItem||t.element))){for(n=0;
r.length>n;
n++){if(r[n]===a[s].element[0]){a[s].proportions.height=0;
continue e;
}}a[s].visible="none"!==a[s].element.css("display"),a[s].visible&&("mousedown"===o&&a[s]._activate.call(a[s],i),a[s].offset=a[s].element.offset(),a[s].proportions={width:a[s].element[0].offsetWidth,height:a[s].element[0].offsetHeight});
}}},drop:function(t,i){var s=!1;
return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)));
}),s;
},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i);
});
},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,a,o=e.ui.intersect(t,this,this.options.tolerance),r=!o&&this.isover?"isout":o&&!this.isover?"isover":null;
r&&(this.options.greedy&&(n=this.options.scope,a=this.element.parents(":data(ui-droppable)").filter(function(){return e.data(this,"ui-droppable").options.scope===n;
}),a.length&&(s=e.data(a[0],"ui-droppable"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)));
}});
},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i);
}};
})(jQuery);
(function(e){function t(e){return parseInt(e,10)||0;
}function i(e){return !isNaN(parseInt(e,10));
}e.widget("ui.resizable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var t,i,s,n,a,o=this,r=this.options;
if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String){for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;
t.length>i;
i++){s=e.trim(t[i]),a="ui-resizable-"+s,n=e("<div class='ui-resizable-handle "+a+"'></div>"),n.css({zIndex:r.zIndex}),"se"===s&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(n);
}}this._renderAxis=function(t){var i,s,n,a;
t=t||this.element;
for(i in this.handles){this.handles[i].constructor===String&&(this.handles[i]=e(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(s=e(this.handles[i],this.element),a=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(n,a),this._proportionallyResize()),e(this.handles[i]).length;
}},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=n&&n[1]?n[1]:"se");
}),r.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(e(this).removeClass("ui-resizable-autohide"),o._handles.show());
}).mouseleave(function(){r.disabled||o.resizing||(e(this).addClass("ui-resizable-autohide"),o._handles.hide());
})),this._mouseInit();
},_destroy:function(){this._mouseDestroy();
var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove();
};
return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this;
},_mouseCapture:function(t){var i,s,n=!1;
for(i in this.handles){s=e(this.handles[i])[0],(s===t.target||e.contains(s,t.target))&&(n=!0);
}return !this.options.disabled&&n;
},_mouseStart:function(i){var s,n,a,o=this.options,r=this.element.position(),h=this.element;
return this.resizing=!0,/absolute/.test(h.css("position"))?h.css({position:"absolute",top:h.css("top"),left:h.css("left")}):h.is(".ui-draggable")&&h.css({position:"absolute",top:r.top,left:r.left}),this._renderProxy(),s=t(this.helper.css("left")),n=t(this.helper.css("top")),o.containment&&(s+=e(o.containment).scrollLeft()||0,n+=e(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:s,top:n},this.size=this._helper?{width:h.outerWidth(),height:h.outerHeight()}:{width:h.width(),height:h.height()},this.originalSize=this._helper?{width:h.outerWidth(),height:h.outerHeight()}:{width:h.width(),height:h.height()},this.originalPosition={left:s,top:n},this.sizeDiff={width:h.outerWidth()-h.width(),height:h.outerHeight()-h.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,a=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===a?this.axis+"-resize":a),h.addClass("ui-resizable-resizing"),this._propagate("start",i),!0;
},_mouseDrag:function(t){var i,s=this.helper,n={},a=this.originalMousePosition,o=this.axis,r=this.position.top,h=this.position.left,l=this.size.width,u=this.size.height,c=t.pageX-a.left||0,d=t.pageY-a.top||0,p=this._change[o];
return p?(i=p.apply(this,[t,c,d]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),this.position.top!==r&&(n.top=this.position.top+"px"),this.position.left!==h&&(n.left=this.position.left+"px"),this.size.width!==l&&(n.width=this.size.width+"px"),this.size.height!==u&&(n.height=this.size.height+"px"),s.css(n),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(n)||this._trigger("resize",t,this.ui()),!1):!1;
},_mouseStop:function(t){this.resizing=!1;
var i,s,n,a,o,r,h,l=this.options,u=this;
return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&e.ui.hasScroll(i[0],"left")?0:u.sizeDiff.height,a=s?0:u.sizeDiff.width,o={width:u.helper.width()-a,height:u.helper.height()-n},r=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,h=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,l.animate||this.element.css(e.extend(o,{top:h,left:r})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!l.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1;
},_updateVirtualBoundaries:function(e){var t,s,n,a,o,r=this.options;
o={minWidth:i(r.minWidth)?r.minWidth:0,maxWidth:i(r.maxWidth)?r.maxWidth:1/0,minHeight:i(r.minHeight)?r.minHeight:0,maxHeight:i(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,n=o.minWidth/this.aspectRatio,s=o.maxHeight*this.aspectRatio,a=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),n>o.minHeight&&(o.minHeight=n),o.maxWidth>s&&(o.maxWidth=s),o.maxHeight>a&&(o.maxHeight=a)),this._vBoundaries=o;
},_updateCache:function(e){this.offset=this.helper.offset(),i(e.left)&&(this.position.left=e.left),i(e.top)&&(this.position.top=e.top),i(e.height)&&(this.size.height=e.height),i(e.width)&&(this.size.width=e.width);
},_updateRatio:function(e){var t=this.position,s=this.size,n=this.axis;
return i(e.height)?e.width=e.height*this.aspectRatio:i(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===n&&(e.left=t.left+(s.width-e.width),e.top=null),"nw"===n&&(e.top=t.top+(s.height-e.height),e.left=t.left+(s.width-e.width)),e;
},_respectSize:function(e){var t=this._vBoundaries,s=this.axis,n=i(e.width)&&t.maxWidth&&t.maxWidth<e.width,a=i(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=i(e.width)&&t.minWidth&&t.minWidth>e.width,r=i(e.height)&&t.minHeight&&t.minHeight>e.height,h=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,u=/sw|nw|w/.test(s),c=/nw|ne|n/.test(s);
return o&&(e.width=t.minWidth),r&&(e.height=t.minHeight),n&&(e.width=t.maxWidth),a&&(e.height=t.maxHeight),o&&u&&(e.left=h-t.minWidth),n&&u&&(e.left=h-t.maxWidth),r&&c&&(e.top=l-t.minHeight),a&&c&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e;
},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,i,s,n,a=this.helper||this.element;
for(e=0;
this._proportionallyResizeElements.length>e;
e++){if(n=this._proportionallyResizeElements[e],!this.borderDif){for(this.borderDif=[],i=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],s=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")],t=0;
i.length>t;
t++){this.borderDif[t]=(parseInt(i[t],10)||0)+(parseInt(s[t],10)||0);
}}n.css({height:a.height()-this.borderDif[0]-this.borderDif[2]||0,width:a.width()-this.borderDif[1]-this.borderDif[3]||0});
}}},_renderProxy:function(){var t=this.element,i=this.options;
this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element;
},_change:{e:function(e,t){return{width:this.originalSize.width+t};
},w:function(e,t){var i=this.originalSize,s=this.originalPosition;
return{left:s.left+t,width:i.width-t};
},n:function(e,t,i){var s=this.originalSize,n=this.originalPosition;
return{top:n.top+i,height:s.height-i};
},s:function(e,t,i){return{height:this.originalSize.height+i};
},se:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,s]));
},sw:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,s]));
},ne:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,s]));
},nw:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,s]));
}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui());
},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition};
}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).data("ui-resizable"),s=i.options,n=i._proportionallyResizeElements,a=n.length&&/textarea/i.test(n[0].nodeName),o=a&&e.ui.hasScroll(n[0],"left")?0:i.sizeDiff.height,r=a?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-o},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;
i.element.animate(e.extend(h,u&&l?{top:u,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};
n&&n.length&&e(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",t);
}});
}}),e.ui.plugin.add("resizable","containment",{start:function(){var i,s,n,a,o,r,h,l=e(this).data("ui-resizable"),u=l.options,c=l.element,d=u.containment,p=d instanceof e?d.get(0):/parent/.test(d)?c.parent().get(0):d;
p&&(l.containerElement=e(p),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(i=e(p),s=[],e(["Top","Right","Left","Bottom"]).each(function(e,n){s[e]=t(i.css("padding"+n));
}),l.containerOffset=i.offset(),l.containerPosition=i.position(),l.containerSize={height:i.innerHeight()-s[3],width:i.innerWidth()-s[1]},n=l.containerOffset,a=l.containerSize.height,o=l.containerSize.width,r=e.ui.hasScroll(p,"left")?p.scrollWidth:o,h=e.ui.hasScroll(p)?p.scrollHeight:a,l.parentData={element:p,left:n.left,top:n.top,width:r,height:h}));
},resize:function(t){var i,s,n,a,o=e(this).data("ui-resizable"),r=o.options,h=o.containerOffset,l=o.position,u=o._aspectRatio||t.shiftKey,c={top:0,left:0},d=o.containerElement;
d[0]!==document&&/static/.test(d.css("position"))&&(c=h),l.left<(o._helper?h.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-h.left:o.position.left-c.left),u&&(o.size.height=o.size.width/o.aspectRatio),o.position.left=r.helper?h.left:0),l.top<(o._helper?h.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-h.top:o.position.top),u&&(o.size.width=o.size.height*o.aspectRatio),o.position.top=o._helper?h.top:0),o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top,i=Math.abs((o._helper?o.offset.left-c.left:o.offset.left-c.left)+o.sizeDiff.width),s=Math.abs((o._helper?o.offset.top-c.top:o.offset.top-h.top)+o.sizeDiff.height),n=o.containerElement.get(0)===o.element.parent().get(0),a=/relative|absolute/.test(o.containerElement.css("position")),n&&a&&(i-=o.parentData.left),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,u&&(o.size.height=o.size.width/o.aspectRatio)),s+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-s,u&&(o.size.width=o.size.height*o.aspectRatio));
},stop:function(){var t=e(this).data("ui-resizable"),i=t.options,s=t.containerOffset,n=t.containerPosition,a=t.containerElement,o=e(t.helper),r=o.offset(),h=o.outerWidth()-t.sizeDiff.width,l=o.outerHeight()-t.sizeDiff.height;
t._helper&&!i.animate&&/relative/.test(a.css("position"))&&e(this).css({left:r.left-n.left-s.left,width:h,height:l}),t._helper&&!i.animate&&/static/.test(a.css("position"))&&e(this).css({left:r.left-n.left-s.left,width:h,height:l});
}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("ui-resizable"),i=t.options,s=function(t){e(t).each(function(){var t=e(this);
t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)});
});
};
"object"!=typeof i.alsoResize||i.alsoResize.parentNode?s(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],s(i.alsoResize)):e.each(i.alsoResize,function(e){s(e);
});
},resize:function(t,i){var s=e(this).data("ui-resizable"),n=s.options,a=s.originalSize,o=s.originalPosition,r={height:s.size.height-a.height||0,width:s.size.width-a.width||0,top:s.position.top-o.top||0,left:s.position.left-o.left||0},h=function(t,s){e(t).each(function(){var t=e(this),n=e(this).data("ui-resizable-alsoresize"),a={},o=s&&s.length?s:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];
e.each(o,function(e,t){var i=(n[t]||0)+(r[t]||0);
i&&i>=0&&(a[t]=i||null);
}),t.css(a);
});
};
"object"!=typeof n.alsoResize||n.alsoResize.nodeType?h(n.alsoResize):e.each(n.alsoResize,function(e,t){h(e,t);
});
},stop:function(){e(this).removeData("resizable-alsoresize");
}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("ui-resizable"),i=t.options,s=t.size;
t.ghost=t.originalElement.clone(),t.ghost.css({opacity:0.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper);
},resize:function(){var t=e(this).data("ui-resizable");
t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width});
},stop:function(){var t=e(this).data("ui-resizable");
t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0));
}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).data("ui-resizable"),i=t.options,s=t.size,n=t.originalSize,a=t.originalPosition,o=t.axis,r="number"==typeof i.grid?[i.grid,i.grid]:i.grid,h=r[0]||1,l=r[1]||1,u=Math.round((s.width-n.width)/h)*h,c=Math.round((s.height-n.height)/l)*l,d=n.width+u,p=n.height+c,f=i.maxWidth&&d>i.maxWidth,m=i.maxHeight&&p>i.maxHeight,g=i.minWidth&&i.minWidth>d,v=i.minHeight&&i.minHeight>p;
i.grid=r,g&&(d+=h),v&&(p+=l),f&&(d-=h),m&&(p-=l),/^(se|s|e)$/.test(o)?(t.size.width=d,t.size.height=p):/^(ne)$/.test(o)?(t.size.width=d,t.size.height=p,t.position.top=a.top-c):/^(sw)$/.test(o)?(t.size.width=d,t.size.height=p,t.position.left=a.left-u):(t.size.width=d,t.size.height=p,t.position.top=a.top-c,t.position.left=a.left-u);
}});
})(jQuery);
(function(e){e.widget("ui.selectable",e.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;
this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(i.options.filter,i.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),i=t.offset();
e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")});
});
},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>");
},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy();
},_mouseStart:function(t){var i=this,s=this.options;
this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(s.filter,this.element[0]),this._trigger("start",t),e(s.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=e.data(this,"selectable-item");
s.startselected=!0,t.metaKey||t.ctrlKey||(s.$element.removeClass("ui-selected"),s.selected=!1,s.$element.addClass("ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",t,{unselecting:s.element}));
}),e(t.target).parents().addBack().each(function(){var s,n=e.data(this,"selectable-item");
return n?(s=!t.metaKey&&!t.ctrlKey||!n.$element.hasClass("ui-selected"),n.$element.removeClass(s?"ui-unselecting":"ui-selected").addClass(s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",t,{selecting:n.element}):i._trigger("unselecting",t,{unselecting:n.element}),!1):undefined;
}));
},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,a=this.opos[0],o=this.opos[1],r=t.pageX,h=t.pageY;
return a>r&&(i=r,r=a,a=i),o>h&&(i=h,h=o,o=i),this.helper.css({left:a,top:o,width:r-a,height:h-o}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),l=!1;
i&&i.element!==s.element[0]&&("touch"===n.tolerance?l=!(i.left>r||a>i.right||i.top>h||o>i.bottom):"fit"===n.tolerance&&(l=i.left>a&&r>i.right&&i.top>o&&h>i.bottom),l?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,s._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",t,{unselecting:i.element})))));
}),!1;
}},_mouseStop:function(t){var i=this;
return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");
s.$element.removeClass("ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",t,{unselected:s.element});
}),e(".ui-selecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");
s.$element.removeClass("ui-selecting").addClass("ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",t,{selected:s.element});
}),this._trigger("stop",t),this.helper.remove(),!1;
}});
})(jQuery);
(function(t){function e(t,e,i){return t>e&&e+i>t;
}function i(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"));
}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;
this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||i(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0;
},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();
for(var t=this.items.length-1;
t>=0;
t--){this.items[t].item.removeData(this.widgetName+"-item");
}return this;
},_setOption:function(e,i){"disabled"===e?(this.options[e]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):t.Widget.prototype._setOption.apply(this,arguments);
},_mouseCapture:function(e,i){var s=null,n=!1,a=this;
return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,a.widgetName+"-item")===a?(s=t(this),!1):undefined;
}),t.data(e.target,a.widgetName+"-item")===a&&(s=t(e.target)),s?!this.options.handle||i||(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(n=!0);
}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1);
},_mouseStart:function(e,i,s){var n,a,o=this.options;
if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(a=this.document.find("body"),this.storedCursor=a.css("cursor"),a.css("cursor",o.cursor),this.storedStylesheet=t("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(a)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s){for(n=this.containers.length-1;
n>=0;
n--){this.containers[n]._trigger("activate",e,this._uiHash(this));
}}return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0;
},_mouseDrag:function(e){var i,s,n,a,o=this.options,r=!1;
for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+o.scrollSpeed:e.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+o.scrollSpeed:e.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(e.pageY-t(document).scrollTop()<o.scrollSensitivity?r=t(document).scrollTop(t(document).scrollTop()-o.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<o.scrollSensitivity&&(r=t(document).scrollTop(t(document).scrollTop()+o.scrollSpeed)),e.pageX-t(document).scrollLeft()<o.scrollSensitivity?r=t(document).scrollLeft(t(document).scrollLeft()-o.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<o.scrollSensitivity&&(r=t(document).scrollLeft(t(document).scrollLeft()+o.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;
i>=0;
i--){if(s=this.items[i],n=s.item[0],a=this._intersectsWithPointer(s),a&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===a?"next":"prev"]()[0]!==n&&!t.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],n):!0)){if(this.direction=1===a?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s)){break;
}this._rearrange(e,s),this._trigger("change",e,this._uiHash());
break;
}}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1;
},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),a=this.options.axis,o={};
a&&"x"!==a||(o.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),a&&"y"!==a||(o.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){s._clear(e);
});
}else{this._clear(e,i);
}return !1;
}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();
for(var e=this.containers.length-1;
e>=0;
e--){this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0);
}}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this;
},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];
return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);
i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]));
}),!s.length&&e.key&&s.push(e.key+"="),s.join("&");
},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];
return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"");
}),s;
},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,a=t.left,o=a+t.width,r=t.top,h=r+t.height,l=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||s+l>r&&h>s+l,d="y"===this.options.axis||e+c>a&&o>e+c,p=u&&d;
return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>a&&o>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2;
},_intersectsWithPointer:function(t){var i="x"===this.options.axis||e(this.positionAbs.top+this.offset.click.top,t.top,t.height),s="y"===this.options.axis||e(this.positionAbs.left+this.offset.click.left,t.left,t.width),n=i&&s,a=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();
return n?this.floating?o&&"right"===o||"down"===a?2:1:a&&("down"===a?2:1):!1;
},_intersectsWithSides:function(t){var i=e(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),s=e(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();
return this.floating&&a?"right"===a&&s||"left"===a&&!s:n&&("down"===n&&i||"up"===n&&!i);
},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;
return 0!==t&&(t>0?"down":"up");
},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;
return 0!==t&&(t>0?"right":"left");
},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this;
},_connectWith:function(){var t=this.options;
return t.connectWith.constructor===String?[t.connectWith]:t.connectWith;
},_getItemsAsjQuery:function(e){var i,s,n,a,o=[],r=[],h=this._connectWith();
if(h&&e){for(i=h.length-1;
i>=0;
i--){for(n=t(h[i]),s=n.length-1;
s>=0;
s--){a=t.data(n[s],this.widgetFullName),a&&a!==this&&!a.options.disabled&&r.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);
}}}for(r.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=r.length-1;
i>=0;
i--){r[i][0].each(function(){o.push(this);
});
}return t(o);
},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");
this.items=t.grep(this.items,function(t){for(var i=0;
e.length>i;
i++){if(e[i]===t.item[0]){return !1;
}}return !0;
});
},_refreshItems:function(e){this.items=[],this.containers=[this];
var i,s,n,a,o,r,h,l,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();
if(d&&this.ready){for(i=d.length-1;
i>=0;
i--){for(n=t(d[i]),s=n.length-1;
s>=0;
s--){a=t.data(n[s],this.widgetFullName),a&&a!==this&&!a.options.disabled&&(u.push([t.isFunction(a.options.items)?a.options.items.call(a.element[0],e,{item:this.currentItem}):t(a.options.items,a.element),a]),this.containers.push(a));
}}}for(i=u.length-1;
i>=0;
i--){for(o=u[i][1],r=u[i][0],s=0,l=r.length;
l>s;
s++){h=t(r[s]),h.data(this.widgetName+"-item",o),c.push({item:h,instance:o,width:0,height:0,left:0,top:0});
}}},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());
var i,s,n,a;
for(i=this.items.length-1;
i>=0;
i--){s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),a=n.offset(),s.left=a.left,s.top=a.top);
}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this);
}else{for(i=this.containers.length-1;
i>=0;
i--){a=this.containers[i].element.offset(),this.containers[i].containerCache.left=a.left,this.containers[i].containerCache.top=a.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();
}}return this;
},_createPlaceholder:function(e){e=e||this;
var i,s=e.options;
s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t("<"+s+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");
return"tr"===s?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n);
}):"img"===s&&n.attr("src",e.currentItem.attr("src")),i||n.css("visibility","hidden"),n;
},update:function(t,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)));
}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder);
},_contactContainers:function(s){var n,a,o,r,h,l,c,u,d,p,f=null,m=null;
for(n=this.containers.length-1;
n>=0;
n--){if(!t.contains(this.currentItem[0],this.containers[n].element[0])){if(this._intersectsWith(this.containers[n].containerCache)){if(f&&t.contains(this.containers[n].element[0],f.element[0])){continue;
}f=this.containers[n],m=n;
}else{this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",s,this._uiHash(this)),this.containers[n].containerCache.over=0);
}}}if(f){if(1===this.containers.length){this.containers[m].containerCache.over||(this.containers[m]._trigger("over",s,this._uiHash(this)),this.containers[m].containerCache.over=1);
}else{for(o=10000,r=null,p=f.floating||i(this.currentItem),h=p?"left":"top",l=p?"width":"height",c=this.positionAbs[h]+this.offset.click[h],a=this.items.length-1;
a>=0;
a--){t.contains(this.containers[m].element[0],this.items[a].item[0])&&this.items[a].item[0]!==this.currentItem[0]&&(!p||e(this.positionAbs.top+this.offset.click.top,this.items[a].top,this.items[a].height))&&(u=this.items[a].item.offset()[h],d=!1,Math.abs(u-c)>Math.abs(u+this.items[a][l]-c)&&(d=!0,u+=this.items[a][l]),o>Math.abs(u-c)&&(o=Math.abs(u-c),r=this.items[a],this.direction=d?"up":"down"));
}if(!r&&!this.options.dropOnEmpty){return;
}if(this.currentContainer===this.containers[m]){return;
}r?this._rearrange(s,r,null,!0):this._rearrange(s,null,this.containers[m].element,!0),this._trigger("change",s,this._uiHash()),this.containers[m]._trigger("change",s,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",s,this._uiHash(this)),this.containers[m].containerCache.over=1;
}}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;
return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s;
},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left" in e&&(this.offset.click.left=e.left+this.margins.left),"right" in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top" in e&&(this.offset.click.top=e.top+this.margins.top),"bottom" in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top);
},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();
var e=this.offsetParent.offset();
return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};
},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();
return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()};
}return{top:0,left:0};
},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0};
},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};
},_setContainment:function(){var e,i,s,n=this.options;
"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===n.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===n.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]);
},_convertPositionTo:function(e,i){i||(i=this.position);
var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(n[0].tagName);
return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:n.scrollLeft())*s};
},_generatePosition:function(e){var i,s,n=this.options,a=e.pageX,o=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);
return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((a-this.originalPageX)/n.grid[0])*n.grid[0],a=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())};
},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;
var n=this.counter;
this._delay(function(){n===this.counter&&this.refreshPositions(!s);
});
},_clear:function(t,e){this.reverting=!1;
var i,s=[];
if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS){("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");
}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper");
}else{this.currentItem.show();
}for(this.fromOutside&&!e&&s.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside));
}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||s.push(function(t){this._trigger("update",t,this._uiHash());
}),this!==this.currentContainer&&(e||(s.push(function(t){this._trigger("remove",t,this._uiHash());
}),s.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this));
};
}.call(this,this.currentContainer)),s.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this));
};
}.call(this,this.currentContainer)))),i=this.containers.length-1;
i>=0;
i--){e||s.push(function(t){return function(e){t._trigger("deactivate",e,this._uiHash(this));
};
}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(s.push(function(t){return function(e){t._trigger("out",e,this._uiHash(this));
};
}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);
}if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),i=0;
s.length>i;
i++){s[i].call(this,t);
}this._trigger("stop",t,this._uiHash());
}return this.fromOutside=!1,!1;
}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(i=0;
s.length>i;
i++){s[i].call(this,t);
}this._trigger("stop",t,this._uiHash());
}return this.fromOutside=!1,!0;
},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel();
},_uiHash:function(e){var i=e||this;
return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null};
}});
})(jQuery);
(function(t){var e=0,i={},s={};
i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="hide",s.height=s.paddingTop=s.paddingBottom=s.borderTopWidth=s.borderBottomWidth="show",t.widget("ui.accordion",{version:"1.10.3",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var e=this.options;
this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),0>e.active&&(e.active+=this.headers.length),this._refresh();
},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t(),content:this.active.length?this.active.next():t()};
},_createIcons:function(){var e=this.options.icons;
e&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"));
},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove();
},_destroy:function(){var t;
this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id");
}),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id");
}),"content"!==this.options.heightStyle&&t.css("height","");
},_setOption:function(t,e){return"active"===t?(this._activate(e),undefined):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),"disabled"===t&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e),undefined);
},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,s=this.headers.length,n=this.headers.index(e.target),a=!1;
switch(e.keyCode){case i.RIGHT:case i.DOWN:a=this.headers[(n+1)%s];
break;
case i.LEFT:case i.UP:a=this.headers[(n-1+s)%s];
break;
case i.SPACE:case i.ENTER:this._eventHandler(e);
break;
case i.HOME:a=this.headers[0];
break;
case i.END:a=this.headers[s-1];
}a&&(t(e.target).attr("tabIndex",-1),t(a).attr("tabIndex",0),a.focus(),e.preventDefault());
}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().focus();
},refresh:function(){var e=this.options;
this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh();
},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide();
},_refresh:function(){var i,s=this.options,n=s.heightStyle,a=this.element.parent(),o=this.accordionId="ui-accordion-"+(this.element.attr("id")||++e);
this.active=this._findActive(s.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(e){var i=t(this),s=i.attr("id"),n=i.next(),a=n.attr("id");
s||(s=o+"-header-"+e,i.attr("id",s)),a||(a=o+"-panel-"+e,n.attr("id",a)),i.attr("aria-controls",a),n.attr("aria-labelledby",s);
}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(s.event),"fill"===n?(i=a.height(),this.element.siblings(":visible").each(function(){var e=t(this),s=e.css("position");
"absolute"!==s&&"fixed"!==s&&(i-=e.outerHeight(!0));
}),this.headers.each(function(){i-=t(this).outerHeight(!0);
}),this.headers.next().each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()));
}).css("overflow","auto")):"auto"===n&&(i=0,this.headers.next().each(function(){i=Math.max(i,t(this).css("height","").height());
}).height(i));
},_activate:function(e){var i=this._findActive(e)[0];
i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}));
},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t();
},_setupEvents:function(e){var i={keydown:"_keydown"};
e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler";
}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers);
},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),a=n[0]===s[0],o=a&&i.collapsible,r=o?t():n.next(),h=s.next(),l={oldHeader:s,oldPanel:h,newHeader:o?t():n,newPanel:r};
e.preventDefault(),a&&!i.collapsible||this._trigger("beforeActivate",e,l)===!1||(i.active=o?!1:this.headers.index(n),this.active=a?t():n,this._toggle(l),s.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),a||(n.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),n.next().addClass("ui-accordion-content-active")));
},_toggle:function(e){var i=e.newPanel,s=this.prevShow.length?this.prevShow:e.oldPanel;
this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,e):(s.hide(),i.show(),this._toggleComplete(e)),s.attr({"aria-expanded":"false","aria-hidden":"true"}),s.prev().attr("aria-selected","false"),i.length&&s.length?s.prev().attr("tabIndex",-1):i.length&&this.headers.filter(function(){return 0===t(this).attr("tabIndex");
}).attr("tabIndex",-1),i.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0});
},_animate:function(t,e,n){var a,o,r,h=this,l=0,c=t.length&&(!e.length||t.index()<e.index()),u=this.options.animate||{},d=c&&u.down||u,p=function(){h._toggleComplete(n);
};
return"number"==typeof d&&(r=d),"string"==typeof d&&(o=d),o=o||d.easing||u.easing,r=r||d.duration||u.duration,e.length?t.length?(a=t.show().outerHeight(),e.animate(i,{duration:r,easing:o,step:function(t,e){e.now=Math.round(t);
}}),t.hide().animate(s,{duration:r,easing:o,complete:p,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?l+=i.now:"content"!==h.options.heightStyle&&(i.now=Math.round(a-e.outerHeight()-l),l=0);
}}),undefined):e.animate(i,r,o,p):t.animate(s,r,o,p);
},_toggleComplete:function(t){var e=t.oldPanel;
e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t);
}});
})(jQuery);
(function(t){var e=0;
t.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var e,i,s,n=this.element[0].nodeName.toLowerCase(),a="textarea"===n,o="input"===n;
this.isMultiLine=a?!0:o?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[a||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly")){return e=!0,s=!0,i=!0,undefined;
}e=!1,s=!1,i=!1;
var a=t.ui.keyCode;
switch(n.keyCode){case a.PAGE_UP:e=!0,this._move("previousPage",n);
break;
case a.PAGE_DOWN:e=!0,this._move("nextPage",n);
break;
case a.UP:e=!0,this._keyEvent("previous",n);
break;
case a.DOWN:e=!0,this._keyEvent("next",n);
break;
case a.ENTER:case a.NUMPAD_ENTER:this.menu.active&&(e=!0,n.preventDefault(),this.menu.select(n));
break;
case a.TAB:this.menu.active&&this.menu.select(n);
break;
case a.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(n),n.preventDefault());
break;
default:i=!0,this._searchTimeout(n);
}},keypress:function(s){if(e){return e=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault(),undefined;
}if(!i){var n=t.ui.keyCode;
switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);
break;
case n.PAGE_DOWN:this._move("nextPage",s);
break;
case n.UP:this._keyEvent("previous",s);
break;
case n.DOWN:this._keyEvent("next",s);
}}},input:function(t){return s?(s=!1,t.preventDefault(),undefined):(this._searchTimeout(t),undefined);
},focus:function(){this.selectedItem=null,this.previous=this._value();
},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,undefined):(clearTimeout(this.searching),this.close(t),this._change(t),undefined);
}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur;
});
var i=this.menu.element[0];
t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;
this.document.one("mousedown",function(s){s.target===e.element[0]||s.target===i||t.contains(i,s.target)||e.close();
});
});
},menufocus:function(e,i){if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))){return this.menu.blur(),this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent);
}),undefined;
}var s=i.item.data("ui-autocomplete-item");
!1!==this._trigger("focus",e,{item:s})?e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(s.value):this.liveRegion.text(s.value);
},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),s=this.previous;
this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i;
})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i;
}}),this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete");
}});
},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove();
},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort();
},_appendTo:function(){var e=this.options.appendTo;
return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e;
},_initSource:function(){var e,i,s=this;
t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,s){s(t.ui.autocomplete.filter(e,i.term));
}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,n){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){n(t);
},error:function(){n([]);
}});
}):this.source=this.options.source;
},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,t));
},this.options.delay);
},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):undefined;
},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response());
},_response:function(){var t=this,i=++e;
return function(s){i===e&&t.__response(s),t.pending--,t.pending||t.element.removeClass("ui-autocomplete-loading");
};
},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close();
},close:function(t){this.cancelSearch=!0,this._close(t);
},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t));
},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem});
},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({label:e.label||e.value,value:e.value||e.label},e);
});
},_suggest:function(e){var i=this.menu.element.empty();
this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next();
},_resizeMenu:function(){var t=this.menu.element;
t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()));
},_renderMenu:function(e,i){var s=this;
t.each(i,function(t,i){s._renderItemData(e,i);
});
},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e);
},_renderItem:function(e,i){return t("<li>").append(t("<a>").text(i.label)).appendTo(e);
},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this._value(this.term),this.menu.blur(),undefined):(this.menu[t](e),undefined):(this.search(null,e),undefined);
},widget:function(){return this.menu.element;
},_value:function(){return this.valueMethod.apply(this.element,arguments);
},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault());
}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");
},filter:function(e,i){var s=RegExp(t.ui.autocomplete.escapeRegex(i),"i");
return t.grep(e,function(t){return s.test(t.label||t.value||t);
});
}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate.";
}}},__response:function(t){var e;
this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.text(e));
}});
})(jQuery);
(function(t){var e,i,s,n,a="ui-button ui-widget ui-state-default ui-corner-all",o="ui-state-hover ui-state-active ",r="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",h=function(){var e=t(this);
setTimeout(function(){e.find(":ui-button").button("refresh");
},1);
},l=function(e){var i=e.name,s=e.form,n=t([]);
return i&&(i=i.replace(/'/g,"\\'"),n=s?t(s).find("[name='"+i+"']"):t("[name='"+i+"']",e.ownerDocument).filter(function(){return !this.form;
})),n;
};
t.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,h),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");
var o=this,r=this.options,c="checkbox"===this.type||"radio"===this.type,u=c?"":"ui-state-active",d="ui-state-focus";
null===r.label&&(r.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(a).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){r.disabled||this===e&&t(this).addClass("ui-state-active");
}).bind("mouseleave"+this.eventNamespace,function(){r.disabled||t(this).removeClass(u);
}).bind("click"+this.eventNamespace,function(t){r.disabled&&(t.preventDefault(),t.stopImmediatePropagation());
}),this.element.bind("focus"+this.eventNamespace,function(){o.buttonElement.addClass(d);
}).bind("blur"+this.eventNamespace,function(){o.buttonElement.removeClass(d);
}),c&&(this.element.bind("change"+this.eventNamespace,function(){n||o.refresh();
}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(t){r.disabled||(n=!1,i=t.pageX,s=t.pageY);
}).bind("mouseup"+this.eventNamespace,function(t){r.disabled||(i!==t.pageX||s!==t.pageY)&&(n=!0);
})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return r.disabled||n?!1:undefined;
}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(r.disabled||n){return !1;
}t(this).addClass("ui-state-active"),o.buttonElement.attr("aria-pressed","true");
var e=o.element[0];
l(e).not(e).map(function(){return t(this).button("widget")[0];
}).removeClass("ui-state-active").attr("aria-pressed","false");
}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return r.disabled?!1:(t(this).addClass("ui-state-active"),e=this,o.document.one("mouseup",function(){e=null;
}),undefined);
}).bind("mouseup"+this.eventNamespace,function(){return r.disabled?!1:(t(this).removeClass("ui-state-active"),undefined);
}).bind("keydown"+this.eventNamespace,function(e){return r.disabled?!1:((e.keyCode===t.ui.keyCode.SPACE||e.keyCode===t.ui.keyCode.ENTER)&&t(this).addClass("ui-state-active"),undefined);
}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active");
}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click();
})),this._setOption("disabled",r.disabled),this._resetButton();
},_determineButtonType:function(){var t,e,i;
this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element;
},widget:function(){return this.buttonElement;
},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(a+" "+o+" "+r).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title");
},_setOption:function(t,e){return this._super(t,e),"disabled"===t?(e?this.element.prop("disabled",!0):this.element.prop("disabled",!1),undefined):(this._resetButton(),undefined);
},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");
e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?l(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false");
}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"));
},_resetButton:function(){if("input"===this.type){return this.options.label&&this.element.val(this.options.label),undefined;
}var e=this.buttonElement.removeClass(r),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),s=this.options.icons,n=s.primary&&s.secondary,a=[];
s.primary||s.secondary?(this.options.text&&a.push("ui-button-text-icon"+(n?"s":s.primary?"-primary":"-secondary")),s.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+s.primary+"'></span>"),s.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+s.secondary+"'></span>"),this.options.text||(a.push(n?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(i)))):a.push("ui-button-text-only"),e.addClass(a.join(" "));
}}),t.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset");
},_init:function(){this.refresh();
},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e);
},refresh:function(){var e="rtl"===this.element.css("direction");
this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return t(this).button("widget")[0];
}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end();
},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0];
}).removeClass("ui-corner-left ui-corner-right").end().button("destroy");
}});
})(jQuery);
(function(t,e){function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.dpDiv=s(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"));
}function s(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";
return e.delegate(i,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover");
}).delegate(i,"mouseover",function(){t.datepicker._isDisabledDatepicker(a.inline?e.parent()[0]:a.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"));
});
}function n(e,i){t.extend(e,i);
for(var s in i){null==i[s]&&(e[s]=i[s]);
}return e;
}t.extend(t.ui,{datepicker:{version:"1.10.3"}});
var a,r="datepicker";
t.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv;
},setDefaults:function(t){return n(this._defaults,t||{}),this;
},_attachDatepicker:function(e,i){var s,n,a;
s=e.nodeName.toLowerCase(),n="div"===s||"span"===s,e.id||(this.uuid+=1,e.id="dp"+this.uuid),a=this._newInst(t(e),n),a.settings=t.extend({},i||{}),"input"===s?this._connectDatepicker(e,a):n&&this._inlineDatepicker(e,a);
},_newInst:function(e,i){var n=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");
return{id:n,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?s(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv};
},_connectDatepicker:function(e,i){var s=t(e);
i.append=t([]),i.trigger=t([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),t.data(e,r,i),i.settings.disabled&&this._disableDatepicker(e));
},_attachments:function(e,i){var s,n,a,r=this._get(i,"appendText"),o=this._get(i,"isRTL");
i.append&&i.append.remove(),r&&(i.append=t("<span class='"+this._appendClass+"'>"+r+"</span>"),e[o?"before":"after"](i.append)),e.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),("focus"===s||"both"===s)&&e.focus(this._showDatepicker),("button"===s||"both"===s)&&(n=this._get(i,"buttonText"),a=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:a,alt:n,title:n}):t("<button type='button'></button>").addClass(this._triggerClass).html(a?t("<img/>").attr({src:a,alt:n,title:n}):n)),e[o?"before":"after"](i.trigger),i.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1;
}));
},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,s,n,a=new Date(2009,11,20),r=this._get(t,"dateFormat");
r.match(/[DM]/)&&(e=function(t){for(i=0,s=0,n=0;
t.length>n;
n++){t[n].length>i&&(i=t[n].length,s=n);
}return s;
},a.setMonth(e(this._get(t,r.match(/MM/)?"monthNames":"monthNamesShort"))),a.setDate(e(this._get(t,r.match(/DD/)?"dayNames":"dayNamesShort"))+20-a.getDay())),t.input.attr("size",this._formatDate(t,a).length);
}},_inlineDatepicker:function(e,i){var s=t(e);
s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),t.data(e,r,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"));
},_dialogDatepicker:function(e,i,s,a,o){var h,l,c,u,d,p=this._dialogInst;
return p||(this.uuid+=1,h="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+h+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},t.data(this._dialogInput[0],r,p)),n(p.settings,a||{}),i=i&&i.constructor===Date?this._formatDate(p,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(l=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+u,c/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],r,p),this;
},_destroyDatepicker:function(e){var i,s=t(e),n=t.data(e,r);
s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,r),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&s.removeClass(this.markerClassName).empty());
},_enableDatepicker:function(e){var i,s,n=t(e),a=t.data(e,r);
n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,a.trigger.filter("button").each(function(){this.disabled=!1;
}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t;
}));
},_disableDatepicker:function(e){var i,s,n=t(e),a=t.data(e,r);
n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,a.trigger.filter("button").each(function(){this.disabled=!0;
}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t;
}),this._disabledInputs[this._disabledInputs.length]=e);
},_isDisabledDatepicker:function(t){if(!t){return !1;
}for(var e=0;
this._disabledInputs.length>e;
e++){if(this._disabledInputs[e]===t){return !0;
}}return !1;
},_getInst:function(e){try{return t.data(e,r);
}catch(i){throw"Missing instance data for this datepicker";
}},_optionDatepicker:function(i,s,a){var r,o,h,l,c=this._getInst(i);
return 2===arguments.length&&"string"==typeof s?"defaults"===s?t.extend({},t.datepicker._defaults):c?"all"===s?t.extend({},c.settings):this._get(c,s):null:(r=s||{},"string"==typeof s&&(r={},r[s]=a),c&&(this._curInst===c&&this._hideDatepicker(),o=this._getDateDatepicker(i,!0),h=this._getMinMaxDate(c,"min"),l=this._getMinMaxDate(c,"max"),n(c.settings,r),null!==h&&r.dateFormat!==e&&r.minDate===e&&(c.settings.minDate=this._formatDate(c,h)),null!==l&&r.dateFormat!==e&&r.maxDate===e&&(c.settings.maxDate=this._formatDate(c,l)),"disabled" in r&&(r.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(t(i),c),this._autoSize(c),this._setDate(c,o),this._updateAlternate(c),this._updateDatepicker(c)),e);
},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i);
},_refreshDatepicker:function(t){var e=this._getInst(t);
e&&this._updateDatepicker(e);
},_setDateDatepicker:function(t,e){var i=this._getInst(t);
i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i));
},_getDateDatepicker:function(t,e){var i=this._getInst(t);
return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null;
},_doKeyDown:function(e){var i,s,n,a=t.datepicker._getInst(e.target),r=!0,o=a.dpDiv.is(".ui-datepicker-rtl");
if(a._keyEvent=!0,t.datepicker._datepickerShowing){switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),r=!1;
break;
case 13:return n=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",a.dpDiv),n[0]&&t.datepicker._selectDay(e.target,a.selectedMonth,a.selectedYear,n[0]),i=t.datepicker._get(a,"onSelect"),i?(s=t.datepicker._formatDate(a),i.apply(a.input?a.input[0]:null,[s,a])):t.datepicker._hideDatepicker(),!1;
case 27:t.datepicker._hideDatepicker();
break;
case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(a,"stepBigMonths"):-t.datepicker._get(a,"stepMonths"),"M");
break;
case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(a,"stepBigMonths"):+t.datepicker._get(a,"stepMonths"),"M");
break;
case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),r=e.ctrlKey||e.metaKey;
break;
case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),r=e.ctrlKey||e.metaKey;
break;
case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,o?1:-1,"D"),r=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(a,"stepBigMonths"):-t.datepicker._get(a,"stepMonths"),"M");
break;
case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),r=e.ctrlKey||e.metaKey;
break;
case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,o?-1:1,"D"),r=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(a,"stepBigMonths"):+t.datepicker._get(a,"stepMonths"),"M");
break;
case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),r=e.ctrlKey||e.metaKey;
break;
default:r=!1;
}}else{36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):r=!1;
}r&&(e.preventDefault(),e.stopPropagation());
},_doKeyPress:function(i){var s,n,a=t.datepicker._getInst(i.target);
return t.datepicker._get(a,"constrainInput")?(s=t.datepicker._possibleChars(t.datepicker._get(a,"dateFormat")),n=String.fromCharCode(null==i.charCode?i.keyCode:i.charCode),i.ctrlKey||i.metaKey||" ">n||!s||s.indexOf(n)>-1):e;
},_doKeyUp:function(e){var i,s=t.datepicker._getInst(e.target);
if(s.input.val()!==s.lastVal){try{i=t.datepicker.parseDate(t.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,t.datepicker._getFormatConfig(s)),i&&(t.datepicker._setDateFromField(s),t.datepicker._updateAlternate(s),t.datepicker._updateDatepicker(s));
}catch(n){}}return !0;
},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var i,s,a,r,o,h,l;
i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),s=t.datepicker._get(i,"beforeShow"),a=s?s.apply(e,[e,i]):{},a!==!1&&(n(i.settings,a),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),r=!1,t(e).parents().each(function(){return r|="fixed"===t(this).css("position"),!r;
}),o={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),o=t.datepicker._checkOffset(i,o,r),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":r?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),i.inline||(h=t.datepicker._get(i,"showAnim"),l=t.datepicker._get(i,"duration"),i.dpDiv.zIndex(t(e).zIndex()+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[h]?i.dpDiv.show(h,t.datepicker._get(i,"showOptions"),l):i.dpDiv[h||"show"](h?l:null),t.datepicker._shouldFocusInput(i)&&i.input.focus(),t.datepicker._curInst=i));
}},_updateDatepicker:function(e){this.maxRows=4,a=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();
var i,s=this._getNumberOfMonths(e),n=s[1],r=17;
e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",r*n+"em"),e.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null;
},0));
},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus");
},_checkOffset:function(e,i,s){var n=e.dpDiv.outerWidth(),a=e.dpDiv.outerHeight(),r=e.input?e.input.outerWidth():0,o=e.input?e.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:t(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:t(document).scrollTop());
return i.left-=this._get(e,"isRTL")?n-r:0,i.left-=s&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=s&&i.top===e.input.offset().top+o?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):0),i.top-=Math.min(i.top,i.top+a>l&&l>a?Math.abs(a+o):0),i;
},_findPos:function(e){for(var i,s=this._getInst(e),n=this._get(s,"isRTL");
e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));
){e=e[n?"previousSibling":"nextSibling"];
}return i=t(e).offset(),[i.left,i.top];
},_hideDatepicker:function(e){var i,s,n,a,o=this._curInst;
!o||e&&o!==t.data(e,r)||this._datepickerShowing&&(i=this._get(o,"showAnim"),s=this._get(o,"duration"),n=function(){t.datepicker._tidyDialog(o);
},t.effects&&(t.effects.effect[i]||t.effects[i])?o.dpDiv.hide(i,t.datepicker._get(o,"showOptions"),s,n):o.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,a=this._get(o,"onClose"),a&&a.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1);
},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar");
},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),s=t.datepicker._getInst(i[0]);
(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==s)&&t.datepicker._hideDatepicker();
}},_adjustDate:function(e,i,s){var n=t(e),a=this._getInst(n[0]);
this._isDisabledDatepicker(n[0])||(this._adjustInstDate(a,i+("M"===s?this._get(a,"showCurrentAtPos"):0),s),this._updateDatepicker(a));
},_gotoToday:function(e){var i,s=t(e),n=this._getInst(s[0]);
this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s);
},_selectMonthYear:function(e,i,s){var n=t(e),a=this._getInst(n[0]);
a["selected"+("M"===s?"Month":"Year")]=a["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(a),this._adjustDate(n);
},_selectDay:function(e,i,s,n){var a,r=t(e);
t(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||(a=this._getInst(r[0]),a.selectedDay=a.currentDay=t("a",n).html(),a.selectedMonth=a.currentMonth=i,a.selectedYear=a.currentYear=s,this._selectDate(e,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear)));
},_clearDate:function(e){var i=t(e);
this._selectDate(i,"");
},_selectDate:function(e,i){var s,n=t(e),a=this._getInst(n[0]);
i=null!=i?i:this._formatDate(a),a.input&&a.input.val(i),this._updateAlternate(a),s=this._get(a,"onSelect"),s?s.apply(a.input?a.input[0]:null,[i,a]):a.input&&a.input.trigger("change"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],"object"!=typeof a.input[0]&&a.input.focus(),this._lastInput=null);
},_updateAlternate:function(e){var i,s,n,a=this._get(e,"altField");
a&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),s=this._getDate(e),n=this.formatDate(i,s,this._getFormatConfig(e)),t(a).each(function(){t(this).val(n);
}));
},noWeekends:function(t){var e=t.getDay();
return[e>0&&6>e,""];
},iso8601Week:function(t){var e,i=new Date(t.getTime());
return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/86400000)/7)+1;
},parseDate:function(i,s,n){if(null==i||null==s){throw"Invalid arguments";
}if(s="object"==typeof s?""+s:s+"",""===s){return null;
}var a,r,o,h,l=0,c=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),d=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,p=(n?n.dayNames:null)||this._defaults.dayNames,f=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,m=(n?n.monthNames:null)||this._defaults.monthNames,g=-1,v=-1,_=-1,b=-1,y=!1,x=function(t){var e=i.length>a+1&&i.charAt(a+1)===t;
return e&&a++,e;
},k=function(t){var e=x(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,n=RegExp("^\\d{1,"+i+"}"),a=s.substring(l).match(n);
if(!a){throw"Missing number at position "+l;
}return l+=a[0].length,parseInt(a[0],10);
},w=function(i,n,a){var r=-1,o=t.map(x(i)?a:n,function(t,e){return[[e,t]];
}).sort(function(t,e){return -(t[1].length-e[1].length);
});
if(t.each(o,function(t,i){var n=i[1];
return s.substr(l,n.length).toLowerCase()===n.toLowerCase()?(r=i[0],l+=n.length,!1):e;
}),-1!==r){return r+1;
}throw"Unknown name at position "+l;
},D=function(){if(s.charAt(l)!==i.charAt(a)){throw"Unexpected literal at position "+l;
}l++;
};
for(a=0;
i.length>a;
a++){if(y){"'"!==i.charAt(a)||x("'")?D():y=!1;
}else{switch(i.charAt(a)){case"d":_=k("d");
break;
case"D":w("D",d,p);
break;
case"o":b=k("o");
break;
case"m":v=k("m");
break;
case"M":v=w("M",f,m);
break;
case"y":g=k("y");
break;
case"@":h=new Date(k("@")),g=h.getFullYear(),v=h.getMonth()+1,_=h.getDate();
break;
case"!":h=new Date((k("!")-this._ticksTo1970)/10000),g=h.getFullYear(),v=h.getMonth()+1,_=h.getDate();
break;
case"'":x("'")?D():y=!0;
break;
default:D();
}}}if(s.length>l&&(o=s.substr(l),!/^\s+/.test(o))){throw"Extra/unparsed characters found in date: "+o;
}if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=g?0:-100)),b>-1){for(v=1,_=b;
;
){if(r=this._getDaysInMonth(g,v-1),r>=_){break;
}v++,_-=r;
}}if(h=this._daylightSavingAdjust(new Date(g,v-1,_)),h.getFullYear()!==g||h.getMonth()+1!==v||h.getDate()!==_){throw"Invalid date";
}return h;
},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:10000000*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e){return"";
}var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,a=(i?i.dayNames:null)||this._defaults.dayNames,r=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,o=(i?i.monthNames:null)||this._defaults.monthNames,h=function(e){var i=t.length>s+1&&t.charAt(s+1)===e;
return i&&s++,i;
},l=function(t,e,i){var s=""+e;
if(h(t)){for(;
i>s.length;
){s="0"+s;
}}return s;
},c=function(t,e,i,s){return h(t)?s[e]:i[e];
},u="",d=!1;
if(e){for(s=0;
t.length>s;
s++){if(d){"'"!==t.charAt(s)||h("'")?u+=t.charAt(s):d=!1;
}else{switch(t.charAt(s)){case"d":u+=l("d",e.getDate(),2);
break;
case"D":u+=c("D",e.getDay(),n,a);
break;
case"o":u+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/86400000),3);
break;
case"m":u+=l("m",e.getMonth()+1,2);
break;
case"M":u+=c("M",e.getMonth(),r,o);
break;
case"y":u+=h("y")?e.getFullYear():(10>e.getYear()%100?"0":"")+e.getYear()%100;
break;
case"@":u+=e.getTime();
break;
case"!":u+=10000*e.getTime()+this._ticksTo1970;
break;
case"'":h("'")?u+="'":d=!0;
break;
default:u+=t.charAt(s);
}}}}return u;
},_possibleChars:function(t){var e,i="",s=!1,n=function(i){var s=t.length>e+1&&t.charAt(e+1)===i;
return s&&e++,s;
};
for(e=0;
t.length>e;
e++){if(s){"'"!==t.charAt(e)||n("'")?i+=t.charAt(e):s=!1;
}else{switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";
break;
case"D":case"M":return null;
case"'":n("'")?i+="'":s=!0;
break;
default:i+=t.charAt(e);
}}}return i;
},_get:function(t,i){return t.settings[i]!==e?t.settings[i]:this._defaults[i];
},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),s=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),a=n,r=this._getFormatConfig(t);
try{a=this.parseDate(i,s,r)||n;
}catch(o){s=e?"":s;
}t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),t.currentDay=s?a.getDate():0,t.currentMonth=s?a.getMonth():0,t.currentYear=s?a.getFullYear():0,this._adjustInstDate(t);
}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date));
},_determineDate:function(e,i,s){var n=function(t){var e=new Date;
return e.setDate(e.getDate()+t),e;
},a=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e));
}catch(s){}for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,a=n.getFullYear(),r=n.getMonth(),o=n.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);
l;
){switch(l[2]||"d"){case"d":case"D":o+=parseInt(l[1],10);
break;
case"w":case"W":o+=7*parseInt(l[1],10);
break;
case"m":case"M":r+=parseInt(l[1],10),o=Math.min(o,t.datepicker._getDaysInMonth(a,r));
break;
case"y":case"Y":a+=parseInt(l[1],10),o=Math.min(o,t.datepicker._getDaysInMonth(a,r));
}l=h.exec(i);
}return new Date(a,r,o);
},r=null==i||""===i?s:"string"==typeof i?a(i):"number"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());
return r=r&&"Invalid Date"==""+r?s:r,r&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r);
},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null;
},_setDate:function(t,e,i){var s=!e,n=t.selectedMonth,a=t.selectedYear,r=this._restrictMinMax(t,this._determineDate(t,e,new Date));
t.selectedDay=t.currentDay=r.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=r.getMonth(),t.drawYear=t.selectedYear=t.currentYear=r.getFullYear(),n===t.selectedMonth&&a===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(s?"":this._formatDate(t));
},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));
return e;
},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),s="#"+e.id.replace(/\\\\/g,"\\");
e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(s,-i,"M");
},next:function(){t.datepicker._adjustDate(s,+i,"M");
},hide:function(){t.datepicker._hideDatepicker();
},today:function(){t.datepicker._gotoToday(s);
},selectDay:function(){return t.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1;
},selectMonth:function(){return t.datepicker._selectMonthYear(s,this,"M"),!1;
},selectYear:function(){return t.datepicker._selectMonthYear(s,this,"Y"),!1;
}};
t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")]);
});
},_generateHTML:function(t){var e,i,s,n,a,r,o,h,l,c,u,d,p,f,m,g,v,_,b,y,x,k,w,D,T,C,M,S,N,I,P,A,z,H,E,F,O,W,j,R=new Date,L=this._daylightSavingAdjust(new Date(R.getFullYear(),R.getMonth(),R.getDate())),Y=this._get(t,"isRTL"),B=this._get(t,"showButtonPanel"),J=this._get(t,"hideIfNoPrevNext"),K=this._get(t,"navigationAsDateFormat"),Q=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),U=this._get(t,"stepMonths"),q=1!==Q[0]||1!==Q[1],X=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),G=this._getMinMaxDate(t,"min"),$=this._getMinMaxDate(t,"max"),Z=t.drawMonth-V,te=t.drawYear;
if(0>Z&&(Z+=12,te--),$){for(e=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-Q[0]*Q[1]+1,$.getDate())),e=G&&G>e?G:e;
this._daylightSavingAdjust(new Date(te,Z,1))>e;
){Z--,0>Z&&(Z=11,te--);
}}for(t.drawMonth=Z,t.drawYear=te,i=this._get(t,"prevText"),i=K?this.formatDate(i,this._daylightSavingAdjust(new Date(te,Z-U,1)),this._getFormatConfig(t)):i,s=this._canAdjustMonth(t,-1,te,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>":J?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>",n=this._get(t,"nextText"),n=K?this.formatDate(n,this._daylightSavingAdjust(new Date(te,Z+U,1)),this._getFormatConfig(t)):n,a=this._canAdjustMonth(t,1,te,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>":J?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>",r=this._get(t,"currentText"),o=this._get(t,"gotoCurrent")&&t.currentDay?X:L,r=K?this.formatDate(r,o,this._getFormatConfig(t)):r,h=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",l=B?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Y?h:"")+(this._isInRange(t,o)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+r+"</button>":"")+(Y?"":h)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,u=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),m=this._get(t,"monthNamesShort"),g=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),_=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),y="",k=0;
Q[0]>k;
k++){for(w="",this.maxRows=4,D=0;
Q[1]>D;
D++){if(T=this._daylightSavingAdjust(new Date(te,Z,t.selectedDay)),C=" ui-corner-all",M="",q){if(M+="<div class='ui-datepicker-group",Q[1]>1){switch(D){case 0:M+=" ui-datepicker-group-first",C=" ui-corner-"+(Y?"right":"left");
break;
case Q[1]-1:M+=" ui-datepicker-group-last",C=" ui-corner-"+(Y?"left":"right");
break;
default:M+=" ui-datepicker-group-middle",C="";
}}M+="'>";
}for(M+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+C+"'>"+(/all|left/.test(C)&&0===k?Y?a:s:"")+(/all|right/.test(C)&&0===k?Y?s:a:"")+this._generateMonthYearHeader(t,Z,te,G,$,k>0||D>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",S=u?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",x=0;
7>x;
x++){N=(x+c)%7,S+="<th"+((x+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[N]+"'>"+p[N]+"</span></th>";
}for(M+=S+"</tr></thead><tbody>",I=this._getDaysInMonth(te,Z),te===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,I)),P=(this._getFirstDayOfMonth(te,Z)-c+7)%7,A=Math.ceil((P+I)/7),z=q?this.maxRows>A?this.maxRows:A:A,this.maxRows=z,H=this._daylightSavingAdjust(new Date(te,Z,1-P)),E=0;
z>E;
E++){for(M+="<tr>",F=u?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(H)+"</td>":"",x=0;
7>x;
x++){O=g?g.apply(t.input?t.input[0]:null,[H]):[!0,""],W=H.getMonth()!==Z,j=W&&!_||!O[0]||G&&G>H||$&&H>$,F+="<td class='"+((x+c+6)%7>=5?" ui-datepicker-week-end":"")+(W?" ui-datepicker-other-month":"")+(H.getTime()===T.getTime()&&Z===t.selectedMonth&&t._keyEvent||b.getTime()===H.getTime()&&b.getTime()===T.getTime()?" "+this._dayOverClass:"")+(j?" "+this._unselectableClass+" ui-state-disabled":"")+(W&&!v?"":" "+O[1]+(H.getTime()===X.getTime()?" "+this._currentClass:"")+(H.getTime()===L.getTime()?" ui-datepicker-today":""))+"'"+(W&&!v||!O[2]?"":" title='"+O[2].replace(/'/g,"&#39;")+"'")+(j?"":" data-handler='selectDay' data-event='click' data-month='"+H.getMonth()+"' data-year='"+H.getFullYear()+"'")+">"+(W&&!v?"&#xa0;":j?"<span class='ui-state-default'>"+H.getDate()+"</span>":"<a class='ui-state-default"+(H.getTime()===L.getTime()?" ui-state-highlight":"")+(H.getTime()===X.getTime()?" ui-state-active":"")+(W?" ui-priority-secondary":"")+"' href='#'>"+H.getDate()+"</a>")+"</td>",H.setDate(H.getDate()+1),H=this._daylightSavingAdjust(H);
}M+=F+"</tr>";
}Z++,Z>11&&(Z=0,te++),M+="</tbody></table>"+(q?"</div>"+(Q[0]>0&&D===Q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),w+=M;
}y+=w;
}return y+=l,t._keyEvent=!1,y;
},_generateMonthYearHeader:function(t,e,i,s,n,a,r,o){var h,l,c,u,d,p,f,m,g=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),_=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",y="";
if(a||!g){y+="<span class='ui-datepicker-month'>"+r[e]+"</span>";
}else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;
12>c;
c++){(!h||c>=s.getMonth())&&(!l||n.getMonth()>=c)&&(y+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+o[c]+"</option>");
}y+="</select>";
}if(_||(b+=y+(!a&&g&&v?"":"&#xa0;")),!t.yearshtml){if(t.yearshtml="",a||!v){b+="<span class='ui-datepicker-year'>"+i+"</span>";
}else{for(u=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);
return isNaN(e)?d:e;
},f=p(u[0]),m=Math.max(f,p(u[1]||"")),f=s?Math.max(f,s.getFullYear()):f,m=n?Math.min(m,n.getFullYear()):m,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";
m>=f;
f++){t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";
}t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null;
}}return b+=this._get(t,"yearSuffix"),_&&(b+=(!a&&g&&v?"":"&#xa0;")+y),b+="</div>";
},_adjustInstDate:function(t,e,i){var s=t.drawYear+("Y"===i?e:0),n=t.drawMonth+("M"===i?e:0),a=Math.min(t.selectedDay,this._getDaysInMonth(s,n))+("D"===i?e:0),r=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(s,n,a)));
t.selectedDay=r.getDate(),t.drawMonth=t.selectedMonth=r.getMonth(),t.drawYear=t.selectedYear=r.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t);
},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),n=i&&i>e?i:e;
return s&&n>s?s:n;
},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");
e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t]);
},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");
return null==e?[1,1]:"number"==typeof e?[1,e]:e;
},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null);
},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate();
},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay();
},_canAdjustMonth:function(t,e,i,s){var n=this._getNumberOfMonths(t),a=this._daylightSavingAdjust(new Date(i,s+(0>e?e:n[0]*n[1]),1));
return 0>e&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(t,a);
},_isInRange:function(t,e){var i,s,n=this._getMinMaxDate(t,"min"),a=this._getMinMaxDate(t,"max"),r=null,o=null,h=this._get(t,"yearRange");
return h&&(i=h.split(":"),s=(new Date).getFullYear(),r=parseInt(i[0],10),o=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(r+=s),i[1].match(/[+\-].*/)&&(o+=s)),(!n||e.getTime()>=n.getTime())&&(!a||e.getTime()<=a.getTime())&&(!r||e.getFullYear()>=r)&&(!o||o>=e.getFullYear());
},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");
return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")};
},_formatDate:function(t,e,i,s){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);
var n=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(s,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));
return this.formatDate(this._get(t,"dateFormat"),n,this._getFormatConfig(t));
}}),t.fn.datepicker=function(e){if(!this.length){return this;
}t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);
var i=Array.prototype.slice.call(arguments,1);
return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e);
}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i));
},t.datepicker=new i,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.10.3";
})(jQuery);
(function(t){var e={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},i={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};
t.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;
0>i&&t(this).css("top",e.top-i);
}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1;
},_init:function(){this.options.autoOpen&&this.open();
},_appendTo:function(){var e=this.options.appendTo;
return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0);
},_destroy:function(){var t,e=this.originalPosition;
this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element);
},widget:function(){return this.uiDialog;
},disable:t.noop,enable:t.noop,close:function(e){var i=this;
this._isOpen&&this._trigger("beforeClose",e)!==!1&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||t(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e);
}));
},isOpen:function(){return this._isOpen;
},moveToTop:function(){this._moveToTop();
},_moveToTop:function(t,e){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;
return i&&!e&&this._trigger("focus",t),i;
},open:function(){var e=this;
return this._isOpen?(this._moveToTop()&&this._focusTabbable(),undefined):(this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus");
}),this._trigger("open"),undefined);
},_focusTabbable:function(){var t=this.element.find("[autofocus]");
t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus();
},_keepFocus:function(e){function i(){var e=this.document[0].activeElement,i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);
i||this._focusTabbable();
}e.preventDefault(),i.call(this),this._delay(i);
},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE){return e.preventDefault(),this.close(e),undefined;
}if(e.keyCode===t.ui.keyCode.TAB){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),n=i.filter(":last");
e.target!==n[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==s[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(n.focus(1),e.preventDefault()):(s.focus(1),e.preventDefault());
}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable();
}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")});
},_createTitlebar:function(){var e;
this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus();
}}),this.uiDialogTitlebarClose=t("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t);
}}),e=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")});
},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title);
},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons();
},_createButtons:function(){var e=this,i=this.options.buttons;
return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?(this.uiDialog.removeClass("ui-dialog-buttons"),undefined):(t.each(i,function(i,s){var n,a;
s=t.isFunction(s)?{click:s,text:i}:s,s=t.extend({type:"button"},s),n=s.click,s.click=function(){n.apply(e.element[0],arguments);
},a={icons:s.icons,text:s.showText},delete s.icons,delete s.showText,t("<button></button>",s).button(a).appendTo(e.uiButtonSet);
}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),undefined);
},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset};
}var i=this,s=this.options;
this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,n){t(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,e(n));
},drag:function(t,s){i._trigger("drag",t,e(s));
},stop:function(n,a){s.position=[a.position.left-i.document.scrollLeft(),a.position.top-i.document.scrollTop()],t(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,e(a));
}});
},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size};
}var i=this,s=this.options,n=s.resizable,a=this.uiDialog.css("position"),o="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";
this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:o,start:function(s,n){t(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,e(n));
},resize:function(t,s){i._trigger("resize",t,e(s));
},stop:function(n,a){s.height=t(this).height(),s.width=t(this).width(),t(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,e(a));
}}).css("position",a);
},_minHeight:function(){var t=this.options;
return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height);
},_position:function(){var t=this.uiDialog.is(":visible");
t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide();
},_setOptions:function(s){var n=this,a=!1,o={};
t.each(s,function(t,s){n._setOption(t,s),t in e&&(a=!0),t in i&&(o[t]=s);
}),a&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",o);
},_setOption:function(t,e){var i,s,n=this.uiDialog;
"dialogClass"===t&&n.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&(i=n.is(":data(ui-draggable)"),i&&!e&&n.draggable("destroy"),!i&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(s=n.is(":data(ui-resizable)"),s&&!e&&n.resizable("destroy"),s&&"string"==typeof e&&n.resizable("option","handles",e),s||e===!1||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")));
},_size:function(){var t,e,i,s=this.options;
this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),e=Math.max(0,s.minHeight-t),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-t):"none","auto"===s.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight());
},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);
return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0];
});
},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks);
},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length;
},_createOverlay:function(){if(this.options.modal){var e=this,i=this.widgetFullName;
t.ui.dialog.overlayInstances||this._delay(function(){t.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(s){e._allowInteraction(s)||(s.preventDefault(),t(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable());
});
}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),t.ui.dialog.overlayInstances++;
}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(t.ui.dialog.overlayInstances--,t.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null);
}}),t.ui.dialog.overlayInstances=0,t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{_position:function(){var e,i=this.options.position,s=[],n=[0,0];
i?(("string"==typeof i||"object"==typeof i&&"0" in i)&&(s=i.split?i.split(" "):[i[0],i[1]],1===s.length&&(s[1]=s[0]),t.each(["left","top"],function(t,e){+s[t]===s[t]&&(n[t]=s[t],s[t]=e);
}),i={my:s[0]+(0>n[0]?n[0]:"+"+n[0])+" "+s[1]+(0>n[1]?n[1]:"+"+n[1]),at:s.join(" ")}),i=t.extend({},t.ui.dialog.prototype.options.position,i)):i=t.ui.dialog.prototype.options.position,e=this.uiDialog.is(":visible"),e||this.uiDialog.show(),this.uiDialog.position(i),e||this.uiDialog.hide();
}});
})(jQuery);
(function(t){t.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,t.proxy(function(t){this.options.disabled&&t.preventDefault();
},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(t){t.preventDefault();
},"click .ui-state-disabled > a":function(t){t.preventDefault();
},"click .ui-menu-item:has(a)":function(e){var i=t(e.target).closest(".ui-menu-item");
!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(e),i.has(".ui-menu").length?this.expand(e):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)));
},"mouseenter .ui-menu-item":function(e){var i=t(e.currentTarget);
i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i);
},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.children(".ui-menu-item").eq(0);
e||this.focus(t,i);
},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e);
});
},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){t(e.target).closest(".ui-menu").length||this.collapseAll(e),this.mouseHandled=!1;
}});
},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);
e.data("ui-menu-submenu-carat")&&e.remove();
}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content");
},_keydown:function(e){function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");
}var s,n,a,o,r,h=!0;
switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);
break;
case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);
break;
case t.ui.keyCode.HOME:this._move("first","first",e);
break;
case t.ui.keyCode.END:this._move("last","last",e);
break;
case t.ui.keyCode.UP:this.previous(e);
break;
case t.ui.keyCode.DOWN:this.next(e);
break;
case t.ui.keyCode.LEFT:this.collapse(e);
break;
case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);
break;
case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);
break;
case t.ui.keyCode.ESCAPE:this.collapse(e);
break;
default:h=!1,n=this.previousFilter||"",a=String.fromCharCode(e.keyCode),o=!1,clearTimeout(this.filterTimer),a===n?o=!0:a=n+a,r=RegExp("^"+i(a),"i"),s=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(t(this).children("a").text());
}),s=o&&-1!==s.index(this.active.next())?this.active.nextAll(".ui-menu-item"):s,s.length||(a=String.fromCharCode(e.keyCode),r=RegExp("^"+i(a),"i"),s=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(t(this).children("a").text());
})),s.length?(this.focus(e,s),s.length>1?(this.previousFilter=a,this.filterTimer=this._delay(function(){delete this.previousFilter;
},1000)):delete this.previousFilter):delete this.previousFilter;
}h&&e.preventDefault();
},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(t):this.select(t));
},refresh:function(){var e,i=this.options.icons.submenu,s=this.element.find(this.options.menus);
s.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),s=e.prev("a"),n=t("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);
s.attr("aria-haspopup","true").prepend(n),e.attr("aria-labelledby",s.attr("id"));
}),e=s.add(this.element),e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each(function(){var e=t(this);
/[^\-\u2014\u2013\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider");
}),e.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur();
},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role];
},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),this._super(t,e);
},focus:function(t,e){var i,s;
this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close();
},this.delay),i=e.children(".ui-menu"),i.length&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e});
},_scrollIntoView:function(e){var i,s,n,a,o,r;
this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),r=e.height(),0>n?this.activeMenu.scrollTop(a+n):n+r>o&&this.activeMenu.scrollTop(a+n-o+r));
},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}));
},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t);
},this.delay));
},_open:function(e){var i=t.extend({of:this.active},this.options.position);
clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i);
},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));
s.length||(s=this.element),this._close(s),this.blur(e),this.activeMenu=s;
},this.delay);
},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active");
},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);
e&&e.length&&(this._close(),this.focus(t,e));
},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();
e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e);
}));
},next:function(t){this._move("next","first",t);
},previous:function(t){this._move("prev","last",t);
},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length;
},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length;
},_move:function(t,e,i){var s;
this.active&&(s="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.children(".ui-menu-item")[e]()),this.focus(i,s);
},nextPage:function(e){var i,s,n;
return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),0>i.offset().top-s-n;
}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())),undefined):(this.next(e),undefined);
},previousPage:function(e){var i,s,n;
return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s+n>0;
}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item").first())),undefined):(this.next(e),undefined);
},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight");
},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");
var i={item:this.active};
this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i);
}});
})(jQuery);
(function(t,e){t.widget("ui.progressbar",{version:"1.10.3",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue();
},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove();
},value:function(t){return t===e?this.options.value:(this.options.value=this._constrainedValue(t),this._refreshValue(),e);
},_constrainedValue:function(t){return t===e&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t));
},_setOptions:function(t){var e=t.value;
delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue();
},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e);
},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min);
},_refreshValue:function(){var e=this.options.value,i=this._percentage();
this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete");
}});
})(jQuery);
(function(t){var e=5;
t.widget("ui.slider",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1;
},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue();
},_createHandles:function(){var e,i,s=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",o=[];
for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;
i>e;
e++){o.push(a);
}this.handles=n.add(t(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e);
});
},_createRange:function(){var e=this.options,i="";
e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):this.range=t([]);
},_setupEvents:function(){var t=this.handles.add(this.range).filter("a");
this._off(t),this._on(t,this._handleEvents),this._hoverable(t),this._focusable(t);
},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy();
},_mouseCapture:function(e){var i,s,n,a,o,r,h,l,u=this,c=this.options;
return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-u.values(e));
(n>i||n===i&&(e===u._lastChangedValue||u.values(e)===c.min))&&(n=i,a=t(this),o=e);
}),r=this._start(e,o),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,a.addClass("ui-state-active").focus(),h=a.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-h.left-a.width()/2,top:e.pageY-h.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,o,s),this._animateOff=!0,!0));
},_mouseStart:function(){return !0;
},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);
return this._slide(t,this._handleIndex,i),!1;
},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1;
},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal";
},_normValueFromMouse:function(t){var e,i,s,n,a;
return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/e,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),a=this._valueMin()+s*n,this._trimAlignValue(a);
},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};
return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i);
},_slide:function(t,e,i){var s,n,a;
this.options.values&&this.options.values.length?(s=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&i>s||1===e&&s>i)&&(i=s),i!==this.values(e)&&(n=this.values(),n[e]=i,a=this._trigger("slide",t,{handle:this.handles[e],value:i,values:n}),s=this.values(e?0:1),a!==!1&&this.values(e,i,!0))):i!==this.value()&&(a=this._trigger("slide",t,{handle:this.handles[e],value:i}),a!==!1&&this.value(i));
},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};
this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i);
},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};
this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i);
}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),this._change(null,0),undefined):this._value();
},values:function(e,i){var s,n,a;
if(arguments.length>1){return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e),undefined;
}if(!arguments.length){return this._values();
}if(!t.isArray(arguments[0])){return this.options.values&&this.options.values.length?this._values(e):this.value();
}for(s=this.options.values,n=arguments[0],a=0;
s.length>a;
a+=1){s[a]=this._trimAlignValue(n[a]),this._change(null,a);
}this._refreshValue();
},_setOption:function(e,i){var s,n=0;
switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();
break;
case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;
break;
case"values":for(this._animateOff=!0,this._refreshValue(),s=0;
n>s;
s+=1){this._change(null,s);
}this._animateOff=!1;
break;
case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;
break;
case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1;
}},_value:function(){var t=this.options.value;
return t=this._trimAlignValue(t);
},_values:function(t){var e,i,s;
if(arguments.length){return e=this.options.values[t],e=this._trimAlignValue(e);
}if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;
i.length>s;
s+=1){i[s]=this._trimAlignValue(i[s]);
}return i;
}return[];
},_trimAlignValue:function(t){if(this._valueMin()>=t){return this._valueMin();
}if(t>=this._valueMax()){return this._valueMax();
}var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;
return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5));
},_valueMin:function(){return this.options.min;
},_valueMax:function(){return this.options.max;
},_refreshValue:function(){var e,i,s,n,a,o=this.options.range,r=this.options,h=this,l=this._animateOff?!1:r.animate,u={};
this.options.values&&this.options.values.length?this.handles.each(function(s){i=100*((h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())),u["horizontal"===h.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[l?"animate":"css"](u,r.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i;
}):(s=this.value(),n=this._valueMin(),a=this._valueMax(),i=a!==n?100*((s-n)/(a-n)):0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](u,r.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===o&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===o&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}));
},_handleEvents:{keydown:function(i){var s,n,a,o,r=t(i.target).data("ui-slider-handle-index");
switch(i.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(i.target).addClass("ui-state-active"),s=this._start(i,r),s===!1)){return;
}}switch(o=this.options.step,n=a=this.options.values&&this.options.values.length?this.values(r):this.value(),i.keyCode){case t.ui.keyCode.HOME:a=this._valueMin();
break;
case t.ui.keyCode.END:a=this._valueMax();
break;
case t.ui.keyCode.PAGE_UP:a=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/e);
break;
case t.ui.keyCode.PAGE_DOWN:a=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/e);
break;
case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax()){return;
}a=this._trimAlignValue(n+o);
break;
case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin()){return;
}a=this._trimAlignValue(n-o);
}this._slide(i,r,a);
},click:function(t){t.preventDefault();
},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");
this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"));
}}});
})(jQuery);
(function(t){function e(t){return function(){var e=this.element.val();
t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change");
};
}t.widget("ui.spinner",{version:"1.10.3",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete");
}});
},_getCreateOptions:function(){var e={},i=this.element;
return t.each(["min","max","step"],function(t,s){var n=i.attr(s);
void 0!==n&&n.length&&(e[s]=n);
}),e;
},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault();
},keyup:"_stop",focus:function(){this.previous=this.element.val();
},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t),void 0);
},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t)){return !1;
}this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t);
},100),t.preventDefault();
}},"mousedown .ui-spinner-button":function(e){function i(){var t=this.element[0]===this.document[0].activeElement;
t||(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s;
}));
}var s;
s=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this);
}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e);
},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)===!1?!1:(this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e),void 0):void 0;
},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());
this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(0.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable();
},_keydown:function(e){var i=this.options,s=t.ui.keyCode;
switch(e.keyCode){case s.UP:return this._repeat(null,1,e),!0;
case s.DOWN:return this._repeat(null,-1,e),!0;
case s.PAGE_UP:return this._repeat(null,i.page,e),!0;
case s.PAGE_DOWN:return this._repeat(null,-i.page,e),!0;
}return !1;
},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>";
},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>";
},_start:function(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1;
},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i);
},t),this._spin(e*this.options.step,i);
},_spin:function(t,e){var i=this.value()||0;
this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++);
},_increment:function(e){var i=this.options.incremental;
return i?t.isFunction(i)?i(e):Math.floor(e*e*e/50000-e*e/500+17*e/200+1):1;
},_precision:function(){var t=this._precisionOf(this.options.step);
return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t;
},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");
return -1===i?0:e.length-i-1;
},_adjustValue:function(t){var e,i,s=this.options;
return e=null!==s.min?s.min:0,i=t-e,i=Math.round(i/s.step)*s.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==s.max&&t>s.max?s.max:null!==s.min&&s.min>t?s.min:t;
},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t));
},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var i=this._parse(this.element.val());
return this.options[t]=e,this.element.val(this._format(i)),void 0;
}("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(e?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")));
},_setOptions:e(function(t){this._super(t),this._value(this.element.val());
}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t;
},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t;
},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())});
},_value:function(t,e){var i;
""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh();
},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element);
},stepUp:e(function(t){this._stepUp(t);
}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop());
},stepDown:e(function(t){this._stepDown(t);
}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop());
},pageUp:e(function(t){this._stepUp((t||1)*this.options.page);
}),pageDown:e(function(t){this._stepDown((t||1)*this.options.page);
}),value:function(t){return arguments.length?(e(this._value).call(this,t),void 0):this._parse(this.element.val());
},widget:function(){return this.uiSpinner;
}});
})(jQuery);
(function(t,e){function i(){return ++n;
}function s(t){return t.hash.length>1&&decodeURIComponent(t.href.replace(a,""))===decodeURIComponent(location.href.replace(a,""));
}var n=0,a=/#.*$/;
t.widget("ui.tabs",{version:"1.10.3",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var e=this,i=this.options;
this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault();
}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur();
}),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t);
}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active);
},_initialActive:function(){var i=this.options.active,s=this.options.collapsible,n=location.hash.substring(1);
return null===i&&(n&&this.tabs.each(function(s,a){return t(a).attr("aria-controls")===n?(i=s,!1):e;
}),null===i&&(i=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===i||-1===i)&&(i=this.tabs.length?0:!1)),i!==!1&&(i=this.tabs.index(this.tabs.eq(i)),-1===i&&(i=s?!1:0)),!s&&i===!1&&this.anchors.length&&(i=0),i;
},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()};
},_tabKeydown:function(i){var s=t(this.document[0].activeElement).closest("li"),n=this.tabs.index(s),a=!0;
if(!this._handlePageNav(i)){switch(i.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:n++;
break;
case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:a=!1,n--;
break;
case t.ui.keyCode.END:n=this.anchors.length-1;
break;
case t.ui.keyCode.HOME:n=0;
break;
case t.ui.keyCode.SPACE:return i.preventDefault(),clearTimeout(this.activating),this._activate(n),e;
case t.ui.keyCode.ENTER:return i.preventDefault(),clearTimeout(this.activating),this._activate(n===this.options.active?!1:n),e;
default:return;
}i.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,a),i.ctrlKey||(s.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n);
},this.delay));
}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus());
},_handlePageNav:function(i){return i.altKey&&i.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):i.altKey&&i.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):e;
},_findNextTab:function(e,i){function s(){return e>n&&(e=0),0>e&&(e=n),e;
}for(var n=this.tabs.length-1;
-1!==t.inArray(s(),this.options.disabled);
){e=i?e+1:e-1;
}return e;
},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t;
},_setOption:function(t,i){return"active"===t?(this._activate(i),e):"disabled"===t?(this._setupDisabled(i),e):(this._super(t,i),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",i),i||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(i),"heightStyle"===t&&this._setupHeightStyle(i),e);
},_tabId:function(t){return t.attr("aria-controls")||"ui-tabs-"+i();
},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):"";
},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");
e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t);
}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh();
},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0);
},_processTabs:function(){var e=this;
this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0];
}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(i,n){var a,o,r,h=t(n).uniqueId().attr("id"),l=t(n).closest("li"),u=l.attr("aria-controls");
s(n)?(a=n.hash,o=e.element.find(e._sanitizeSelector(a))):(r=e._tabId(l),a="#"+r,o=e.element.find(a),o.length||(o=e._createPanel(r),o.insertAfter(e.panels[i-1]||e.tablist)),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),u&&l.data("ui-tabs-aria-controls",u),l.attr({"aria-controls":a.substring(1),"aria-labelledby":h}),o.attr("aria-labelledby",h);
}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel");
},_getList:function(){return this.element.find("ol,ul").eq(0);
},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0);
},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);
for(var i,s=0;
i=this.tabs[s];
s++){e===!0||-1!==t.inArray(s,e)?t(i).addClass("ui-state-disabled").attr("aria-disabled","true"):t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");
}this.options.disabled=e;
},_setupEvents:function(e){var i={click:function(t){t.preventDefault();
}};
e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler";
}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs);
},_setupHeightStyle:function(e){var i,s=this.element.parent();
"fill"===e?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),s=e.css("position");
"absolute"!==s&&"fixed"!==s&&(i-=e.outerHeight(!0));
}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0);
}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()));
}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height());
}).height(i));
},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),a=n.closest("li"),o=a[0]===s[0],r=o&&i.collapsible,h=r?t():this._getPanelForTab(a),l=s.length?this._getPanelForTab(s):t(),u={oldTab:s,oldPanel:l,newTab:r?t():a,newPanel:h};
e.preventDefault(),a.hasClass("ui-state-disabled")||a.hasClass("ui-tabs-loading")||this.running||o&&!i.collapsible||this._trigger("beforeActivate",e,u)===!1||(i.active=r?!1:this.tabs.index(a),this.active=o?t():a,this.xhr&&this.xhr.abort(),l.length||h.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(a),e),this._toggle(e,u));
},_toggle:function(e,i){function s(){a.running=!1,a._trigger("activate",e,i);
}function n(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&a.options.show?a._show(o,a.options.show,s):(o.show(),s());
}var a=this,o=i.newPanel,r=i.oldPanel;
this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),n();
}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),n()),r.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),o.length&&r.length?i.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex");
}).attr("tabIndex",-1),o.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0});
},_activate:function(e){var i,s=this._findActive(e);
s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}));
},_findActive:function(e){return e===!1?t():this.tabs.eq(e);
},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t;
},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role");
}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");
i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls");
}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","");
},enable:function(i){var s=this.options.disabled;
s!==!1&&(i===e?s=!1:(i=this._getIndex(i),s=t.isArray(s)?t.map(s,function(t){return t!==i?t:null;
}):t.map(this.tabs,function(t,e){return e!==i?e:null;
})),this._setupDisabled(s));
},disable:function(i){var s=this.options.disabled;
if(s!==!0){if(i===e){s=!0;
}else{if(i=this._getIndex(i),-1!==t.inArray(i,s)){return;
}s=t.isArray(s)?t.merge([i],s).sort():[i];
}this._setupDisabled(s);
}},load:function(e,i){e=this._getIndex(e);
var n=this,a=this.tabs.eq(e),o=a.find(".ui-tabs-anchor"),r=this._getPanelForTab(a),h={tab:a,panel:r};
s(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,i,h)),this.xhr&&"canceled"!==this.xhr.statusText&&(a.addClass("ui-tabs-loading"),r.attr("aria-busy","true"),this.xhr.success(function(t){setTimeout(function(){r.html(t),n._trigger("load",i,h);
},1);
}).complete(function(t,e){setTimeout(function(){"abort"===e&&n.panels.stop(!1,!0),a.removeClass("ui-tabs-loading"),r.removeAttr("aria-busy"),t===n.xhr&&delete n.xhr;
},1);
})));
},_ajaxSettings:function(e,i,s){var n=this;
return{url:e.attr("href"),beforeSend:function(e,a){return n._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:a},s));
}};
},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");
return this.element.find(this._sanitizeSelector("#"+i));
}});
})(jQuery);
(function(t){function e(e,i){var s=(e.attr("aria-describedby")||"").split(/\s+/);
s.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(s.join(" ")));
}function i(e){var i=e.data("ui-tooltip-id"),s=(e.attr("aria-describedby")||"").split(/\s+/),n=t.inArray(i,s);
-1!==n&&s.splice(n,1),e.removeData("ui-tooltip-id"),s=t.trim(s.join(" ")),s?e.attr("aria-describedby",s):e.removeAttr("aria-describedby");
}var s=0;
t.widget("ui.tooltip",{version:"1.10.3",options:{content:function(){var e=t(this).attr("title")||"";
return t("<a>").text(e).html();
},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable();
},_setOption:function(e,i){var s=this;
return"disabled"===e?(this[i?"_disable":"_enable"](),this.options[e]=i,void 0):(this._super(e,i),"content"===e&&t.each(this.tooltips,function(t,e){s._updateContent(e);
}),void 0);
},_disable:function(){var e=this;
t.each(this.tooltips,function(i,s){var n=t.Event("blur");
n.target=n.currentTarget=s[0],e.close(n,!0);
}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);
e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).attr("title","");
});
},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);
e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"));
});
},open:function(e){var i=this,s=t(e?e.target:this.element).closest(this.options.items);
s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&s.parents().each(function(){var e,s=t(this);
s.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""));
}),this._updateContent(s,e));
},_updateContent:function(t,e){var i,s=this.options.content,n=this,a=e?e.type:null;
return"string"==typeof s?this._open(e,t,s):(i=s.call(t[0],function(i){t.data("ui-tooltip-open")&&n._delay(function(){e&&(e.type=a),this._open(e,t,i);
});
}),i&&this._open(e,t,i),void 0);
},_open:function(i,s,n){function a(t){l.of=t,o.is(":hidden")||o.position(l);
}var o,r,h,l=t.extend({},this.options.position);
if(n){if(o=this._find(s),o.length){return o.find(".ui-tooltip-content").html(n),void 0;
}s.is("[title]")&&(i&&"mouseover"===i.type?s.attr("title",""):s.removeAttr("title")),o=this._tooltip(s),e(s,o.attr("id")),o.find(".ui-tooltip-content").html(n),this.options.track&&i&&/^mouse/.test(i.type)?(this._on(this.document,{mousemove:a}),a(i)):o.position(t.extend({of:s},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.show&&this.options.show.delay&&(h=this.delayedShow=setInterval(function(){o.is(":visible")&&(a(l.of),clearInterval(h));
},t.fx.interval)),this._trigger("open",i,{tooltip:o}),r={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);
i.currentTarget=s[0],this.close(i,!0);
}},remove:function(){this._removeTooltip(o);
}},i&&"mouseover"!==i.type||(r.mouseleave="close"),i&&"focusin"!==i.type||(r.focusout="close"),this._on(!0,s,r);
}},close:function(e){var s=this,n=t(e?e.currentTarget:this.element),a=this._find(n);
this.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&n.attr("title",n.data("ui-tooltip-title")),i(n),a.stop(!0),this._hide(a,this.options.hide,function(){s._removeTooltip(t(this));
}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete s.parents[e];
}),this.closing=!0,this._trigger("close",e,{tooltip:a}),this.closing=!1);
},_tooltip:function(e){var i="ui-tooltip-"+s++,n=t("<div>").attr({id:i,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));
return t("<div>").addClass("ui-tooltip-content").appendTo(n),n.appendTo(this.document[0].body),this.tooltips[i]=e,n;
},_find:function(e){var i=e.data("ui-tooltip-id");
return i?t("#"+i):t();
},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")];
},_destroy:function(){var e=this;
t.each(this.tooltips,function(i,s){var n=t.Event("blur");
n.target=n.currentTarget=s[0],e.close(n,!0),t("#"+i).remove(),s.data("ui-tooltip-title")&&(s.attr("title",s.data("ui-tooltip-title")),s.removeData("ui-tooltip-title"));
});
}});
})(jQuery);
(function(t,e){var i="ui-effects-";
t.effects={effect:{}},function(t,e){function i(t,e,i){var s=u[e.type]||{};
return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:0>t?0:t>s.max?s.max:t);
}function s(i){var s=l(),n=s._rgba=[];
return i=i.toLowerCase(),f(h,function(t,a){var o,r=a.re.exec(i),h=r&&a.parse(r),l=a.space||"rgba";
return h?(o=s[l](h),s[c[l].cache]=o[c[l].cache],n=s._rgba=o._rgba,!1):e;
}),n.length?("0,0,0,0"===n.join()&&t.extend(n,a.transparent),s):a[i];
}function n(t,e,i){return i=(i+1)%1,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t;
}var a,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]];
}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]];
}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)];
}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)];
}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]];
}}],l=t.Color=function(e,i,s,n){return new t.Color.fn.parse(e,i,s,n);
},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=l.support={},p=t("<p>")[0],f=t.each;
p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1};
}),l.fn=t.extend(l.prototype,{parse:function(n,o,r,h){if(n===e){return this._rgba=[null,null,null,null],this;
}(n.jquery||n.nodeType)&&(n=t(n).css(o),o=e);
var u=this,d=t.type(n),p=this._rgba=[];
return o!==e&&(n=[n,o,r,h],d="array"),"string"===d?this.parse(s(n)||a._default):"array"===d?(f(c.rgba.props,function(t,e){p[e.idx]=i(n[e.idx],e);
}),this):"object"===d?(n instanceof l?f(c,function(t,e){n[e.cache]&&(u[e.cache]=n[e.cache].slice());
}):f(c,function(e,s){var a=s.cache;
f(s.props,function(t,e){if(!u[a]&&s.to){if("alpha"===t||null==n[t]){return;
}u[a]=s.to(u._rgba);
}u[a][e.idx]=i(n[t],e,!0);
}),u[a]&&0>t.inArray(null,u[a].slice(0,3))&&(u[a][3]=1,s.from&&(u._rgba=s.from(u[a])));
}),this):e;
},is:function(t){var i=l(t),s=!0,n=this;
return f(c,function(t,a){var o,r=i[a.cache];
return r&&(o=n[a.cache]||a.to&&a.to(n._rgba)||[],f(a.props,function(t,i){return null!=r[i.idx]?s=r[i.idx]===o[i.idx]:e;
})),s;
}),s;
},_space:function(){var t=[],e=this;
return f(c,function(i,s){e[s.cache]&&t.push(i);
}),t.pop();
},transition:function(t,e){var s=l(t),n=s._space(),a=c[n],o=0===this.alpha()?l("transparent"):this,r=o[a.cache]||a.to(o._rgba),h=r.slice();
return s=s[a.cache],f(a.props,function(t,n){var a=n.idx,o=r[a],l=s[a],c=u[n.type]||{};
null!==l&&(null===o?h[a]=l:(c.mod&&(l-o>c.mod/2?o+=c.mod:o-l>c.mod/2&&(o-=c.mod)),h[a]=i((l-o)*e+o,n)));
}),this[n](h);
},blend:function(e){if(1===this._rgba[3]){return this;
}var i=this._rgba.slice(),s=i.pop(),n=l(e)._rgba;
return l(t.map(i,function(t,e){return(1-s)*n[e]+s*t;
}));
},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t;
});
return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")";
},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t;
});
return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")";
},toHexString:function(e){var i=this._rgba.slice(),s=i.pop();
return e&&i.push(~~(255*s)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t;
}).join("");
},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString();
}}),l.fn.parse.prototype=l.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2]){return[null,null,null,t[3]];
}var e,i,s=t[0]/255,n=t[1]/255,a=t[2]/255,o=t[3],r=Math.max(s,n,a),h=Math.min(s,n,a),l=r-h,c=r+h,u=0.5*c;
return e=h===r?0:s===r?60*(n-a)/l+360:n===r?60*(a-s)/l+120:60*(s-n)/l+240,i=0===l?0:0.5>=u?l/c:l/(2-c),[Math.round(e)%360,i,u,null==o?1:o];
},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2]){return[null,null,null,t[3]];
}var e=t[0]/360,i=t[1],s=t[2],a=t[3],o=0.5>=s?s*(1+i):s+i-s*i,r=2*s-o;
return[Math.round(255*n(r,o,e+1/3)),Math.round(255*n(r,o,e)),Math.round(255*n(r,o,e-1/3)),a];
},f(c,function(s,n){var a=n.props,o=n.cache,h=n.to,c=n.from;
l.fn[s]=function(s){if(h&&!this[o]&&(this[o]=h(this._rgba)),s===e){return this[o].slice();
}var n,r=t.type(s),u="array"===r||"object"===r?s:arguments,d=this[o].slice();
return f(a,function(t,e){var s=u["object"===r?t:e.idx];
null==s&&(s=d[e.idx]),d[e.idx]=i(s,e);
}),c?(n=l(c(d)),n[o]=d,n):l(d);
},f(a,function(e,i){l.fn[e]||(l.fn[e]=function(n){var a,o=t.type(n),h="alpha"===e?this._hsla?"hsla":"rgba":s,l=this[h](),c=l[i.idx];
return"undefined"===o?c:("function"===o&&(n=n.call(this,c),o=t.type(n)),null==n&&i.empty?this:("string"===o&&(a=r.exec(n),a&&(n=c+parseFloat(a[2])*("+"===a[1]?1:-1))),l[i.idx]=n,this[h](l)));
});
});
}),l.hook=function(e){var i=e.split(" ");
f(i,function(e,i){t.cssHooks[i]={set:function(e,n){var a,o,r="";
if("transparent"!==n&&("string"!==t.type(n)||(a=s(n)))){if(n=l(a||n),!d.rgba&&1!==n._rgba[3]){for(o="backgroundColor"===i?e.parentNode:e;
(""===r||"transparent"===r)&&o&&o.style;
){try{r=t.css(o,"backgroundColor"),o=o.parentNode;
}catch(h){}}n=n.blend(r&&"transparent"!==r?r:"_default");
}n=n.toRgbaString();
}try{e.style[i]=n;
}catch(h){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=l(e.elem,i),e.end=l(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos));
};
});
},l.hook(o),t.cssHooks.borderColor={expand:function(t){var e={};
return f(["Top","Right","Bottom","Left"],function(i,s){e["border"+s+"Color"]=t;
}),e;
}},a=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"};
}(jQuery),function(){function i(e){var i,s,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,a={};
if(n&&n.length&&n[0]&&n[n[0]]){for(s=n.length;
s--;
){i=n[s],"string"==typeof n[i]&&(a[t.camelCase(i)]=n[i]);
}}else{for(i in n){"string"==typeof n[i]&&(a[i]=n[i]);
}}return a;
}function s(e,i){var s,n,o={};
for(s in i){n=i[s],e[s]!==n&&(a[s]||(t.fx.step[s]||!isNaN(parseFloat(n)))&&(o[s]=n));
}return o;
}var n=["add","remove","toggle"],a={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};
t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(jQuery.style(t.elem,i,t.end),t.setAttr=!0);
};
}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t));
}),t.effects.animateClass=function(e,a,o,r){var h=t.speed(a,o,r);
return this.queue(function(){var a,o=t(this),r=o.attr("class")||"",l=h.children?o.find("*").addBack():o;
l=l.map(function(){var e=t(this);
return{el:e,start:i(this)};
}),a=function(){t.each(n,function(t,i){e[i]&&o[i+"Class"](e[i]);
});
},a(),l=l.map(function(){return this.end=i(this.el[0]),this.diff=s(this.start,this.end),this;
}),o.attr("class",r),l=l.map(function(){var e=this,i=t.Deferred(),s=t.extend({},h,{queue:!1,complete:function(){i.resolve(e);
}});
return this.el.animate(this.diff,s),i.promise();
}),t.when.apply(t,l.get()).done(function(){a(),t.each(arguments,function(){var e=this.el;
t.each(this.diff,function(t){e.css(t,"");
});
}),h.complete.call(o[0]);
});
});
},t.fn.extend({addClass:function(e){return function(i,s,n,a){return s?t.effects.animateClass.call(this,{add:i},s,n,a):e.apply(this,arguments);
};
}(t.fn.addClass),removeClass:function(e){return function(i,s,n,a){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},s,n,a):e.apply(this,arguments);
};
}(t.fn.removeClass),toggleClass:function(i){return function(s,n,a,o,r){return"boolean"==typeof n||n===e?a?t.effects.animateClass.call(this,n?{add:s}:{remove:s},a,o,r):i.apply(this,arguments):t.effects.animateClass.call(this,{toggle:s},n,a,o);
};
}(t.fn.toggleClass),switchClass:function(e,i,s,n,a){return t.effects.animateClass.call(this,{add:i,remove:e},s,n,a);
}});
}(),function(){function s(e,i,s,n){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(n=s,s=i,i={}),t.isFunction(s)&&(n=s,s=null),i&&t.extend(e,i),s=s||i.duration,e.duration=t.fx.off?0:"number"==typeof s?s:s in t.fx.speeds?t.fx.speeds[s]:t.fx.speeds._default,e.complete=n||i.complete,e;
}function n(e){return !e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0;
}t.extend(t.effects,{version:"1.10.3",save:function(t,e){for(var s=0;
e.length>s;
s++){null!==e[s]&&t.data(i+e[s],t[0].style[e[s]]);
}},restore:function(t,s){var n,a;
for(a=0;
s.length>a;
a++){null!==s[a]&&(n=t.data(i+s[a]),n===e&&(n=""),t.css(s[a],n));
}},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e;
},getBaseline:function(t,e){var i,s;
switch(t[0]){case"top":i=0;
break;
case"middle":i=0.5;
break;
case"bottom":i=1;
break;
default:i=t[0]/e.height;
}switch(t[1]){case"left":s=0;
break;
case"center":s=0.5;
break;
case"right":s=1;
break;
default:s=t[1]/e.width;
}return{x:s,y:i};
},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper")){return e.parent();
}var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},s=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:e.width(),height:e.height()},a=document.activeElement;
try{a.id;
}catch(o){a=document.body;
}return e.wrap(s),(e[0]===a||t.contains(e[0],a))&&t(a).focus(),s=e.parent(),"static"===e.css("position")?(s.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,s){i[s]=e.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto");
}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(n),s.css(i).show();
},removeWrapper:function(e){var i=document.activeElement;
return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e;
},setTransition:function(e,i,s,n){return n=n||{},t.each(i,function(t,i){var a=e.cssUnit(i);
a[0]>0&&(n[i]=a[0]*s+a[1]);
}),n;
}}),t.fn.extend({effect:function(){function e(e){function s(){t.isFunction(a)&&a.call(n[0]),t.isFunction(e)&&e();
}var n=t(this),a=i.complete,r=i.mode;
(n.is(":hidden")?"hide"===r:"show"===r)?(n[r](),s()):o.call(n[0],i,s);
}var i=s.apply(this,arguments),n=i.mode,a=i.queue,o=t.effects.effect[i.effect];
return t.fx.off||!o?n?this[n](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this);
}):a===!1?this.each(e):this.queue(a||"fx",e);
},show:function(t){return function(e){if(n(e)){return t.apply(this,arguments);
}var i=s.apply(this,arguments);
return i.mode="show",this.effect.call(this,i);
};
}(t.fn.show),hide:function(t){return function(e){if(n(e)){return t.apply(this,arguments);
}var i=s.apply(this,arguments);
return i.mode="hide",this.effect.call(this,i);
};
}(t.fn.hide),toggle:function(t){return function(e){if(n(e)||"boolean"==typeof e){return t.apply(this,arguments);
}var i=s.apply(this,arguments);
return i.mode="toggle",this.effect.call(this,i);
};
}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),s=[];
return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(s=[parseFloat(i),e]);
}),s;
}});
}(),function(){var e={};
t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2);
};
}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2);
},Circ:function(t){return 1-Math.sqrt(1-t*t);
},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15);
},Back:function(t){return t*t*(3*t-2);
},Bounce:function(t){for(var e,i=4;
((e=Math.pow(2,--i))-1)/11>t;
){}return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2);
}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t);
},t.easing["easeInOut"+e]=function(t){return 0.5>t?i(2*t)/2:1-i(-2*t+2)/2;
};
});
}();
})(jQuery);
(function(t){var e=/up|down|vertical/,i=/up|left|vertical|horizontal/;
t.effects.effect.blind=function(s,n){var a,o,r,h=t(this),l=["position","top","bottom","left","right","height","width"],c=t.effects.setMode(h,s.mode||"hide"),u=s.direction||"up",d=e.test(u),p=d?"height":"width",f=d?"top":"left",m=i.test(u),g={},v="show"===c;
h.parent().is(".ui-effects-wrapper")?t.effects.save(h.parent(),l):t.effects.save(h,l),h.show(),a=t.effects.createWrapper(h).css({overflow:"hidden"}),o=a[p](),r=parseFloat(a.css(f))||0,g[p]=v?o:0,m||(h.css(d?"bottom":"right",0).css(d?"top":"left","auto").css({position:"absolute"}),g[f]=v?r:o+r),v&&(a.css(p,0),m||a.css(f,r+o)),a.animate(g,{duration:s.duration,easing:s.easing,queue:!1,complete:function(){"hide"===c&&h.hide(),t.effects.restore(h,l),t.effects.removeWrapper(h),n();
}});
};
})(jQuery);
(function(t){t.effects.effect.bounce=function(e,i){var s,n,a,o=t(this),r=["position","top","bottom","left","right","height","width"],h=t.effects.setMode(o,e.mode||"effect"),l="hide"===h,c="show"===h,u=e.direction||"up",d=e.distance,p=e.times||5,f=2*p+(c||l?1:0),m=e.duration/f,g=e.easing,v="up"===u||"down"===u?"top":"left",_="up"===u||"left"===u,b=o.queue(),y=b.length;
for((c||l)&&r.push("opacity"),t.effects.save(o,r),o.show(),t.effects.createWrapper(o),d||(d=o["top"===v?"outerHeight":"outerWidth"]()/3),c&&(a={opacity:1},a[v]=0,o.css("opacity",0).css(v,_?2*-d:2*d).animate(a,m,g)),l&&(d/=Math.pow(2,p-1)),a={},a[v]=0,s=0;
p>s;
s++){n={},n[v]=(_?"-=":"+=")+d,o.animate(n,m,g).animate(a,m,g),d=l?2*d:d/2;
}l&&(n={opacity:0},n[v]=(_?"-=":"+=")+d,o.animate(n,m,g)),o.queue(function(){l&&o.hide(),t.effects.restore(o,r),t.effects.removeWrapper(o),i();
}),y>1&&b.splice.apply(b,[1,0].concat(b.splice(y,f+1))),o.dequeue();
};
})(jQuery);
(function(t){t.effects.effect.clip=function(e,i){var s,n,a,o=t(this),r=["position","top","bottom","left","right","height","width"],h=t.effects.setMode(o,e.mode||"hide"),l="show"===h,c=e.direction||"vertical",u="vertical"===c,d=u?"height":"width",p=u?"top":"left",f={};
t.effects.save(o,r),o.show(),s=t.effects.createWrapper(o).css({overflow:"hidden"}),n="IMG"===o[0].tagName?s:o,a=n[d](),l&&(n.css(d,0),n.css(p,a/2)),f[d]=l?a:0,f[p]=l?0:a/2,n.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){l||o.hide(),t.effects.restore(o,r),t.effects.removeWrapper(o),i();
}});
};
})(jQuery);
(function(t){t.effects.effect.drop=function(e,i){var s,n=t(this),a=["position","top","bottom","left","right","opacity","height","width"],o=t.effects.setMode(n,e.mode||"hide"),r="show"===o,h=e.direction||"left",l="up"===h||"down"===h?"top":"left",c="up"===h||"left"===h?"pos":"neg",u={opacity:r?1:0};
t.effects.save(n,a),n.show(),t.effects.createWrapper(n),s=e.distance||n["top"===l?"outerHeight":"outerWidth"](!0)/2,r&&n.css("opacity",0).css(l,"pos"===c?-s:s),u[l]=(r?"pos"===c?"+=":"-=":"pos"===c?"-=":"+=")+s,n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&n.hide(),t.effects.restore(n,a),t.effects.removeWrapper(n),i();
}});
};
})(jQuery);
(function(t){t.effects.effect.explode=function(e,i){function s(){b.push(this),b.length===u*d&&n();
}function n(){p.css({visibility:"visible"}),t(b).remove(),m||p.hide(),i();
}var a,o,r,h,l,c,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=u,p=t(this),f=t.effects.setMode(p,e.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/d),_=Math.ceil(p.outerHeight()/u),b=[];
for(a=0;
u>a;
a++){for(h=g.top+a*_,c=a-(u-1)/2,o=0;
d>o;
o++){r=g.left+o*v,l=o-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*v,top:-a*_}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:_,left:r+(m?l*v:0),top:h+(m?c*_:0),opacity:m?0:1}).animate({left:r+(m?0:l*v),top:h+(m?0:c*_),opacity:m?1:0},e.duration||500,e.easing,s);
}}};
})(jQuery);
(function(t){t.effects.effect.fade=function(e,i){var s=t(this),n=t.effects.setMode(s,e.mode||"toggle");
s.animate({opacity:n},{queue:!1,duration:e.duration,easing:e.easing,complete:i});
};
})(jQuery);
(function(t){t.effects.effect.fold=function(e,i){var s,n,a=t(this),o=["position","top","bottom","left","right","height","width"],r=t.effects.setMode(a,e.mode||"hide"),h="show"===r,l="hide"===r,c=e.size||15,u=/([0-9]+)%/.exec(c),d=!!e.horizFirst,p=h!==d,f=p?["width","height"]:["height","width"],m=e.duration/2,g={},v={};
t.effects.save(a,o),a.show(),s=t.effects.createWrapper(a).css({overflow:"hidden"}),n=p?[s.width(),s.height()]:[s.height(),s.width()],u&&(c=parseInt(u[1],10)/100*n[l?0:1]),h&&s.css(d?{height:0,width:c}:{height:c,width:0}),g[f[0]]=h?n[0]:c,v[f[1]]=h?n[1]:0,s.animate(g,m,e.easing).animate(v,m,e.easing,function(){l&&a.hide(),t.effects.restore(a,o),t.effects.removeWrapper(a),i();
});
};
})(jQuery);
(function(t){t.effects.effect.highlight=function(e,i){var s=t(this),n=["backgroundImage","backgroundColor","opacity"],a=t.effects.setMode(s,e.mode||"show"),o={backgroundColor:s.css("backgroundColor")};
"hide"===a&&(o.opacity=0),t.effects.save(s,n),s.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(o,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===a&&s.hide(),t.effects.restore(s,n),i();
}});
};
})(jQuery);
(function(t){t.effects.effect.pulsate=function(e,i){var s,n=t(this),a=t.effects.setMode(n,e.mode||"show"),o="show"===a,r="hide"===a,h=o||"hide"===a,l=2*(e.times||5)+(h?1:0),c=e.duration/l,u=0,d=n.queue(),p=d.length;
for((o||!n.is(":visible"))&&(n.css("opacity",0).show(),u=1),s=1;
l>s;
s++){n.animate({opacity:u},c,e.easing),u=1-u;
}n.animate({opacity:u},c,e.easing),n.queue(function(){r&&n.hide(),i();
}),p>1&&d.splice.apply(d,[1,0].concat(d.splice(p,l+1))),n.dequeue();
};
})(jQuery);
(function(t){t.effects.effect.puff=function(e,i){var s=t(this),n=t.effects.setMode(s,e.mode||"hide"),a="hide"===n,o=parseInt(e.percent,10)||150,r=o/100,h={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()};
t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:n,complete:i,percent:a?o:100,from:a?h:{height:h.height*r,width:h.width*r,outerHeight:h.outerHeight*r,outerWidth:h.outerWidth*r}}),s.effect(e);
},t.effects.effect.scale=function(e,i){var s=t(this),n=t.extend(!0,{},e),a=t.effects.setMode(s,e.mode||"effect"),o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===a?0:100),r=e.direction||"both",h=e.origin,l={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},c={y:"horizontal"!==r?o/100:1,x:"vertical"!==r?o/100:1};
n.effect="size",n.queue=!1,n.complete=i,"effect"!==a&&(n.origin=h||["middle","center"],n.restore=!0),n.from=e.from||("show"===a?{height:0,width:0,outerHeight:0,outerWidth:0}:l),n.to={height:l.height*c.y,width:l.width*c.x,outerHeight:l.outerHeight*c.y,outerWidth:l.outerWidth*c.x},n.fade&&("show"===a&&(n.from.opacity=0,n.to.opacity=1),"hide"===a&&(n.from.opacity=1,n.to.opacity=0)),s.effect(n);
},t.effects.effect.size=function(e,i){var s,n,a,o=t(this),r=["position","top","bottom","left","right","width","height","overflow","opacity"],h=["position","top","bottom","left","right","overflow","opacity"],l=["width","height","overflow"],c=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=t.effects.setMode(o,e.mode||"effect"),f=e.restore||"effect"!==p,m=e.scale||"both",g=e.origin||["middle","center"],v=o.css("position"),_=f?r:h,b={height:0,width:0,outerHeight:0,outerWidth:0};
"show"===p&&o.show(),s={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},"toggle"===e.mode&&"show"===p?(o.from=e.to||b,o.to=e.from||s):(o.from=e.from||("show"===p?b:s),o.to=e.to||("hide"===p?b:s)),a={from:{y:o.from.height/s.height,x:o.from.width/s.width},to:{y:o.to.height/s.height,x:o.to.width/s.width}},("box"===m||"both"===m)&&(a.from.y!==a.to.y&&(_=_.concat(u),o.from=t.effects.setTransition(o,u,a.from.y,o.from),o.to=t.effects.setTransition(o,u,a.to.y,o.to)),a.from.x!==a.to.x&&(_=_.concat(d),o.from=t.effects.setTransition(o,d,a.from.x,o.from),o.to=t.effects.setTransition(o,d,a.to.x,o.to))),("content"===m||"both"===m)&&a.from.y!==a.to.y&&(_=_.concat(c).concat(l),o.from=t.effects.setTransition(o,c,a.from.y,o.from),o.to=t.effects.setTransition(o,c,a.to.y,o.to)),t.effects.save(o,_),o.show(),t.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),g&&(n=t.effects.getBaseline(g,s),o.from.top=(s.outerHeight-o.outerHeight())*n.y,o.from.left=(s.outerWidth-o.outerWidth())*n.x,o.to.top=(s.outerHeight-o.to.outerHeight)*n.y,o.to.left=(s.outerWidth-o.to.outerWidth)*n.x),o.css(o.from),("content"===m||"both"===m)&&(u=u.concat(["marginTop","marginBottom"]).concat(c),d=d.concat(["marginLeft","marginRight"]),l=r.concat(u).concat(d),o.find("*[width]").each(function(){var i=t(this),s={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};
f&&t.effects.save(i,l),i.from={height:s.height*a.from.y,width:s.width*a.from.x,outerHeight:s.outerHeight*a.from.y,outerWidth:s.outerWidth*a.from.x},i.to={height:s.height*a.to.y,width:s.width*a.to.x,outerHeight:s.height*a.to.y,outerWidth:s.width*a.to.x},a.from.y!==a.to.y&&(i.from=t.effects.setTransition(i,u,a.from.y,i.from),i.to=t.effects.setTransition(i,u,a.to.y,i.to)),a.from.x!==a.to.x&&(i.from=t.effects.setTransition(i,d,a.from.x,i.from),i.to=t.effects.setTransition(i,d,a.to.x,i.to)),i.css(i.from),i.animate(i.to,e.duration,e.easing,function(){f&&t.effects.restore(i,l);
});
})),o.animate(o.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===o.to.opacity&&o.css("opacity",o.from.opacity),"hide"===p&&o.hide(),t.effects.restore(o,_),f||("static"===v?o.css({position:"relative",top:o.to.top,left:o.to.left}):t.each(["top","left"],function(t,e){o.css(e,function(e,i){var s=parseInt(i,10),n=t?o.to.left:o.to.top;
return"auto"===i?n+"px":s+n+"px";
});
})),t.effects.removeWrapper(o),i();
}});
};
})(jQuery);
(function(t){t.effects.effect.shake=function(e,i){var s,n=t(this),a=["position","top","bottom","left","right","height","width"],o=t.effects.setMode(n,e.mode||"effect"),r=e.direction||"left",h=e.distance||20,l=e.times||3,c=2*l+1,u=Math.round(e.duration/c),d="up"===r||"down"===r?"top":"left",p="up"===r||"left"===r,f={},m={},g={},v=n.queue(),_=v.length;
for(t.effects.save(n,a),n.show(),t.effects.createWrapper(n),f[d]=(p?"-=":"+=")+h,m[d]=(p?"+=":"-=")+2*h,g[d]=(p?"-=":"+=")+2*h,n.animate(f,u,e.easing),s=1;
l>s;
s++){n.animate(m,u,e.easing).animate(g,u,e.easing);
}n.animate(m,u,e.easing).animate(f,u/2,e.easing).queue(function(){"hide"===o&&n.hide(),t.effects.restore(n,a),t.effects.removeWrapper(n),i();
}),_>1&&v.splice.apply(v,[1,0].concat(v.splice(_,c+1))),n.dequeue();
};
})(jQuery);
(function(t){t.effects.effect.slide=function(e,i){var s,n=t(this),a=["position","top","bottom","left","right","width","height"],o=t.effects.setMode(n,e.mode||"show"),r="show"===o,h=e.direction||"left",l="up"===h||"down"===h?"top":"left",c="up"===h||"left"===h,u={};
t.effects.save(n,a),n.show(),s=e.distance||n["top"===l?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(n).css({overflow:"hidden"}),r&&n.css(l,c?isNaN(s)?"-"+s:-s:s),u[l]=(r?c?"+=":"-=":c?"-=":"+=")+s,n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&n.hide(),t.effects.restore(n,a),t.effects.removeWrapper(n),i();
}});
};
})(jQuery);
(function(t){t.effects.effect.transfer=function(e,i){var s=t(this),n=t(e.to),a="fixed"===n.css("position"),o=t("body"),r=a?o.scrollTop():0,h=a?o.scrollLeft():0,l=n.offset(),c={top:l.top-r,left:l.left-h,height:n.innerHeight(),width:n.innerWidth()},u=s.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:u.top-r,left:u.left-h,height:s.innerHeight(),width:s.innerWidth(),position:a?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){d.remove(),i();
});
};
})(jQuery);
/*
 AngularJS v1.1.5
 (c) 2010-2012 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(M,T,p){'use strict';function lc(){var b=M.angular;M.angular=mc;return b}function Xa(b){return!b||typeof b.length!=="number"?!1:typeof b.hasOwnProperty!="function"&&typeof b.constructor!="function"?!0:b instanceof R||ga&&b instanceof ga||Ea.call(b)!=="[object Object]"||typeof b.callee==="function"}function n(b,a,c){var d;if(b)if(H(b))for(d in b)d!="prototype"&&d!="length"&&d!="name"&&b.hasOwnProperty(d)&&a.call(c,b[d],d);else if(b.forEach&&b.forEach!==n)b.forEach(a,c);else if(Xa(b))for(d=
0;d<b.length;d++)a.call(c,b[d],d);else for(d in b)b.hasOwnProperty(d)&&a.call(c,b[d],d);return b}function qb(b){var a=[],c;for(c in b)b.hasOwnProperty(c)&&a.push(c);return a.sort()}function nc(b,a,c){for(var d=qb(b),e=0;e<d.length;e++)a.call(c,b[d[e]],d[e]);return d}function rb(b){return function(a,c){b(c,a)}}function Fa(){for(var b=ba.length,a;b;){b--;a=ba[b].charCodeAt(0);if(a==57)return ba[b]="A",ba.join("");if(a==90)ba[b]="0";else return ba[b]=String.fromCharCode(a+1),ba.join("")}ba.unshift("0");
return ba.join("")}function sb(b,a){a?b.$$hashKey=a:delete b.$$hashKey}function t(b){var a=b.$$hashKey;n(arguments,function(a){a!==b&&n(a,function(a,c){b[c]=a})});sb(b,a);return b}function N(b){return parseInt(b,10)}function tb(b,a){return t(new (t(function(){},{prototype:b})),a)}function q(){}function qa(b){return b}function S(b){return function(){return b}}function C(b){return typeof b=="undefined"}function B(b){return typeof b!="undefined"}function L(b){return b!=null&&typeof b=="object"}function E(b){return typeof b==
"string"}function Ya(b){return typeof b=="number"}function ra(b){return Ea.apply(b)=="[object Date]"}function F(b){return Ea.apply(b)=="[object Array]"}function H(b){return typeof b=="function"}function sa(b){return b&&b.document&&b.location&&b.alert&&b.setInterval}function U(b){return E(b)?b.replace(/^\s*/,"").replace(/\s*$/,""):b}function oc(b){return b&&(b.nodeName||b.bind&&b.find)}function Za(b,a,c){var d=[];n(b,function(b,g,i){d.push(a.call(c,b,g,i))});return d}function Ga(b,a){if(b.indexOf)return b.indexOf(a);
for(var c=0;c<b.length;c++)if(a===b[c])return c;return-1}function ta(b,a){var c=Ga(b,a);c>=0&&b.splice(c,1);return a}function V(b,a){if(sa(b)||b&&b.$evalAsync&&b.$watch)throw Error("Can't copy Window or Scope");if(a){if(b===a)throw Error("Can't copy equivalent objects or arrays");if(F(b))for(var c=a.length=0;c<b.length;c++)a.push(V(b[c]));else{c=a.$$hashKey;n(a,function(b,c){delete a[c]});for(var d in b)a[d]=V(b[d]);sb(a,c)}}else(a=b)&&(F(b)?a=V(b,[]):ra(b)?a=new Date(b.getTime()):L(b)&&(a=V(b,{})));
return a}function pc(b,a){var a=a||{},c;for(c in b)b.hasOwnProperty(c)&&c.substr(0,2)!=="$$"&&(a[c]=b[c]);return a}function ia(b,a){if(b===a)return!0;if(b===null||a===null)return!1;if(b!==b&&a!==a)return!0;var c=typeof b,d;if(c==typeof a&&c=="object")if(F(b)){if((c=b.length)==a.length){for(d=0;d<c;d++)if(!ia(b[d],a[d]))return!1;return!0}}else if(ra(b))return ra(a)&&b.getTime()==a.getTime();else{if(b&&b.$evalAsync&&b.$watch||a&&a.$evalAsync&&a.$watch||sa(b)||sa(a))return!1;c={};for(d in b)if(!(d.charAt(0)===
"$"||H(b[d]))){if(!ia(b[d],a[d]))return!1;c[d]=!0}for(d in a)if(!c[d]&&d.charAt(0)!=="$"&&a[d]!==p&&!H(a[d]))return!1;return!0}return!1}function $a(b,a){var c=arguments.length>2?ka.call(arguments,2):[];return H(a)&&!(a instanceof RegExp)?c.length?function(){return arguments.length?a.apply(b,c.concat(ka.call(arguments,0))):a.apply(b,c)}:function(){return arguments.length?a.apply(b,arguments):a.call(b)}:a}function qc(b,a){var c=a;/^\$+/.test(b)?c=p:sa(a)?c="$WINDOW":a&&T===a?c="$DOCUMENT":a&&a.$evalAsync&&
a.$watch&&(c="$SCOPE");return c}function ha(b,a){return JSON.stringify(b,qc,a?"  ":null)}function ub(b){return E(b)?JSON.parse(b):b}function ua(b){b&&b.length!==0?(b=I(""+b),b=!(b=="f"||b=="0"||b=="false"||b=="no"||b=="n"||b=="[]")):b=!1;return b}function va(b){b=w(b).clone();try{b.html("")}catch(a){}var c=w("<div>").append(b).html();try{return b[0].nodeType===3?I(c):c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+I(b)})}catch(d){return I(c)}}function vb(b){var a={},c,d;n((b||
"").split("&"),function(b){b&&(c=b.split("="),d=decodeURIComponent(c[0]),a[d]=B(c[1])?decodeURIComponent(c[1]):!0)});return a}function wb(b){var a=[];n(b,function(b,d){a.push(wa(d,!0)+(b===!0?"":"="+wa(b,!0)))});return a.length?a.join("&"):""}function ab(b){return wa(b,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function wa(b,a){return encodeURIComponent(b).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,a?"%20":"+")}function rc(b,
a){function c(a){a&&d.push(a)}var d=[b],e,g,i=["ng:app","ng-app","x-ng-app","data-ng-app"],f=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;n(i,function(a){i[a]=!0;c(T.getElementById(a));a=a.replace(":","\\:");b.querySelectorAll&&(n(b.querySelectorAll("."+a),c),n(b.querySelectorAll("."+a+"\\:"),c),n(b.querySelectorAll("["+a+"]"),c))});n(d,function(a){if(!e){var b=f.exec(" "+a.className+" ");b?(e=a,g=(b[2]||"").replace(/\s+/g,",")):n(a.attributes,function(b){if(!e&&i[b.name])e=a,g=b.value})}});e&&a(e,g?[g]:[])}
function xb(b,a){var c=function(){b=w(b);a=a||[];a.unshift(["$provide",function(a){a.value("$rootElement",b)}]);a.unshift("ng");var c=yb(a);c.invoke(["$rootScope","$rootElement","$compile","$injector","$animator",function(a,b,c,d,e){a.$apply(function(){b.data("$injector",d);c(b)(a)});e.enabled(!0)}]);return c},d=/^NG_DEFER_BOOTSTRAP!/;if(M&&!d.test(M.name))return c();M.name=M.name.replace(d,"");Ha.resumeBootstrap=function(b){n(b,function(b){a.push(b)});c()}}function bb(b,a){a=a||"_";return b.replace(sc,
function(b,d){return(d?a:"")+b.toLowerCase()})}function cb(b,a,c){if(!b)throw Error("Argument '"+(a||"?")+"' is "+(c||"required"));return b}function xa(b,a,c){c&&F(b)&&(b=b[b.length-1]);cb(H(b),a,"not a function, got "+(b&&typeof b=="object"?b.constructor.name||"Object":typeof b));return b}function tc(b){function a(a,b,e){return a[b]||(a[b]=e())}return a(a(b,"angular",Object),"module",function(){var b={};return function(d,e,g){e&&b.hasOwnProperty(d)&&(b[d]=null);return a(b,d,function(){function a(c,
d,e){return function(){b[e||"push"]([c,d,arguments]);return m}}if(!e)throw Error("No module: "+d);var b=[],c=[],j=a("$injector","invoke"),m={_invokeQueue:b,_runBlocks:c,requires:e,name:d,provider:a("$provide","provider"),factory:a("$provide","factory"),service:a("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),animation:a("$animationProvider","register"),filter:a("$filterProvider","register"),controller:a("$controllerProvider","register"),directive:a("$compileProvider",
"directive"),config:j,run:function(a){c.push(a);return this}};g&&j(g);return m})}})}function Ia(b){return b.replace(uc,function(a,b,d,e){return e?d.toUpperCase():d}).replace(vc,"Moz$1")}function db(b,a){function c(){var e;for(var b=[this],c=a,i,f,h,j,m,k;b.length;){i=b.shift();f=0;for(h=i.length;f<h;f++){j=w(i[f]);c?j.triggerHandler("$destroy"):c=!c;m=0;for(e=(k=j.children()).length,j=e;m<j;m++)b.push(ga(k[m]))}}return d.apply(this,arguments)}var d=ga.fn[b],d=d.$original||d;c.$original=d;ga.fn[b]=
c}function R(b){if(b instanceof R)return b;if(!(this instanceof R)){if(E(b)&&b.charAt(0)!="<")throw Error("selectors not implemented");return new R(b)}if(E(b)){var a=T.createElement("div");a.innerHTML="<div>&#160;</div>"+b;a.removeChild(a.firstChild);eb(this,a.childNodes);this.remove()}else eb(this,b)}function fb(b){return b.cloneNode(!0)}function ya(b){zb(b);for(var a=0,b=b.childNodes||[];a<b.length;a++)ya(b[a])}function Ab(b,a,c){var d=ca(b,"events");ca(b,"handle")&&(C(a)?n(d,function(a,c){gb(b,
c,a);delete d[c]}):C(c)?(gb(b,a,d[a]),delete d[a]):ta(d[a],c))}function zb(b){var a=b[Ja],c=Ka[a];c&&(c.handle&&(c.events.$destroy&&c.handle({},"$destroy"),Ab(b)),delete Ka[a],b[Ja]=p)}function ca(b,a,c){var d=b[Ja],d=Ka[d||-1];if(B(c))d||(b[Ja]=d=++wc,d=Ka[d]={}),d[a]=c;else return d&&d[a]}function Bb(b,a,c){var d=ca(b,"data"),e=B(c),g=!e&&B(a),i=g&&!L(a);!d&&!i&&ca(b,"data",d={});if(e)d[a]=c;else if(g)if(i)return d&&d[a];else t(d,a);else return d}function La(b,a){return(" "+b.className+" ").replace(/[\n\t]/g,
" ").indexOf(" "+a+" ")>-1}function Cb(b,a){a&&n(a.split(" "),function(a){b.className=U((" "+b.className+" ").replace(/[\n\t]/g," ").replace(" "+U(a)+" "," "))})}function Db(b,a){a&&n(a.split(" "),function(a){if(!La(b,a))b.className=U(b.className+" "+U(a))})}function eb(b,a){if(a)for(var a=!a.nodeName&&B(a.length)&&!sa(a)?a:[a],c=0;c<a.length;c++)b.push(a[c])}function Eb(b,a){return Ma(b,"$"+(a||"ngController")+"Controller")}function Ma(b,a,c){b=w(b);for(b[0].nodeType==9&&(b=b.find("html"));b.length;){if(c=
b.data(a))return c;b=b.parent()}}function Fb(b,a){var c=Na[a.toLowerCase()];return c&&Gb[b.nodeName]&&c}function xc(b,a){var c=function(c,e){if(!c.preventDefault)c.preventDefault=function(){c.returnValue=!1};if(!c.stopPropagation)c.stopPropagation=function(){c.cancelBubble=!0};if(!c.target)c.target=c.srcElement||T;if(C(c.defaultPrevented)){var g=c.preventDefault;c.preventDefault=function(){c.defaultPrevented=!0;g.call(c)};c.defaultPrevented=!1}c.isDefaultPrevented=function(){return c.defaultPrevented||
c.returnValue==!1};n(a[e||c.type],function(a){a.call(b,c)});Z<=8?(c.preventDefault=null,c.stopPropagation=null,c.isDefaultPrevented=null):(delete c.preventDefault,delete c.stopPropagation,delete c.isDefaultPrevented)};c.elem=b;return c}function la(b){var a=typeof b,c;if(a=="object"&&b!==null)if(typeof(c=b.$$hashKey)=="function")c=b.$$hashKey();else{if(c===p)c=b.$$hashKey=Fa()}else c=b;return a+":"+c}function za(b){n(b,this.put,this)}function Hb(b){var a,c;if(typeof b=="function"){if(!(a=b.$inject))a=
[],c=b.toString().replace(yc,""),c=c.match(zc),n(c[1].split(Ac),function(b){b.replace(Bc,function(b,c,d){a.push(d)})}),b.$inject=a}else F(b)?(c=b.length-1,xa(b[c],"fn"),a=b.slice(0,c)):xa(b,"fn",!0);return a}function yb(b){function a(a){return function(b,c){if(L(b))n(b,rb(a));else return a(b,c)}}function c(a,b){if(H(b)||F(b))b=k.instantiate(b);if(!b.$get)throw Error("Provider "+a+" must define $get factory method.");return m[a+f]=b}function d(a,b){return c(a,{$get:b})}function e(a){var b=[];n(a,function(a){if(!j.get(a))if(j.put(a,
!0),E(a)){var c=Aa(a);b=b.concat(e(c.requires)).concat(c._runBlocks);try{for(var d=c._invokeQueue,c=0,f=d.length;c<f;c++){var g=d[c],o=k.get(g[0]);o[g[1]].apply(o,g[2])}}catch(h){throw h.message&&(h.message+=" from "+a),h;}}else if(H(a))try{b.push(k.invoke(a))}catch(l){throw l.message&&(l.message+=" from "+a),l;}else if(F(a))try{b.push(k.invoke(a))}catch(i){throw i.message&&(i.message+=" from "+String(a[a.length-1])),i;}else xa(a,"module")});return b}function g(a,b){function c(d){if(typeof d!=="string")throw Error("Service name expected");
if(a.hasOwnProperty(d)){if(a[d]===i)throw Error("Circular dependency: "+h.join(" <- "));return a[d]}else try{return h.unshift(d),a[d]=i,a[d]=b(d)}finally{h.shift()}}function d(a,b,e){var f=[],j=Hb(a),g,o,h;o=0;for(g=j.length;o<g;o++)h=j[o],f.push(e&&e.hasOwnProperty(h)?e[h]:c(h));a.$inject||(a=a[g]);switch(b?-1:f.length){case 0:return a();case 1:return a(f[0]);case 2:return a(f[0],f[1]);case 3:return a(f[0],f[1],f[2]);case 4:return a(f[0],f[1],f[2],f[3]);case 5:return a(f[0],f[1],f[2],f[3],f[4]);
case 6:return a(f[0],f[1],f[2],f[3],f[4],f[5]);case 7:return a(f[0],f[1],f[2],f[3],f[4],f[5],f[6]);case 8:return a(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7]);case 9:return a(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8]);case 10:return a(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9]);default:return a.apply(b,f)}}return{invoke:d,instantiate:function(a,b){var c=function(){},e;c.prototype=(F(a)?a[a.length-1]:a).prototype;c=new c;e=d(a,c,b);return L(e)?e:c},get:c,annotate:Hb,has:function(b){return m.hasOwnProperty(b+
f)||a.hasOwnProperty(b)}}}var i={},f="Provider",h=[],j=new za,m={$provide:{provider:a(c),factory:a(d),service:a(function(a,b){return d(a,["$injector",function(a){return a.instantiate(b)}])}),value:a(function(a,b){return d(a,S(b))}),constant:a(function(a,b){m[a]=b;l[a]=b}),decorator:function(a,b){var c=k.get(a+f),d=c.$get;c.$get=function(){var a=u.invoke(d,c);return u.invoke(b,null,{$delegate:a})}}}},k=m.$injector=g(m,function(){throw Error("Unknown provider: "+h.join(" <- "));}),l={},u=l.$injector=
g(l,function(a){a=k.get(a+f);return u.invoke(a.$get,a)});n(e(b),function(a){u.invoke(a||q)});return u}function Cc(){var b=!0;this.disableAutoScrolling=function(){b=!1};this.$get=["$window","$location","$rootScope",function(a,c,d){function e(a){var b=null;n(a,function(a){!b&&I(a.nodeName)==="a"&&(b=a)});return b}function g(){var b=c.hash(),d;b?(d=i.getElementById(b))?d.scrollIntoView():(d=e(i.getElementsByName(b)))?d.scrollIntoView():b==="top"&&a.scrollTo(0,0):a.scrollTo(0,0)}var i=a.document;b&&d.$watch(function(){return c.hash()},
function(){d.$evalAsync(g)});return g}]}function Ib(b){this.register=function(a,c){b.factory(Ia(a)+"Animation",c)};this.$get=["$injector",function(a){return function(b){if(b&&(b=Ia(b)+"Animation",a.has(b)))return a.get(b)}}]}function Dc(b,a,c,d){function e(a){try{a.apply(null,ka.call(arguments,1))}finally{if(o--,o===0)for(;z.length;)try{z.pop()()}catch(b){c.error(b)}}}function g(a,b){(function s(){n(r,function(a){a()});y=b(s,a)})()}function i(){x!=f.url()&&(x=f.url(),n(v,function(a){a(f.url())}))}
var f=this,h=a[0],j=b.location,m=b.history,k=b.setTimeout,l=b.clearTimeout,u={};f.isMock=!1;var o=0,z=[];f.$$completeOutstandingRequest=e;f.$$incOutstandingRequestCount=function(){o++};f.notifyWhenNoOutstandingRequests=function(a){n(r,function(a){a()});o===0?a():z.push(a)};var r=[],y;f.addPollFn=function(a){C(y)&&g(100,k);r.push(a);return a};var x=j.href,W=a.find("base");f.url=function(a,b){if(a){if(x!=a)return x=a,d.history?b?m.replaceState(null,"",a):(m.pushState(null,"",a),W.attr("href",W.attr("href"))):
b?j.replace(a):j.href=a,f}else return j.href.replace(/%27/g,"'")};var v=[],A=!1;f.onUrlChange=function(a){A||(d.history&&w(b).bind("popstate",i),d.hashchange?w(b).bind("hashchange",i):f.addPollFn(i),A=!0);v.push(a);return a};f.baseHref=function(){var a=W.attr("href");return a?a.replace(/^https?\:\/\/[^\/]*/,""):""};var G={},D="",$=f.baseHref();f.cookies=function(a,b){var d,e,f,j;if(a)if(b===p)h.cookie=escape(a)+"=;path="+$+";expires=Thu, 01 Jan 1970 00:00:00 GMT";else{if(E(b))d=(h.cookie=escape(a)+
"="+escape(b)+";path="+$).length+1,d>4096&&c.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+d+" > 4096 bytes)!")}else{if(h.cookie!==D){D=h.cookie;d=D.split("; ");G={};for(f=0;f<d.length;f++)e=d[f],j=e.indexOf("="),j>0&&(a=unescape(e.substring(0,j)),G[a]===p&&(G[a]=unescape(e.substring(j+1))))}return G}};f.defer=function(a,b){var c;o++;c=k(function(){delete u[c];e(a)},b||0);u[c]=!0;return c};f.defer.cancel=function(a){return u[a]?(delete u[a],l(a),e(q),!0):!1}}function Ec(){this.$get=
["$window","$log","$sniffer","$document",function(b,a,c,d){return new Dc(b,d,a,c)}]}function Fc(){this.$get=function(){function b(b,d){function e(a){if(a!=k){if(l){if(l==a)l=a.n}else l=a;g(a.n,a.p);g(a,k);k=a;k.n=null}}function g(a,b){if(a!=b){if(a)a.p=b;if(b)b.n=a}}if(b in a)throw Error("cacheId "+b+" taken");var i=0,f=t({},d,{id:b}),h={},j=d&&d.capacity||Number.MAX_VALUE,m={},k=null,l=null;return a[b]={put:function(a,b){var c=m[a]||(m[a]={key:a});e(c);if(!C(b))return a in h||i++,h[a]=b,i>j&&this.remove(l.key),
b},get:function(a){var b=m[a];if(b)return e(b),h[a]},remove:function(a){var b=m[a];if(b){if(b==k)k=b.p;if(b==l)l=b.n;g(b.n,b.p);delete m[a];delete h[a];i--}},removeAll:function(){h={};i=0;m={};k=l=null},destroy:function(){m=f=h=null;delete a[b]},info:function(){return t({},f,{size:i})}}}var a={};b.info=function(){var b={};n(a,function(a,e){b[e]=a.info()});return b};b.get=function(b){return a[b]};return b}}function Gc(){this.$get=["$cacheFactory",function(b){return b("templates")}]}function Jb(b){var a=
{},c="Directive",d=/^\s*directive\:\s*([\d\w\-_]+)\s+(.*)$/,e=/(([\d\w\-_]+)(?:\:([^;]+))?;?)/,g="Template must have exactly one root element. was: ",i=/^\s*(https?|ftp|mailto|file):/;this.directive=function h(d,e){E(d)?(cb(e,"directive"),a.hasOwnProperty(d)||(a[d]=[],b.factory(d+c,["$injector","$exceptionHandler",function(b,c){var e=[];n(a[d],function(a){try{var g=b.invoke(a);if(H(g))g={compile:S(g)};else if(!g.compile&&g.link)g.compile=S(g.link);g.priority=g.priority||0;g.name=g.name||d;g.require=
g.require||g.controller&&g.name;g.restrict=g.restrict||"A";e.push(g)}catch(h){c(h)}});return e}])),a[d].push(e)):n(d,rb(h));return this};this.urlSanitizationWhitelist=function(a){return B(a)?(i=a,this):i};this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document",function(b,j,m,k,l,u,o,z,r){function y(a,b,c){a instanceof w||(a=w(a));n(a,function(b,c){b.nodeType==3&&b.nodeValue.match(/\S+/)&&(a[c]=w(b).wrap("<span></span>").parent()[0])});
var d=W(a,b,a,c);return function(b,c){cb(b,"scope");for(var e=c?Ba.clone.call(a):a,j=0,g=e.length;j<g;j++){var h=e[j];(h.nodeType==1||h.nodeType==9)&&e.eq(j).data("$scope",b)}x(e,"ng-scope");c&&c(e,b);d&&d(b,e,e);return e}}function x(a,b){try{a.addClass(b)}catch(c){}}function W(a,b,c,d){function e(a,c,d,g){var h,i,k,l,o,m,u,z=[];o=0;for(m=c.length;o<m;o++)z.push(c[o]);u=o=0;for(m=j.length;o<m;u++)i=z[u],c=j[o++],h=j[o++],c?(c.scope?(k=a.$new(L(c.scope)),w(i).data("$scope",k)):k=a,(l=c.transclude)||
!g&&b?c(h,k,i,d,function(b){return function(c){var d=a.$new();d.$$transcluded=!0;return b(d,c).bind("$destroy",$a(d,d.$destroy))}}(l||b)):c(h,k,i,p,g)):h&&h(a,i.childNodes,p,g)}for(var j=[],g,h,k,i=0;i<a.length;i++)h=new ma,g=v(a[i],[],h,d),h=(g=g.length?A(g,a[i],h,b,c):null)&&g.terminal||!a[i].childNodes||!a[i].childNodes.length?null:W(a[i].childNodes,g?g.transclude:b),j.push(g),j.push(h),k=k||g||h;return k?e:null}function v(a,b,c,j){var g=c.$attr,h;switch(a.nodeType){case 1:G(b,da(hb(a).toLowerCase()),
"E",j);var i,k,l;h=a.attributes;for(var o=0,m=h&&h.length;o<m;o++)if(i=h[o],i.specified)k=i.name,l=da(k),Y.test(l)&&(k=l.substr(6).toLowerCase()),l=da(k.toLowerCase()),g[l]=k,c[l]=i=U(Z&&k=="href"?decodeURIComponent(a.getAttribute(k,2)):i.value),Fb(a,l)&&(c[l]=!0),s(a,b,i,l),G(b,l,"A",j);a=a.className;if(E(a)&&a!=="")for(;h=e.exec(a);)l=da(h[2]),G(b,l,"C",j)&&(c[l]=U(h[3])),a=a.substr(h.index+h[0].length);break;case 3:P(b,a.nodeValue);break;case 8:try{if(h=d.exec(a.nodeValue))l=da(h[1]),G(b,l,"M",
j)&&(c[l]=U(h[2]))}catch(u){}}b.sort(K);return b}function A(a,b,c,d,e){function h(a,b){if(a)a.require=s.require,z.push(a);if(b)b.require=s.require,ea.push(b)}function i(a,b){var c,d="data",e=!1;if(E(a)){for(;(c=a.charAt(0))=="^"||c=="?";)a=a.substr(1),c=="^"&&(d="inheritedData"),e=e||c=="?";c=b[d]("$"+a+"Controller");if(!c&&!e)throw Error("No controller: "+a);}else F(a)&&(c=[],n(a,function(a){c.push(i(a,b))}));return c}function k(a,d,e,g,h){var l,v,r,D,x;l=b===e?c:pc(c,new ma(w(e),c.$attr));v=l.$$element;
if(K){var y=/^\s*([@=&])(\??)\s*(\w*)\s*$/,s=d.$parent||d;n(K.scope,function(a,b){var c=a.match(y)||[],e=c[3]||b,g=c[2]=="?",c=c[1],h,k,i;d.$$isolateBindings[b]=c+e;switch(c){case "@":l.$observe(e,function(a){d[b]=a});l.$$observers[e].$$scope=s;l[e]&&(d[b]=j(l[e])(s));break;case "=":if(g&&!l[e])break;k=u(l[e]);i=k.assign||function(){h=d[b]=k(s);throw Error(Kb+l[e]+" (directive: "+K.name+")");};h=d[b]=k(s);d.$watch(function(){var a=k(s);a!==d[b]&&(a!==h?h=d[b]=a:i(s,a=h=d[b]));return a});break;case "&":k=
u(l[e]);d[b]=function(a){return k(s,a)};break;default:throw Error("Invalid isolate scope definition for directive "+K.name+": "+a);}})}q&&n(q,function(a){var b={$scope:d,$element:v,$attrs:l,$transclude:h};x=a.controller;x=="@"&&(x=l[a.name]);v.data("$"+a.name+"Controller",o(x,b))});g=0;for(r=z.length;g<r;g++)try{D=z[g],D(d,v,l,D.require&&i(D.require,v))}catch(Hc){m(Hc,va(v))}a&&a(d,e.childNodes,p,h);g=0;for(r=ea.length;g<r;g++)try{D=ea[g],D(d,v,l,D.require&&i(D.require,v))}catch(J){m(J,va(v))}}for(var l=
-Number.MAX_VALUE,z=[],ea=[],r=null,K=null,W=null,J=c.$$element=w(b),s,A,Y,G,P=d,q,na,t,B=0,C=a.length;B<C;B++){s=a[B];Y=p;if(l>s.priority)break;if(t=s.scope)O("isolated scope",K,s,J),L(t)&&(x(J,"ng-isolate-scope"),K=s),x(J,"ng-scope"),r=r||s;A=s.name;if(t=s.controller)q=q||{},O("'"+A+"' controller",q[A],s,J),q[A]=s;if(t=s.transclude)O("transclusion",G,s,J),G=s,l=s.priority,t=="element"?(Y=w(b),J=c.$$element=w(T.createComment(" "+A+": "+c[A]+" ")),b=J[0],ja(e,w(Y[0]),b),P=y(Y,d,l)):(Y=w(fb(b)).contents(),
J.html(""),P=y(Y,d));if(s.template)if(O("template",W,s,J),W=s,t=H(s.template)?s.template(J,c):s.template,t=Lb(t),s.replace){Y=w("<div>"+U(t)+"</div>").contents();b=Y[0];if(Y.length!=1||b.nodeType!==1)throw Error(g+t);ja(e,J,b);A={$attr:{}};a=a.concat(v(b,a.splice(B+1,a.length-(B+1)),A));D(c,A);C=a.length}else J.html(t);if(s.templateUrl)O("template",W,s,J),W=s,k=$(a.splice(B,a.length-B),k,J,c,e,s.replace,P),C=a.length;else if(s.compile)try{na=s.compile(J,c,P),H(na)?h(null,na):na&&h(na.pre,na.post)}catch(I){m(I,
va(J))}if(s.terminal)k.terminal=!0,l=Math.max(l,s.priority)}k.scope=r&&r.scope;k.transclude=G&&P;return k}function G(d,e,j,g){var l=!1;if(a.hasOwnProperty(e))for(var k,e=b.get(e+c),i=0,o=e.length;i<o;i++)try{if(k=e[i],(g===p||g>k.priority)&&k.restrict.indexOf(j)!=-1)d.push(k),l=!0}catch(u){m(u)}return l}function D(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;n(a,function(d,e){e.charAt(0)!="$"&&(b[e]&&(d+=(e==="style"?";":" ")+b[e]),a.$set(e,d,!0,c[e]))});n(b,function(b,j){j=="class"?(x(e,b),a["class"]=
(a["class"]?a["class"]+" ":"")+b):j=="style"?e.attr("style",e.attr("style")+";"+b):j.charAt(0)!="$"&&!a.hasOwnProperty(j)&&(a[j]=b,d[j]=c[j])})}function $(a,b,c,d,e,j,h){var i=[],o,m,u=c[0],z=a.shift(),r=t({},z,{controller:null,templateUrl:null,transclude:null,scope:null}),z=H(z.templateUrl)?z.templateUrl(c,d):z.templateUrl;c.html("");k.get(z,{cache:l}).success(function(l){var k,z,l=Lb(l);if(j){z=w("<div>"+U(l)+"</div>").contents();k=z[0];if(z.length!=1||k.nodeType!==1)throw Error(g+l);l={$attr:{}};
ja(e,c,k);v(k,a,l);D(d,l)}else k=u,c.html(l);a.unshift(r);o=A(a,k,d,h);for(m=W(c[0].childNodes,h);i.length;){var ea=i.shift(),l=i.shift();z=i.shift();var x=i.shift(),y=k;l!==u&&(y=fb(k),ja(z,w(l),y));o(function(){b(m,ea,y,e,x)},ea,y,e,x)}i=null}).error(function(a,b,c,d){throw Error("Failed to load template: "+d.url);});return function(a,c,d,e,j){i?(i.push(c),i.push(d),i.push(e),i.push(j)):o(function(){b(m,c,d,e,j)},c,d,e,j)}}function K(a,b){return b.priority-a.priority}function O(a,b,c,d){if(b)throw Error("Multiple directives ["+
b.name+", "+c.name+"] asking for "+a+" on: "+va(d));}function P(a,b){var c=j(b,!0);c&&a.push({priority:0,compile:S(function(a,b){var d=b.parent(),e=d.data("$binding")||[];e.push(c);x(d.data("$binding",e),"ng-binding");a.$watch(c,function(a){b[0].nodeValue=a})})})}function s(a,b,c,d){var e=j(c,!0);e&&b.push({priority:100,compile:S(function(a,b,c){b=c.$$observers||(c.$$observers={});if(e=j(c[d],!0))c[d]=e(a),(b[d]||(b[d]=[])).$$inter=!0,(c.$$observers&&c.$$observers[d].$$scope||a).$watch(e,function(a){c.$set(d,
a)})})})}function ja(a,b,c){var d=b[0],e=d.parentNode,j,g;if(a){j=0;for(g=a.length;j<g;j++)if(a[j]==d){a[j]=c;break}}e&&e.replaceChild(c,d);c[w.expando]=d[w.expando];b[0]=c}var ma=function(a,b){this.$$element=a;this.$attr=b||{}};ma.prototype={$normalize:da,$set:function(a,b,c,d){var e=Fb(this.$$element[0],a),j=this.$$observers;e&&(this.$$element.prop(a,b),d=e);this[a]=b;d?this.$attr[a]=d:(d=this.$attr[a])||(this.$attr[a]=d=bb(a,"-"));if(hb(this.$$element[0])==="A"&&a==="href")q.setAttribute("href",
b),e=q.href,e.match(i)||(this[a]=b="unsafe:"+e);c!==!1&&(b===null||b===p?this.$$element.removeAttr(d):this.$$element.attr(d,b));j&&n(j[a],function(a){try{a(b)}catch(c){m(c)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers={}),e=d[a]||(d[a]=[]);e.push(b);z.$evalAsync(function(){e.$$inter||b(c[a])});return b}};var q=r[0].createElement("a"),ea=j.startSymbol(),J=j.endSymbol(),Lb=ea=="{{"||J=="}}"?qa:function(a){return a.replace(/\{\{/g,ea).replace(/}}/g,J)},Y=/^ngAttr[A-Z]/;return y}]}
function da(b){return Ia(b.replace(Ic,""))}function Jc(){var b={},a=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(a,d){L(a)?t(b,a):b[a]=d};this.$get=["$injector","$window",function(c,d){return function(e,g){var i,f;E(e)&&(f=e.match(a),i=f[1],f=f[3],e=b.hasOwnProperty(i)?b[i]:ib(g.$scope,i,!0)||ib(d,i,!0),xa(e,i,!0));i=c.instantiate(e,g);if(f){if(typeof g.$scope!=="object")throw Error('Can not export controller as "'+f+'". No scope object provided!');g.$scope[f]=i}return i}}]}function Kc(){this.$get=
["$window",function(b){return w(b.document)}]}function Lc(){this.$get=["$log",function(b){return function(a,c){b.error.apply(b,arguments)}}]}function Mc(){var b="{{",a="}}";this.startSymbol=function(a){return a?(b=a,this):b};this.endSymbol=function(b){return b?(a=b,this):a};this.$get=["$parse","$exceptionHandler",function(c,d){function e(e,h){for(var j,m,k=0,l=[],u=e.length,o=!1,z=[];k<u;)(j=e.indexOf(b,k))!=-1&&(m=e.indexOf(a,j+g))!=-1?(k!=j&&l.push(e.substring(k,j)),l.push(k=c(o=e.substring(j+g,
m))),k.exp=o,k=m+i,o=!0):(k!=u&&l.push(e.substring(k)),k=u);if(!(u=l.length))l.push(""),u=1;if(!h||o)return z.length=u,k=function(a){try{for(var b=0,c=u,j;b<c;b++){if(typeof(j=l[b])=="function")j=j(a),j==null||j==p?j="":typeof j!="string"&&(j=ha(j));z[b]=j}return z.join("")}catch(g){d(Error("Error while interpolating: "+e+"\n"+g.toString()))}},k.exp=e,k.parts=l,k}var g=b.length,i=a.length;e.startSymbol=function(){return b};e.endSymbol=function(){return a};return e}]}function Mb(b){for(var b=b.split("/"),
a=b.length;a--;)b[a]=ab(b[a]);return b.join("/")}function Nb(b,a){var c=jb.exec(b);a.$$protocol=c[1];a.$$host=c[3];a.$$port=N(c[5])||Oa[c[1]]||null}function Ob(b,a){var c=Pb.exec(b);a.$$path=decodeURIComponent(c[1]);a.$$search=vb(c[3]);a.$$hash=decodeURIComponent(c[5]||"");if(a.$$path&&a.$$path.charAt(0)!="/")a.$$path="/"+a.$$path}function fa(b,a,c){return a.indexOf(b)==0?a.substr(b.length):c}function Ca(b){var a=b.indexOf("#");return a==-1?b:b.substr(0,a)}function kb(b){return b.substr(0,Ca(b).lastIndexOf("/")+
1)}function Qb(b,a){var a=a||"",c=kb(b);this.$$parse=function(a){var b={};Nb(a,b);var g=fa(c,a);if(!E(g))throw Error('Invalid url "'+a+'", missing path prefix "'+c+'".');Ob(g,b);t(this,b);if(!this.$$path)this.$$path="/";this.$$compose()};this.$$compose=function(){var a=wb(this.$$search),b=this.$$hash?"#"+ab(this.$$hash):"";this.$$url=Mb(this.$$path)+(a?"?"+a:"")+b;this.$$absUrl=c+this.$$url.substr(1)};this.$$rewrite=function(d){var e;if((e=fa(b,d))!==p)return d=e,(e=fa(a,e))!==p?c+(fa("/",e)||e):
b+d;else if((e=fa(c,d))!==p)return c+e;else if(c==d+"/")return c}}function lb(b,a){var c=kb(b);this.$$parse=function(d){Nb(d,this);var e=fa(b,d)||fa(c,d);if(!E(e))throw Error('Invalid url "'+d+'", does not start with "'+b+'".');e=e.charAt(0)=="#"?fa(a,e):e;if(!E(e))throw Error('Invalid url "'+d+'", missing hash prefix "'+a+'".');Ob(e,this);this.$$compose()};this.$$compose=function(){var c=wb(this.$$search),e=this.$$hash?"#"+ab(this.$$hash):"";this.$$url=Mb(this.$$path)+(c?"?"+c:"")+e;this.$$absUrl=
b+(this.$$url?a+this.$$url:"")};this.$$rewrite=function(a){if(Ca(b)==Ca(a))return a}}function Rb(b,a){lb.apply(this,arguments);var c=kb(b);this.$$rewrite=function(d){var e;if(b==Ca(d))return d;else if(e=fa(c,d))return b+a+e;else if(c===d+"/")return c}}function Pa(b){return function(){return this[b]}}function Sb(b,a){return function(c){if(C(c))return this[b];this[b]=a(c);this.$$compose();return this}}function Nc(){var b="",a=!1;this.hashPrefix=function(a){return B(a)?(b=a,this):b};this.html5Mode=function(b){return B(b)?
(a=b,this):a};this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(c,d,e,g){function i(a){c.$broadcast("$locationChangeSuccess",f.absUrl(),a)}var f,h=d.baseHref(),j=d.url();a?(h=h?j.substring(0,j.indexOf("/",j.indexOf("//")+2))+h:j,e=e.history?Qb:Rb):(h=Ca(j),e=lb);f=new e(h,"#"+b);f.$$parse(f.$$rewrite(j));g.bind("click",function(a){if(!a.ctrlKey&&!(a.metaKey||a.which==2)){for(var b=w(a.target);I(b[0].nodeName)!=="a";)if(b[0]===g[0]||!(b=b.parent())[0])return;var e=b.prop("href"),
j=f.$$rewrite(e);e&&!b.attr("target")&&j&&!a.isDefaultPrevented()&&(a.preventDefault(),j!=d.url()&&(f.$$parse(j),c.$apply(),M.angular["ff-684208-preventDefault"]=!0))}});f.absUrl()!=j&&d.url(f.absUrl(),!0);d.onUrlChange(function(a){f.absUrl()!=a&&(c.$broadcast("$locationChangeStart",a,f.absUrl()).defaultPrevented?d.url(f.absUrl()):(c.$evalAsync(function(){var b=f.absUrl();f.$$parse(a);i(b)}),c.$$phase||c.$digest()))});var m=0;c.$watch(function(){var a=d.url(),b=f.$$replace;if(!m||a!=f.absUrl())m++,
c.$evalAsync(function(){c.$broadcast("$locationChangeStart",f.absUrl(),a).defaultPrevented?f.$$parse(a):(d.url(f.absUrl(),b),i(a))});f.$$replace=!1;return m});return f}]}function Oc(){var b=!0,a=this;this.debugEnabled=function(a){return B(a)?(b=a,this):b};this.$get=["$window",function(c){function d(a){a instanceof Error&&(a.stack?a=a.message&&a.stack.indexOf(a.message)===-1?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line));return a}function e(a){var b=
c.console||{},e=b[a]||b.log||q;return e.apply?function(){var a=[];n(arguments,function(b){a.push(d(b))});return e.apply(b,a)}:function(a,b){e(a,b)}}return{log:e("log"),warn:e("warn"),info:e("info"),error:e("error"),debug:function(){var c=e("debug");return function(){b&&c.apply(a,arguments)}}()}}]}function Pc(b,a){function c(a){return a.indexOf(r)!=-1}function d(a){a=a||1;return o+a<b.length?b.charAt(o+a):!1}function e(a){return"0"<=a&&a<="9"}function g(a){return a==" "||a=="\r"||a=="\t"||a=="\n"||
a=="\u000b"||a=="\u00a0"}function i(a){return"a"<=a&&a<="z"||"A"<=a&&a<="Z"||"_"==a||a=="$"}function f(a){return a=="-"||a=="+"||e(a)}function h(a,c,d){d=d||o;throw Error("Lexer Error: "+a+" at column"+(B(c)?"s "+c+"-"+o+" ["+b.substring(c,d)+"]":" "+d)+" in expression ["+b+"].");}function j(){for(var a="",c=o;o<b.length;){var j=I(b.charAt(o));if(j=="."||e(j))a+=j;else{var g=d();if(j=="e"&&f(g))a+=j;else if(f(j)&&g&&e(g)&&a.charAt(a.length-1)=="e")a+=j;else if(f(j)&&(!g||!e(g))&&a.charAt(a.length-
1)=="e")h("Invalid exponent");else break}o++}a*=1;l.push({index:c,text:a,json:!0,fn:function(){return a}})}function m(){for(var c="",d=o,f,j,h,k;o<b.length;){k=b.charAt(o);if(k=="."||i(k)||e(k))k=="."&&(f=o),c+=k;else break;o++}if(f)for(j=o;j<b.length;){k=b.charAt(j);if(k=="("){h=c.substr(f-d+1);c=c.substr(0,f-d);o=j;break}if(g(k))j++;else break}d={index:d,text:c};if(Da.hasOwnProperty(c))d.fn=d.json=Da[c];else{var m=Tb(c,a);d.fn=t(function(a,b){return m(a,b)},{assign:function(a,b){return Ub(a,c,b)}})}l.push(d);
h&&(l.push({index:f,text:".",json:!1}),l.push({index:f+1,text:h,json:!1}))}function k(a){var c=o;o++;for(var d="",e=a,f=!1;o<b.length;){var j=b.charAt(o);e+=j;if(f)j=="u"?(j=b.substring(o+1,o+5),j.match(/[\da-f]{4}/i)||h("Invalid unicode escape [\\u"+j+"]"),o+=4,d+=String.fromCharCode(parseInt(j,16))):(f=Qc[j],d+=f?f:j),f=!1;else if(j=="\\")f=!0;else if(j==a){o++;l.push({index:c,text:e,string:d,json:!0,fn:function(){return d}});return}else d+=j;o++}h("Unterminated quote",c)}for(var l=[],u,o=0,z=[],
r,y=":";o<b.length;){r=b.charAt(o);if(c("\"'"))k(r);else if(e(r)||c(".")&&e(d()))j();else if(i(r)){if(m(),"{,".indexOf(y)!=-1&&z[0]=="{"&&(u=l[l.length-1]))u.json=u.text.indexOf(".")==-1}else if(c("(){}[].,;:?"))l.push({index:o,text:r,json:":[,".indexOf(y)!=-1&&c("{[")||c("}]:,")}),c("{[")&&z.unshift(r),c("}]")&&z.shift(),o++;else if(g(r)){o++;continue}else{var x=r+d(),n=x+d(2),v=Da[r],A=Da[x],G=Da[n];G?(l.push({index:o,text:n,fn:G}),o+=3):A?(l.push({index:o,text:x,fn:A}),o+=2):v?(l.push({index:o,
text:r,fn:v,json:"[,:".indexOf(y)!=-1&&c("+-")}),o+=1):h("Unexpected next character ",o,o+1)}y=r}return l}function Rc(b,a,c,d){function e(a,c){throw Error("Syntax Error: Token '"+c.text+"' "+a+" at column "+(c.index+1)+" of the expression ["+b+"] starting at ["+b.substring(c.index)+"].");}function g(){if(O.length===0)throw Error("Unexpected end of expression: "+b);return O[0]}function i(a,b,c,d){if(O.length>0){var e=O[0],f=e.text;if(f==a||f==b||f==c||f==d||!a&&!b&&!c&&!d)return e}return!1}function f(b,
c,d,f){return(b=i(b,c,d,f))?(a&&!b.json&&e("is not valid json",b),O.shift(),b):!1}function h(a){f(a)||e("is unexpected, expecting ["+a+"]",i())}function j(a,b){return t(function(c,d){return a(c,d,b)},{constant:b.constant})}function m(a,b,c){return t(function(d,e){return a(d,e)?b(d,e):c(d,e)},{constant:a.constant&&b.constant&&c.constant})}function k(a,b,c){return t(function(d,e){return b(d,e,a,c)},{constant:a.constant&&c.constant})}function l(){for(var a=[];;)if(O.length>0&&!i("}",")",";","]")&&a.push(w()),
!f(";"))return a.length==1?a[0]:function(b,c){for(var d,e=0;e<a.length;e++){var f=a[e];f&&(d=f(b,c))}return d}}function u(){for(var a=f(),b=c(a.text),d=[];;)if(a=f(":"))d.push(P());else{var e=function(a,c,e){for(var e=[e],f=0;f<d.length;f++)e.push(d[f](a,c));return b.apply(a,e)};return function(){return e}}}function o(){var a=z(),b,c;if(f("?"))if(b=o(),c=f(":"))return m(a,b,o());else e("expected :",c);else return a}function z(){for(var a=r(),b;;)if(b=f("||"))a=k(a,b.fn,r());else return a}function r(){var a=
y(),b;if(b=f("&&"))a=k(a,b.fn,r());return a}function y(){var a=x(),b;if(b=f("==","!=","===","!=="))a=k(a,b.fn,y());return a}function x(){var a;a=n();for(var b;b=f("+","-");)a=k(a,b.fn,n());if(b=f("<",">","<=",">="))a=k(a,b.fn,x());return a}function n(){for(var a=v(),b;b=f("*","/","%");)a=k(a,b.fn,v());return a}function v(){var a;return f("+")?A():(a=f("-"))?k($,a.fn,v()):(a=f("!"))?j(a.fn,v()):A()}function A(){var a;if(f("("))a=w(),h(")");else if(f("["))a=G();else if(f("{"))a=D();else{var b=f();(a=
b.fn)||e("not a primary expression",b);if(b.json)a.constant=a.literal=!0}for(var c;b=f("(","[",".");)b.text==="("?(a=s(a,c),c=null):b.text==="["?(c=a,a=ma(a)):b.text==="."?(c=a,a=ja(a)):e("IMPOSSIBLE");return a}function G(){var a=[],b=!0;if(g().text!="]"){do{var c=P();a.push(c);c.constant||(b=!1)}while(f(","))}h("]");return t(function(b,c){for(var d=[],e=0;e<a.length;e++)d.push(a[e](b,c));return d},{literal:!0,constant:b})}function D(){var a=[],b=!0;if(g().text!="}"){do{var c=f(),c=c.string||c.text;
h(":");var d=P();a.push({key:c,value:d});d.constant||(b=!1)}while(f(","))}h("}");return t(function(b,c){for(var d={},e=0;e<a.length;e++){var f=a[e];d[f.key]=f.value(b,c)}return d},{literal:!0,constant:b})}var $=S(0),K,O=Pc(b,d),P=function(){var a=o(),c,d;return(d=f("="))?(a.assign||e("implies assignment but ["+b.substring(0,d.index)+"] can not be assigned to",d),c=o(),function(b,d){return a.assign(b,c(b,d),d)}):a},s=function(a,b){var c=[];if(g().text!=")"){do c.push(P());while(f(","))}h(")");return function(d,
e){for(var f=[],j=b?b(d,e):d,g=0;g<c.length;g++)f.push(c[g](d,e));g=a(d,e,j)||q;return g.apply?g.apply(j,f):g(f[0],f[1],f[2],f[3],f[4])}},ja=function(a){var b=f().text,c=Tb(b,d);return t(function(b,d,e){return c(e||a(b,d),d)},{assign:function(c,d,e){return Ub(a(c,e),b,d)}})},ma=function(a){var b=P();h("]");return t(function(c,d){var e=a(c,d),f=b(c,d),j;if(!e)return p;if((e=e[f])&&e.then){j=e;if(!("$$v"in e))j.$$v=p,j.then(function(a){j.$$v=a});e=e.$$v}return e},{assign:function(c,d,e){return a(c,
e)[b(c,e)]=d}})},w=function(){for(var a=P(),b;;)if(b=f("|"))a=k(a,b.fn,u());else return a};a?(P=z,s=ja=ma=w=function(){e("is not valid json",{text:b,index:0})},K=A()):K=l();O.length!==0&&e("is an unexpected token",O[0]);K.literal=!!K.literal;K.constant=!!K.constant;return K}function Ub(b,a,c){for(var a=a.split("."),d=0;a.length>1;d++){var e=a.shift(),g=b[e];g||(g={},b[e]=g);b=g}return b[a.shift()]=c}function ib(b,a,c){if(!a)return b;for(var a=a.split("."),d,e=b,g=a.length,i=0;i<g;i++)d=a[i],b&&(b=
(e=b)[d]);return!c&&H(b)?$a(e,b):b}function Vb(b,a,c,d,e){return function(g,i){var f=i&&i.hasOwnProperty(b)?i:g,h;if(f===null||f===p)return f;if((f=f[b])&&f.then){if(!("$$v"in f))h=f,h.$$v=p,h.then(function(a){h.$$v=a});f=f.$$v}if(!a||f===null||f===p)return f;if((f=f[a])&&f.then){if(!("$$v"in f))h=f,h.$$v=p,h.then(function(a){h.$$v=a});f=f.$$v}if(!c||f===null||f===p)return f;if((f=f[c])&&f.then){if(!("$$v"in f))h=f,h.$$v=p,h.then(function(a){h.$$v=a});f=f.$$v}if(!d||f===null||f===p)return f;if((f=
f[d])&&f.then){if(!("$$v"in f))h=f,h.$$v=p,h.then(function(a){h.$$v=a});f=f.$$v}if(!e||f===null||f===p)return f;if((f=f[e])&&f.then){if(!("$$v"in f))h=f,h.$$v=p,h.then(function(a){h.$$v=a});f=f.$$v}return f}}function Tb(b,a){if(mb.hasOwnProperty(b))return mb[b];var c=b.split("."),d=c.length,e;if(a)e=d<6?Vb(c[0],c[1],c[2],c[3],c[4]):function(a,b){var e=0,j;do j=Vb(c[e++],c[e++],c[e++],c[e++],c[e++])(a,b),b=p,a=j;while(e<d);return j};else{var g="var l, fn, p;\n";n(c,function(a,b){g+="if(s === null || s === undefined) return s;\nl=s;\ns="+
(b?"s":'((k&&k.hasOwnProperty("'+a+'"))?k:s)')+'["'+a+'"];\nif (s && s.then) {\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v=v;});\n}\n s=s.$$v\n}\n'});g+="return s;";e=Function("s","k",g);e.toString=function(){return g}}return mb[b]=e}function Sc(){var b={};this.$get=["$filter","$sniffer",function(a,c){return function(d){switch(typeof d){case "string":return b.hasOwnProperty(d)?b[d]:b[d]=Rc(d,!1,a,c.csp);case "function":return d;default:return q}}}]}function Tc(){this.$get=
["$rootScope","$exceptionHandler",function(b,a){return Uc(function(a){b.$evalAsync(a)},a)}]}function Uc(b,a){function c(a){return a}function d(a){return i(a)}var e=function(){var f=[],h,j;return j={resolve:function(a){if(f){var c=f;f=p;h=g(a);c.length&&b(function(){for(var a,b=0,d=c.length;b<d;b++)a=c[b],h.then(a[0],a[1])})}},reject:function(a){j.resolve(i(a))},promise:{then:function(b,j){var g=e(),i=function(d){try{g.resolve((b||c)(d))}catch(e){a(e),g.reject(e)}},o=function(b){try{g.resolve((j||
d)(b))}catch(c){a(c),g.reject(c)}};f?f.push([i,o]):h.then(i,o);return g.promise},always:function(a){function b(a,c){var d=e();c?d.resolve(a):d.reject(a);return d.promise}function d(e,f){var j=null;try{j=(a||c)()}catch(g){return b(g,!1)}return j&&j.then?j.then(function(){return b(e,f)},function(a){return b(a,!1)}):b(e,f)}return this.then(function(a){return d(a,!0)},function(a){return d(a,!1)})}}}},g=function(a){return a&&a.then?a:{then:function(c){var d=e();b(function(){d.resolve(c(a))});return d.promise}}},
i=function(a){return{then:function(c,j){var g=e();b(function(){g.resolve((j||d)(a))});return g.promise}}};return{defer:e,reject:i,when:function(f,h,j){var m=e(),k,l=function(b){try{return(h||c)(b)}catch(d){return a(d),i(d)}},u=function(b){try{return(j||d)(b)}catch(c){return a(c),i(c)}};b(function(){g(f).then(function(a){k||(k=!0,m.resolve(g(a).then(l,u)))},function(a){k||(k=!0,m.resolve(u(a)))})});return m.promise},all:function(a){var b=e(),c=0,d=F(a)?[]:{};n(a,function(a,e){c++;g(a).then(function(a){d.hasOwnProperty(e)||
(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})});c===0&&b.resolve(d);return b.promise}}}function Vc(){var b={};this.when=function(a,c){b[a]=t({reloadOnSearch:!0,caseInsensitiveMatch:!1},c);if(a){var d=a[a.length-1]=="/"?a.substr(0,a.length-1):a+"/";b[d]={redirectTo:a}}return this};this.otherwise=function(a){this.when(null,a);return this};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache",function(a,c,d,e,g,i,f){function h(a,b,c){for(var b=
"^"+b.replace(/[-\/\\^$:*+?.()|[\]{}]/g,"\\$&")+"$",d="",e=[],f={},j=/\\([:*])(\w+)/g,g,i=0;(g=j.exec(b))!==null;){d+=b.slice(i,g.index);switch(g[1]){case ":":d+="([^\\/]*)";break;case "*":d+="(.*)"}e.push(g[2]);i=j.lastIndex}d+=b.substr(i);var h=a.match(RegExp(d,c.caseInsensitiveMatch?"i":""));h&&n(e,function(a,b){f[a]=h[b+1]});return h?f:null}function j(){var b=m(),j=u.current;if(b&&j&&b.$$route===j.$$route&&ia(b.pathParams,j.pathParams)&&!b.reloadOnSearch&&!l)j.params=b.params,V(j.params,d),a.$broadcast("$routeUpdate",
j);else if(b||j)l=!1,a.$broadcast("$routeChangeStart",b,j),(u.current=b)&&b.redirectTo&&(E(b.redirectTo)?c.path(k(b.redirectTo,b.params)).search(b.params).replace():c.url(b.redirectTo(b.pathParams,c.path(),c.search())).replace()),e.when(b).then(function(){if(b){var a=t({},b.resolve),c;n(a,function(b,c){a[c]=E(b)?g.get(b):g.invoke(b)});if(B(c=b.template))H(c)&&(c=c(b.params));else if(B(c=b.templateUrl))if(H(c)&&(c=c(b.params)),B(c))b.loadedTemplateUrl=c,c=i.get(c,{cache:f}).then(function(a){return a.data});
B(c)&&(a.$template=c);return e.all(a)}}).then(function(c){if(b==u.current){if(b)b.locals=c,V(b.params,d);a.$broadcast("$routeChangeSuccess",b,j)}},function(c){b==u.current&&a.$broadcast("$routeChangeError",b,j,c)})}function m(){var a,d;n(b,function(b,e){if(!d&&(a=h(c.path(),e,b)))d=tb(b,{params:t({},c.search(),a),pathParams:a}),d.$$route=b});return d||b[null]&&tb(b[null],{params:{},pathParams:{}})}function k(a,b){var c=[];n((a||"").split(":"),function(a,d){if(d==0)c.push(a);else{var e=a.match(/(\w+)(.*)/),
f=e[1];c.push(b[f]);c.push(e[2]||"");delete b[f]}});return c.join("")}var l=!1,u={routes:b,reload:function(){l=!0;a.$evalAsync(j)}};a.$on("$locationChangeSuccess",j);return u}]}function Wc(){this.$get=S({})}function Xc(){var b=10;this.digestTtl=function(a){arguments.length&&(b=a);return b};this.$get=["$injector","$exceptionHandler","$parse",function(a,c,d){function e(){this.$id=Fa();this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;
this["this"]=this.$root=this;this.$$destroyed=!1;this.$$asyncQueue=[];this.$$listeners={};this.$$isolateBindings={}}function g(a){if(h.$$phase)throw Error(h.$$phase+" already in progress");h.$$phase=a}function i(a,b){var c=d(a);xa(c,b);return c}function f(){}e.prototype={$new:function(a){if(H(a))throw Error("API-CHANGE: Use $controller to instantiate controllers.");a?(a=new e,a.$root=this.$root):(a=function(){},a.prototype=this,a=new a,a.$id=Fa());a["this"]=a;a.$$listeners={};a.$parent=this;a.$$watchers=
a.$$nextSibling=a.$$childHead=a.$$childTail=null;a.$$prevSibling=this.$$childTail;this.$$childHead?this.$$childTail=this.$$childTail.$$nextSibling=a:this.$$childHead=this.$$childTail=a;return a},$watch:function(a,b,c){var d=i(a,"watch"),e=this.$$watchers,g={fn:b,last:f,get:d,exp:a,eq:!!c};if(!H(b)){var h=i(b||q,"listener");g.fn=function(a,b,c){h(c)}}if(typeof a=="string"&&d.constant){var r=g.fn;g.fn=function(a,b,c){r.call(this,a,b,c);ta(e,g)}}if(!e)e=this.$$watchers=[];e.unshift(g);return function(){ta(e,
g)}},$watchCollection:function(a,b){var c=this,e,f,g=0,i=d(a),h=[],n={},x=0;return this.$watch(function(){f=i(c);var a,b;if(L(f))if(Xa(f)){if(e!==h)e=h,x=e.length=0,g++;a=f.length;if(x!==a)g++,e.length=x=a;for(b=0;b<a;b++)e[b]!==f[b]&&(g++,e[b]=f[b])}else{e!==n&&(e=n={},x=0,g++);a=0;for(b in f)f.hasOwnProperty(b)&&(a++,e.hasOwnProperty(b)?e[b]!==f[b]&&(g++,e[b]=f[b]):(x++,e[b]=f[b],g++));if(x>a)for(b in g++,e)e.hasOwnProperty(b)&&!f.hasOwnProperty(b)&&(x--,delete e[b])}else e!==f&&(e=f,g++);return g},
function(){b(f,e,c)})},$digest:function(){var a,d,e,i,u=this.$$asyncQueue,o,z,r=b,n,x=[],p,v;g("$digest");do{z=!1;for(n=this;u.length;)try{n.$eval(u.shift())}catch(A){c(A)}do{if(i=n.$$watchers)for(o=i.length;o--;)try{if(a=i[o],(d=a.get(n))!==(e=a.last)&&!(a.eq?ia(d,e):typeof d=="number"&&typeof e=="number"&&isNaN(d)&&isNaN(e)))z=!0,a.last=a.eq?V(d):d,a.fn(d,e===f?d:e,n),r<5&&(p=4-r,x[p]||(x[p]=[]),v=H(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,v+="; newVal: "+ha(d)+"; oldVal: "+ha(e),x[p].push(v))}catch(G){c(G)}if(!(i=
n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(i=n.$$nextSibling);)n=n.$parent}while(n=i);if(z&&!r--)throw h.$$phase=null,Error(b+" $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: "+ha(x));}while(z||u.length);h.$$phase=null},$destroy:function(){if(!(h==this||this.$$destroyed)){var a=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;if(a.$$childHead==this)a.$$childHead=this.$$nextSibling;if(a.$$childTail==this)a.$$childTail=this.$$prevSibling;
if(this.$$prevSibling)this.$$prevSibling.$$nextSibling=this.$$nextSibling;if(this.$$nextSibling)this.$$nextSibling.$$prevSibling=this.$$prevSibling;this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null}},$eval:function(a,b){return d(a)(this,b)},$evalAsync:function(a){this.$$asyncQueue.push(a)},$apply:function(a){try{return g("$apply"),this.$eval(a)}catch(b){c(b)}finally{h.$$phase=null;try{h.$digest()}catch(d){throw c(d),d;}}},$on:function(a,b){var c=this.$$listeners[a];
c||(this.$$listeners[a]=c=[]);c.push(b);return function(){c[Ga(c,b)]=null}},$emit:function(a,b){var d=[],e,f=this,g=!1,i={name:a,targetScope:f,stopPropagation:function(){g=!0},preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1},h=[i].concat(ka.call(arguments,1)),n,x;do{e=f.$$listeners[a]||d;i.currentScope=f;n=0;for(x=e.length;n<x;n++)if(e[n])try{if(e[n].apply(null,h),g)return i}catch(p){c(p)}else e.splice(n,1),n--,x--;f=f.$parent}while(f);return i},$broadcast:function(a,b){var d=
this,e=this,f={name:a,targetScope:this,preventDefault:function(){f.defaultPrevented=!0},defaultPrevented:!1},g=[f].concat(ka.call(arguments,1)),i,h;do{d=e;f.currentScope=d;e=d.$$listeners[a]||[];i=0;for(h=e.length;i<h;i++)if(e[i])try{e[i].apply(null,g)}catch(n){c(n)}else e.splice(i,1),i--,h--;if(!(e=d.$$childHead||d!==this&&d.$$nextSibling))for(;d!==this&&!(e=d.$$nextSibling);)d=d.$parent}while(d=e);return f}};var h=new e;return h}]}function Yc(){this.$get=["$window","$document",function(b,a){var c=
{},d=N((/android (\d+)/.exec(I((b.navigator||{}).userAgent))||[])[1]),e=a[0]||{},g,i=/^(Moz|webkit|O|ms)(?=[A-Z])/,f=e.body&&e.body.style,h=!1,j=!1;if(f){for(var m in f)if(h=i.exec(m)){g=h[0];g=g.substr(0,1).toUpperCase()+g.substr(1);break}h=!!("transition"in f||g+"Transition"in f);j=!!("animation"in f||g+"Animation"in f)}return{history:!(!b.history||!b.history.pushState||d<4),hashchange:"onhashchange"in b&&(!e.documentMode||e.documentMode>7),hasEvent:function(a){if(a=="input"&&Z==9)return!1;if(C(c[a])){var b=
e.createElement("div");c[a]="on"+a in b}return c[a]},csp:e.securityPolicy?e.securityPolicy.isActive:!1,vendorPrefix:g,transitions:h,animations:j}}]}function Zc(){this.$get=S(M)}function Wb(b){var a={},c,d,e;if(!b)return a;n(b.split("\n"),function(b){e=b.indexOf(":");c=I(U(b.substr(0,e)));d=U(b.substr(e+1));c&&(a[c]?a[c]+=", "+d:a[c]=d)});return a}function $c(b,a){var c=ad.exec(b);if(c==null)return!0;var d={protocol:c[2],host:c[4],port:N(c[6])||Oa[c[2]]||null,relativeProtocol:c[2]===p||c[2]===""},
c=jb.exec(a),c={protocol:c[1],host:c[3],port:N(c[5])||Oa[c[1]]||null};return(d.protocol==c.protocol||d.relativeProtocol)&&d.host==c.host&&(d.port==c.port||d.relativeProtocol&&c.port==Oa[c.protocol])}function Xb(b){var a=L(b)?b:p;return function(c){a||(a=Wb(b));return c?a[I(c)]||null:a}}function Yb(b,a,c){if(H(c))return c(b,a);n(c,function(c){b=c(b,a)});return b}function bd(){var b=/^\s*(\[|\{[^\{])/,a=/[\}\]]\s*$/,c=/^\)\]\}',?\n/,d={"Content-Type":"application/json;charset=utf-8"},e=this.defaults=
{transformResponse:[function(d){E(d)&&(d=d.replace(c,""),b.test(d)&&a.test(d)&&(d=ub(d,!0)));return d}],transformRequest:[function(a){return L(a)&&Ea.apply(a)!=="[object File]"?ha(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:d,put:d,patch:d},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},g=this.interceptors=[],i=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(a,b,c,d,k,l){function u(a){function c(a){var b=
t({},a,{data:Yb(a.data,a.headers,d.transformResponse)});return 200<=a.status&&a.status<300?b:k.reject(b)}var d={transformRequest:e.transformRequest,transformResponse:e.transformResponse},f={};t(d,a);d.headers=f;d.method=oa(d.method);t(f,e.headers.common,e.headers[I(d.method)],a.headers);(a=$c(d.url,b.url())?b.cookies()[d.xsrfCookieName||e.xsrfCookieName]:p)&&(f[d.xsrfHeaderName||e.xsrfHeaderName]=a);var g=[function(a){var b=Yb(a.data,Xb(f),a.transformRequest);C(a.data)&&delete f["Content-Type"];if(C(a.withCredentials)&&
!C(e.withCredentials))a.withCredentials=e.withCredentials;return o(a,b,f).then(c,c)},p],j=k.when(d);for(n(y,function(a){(a.request||a.requestError)&&g.unshift(a.request,a.requestError);(a.response||a.responseError)&&g.push(a.response,a.responseError)});g.length;)var a=g.shift(),i=g.shift(),j=j.then(a,i);j.success=function(a){j.then(function(b){a(b.data,b.status,b.headers,d)});return j};j.error=function(a){j.then(null,function(b){a(b.data,b.status,b.headers,d)});return j};return j}function o(b,c,g){function j(a,
b,c){n&&(200<=a&&a<300?n.put(s,[a,b,Wb(c)]):n.remove(s));i(b,a,c);d.$$phase||d.$apply()}function i(a,c,d){c=Math.max(c,0);(200<=c&&c<300?l.resolve:l.reject)({data:a,status:c,headers:Xb(d),config:b})}function h(){var a=Ga(u.pendingRequests,b);a!==-1&&u.pendingRequests.splice(a,1)}var l=k.defer(),o=l.promise,n,p,s=z(b.url,b.params);u.pendingRequests.push(b);o.then(h,h);if((b.cache||e.cache)&&b.cache!==!1&&b.method=="GET")n=L(b.cache)?b.cache:L(e.cache)?e.cache:r;if(n)if(p=n.get(s))if(p.then)return p.then(h,
h),p;else F(p)?i(p[1],p[0],V(p[2])):i(p,200,{});else n.put(s,o);p||a(b.method,s,c,j,g,b.timeout,b.withCredentials,b.responseType);return o}function z(a,b){if(!b)return a;var c=[];nc(b,function(a,b){a==null||a==p||(F(a)||(a=[a]),n(a,function(a){L(a)&&(a=ha(a));c.push(wa(b)+"="+wa(a))}))});return a+(a.indexOf("?")==-1?"?":"&")+c.join("&")}var r=c("$http"),y=[];n(g,function(a){y.unshift(E(a)?l.get(a):l.invoke(a))});n(i,function(a,b){var c=E(a)?l.get(a):l.invoke(a);y.splice(b,0,{response:function(a){return c(k.when(a))},
responseError:function(a){return c(k.reject(a))}})});u.pendingRequests=[];(function(a){n(arguments,function(a){u[a]=function(b,c){return u(t(c||{},{method:a,url:b}))}})})("get","delete","head","jsonp");(function(a){n(arguments,function(a){u[a]=function(b,c,d){return u(t(d||{},{method:a,url:b,data:c}))}})})("post","put");u.defaults=e;return u}]}function cd(){this.$get=["$browser","$window","$document",function(b,a,c){return dd(b,ed,b.defer,a.angular.callbacks,c[0],a.location.protocol.replace(":",""))}]}
function dd(b,a,c,d,e,g){function i(a,b){var c=e.createElement("script"),d=function(){e.body.removeChild(c);b&&b()};c.type="text/javascript";c.src=a;Z?c.onreadystatechange=function(){/loaded|complete/.test(c.readyState)&&d()}:c.onload=c.onerror=d;e.body.appendChild(c);return d}return function(e,h,j,m,k,l,u,o){function z(){p=-1;t&&t();v&&v.abort()}function r(a,d,e,f){var j=(h.match(jb)||["",g])[1];A&&c.cancel(A);t=v=null;d=j=="file"?e?200:404:d;a(d==1223?204:d,e,f);b.$$completeOutstandingRequest(q)}
var p;b.$$incOutstandingRequestCount();h=h||b.url();if(I(e)=="jsonp"){var x="_"+(d.counter++).toString(36);d[x]=function(a){d[x].data=a};var t=i(h.replace("JSON_CALLBACK","angular.callbacks."+x),function(){d[x].data?r(m,200,d[x].data):r(m,p||-2);delete d[x]})}else{var v=new a;v.open(e,h,!0);n(k,function(a,b){a&&v.setRequestHeader(b,a)});v.onreadystatechange=function(){if(v.readyState==4){var a=v.getAllResponseHeaders(),b=["Cache-Control","Content-Language","Content-Type","Expires","Last-Modified",
"Pragma"];a||(a="",n(b,function(b){var c=v.getResponseHeader(b);c&&(a+=b+": "+c+"\n")}));r(m,p||v.status,v.responseType?v.response:v.responseText,a)}};if(u)v.withCredentials=!0;if(o)v.responseType=o;v.send(j||"")}if(l>0)var A=c(z,l);else l&&l.then&&l.then(z)}}function fd(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"\u00a4",
posSuf:"",negPre:"(\u00a4",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",
mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(b){return b===1?"one":"other"}}}}function gd(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(b,a,c,d){function e(e,f,h){var j=c.defer(),m=j.promise,k=B(h)&&!h,f=a.defer(function(){try{j.resolve(e())}catch(a){j.reject(a),d(a)}k||b.$apply()},f),h=function(){delete g[m.$$timeoutId]};m.$$timeoutId=f;g[f]=j;m.then(h,h);return m}var g={};e.cancel=function(b){return b&&b.$$timeoutId in
g?(g[b.$$timeoutId].reject("canceled"),a.defer.cancel(b.$$timeoutId)):!1};return e}]}function Zb(b){function a(a,e){return b.factory(a+c,e)}var c="Filter";this.register=a;this.$get=["$injector",function(a){return function(b){return a.get(b+c)}}];a("currency",$b);a("date",ac);a("filter",hd);a("json",id);a("limitTo",jd);a("lowercase",kd);a("number",bc);a("orderBy",cc);a("uppercase",ld)}function hd(){return function(b,a,c){if(!F(b))return b;var d=[];d.check=function(a){for(var b=0;b<d.length;b++)if(!d[b](a))return!1;
return!0};switch(typeof c){case "function":break;case "boolean":if(c==!0){c=function(a,b){return Ha.equals(a,b)};break}default:c=function(a,b){b=(""+b).toLowerCase();return(""+a).toLowerCase().indexOf(b)>-1}}var e=function(a,b){if(typeof b=="string"&&b.charAt(0)==="!")return!e(a,b.substr(1));switch(typeof a){case "boolean":case "number":case "string":return c(a,b);case "object":switch(typeof b){case "object":return c(a,b);default:for(var d in a)if(d.charAt(0)!=="$"&&e(a[d],b))return!0}return!1;case "array":for(d=
0;d<a.length;d++)if(e(a[d],b))return!0;return!1;default:return!1}};switch(typeof a){case "boolean":case "number":case "string":a={$:a};case "object":for(var g in a)g=="$"?function(){if(a[g]){var b=g;d.push(function(c){return e(c,a[b])})}}():function(){if(a[g]){var b=g;d.push(function(c){return e(ib(c,b),a[b])})}}();break;case "function":d.push(a);break;default:return b}for(var i=[],f=0;f<b.length;f++){var h=b[f];d.check(h)&&i.push(h)}return i}}function $b(b){var a=b.NUMBER_FORMATS;return function(b,
d){if(C(d))d=a.CURRENCY_SYM;return dc(b,a.PATTERNS[1],a.GROUP_SEP,a.DECIMAL_SEP,2).replace(/\u00A4/g,d)}}function bc(b){var a=b.NUMBER_FORMATS;return function(b,d){return dc(b,a.PATTERNS[0],a.GROUP_SEP,a.DECIMAL_SEP,d)}}function dc(b,a,c,d,e){if(isNaN(b)||!isFinite(b))return"";var g=b<0,b=Math.abs(b),i=b+"",f="",h=[],j=!1;if(i.indexOf("e")!==-1){var m=i.match(/([\d\.]+)e(-?)(\d+)/);m&&m[2]=="-"&&m[3]>e+1?i="0":(f=i,j=!0)}if(!j){i=(i.split(ec)[1]||"").length;C(e)&&(e=Math.min(Math.max(a.minFrac,i),
a.maxFrac));var i=Math.pow(10,e),b=Math.round(b*i)/i,b=(""+b).split(ec),i=b[0],b=b[1]||"",j=0,m=a.lgSize,k=a.gSize;if(i.length>=m+k)for(var j=i.length-m,l=0;l<j;l++)(j-l)%k===0&&l!==0&&(f+=c),f+=i.charAt(l);for(l=j;l<i.length;l++)(i.length-l)%m===0&&l!==0&&(f+=c),f+=i.charAt(l);for(;b.length<e;)b+="0";e&&e!=="0"&&(f+=d+b.substr(0,e))}h.push(g?a.negPre:a.posPre);h.push(f);h.push(g?a.negSuf:a.posSuf);return h.join("")}function nb(b,a,c){var d="";b<0&&(d="-",b=-b);for(b=""+b;b.length<a;)b="0"+b;c&&(b=
b.substr(b.length-a));return d+b}function Q(b,a,c,d){c=c||0;return function(e){e=e["get"+b]();if(c>0||e>-c)e+=c;e===0&&c==-12&&(e=12);return nb(e,a,d)}}function Qa(b,a){return function(c,d){var e=c["get"+b](),g=oa(a?"SHORT"+b:b);return d[g][e]}}function ac(b){function a(a){var b;if(b=a.match(c)){var a=new Date(0),g=0,i=0,f=b[8]?a.setUTCFullYear:a.setFullYear,h=b[8]?a.setUTCHours:a.setHours;b[9]&&(g=N(b[9]+b[10]),i=N(b[9]+b[11]));f.call(a,N(b[1]),N(b[2])-1,N(b[3]));g=N(b[4]||0)-g;i=N(b[5]||0)-i;f=
N(b[6]||0);b=Math.round(parseFloat("0."+(b[7]||0))*1E3);h.call(a,g,i,f,b)}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,e){var g="",i=[],f,h,e=e||"mediumDate",e=b.DATETIME_FORMATS[e]||e;E(c)&&(c=md.test(c)?N(c):a(c));Ya(c)&&(c=new Date(c));if(!ra(c))return c;for(;e;)(h=nd.exec(e))?(i=i.concat(ka.call(h,1)),e=i.pop()):(i.push(e),e=null);n(i,function(a){f=od[a];g+=f?f(c,b.DATETIME_FORMATS):a.replace(/(^'|'$)/g,
"").replace(/''/g,"'")});return g}}function id(){return function(b){return ha(b,!0)}}function jd(){return function(b,a){if(!F(b)&&!E(b))return b;a=N(a);if(E(b))return a?a>=0?b.slice(0,a):b.slice(a,b.length):"";var c=[],d,e;a>b.length?a=b.length:a<-b.length&&(a=-b.length);a>0?(d=0,e=a):(d=b.length+a,e=b.length);for(;d<e;d++)c.push(b[d]);return c}}function cc(b){return function(a,c,d){function e(a,b){return ua(b)?function(b,c){return a(c,b)}:a}if(!F(a))return a;if(!c)return a;for(var c=F(c)?c:[c],c=
Za(c,function(a){var c=!1,d=a||qa;if(E(a)){if(a.charAt(0)=="+"||a.charAt(0)=="-")c=a.charAt(0)=="-",a=a.substring(1);d=b(a)}return e(function(a,b){var c;c=d(a);var e=d(b),f=typeof c,g=typeof e;f==g?(f=="string"&&(c=c.toLowerCase()),f=="string"&&(e=e.toLowerCase()),c=c===e?0:c<e?-1:1):c=f<g?-1:1;return c},c)}),g=[],i=0;i<a.length;i++)g.push(a[i]);return g.sort(e(function(a,b){for(var d=0;d<c.length;d++){var e=c[d](a,b);if(e!==0)return e}return 0},d))}}function aa(b){H(b)&&(b={link:b});b.restrict=b.restrict||
"AC";return S(b)}function fc(b,a){function c(a,c){c=c?"-"+bb(c,"-"):"";b.removeClass((a?Ra:Sa)+c).addClass((a?Sa:Ra)+c)}var d=this,e=b.parent().controller("form")||Ta,g=0,i=d.$error={},f=[];d.$name=a.name;d.$dirty=!1;d.$pristine=!0;d.$valid=!0;d.$invalid=!1;e.$addControl(d);b.addClass(pa);c(!0);d.$addControl=function(a){f.push(a);a.$name&&!d.hasOwnProperty(a.$name)&&(d[a.$name]=a)};d.$removeControl=function(a){a.$name&&d[a.$name]===a&&delete d[a.$name];n(i,function(b,c){d.$setValidity(c,!0,a)});ta(f,
a)};d.$setValidity=function(a,b,f){var k=i[a];if(b){if(k&&(ta(k,f),!k.length)){g--;if(!g)c(b),d.$valid=!0,d.$invalid=!1;i[a]=!1;c(!0,a);e.$setValidity(a,!0,d)}}else{g||c(b);if(k){if(Ga(k,f)!=-1)return}else i[a]=k=[],g++,c(!1,a),e.$setValidity(a,!1,d);k.push(f);d.$valid=!1;d.$invalid=!0}};d.$setDirty=function(){b.removeClass(pa).addClass(Ua);d.$dirty=!0;d.$pristine=!1;e.$setDirty()};d.$setPristine=function(){b.removeClass(Ua).addClass(pa);d.$dirty=!1;d.$pristine=!0;n(f,function(a){a.$setPristine()})}}
function X(b){return C(b)||b===""||b===null||b!==b}function Va(b,a,c,d,e,g){var i=function(){var e=a.val();if(ua(c.ngTrim||"T"))e=U(e);d.$viewValue!==e&&b.$apply(function(){d.$setViewValue(e)})};if(e.hasEvent("input"))a.bind("input",i);else{var f,h=function(){f||(f=g.defer(function(){i();f=null}))};a.bind("keydown",function(a){a=a.keyCode;a===91||15<a&&a<19||37<=a&&a<=40||h()});a.bind("change",i);e.hasEvent("paste")&&a.bind("paste cut",h)}d.$render=function(){a.val(X(d.$viewValue)?"":d.$viewValue)};
var j=c.ngPattern,m=function(a,b){return X(b)||a.test(b)?(d.$setValidity("pattern",!0),b):(d.$setValidity("pattern",!1),p)};j&&((e=j.match(/^\/(.*)\/([gim]*)$/))?(j=RegExp(e[1],e[2]),e=function(a){return m(j,a)}):e=function(a){var c=b.$eval(j);if(!c||!c.test)throw Error("Expected "+j+" to be a RegExp but was "+c);return m(c,a)},d.$formatters.push(e),d.$parsers.push(e));if(c.ngMinlength){var k=N(c.ngMinlength),e=function(a){return!X(a)&&a.length<k?(d.$setValidity("minlength",!1),p):(d.$setValidity("minlength",
!0),a)};d.$parsers.push(e);d.$formatters.push(e)}if(c.ngMaxlength){var l=N(c.ngMaxlength),e=function(a){return!X(a)&&a.length>l?(d.$setValidity("maxlength",!1),p):(d.$setValidity("maxlength",!0),a)};d.$parsers.push(e);d.$formatters.push(e)}}function ob(b,a){b="ngClass"+b;return aa(function(c,d,e){function g(b){if(a===!0||c.$index%2===a)h&&!ia(b,h)&&i(h),f(b);h=V(b)}function i(a){L(a)&&!F(a)&&(a=Za(a,function(a,b){if(a)return b}));d.removeClass(F(a)?a.join(" "):a)}function f(a){L(a)&&!F(a)&&(a=Za(a,
function(a,b){if(a)return b}));a&&d.addClass(F(a)?a.join(" "):a)}var h=p;c.$watch(e[b],g,!0);e.$observe("class",function(){var a=c.$eval(e[b]);g(a,a)});b!=="ngClass"&&c.$watch("$index",function(d,g){var h=d&1;h!==g&1&&(h===a?f(c.$eval(e[b])):i(c.$eval(e[b])))})})}var I=function(b){return E(b)?b.toLowerCase():b},oa=function(b){return E(b)?b.toUpperCase():b},Z=N((/msie (\d+)/.exec(I(navigator.userAgent))||[])[1]),w,ga,ka=[].slice,Wa=[].push,Ea=Object.prototype.toString,mc=M.angular,Ha=M.angular||(M.angular=
{}),Aa,hb,ba=["0","0","0"];q.$inject=[];qa.$inject=[];hb=Z<9?function(b){b=b.nodeName?b:b[0];return b.scopeName&&b.scopeName!="HTML"?oa(b.scopeName+":"+b.nodeName):b.nodeName}:function(b){return b.nodeName?b.nodeName:b[0].nodeName};var sc=/[A-Z]/g,pd={full:"1.1.5",major:1,minor:1,dot:5,codeName:"triangle-squarification"},Ka=R.cache={},Ja=R.expando="ng-"+(new Date).getTime(),wc=1,gc=M.document.addEventListener?function(b,a,c){b.addEventListener(a,c,!1)}:function(b,a,c){b.attachEvent("on"+a,c)},gb=
M.document.removeEventListener?function(b,a,c){b.removeEventListener(a,c,!1)}:function(b,a,c){b.detachEvent("on"+a,c)},uc=/([\:\-\_]+(.))/g,vc=/^moz([A-Z])/,Ba=R.prototype={ready:function(b){function a(){c||(c=!0,b())}var c=!1;T.readyState==="complete"?setTimeout(a):(this.bind("DOMContentLoaded",a),R(M).bind("load",a))},toString:function(){var b=[];n(this,function(a){b.push(""+a)});return"["+b.join(", ")+"]"},eq:function(b){return b>=0?w(this[b]):w(this[this.length+b])},length:0,push:Wa,sort:[].sort,
splice:[].splice},Na={};n("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(b){Na[I(b)]=b});var Gb={};n("input,select,option,textarea,button,form,details".split(","),function(b){Gb[oa(b)]=!0});n({data:Bb,inheritedData:Ma,scope:function(b){return Ma(b,"$scope")},controller:Eb,injector:function(b){return Ma(b,"$injector")},removeAttr:function(b,a){b.removeAttribute(a)},hasClass:La,css:function(b,a,c){a=Ia(a);if(B(c))b.style[a]=c;else{var d;Z<=8&&(d=b.currentStyle&&b.currentStyle[a],
d===""&&(d="auto"));d=d||b.style[a];Z<=8&&(d=d===""?p:d);return d}},attr:function(b,a,c){var d=I(a);if(Na[d])if(B(c))c?(b[a]=!0,b.setAttribute(a,d)):(b[a]=!1,b.removeAttribute(d));else return b[a]||(b.attributes.getNamedItem(a)||q).specified?d:p;else if(B(c))b.setAttribute(a,c);else if(b.getAttribute)return b=b.getAttribute(a,2),b===null?p:b},prop:function(b,a,c){if(B(c))b[a]=c;else return b[a]},text:t(Z<9?function(b,a){if(b.nodeType==1){if(C(a))return b.innerText;b.innerText=a}else{if(C(a))return b.nodeValue;
b.nodeValue=a}}:function(b,a){if(C(a))return b.textContent;b.textContent=a},{$dv:""}),val:function(b,a){if(C(a))return b.value;b.value=a},html:function(b,a){if(C(a))return b.innerHTML;for(var c=0,d=b.childNodes;c<d.length;c++)ya(d[c]);b.innerHTML=a}},function(b,a){R.prototype[a]=function(a,d){var e,g;if((b.length==2&&b!==La&&b!==Eb?a:d)===p)if(L(a)){for(e=0;e<this.length;e++)if(b===Bb)b(this[e],a);else for(g in a)b(this[e],g,a[g]);return this}else{if(this.length)return b(this[0],a,d)}else{for(e=0;e<
this.length;e++)b(this[e],a,d);return this}return b.$dv}});n({removeData:zb,dealoc:ya,bind:function a(c,d,e){var g=ca(c,"events"),i=ca(c,"handle");g||ca(c,"events",g={});i||ca(c,"handle",i=xc(c,g));n(d.split(" "),function(d){var h=g[d];if(!h){if(d=="mouseenter"||d=="mouseleave"){var j=T.body.contains||T.body.compareDocumentPosition?function(a,c){var d=a.nodeType===9?a.documentElement:a,e=c&&c.parentNode;return a===e||!(!e||!(e.nodeType===1&&(d.contains?d.contains(e):a.compareDocumentPosition&&a.compareDocumentPosition(e)&
16)))}:function(a,c){if(c)for(;c=c.parentNode;)if(c===a)return!0;return!1};g[d]=[];a(c,{mouseleave:"mouseout",mouseenter:"mouseover"}[d],function(a){var c=a.relatedTarget;(!c||c!==this&&!j(this,c))&&i(a,d)})}else gc(c,d,i),g[d]=[];h=g[d]}h.push(e)})},unbind:Ab,replaceWith:function(a,c){var d,e=a.parentNode;ya(a);n(new R(c),function(c){d?e.insertBefore(c,d.nextSibling):e.replaceChild(c,a);d=c})},children:function(a){var c=[];n(a.childNodes,function(a){a.nodeType===1&&c.push(a)});return c},contents:function(a){return a.childNodes||
[]},append:function(a,c){n(new R(c),function(c){(a.nodeType===1||a.nodeType===11)&&a.appendChild(c)})},prepend:function(a,c){if(a.nodeType===1){var d=a.firstChild;n(new R(c),function(c){d?a.insertBefore(c,d):(a.appendChild(c),d=c)})}},wrap:function(a,c){var c=w(c)[0],d=a.parentNode;d&&d.replaceChild(c,a);c.appendChild(a)},remove:function(a){ya(a);var c=a.parentNode;c&&c.removeChild(a)},after:function(a,c){var d=a,e=a.parentNode;n(new R(c),function(a){e.insertBefore(a,d.nextSibling);d=a})},addClass:Db,
removeClass:Cb,toggleClass:function(a,c,d){C(d)&&(d=!La(a,c));(d?Db:Cb)(a,c)},parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},next:function(a){if(a.nextElementSibling)return a.nextElementSibling;for(a=a.nextSibling;a!=null&&a.nodeType!==1;)a=a.nextSibling;return a},find:function(a,c){return a.getElementsByTagName(c)},clone:fb,triggerHandler:function(a,c){var d=(ca(a,"events")||{})[c];n(d,function(c){c.call(a,{preventDefault:q})})}},function(a,c){R.prototype[c]=function(c,e){for(var g,
i=0;i<this.length;i++)g==p?(g=a(this[i],c,e),g!==p&&(g=w(g))):eb(g,a(this[i],c,e));return g==p?this:g}});za.prototype={put:function(a,c){this[la(a)]=c},get:function(a){return this[la(a)]},remove:function(a){var c=this[a=la(a)];delete this[a];return c}};var zc=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Ac=/,/,Bc=/^\s*(_?)(\S+?)\1\s*$/,yc=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg;Ib.$inject=["$provide"];var qd=function(){var a="$ngAnimateController",c={running:!0};this.$get=["$animation","$window","$sniffer","$rootElement",
"$rootScope",function(d,e,g,i){i.data(a,c);i=function(c,i){function j(j,k,o){return function(m,r,p){function x(a){var c=0,a=E(a)?a.split(/\s*,\s*/):[];n(a,function(a){c=Math.max(parseFloat(a)||0,c)});return c}function t(){m.addClass(K);if($)$(m,v,P);else if(H(e.getComputedStyle)){var a=g.vendorPrefix+"Animation",c=g.vendorPrefix+"Transition",d=0;n(m,function(f){if(f.nodeType==1){var g="transition",i=c,j=1,h=e.getComputedStyle(f)||{};if(parseFloat(h.animationDuration)>0||parseFloat(h[a+"Duration"])>
0)g="animation",i=a,j=Math.max(parseInt(h[g+"IterationCount"])||0,parseInt(h[i+"IterationCount"])||0,j);f=Math.max(x(h[g+"Delay"]),x(h[i+"Delay"]));g=Math.max(x(h[g+"Duration"]),x(h[i+"Duration"]));d=Math.max(f+j*g,d)}});e.setTimeout(v,d*1E3)}else v()}function v(){if(!v.run)v.run=!0,o(m,r,p),m.removeClass(w),m.removeClass(K),m.removeData(a)}var A=c.$eval(i.ngAnimate),w=A?L(A)?A[j]:A+"-"+j:"",D=d(w),A=D&&D.setup,$=D&&D.start,D=D&&D.cancel;if(w){var K=w+"-active";r||(r=p?p.parent():m.parent());if(!g.transitions&&
!A&&!$||(r.inheritedData(a)||q).running)k(m,r,p),o(m,r,p);else{var O=m.data(a)||{};O.running&&((D||q)(m),O.done());m.data(a,{running:!0,done:v});m.addClass(w);k(m,r,p);if(m.length==0)return v();var P=(A||q)(m);e.setTimeout(t,1)}}else k(m,r,p),o(m,r,p)}}function m(a,c,d){d?d.after(a):c.append(a)}var k={};k.enter=j("enter",m,q);k.leave=j("leave",q,function(a){a.remove()});k.move=j("move",function(a,c,d){m(a,c,d)},q);k.show=j("show",function(a){a.css("display","")},q);k.hide=j("hide",q,function(a){a.css("display",
"none")});k.animate=function(a,c){j(a,q,q)(c)};return k};i.enabled=function(a){if(arguments.length)c.running=!a;return!c.running};return i}]},Kb="Non-assignable model expression: ";Jb.$inject=["$provide"];var Ic=/^(x[\:\-_]|data[\:\-_])/i,jb=/^([^:]+):\/\/(\w+:{0,1}\w*@)?(\{?[\w\.-]*\}?)(:([0-9]+))?(\/[^\?#]*)?(\?([^#]*))?(#(.*))?$/,Pb=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Oa={http:80,https:443,ftp:21};Rb.prototype=lb.prototype=Qb.prototype={$$replace:!1,absUrl:Pa("$$absUrl"),url:function(a,c){if(C(a))return this.$$url;
var d=Pb.exec(a);d[1]&&this.path(decodeURIComponent(d[1]));if(d[2]||d[1])this.search(d[3]||"");this.hash(d[5]||"",c);return this},protocol:Pa("$$protocol"),host:Pa("$$host"),port:Pa("$$port"),path:Sb("$$path",function(a){return a.charAt(0)=="/"?a:"/"+a}),search:function(a,c){if(C(a))return this.$$search;B(c)?c===null?delete this.$$search[a]:this.$$search[a]=c:this.$$search=E(a)?vb(a):a;this.$$compose();return this},hash:Sb("$$hash",qa),replace:function(){this.$$replace=!0;return this}};var Da={"null":function(){return null},
"true":function(){return!0},"false":function(){return!1},undefined:q,"+":function(a,c,d,e){d=d(a,c);e=e(a,c);return B(d)?B(e)?d+e:d:B(e)?e:p},"-":function(a,c,d,e){d=d(a,c);e=e(a,c);return(B(d)?d:0)-(B(e)?e:0)},"*":function(a,c,d,e){return d(a,c)*e(a,c)},"/":function(a,c,d,e){return d(a,c)/e(a,c)},"%":function(a,c,d,e){return d(a,c)%e(a,c)},"^":function(a,c,d,e){return d(a,c)^e(a,c)},"=":q,"===":function(a,c,d,e){return d(a,c)===e(a,c)},"!==":function(a,c,d,e){return d(a,c)!==e(a,c)},"==":function(a,
c,d,e){return d(a,c)==e(a,c)},"!=":function(a,c,d,e){return d(a,c)!=e(a,c)},"<":function(a,c,d,e){return d(a,c)<e(a,c)},">":function(a,c,d,e){return d(a,c)>e(a,c)},"<=":function(a,c,d,e){return d(a,c)<=e(a,c)},">=":function(a,c,d,e){return d(a,c)>=e(a,c)},"&&":function(a,c,d,e){return d(a,c)&&e(a,c)},"||":function(a,c,d,e){return d(a,c)||e(a,c)},"&":function(a,c,d,e){return d(a,c)&e(a,c)},"|":function(a,c,d,e){return e(a,c)(a,c,d(a,c))},"!":function(a,c,d){return!d(a,c)}},Qc={n:"\n",f:"\u000c",r:"\r",
t:"\t",v:"\u000b","'":"'",'"':'"'},mb={},ad=/^(([^:]+):)?\/\/(\w+:{0,1}\w*@)?([\w\.-]*)?(:([0-9]+))?(.*)$/,ed=M.XMLHttpRequest||function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(c){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(d){}throw Error("This browser does not support XMLHttpRequest.");};Zb.$inject=["$provide"];$b.$inject=["$locale"];bc.$inject=["$locale"];var ec=".",od={yyyy:Q("FullYear",4),yy:Q("FullYear",
2,0,!0),y:Q("FullYear",1),MMMM:Qa("Month"),MMM:Qa("Month",!0),MM:Q("Month",2,1),M:Q("Month",1,1),dd:Q("Date",2),d:Q("Date",1),HH:Q("Hours",2),H:Q("Hours",1),hh:Q("Hours",2,-12),h:Q("Hours",1,-12),mm:Q("Minutes",2),m:Q("Minutes",1),ss:Q("Seconds",2),s:Q("Seconds",1),sss:Q("Milliseconds",3),EEEE:Qa("Day"),EEE:Qa("Day",!0),a:function(a,c){return a.getHours()<12?c.AMPMS[0]:c.AMPMS[1]},Z:function(a){var a=-1*a.getTimezoneOffset(),c=a>=0?"+":"";c+=nb(Math[a>0?"floor":"ceil"](a/60),2)+nb(Math.abs(a%60),
2);return c}},nd=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,md=/^\d+$/;ac.$inject=["$locale"];var kd=S(I),ld=S(oa);cc.$inject=["$parse"];var rd=S({restrict:"E",compile:function(a,c){Z<=8&&(!c.href&&!c.name&&c.$set("href",""),a.append(T.createComment("IE fix")));return function(a,c){c.bind("click",function(a){c.attr("href")||a.preventDefault()})}}}),pb={};n(Na,function(a,c){var d=da("ng-"+c);pb[d]=function(){return{priority:100,compile:function(){return function(a,
g,i){a.$watch(i[d],function(a){i.$set(c,!!a)})}}}}});n(["src","srcset","href"],function(a){var c=da("ng-"+a);pb[c]=function(){return{priority:99,link:function(d,e,g){g.$observe(c,function(c){c&&(g.$set(a,c),Z&&e.prop(a,g[a]))})}}}});var Ta={$addControl:q,$removeControl:q,$setValidity:q,$setDirty:q,$setPristine:q};fc.$inject=["$element","$attrs","$scope"];var Wa=function(a){return["$timeout",function(c){var d={name:"form",restrict:"E",controller:fc,compile:function(){return{pre:function(a,d,i,f){if(!i.action){var h=
function(a){a.preventDefault?a.preventDefault():a.returnValue=!1};gc(d[0],"submit",h);d.bind("$destroy",function(){c(function(){gb(d[0],"submit",h)},0,!1)})}var j=d.parent().controller("form"),m=i.name||i.ngForm;m&&(a[m]=f);j&&d.bind("$destroy",function(){j.$removeControl(f);m&&(a[m]=p);t(f,Ta)})}}}};return a?t(V(d),{restrict:"EAC"}):d}]},sd=Wa(),td=Wa(!0),ud=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,vd=/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,4}$/,
wd=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,hc={text:Va,number:function(a,c,d,e,g,i){Va(a,c,d,e,g,i);e.$parsers.push(function(a){var c=X(a);return c||wd.test(a)?(e.$setValidity("number",!0),a===""?null:c?a:parseFloat(a)):(e.$setValidity("number",!1),p)});e.$formatters.push(function(a){return X(a)?"":""+a});if(d.min){var f=parseFloat(d.min),a=function(a){return!X(a)&&a<f?(e.$setValidity("min",!1),p):(e.$setValidity("min",!0),a)};e.$parsers.push(a);e.$formatters.push(a)}if(d.max){var h=parseFloat(d.max),
d=function(a){return!X(a)&&a>h?(e.$setValidity("max",!1),p):(e.$setValidity("max",!0),a)};e.$parsers.push(d);e.$formatters.push(d)}e.$formatters.push(function(a){return X(a)||Ya(a)?(e.$setValidity("number",!0),a):(e.$setValidity("number",!1),p)})},url:function(a,c,d,e,g,i){Va(a,c,d,e,g,i);a=function(a){return X(a)||ud.test(a)?(e.$setValidity("url",!0),a):(e.$setValidity("url",!1),p)};e.$formatters.push(a);e.$parsers.push(a)},email:function(a,c,d,e,g,i){Va(a,c,d,e,g,i);a=function(a){return X(a)||vd.test(a)?
(e.$setValidity("email",!0),a):(e.$setValidity("email",!1),p)};e.$formatters.push(a);e.$parsers.push(a)},radio:function(a,c,d,e){C(d.name)&&c.attr("name",Fa());c.bind("click",function(){c[0].checked&&a.$apply(function(){e.$setViewValue(d.value)})});e.$render=function(){c[0].checked=d.value==e.$viewValue};d.$observe("value",e.$render)},checkbox:function(a,c,d,e){var g=d.ngTrueValue,i=d.ngFalseValue;E(g)||(g=!0);E(i)||(i=!1);c.bind("click",function(){a.$apply(function(){e.$setViewValue(c[0].checked)})});
e.$render=function(){c[0].checked=e.$viewValue};e.$formatters.push(function(a){return a===g});e.$parsers.push(function(a){return a?g:i})},hidden:q,button:q,submit:q,reset:q},ic=["$browser","$sniffer",function(a,c){return{restrict:"E",require:"?ngModel",link:function(d,e,g,i){i&&(hc[I(g.type)]||hc.text)(d,e,g,i,c,a)}}}],Sa="ng-valid",Ra="ng-invalid",pa="ng-pristine",Ua="ng-dirty",xd=["$scope","$exceptionHandler","$attrs","$element","$parse",function(a,c,d,e,g){function i(a,c){c=c?"-"+bb(c,"-"):"";
e.removeClass((a?Ra:Sa)+c).addClass((a?Sa:Ra)+c)}this.$modelValue=this.$viewValue=Number.NaN;this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$name=d.name;var f=g(d.ngModel),h=f.assign;if(!h)throw Error(Kb+d.ngModel+" ("+va(e)+")");this.$render=q;var j=e.inheritedData("$formController")||Ta,m=0,k=this.$error={};e.addClass(pa);i(!0);this.$setValidity=function(a,c){if(k[a]!==!c){if(c){if(k[a]&&m--,!m)i(!0),this.$valid=
!0,this.$invalid=!1}else i(!1),this.$invalid=!0,this.$valid=!1,m++;k[a]=!c;i(c,a);j.$setValidity(a,c,this)}};this.$setPristine=function(){this.$dirty=!1;this.$pristine=!0;e.removeClass(Ua).addClass(pa)};this.$setViewValue=function(d){this.$viewValue=d;if(this.$pristine)this.$dirty=!0,this.$pristine=!1,e.removeClass(pa).addClass(Ua),j.$setDirty();n(this.$parsers,function(a){d=a(d)});if(this.$modelValue!==d)this.$modelValue=d,h(a,d),n(this.$viewChangeListeners,function(a){try{a()}catch(d){c(d)}})};
var l=this;a.$watch(function(){var c=f(a);if(l.$modelValue!==c){var d=l.$formatters,e=d.length;for(l.$modelValue=c;e--;)c=d[e](c);if(l.$viewValue!==c)l.$viewValue=c,l.$render()}})}],yd=function(){return{require:["ngModel","^?form"],controller:xd,link:function(a,c,d,e){var g=e[0],i=e[1]||Ta;i.$addControl(g);c.bind("$destroy",function(){i.$removeControl(g)})}}},zd=S({require:"ngModel",link:function(a,c,d,e){e.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),jc=function(){return{require:"?ngModel",
link:function(a,c,d,e){if(e){d.required=!0;var g=function(a){if(d.required&&(X(a)||a===!1))e.$setValidity("required",!1);else return e.$setValidity("required",!0),a};e.$formatters.push(g);e.$parsers.unshift(g);d.$observe("required",function(){g(e.$viewValue)})}}}},Ad=function(){return{require:"ngModel",link:function(a,c,d,e){var g=(a=/\/(.*)\//.exec(d.ngList))&&RegExp(a[1])||d.ngList||",";e.$parsers.push(function(a){var c=[];a&&n(a.split(g),function(a){a&&c.push(U(a))});return c});e.$formatters.push(function(a){return F(a)?
a.join(", "):p})}}},Bd=/^(true|false|\d+)$/,Cd=function(){return{priority:100,compile:function(a,c){return Bd.test(c.ngValue)?function(a,c,g){g.$set("value",a.$eval(g.ngValue))}:function(a,c,g){a.$watch(g.ngValue,function(a){g.$set("value",a,!1)})}}}},Dd=aa(function(a,c,d){c.addClass("ng-binding").data("$binding",d.ngBind);a.$watch(d.ngBind,function(a){c.text(a==p?"":a)})}),Ed=["$interpolate",function(a){return function(c,d,e){c=a(d.attr(e.$attr.ngBindTemplate));d.addClass("ng-binding").data("$binding",
c);e.$observe("ngBindTemplate",function(a){d.text(a)})}}],Fd=[function(){return function(a,c,d){c.addClass("ng-binding").data("$binding",d.ngBindHtmlUnsafe);a.$watch(d.ngBindHtmlUnsafe,function(a){c.html(a||"")})}}],Gd=ob("",!0),Hd=ob("Odd",0),Id=ob("Even",1),Jd=aa({compile:function(a,c){c.$set("ngCloak",p);a.removeClass("ng-cloak")}}),Kd=[function(){return{scope:!0,controller:"@"}}],Ld=["$sniffer",function(a){return{priority:1E3,compile:function(){a.csp=!0}}}],kc={};n("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress".split(" "),
function(a){var c=da("ng-"+a);kc[c]=["$parse",function(d){return function(e,g,i){var f=d(i[c]);g.bind(I(a),function(a){e.$apply(function(){f(e,{$event:a})})})}}]});var Md=aa(function(a,c,d){c.bind("submit",function(){a.$apply(d.ngSubmit)})}),Nd=["$animator",function(a){return{transclude:"element",priority:1E3,terminal:!0,restrict:"A",compile:function(c,d,e){return function(c,d,f){var h=a(c,f),j,m;c.$watch(f.ngIf,function(a){j&&(h.leave(j),j=p);m&&(m.$destroy(),m=p);ua(a)&&(m=c.$new(),e(m,function(a){j=
a;h.enter(a,d.parent(),d)}))})}}}}],Od=["$http","$templateCache","$anchorScroll","$compile","$animator",function(a,c,d,e,g){return{restrict:"ECA",terminal:!0,compile:function(i,f){var h=f.ngInclude||f.src,j=f.onload||"",m=f.autoscroll;return function(f,i,n){var o=g(f,n),p=0,r,t=function(){r&&(r.$destroy(),r=null);o.leave(i.contents(),i)};f.$watch(h,function(g){var h=++p;g?(a.get(g,{cache:c}).success(function(a){h===p&&(r&&r.$destroy(),r=f.$new(),o.leave(i.contents(),i),a=w("<div/>").html(a).contents(),
o.enter(a,i),e(a)(r),B(m)&&(!m||f.$eval(m))&&d(),r.$emit("$includeContentLoaded"),f.$eval(j))}).error(function(){h===p&&t()}),f.$emit("$includeContentRequested")):t()})}}}}],Pd=aa({compile:function(){return{pre:function(a,c,d){a.$eval(d.ngInit)}}}}),Qd=aa({terminal:!0,priority:1E3}),Rd=["$locale","$interpolate",function(a,c){var d=/{}/g;return{restrict:"EA",link:function(e,g,i){var f=i.count,h=g.attr(i.$attr.when),j=i.offset||0,m=e.$eval(h),k={},l=c.startSymbol(),p=c.endSymbol();n(m,function(a,e){k[e]=
c(a.replace(d,l+f+"-"+j+p))});e.$watch(function(){var c=parseFloat(e.$eval(f));return isNaN(c)?"":(c in m||(c=a.pluralCat(c-j)),k[c](e,g,!0))},function(a){g.text(a)})}}}],Sd=["$parse","$animator",function(a,c){return{transclude:"element",priority:1E3,terminal:!0,compile:function(d,e,g){return function(d,e,h){var j=c(d,h),m=h.ngRepeat,k=m.match(/^\s*(.+)\s+in\s+(.*?)\s*(\s+track\s+by\s+(.+)\s*)?$/),l,p,o,z,r,t={$id:la};if(!k)throw Error("Expected ngRepeat in form of '_item_ in _collection_[ track by _id_]' but got '"+
m+"'.");h=k[1];o=k[2];(k=k[4])?(l=a(k),p=function(a,c,e){r&&(t[r]=a);t[z]=c;t.$index=e;return l(d,t)}):p=function(a,c){return la(c)};k=h.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/);if(!k)throw Error("'item' in 'item in collection' should be identifier or (key, value) but got '"+h+"'.");z=k[3]||k[1];r=k[2];var x={};d.$watchCollection(o,function(a){var c,h,k=e,l,o={},t,q,w,s,B,y,C=[];if(Xa(a))B=a;else{B=[];for(w in a)a.hasOwnProperty(w)&&w.charAt(0)!="$"&&B.push(w);B.sort()}t=B.length;h=
C.length=B.length;for(c=0;c<h;c++)if(w=a===B?c:B[c],s=a[w],l=p(w,s,c),x.hasOwnProperty(l))y=x[l],delete x[l],o[l]=y,C[c]=y;else if(o.hasOwnProperty(l))throw n(C,function(a){a&&a.element&&(x[a.id]=a)}),Error("Duplicates in a repeater are not allowed. Repeater: "+m+" key: "+l);else C[c]={id:l},o[l]=!1;for(w in x)if(x.hasOwnProperty(w))y=x[w],j.leave(y.element),y.element[0].$$NG_REMOVED=!0,y.scope.$destroy();c=0;for(h=B.length;c<h;c++){w=a===B?c:B[c];s=a[w];y=C[c];if(y.element){q=y.scope;l=k[0];do l=
l.nextSibling;while(l&&l.$$NG_REMOVED);y.element[0]!=l&&j.move(y.element,null,k);k=y.element}else q=d.$new();q[z]=s;r&&(q[r]=w);q.$index=c;q.$first=c===0;q.$last=c===t-1;q.$middle=!(q.$first||q.$last);y.element||g(q,function(a){j.enter(a,null,k);k=a;y.scope=q;y.element=a;o[y.id]=y})}x=o})}}}}],Td=["$animator",function(a){return function(c,d,e){var g=a(c,e);c.$watch(e.ngShow,function(a){g[ua(a)?"show":"hide"](d)})}}],Ud=["$animator",function(a){return function(c,d,e){var g=a(c,e);c.$watch(e.ngHide,
function(a){g[ua(a)?"hide":"show"](d)})}}],Vd=aa(function(a,c,d){a.$watch(d.ngStyle,function(a,d){d&&a!==d&&n(d,function(a,d){c.css(d,"")});a&&c.css(a)},!0)}),Wd=["$animator",function(a){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(c,d,e,g){var i=a(c,e),f,h,j=[];c.$watch(e.ngSwitch||e.on,function(a){for(var d=0,l=j.length;d<l;d++)j[d].$destroy(),i.leave(h[d]);h=[];j=[];if(f=g.cases["!"+a]||g.cases["?"])c.$eval(e.change),n(f,function(a){var d=
c.$new();j.push(d);a.transclude(d,function(c){var d=a.element;h.push(c);i.enter(c,d.parent(),d)})})})}}}],Xd=aa({transclude:"element",priority:500,require:"^ngSwitch",compile:function(a,c,d){return function(a,g,i,f){f.cases["!"+c.ngSwitchWhen]=f.cases["!"+c.ngSwitchWhen]||[];f.cases["!"+c.ngSwitchWhen].push({transclude:d,element:g})}}}),Yd=aa({transclude:"element",priority:500,require:"^ngSwitch",compile:function(a,c,d){return function(a,c,i,f){f.cases["?"]=f.cases["?"]||[];f.cases["?"].push({transclude:d,
element:c})}}}),Zd=aa({controller:["$transclude","$element",function(a,c){a(function(a){c.append(a)})}]}),$d=["$http","$templateCache","$route","$anchorScroll","$compile","$controller","$animator",function(a,c,d,e,g,i,f){return{restrict:"ECA",terminal:!0,link:function(a,c,m){function k(){var f=d.current&&d.current.locals,k=f&&f.$template;if(k){o.leave(c.contents(),c);l&&(l.$destroy(),l=null);k=w("<div></div>").html(k).contents();o.enter(k,c);var k=g(k),m=d.current;l=m.scope=a.$new();if(m.controller)f.$scope=
l,f=i(m.controller,f),m.controllerAs&&(l[m.controllerAs]=f),c.children().data("$ngControllerController",f);k(l);l.$emit("$viewContentLoaded");l.$eval(n);e()}else o.leave(c.contents(),c),l&&(l.$destroy(),l=null)}var l,n=m.onload||"",o=f(a,m);a.$on("$routeChangeSuccess",k);k()}}}],ae=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(c,d){d.type=="text/ng-template"&&a.put(d.id,c[0].text)}}}],be=S({terminal:!0}),ce=["$compile","$parse",function(a,c){var d=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w\d]*)|(?:\(\s*([\$\w][\$\w\d]*)\s*,\s*([\$\w][\$\w\d]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/,
e={$setViewValue:q};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(a,c,d){var h=this,j={},m=e,k;h.databound=d.ngModel;h.init=function(a,c,d){m=a;k=d};h.addOption=function(c){j[c]=!0;m.$viewValue==c&&(a.val(c),k.parent()&&k.remove())};h.removeOption=function(a){this.hasOption(a)&&(delete j[a],m.$viewValue==a&&this.renderUnknownOption(a))};h.renderUnknownOption=function(c){c="? "+la(c)+" ?";k.val(c);a.prepend(k);a.val(c);k.prop("selected",!0)};h.hasOption=
function(a){return j.hasOwnProperty(a)};c.$on("$destroy",function(){h.renderUnknownOption=q})}],link:function(e,i,f,h){function j(a,c,d,e){d.$render=function(){var a=d.$viewValue;e.hasOption(a)?(v.parent()&&v.remove(),c.val(a),a===""&&t.prop("selected",!0)):C(a)&&t?c.val(""):e.renderUnknownOption(a)};c.bind("change",function(){a.$apply(function(){v.parent()&&v.remove();d.$setViewValue(c.val())})})}function m(a,c,d){var e;d.$render=function(){var a=new za(d.$viewValue);n(c.find("option"),function(c){c.selected=
B(a.get(c.value))})};a.$watch(function(){ia(e,d.$viewValue)||(e=V(d.$viewValue),d.$render())});c.bind("change",function(){a.$apply(function(){var a=[];n(c.find("option"),function(c){c.selected&&a.push(c.value)});d.$setViewValue(a)})})}function k(e,f,g){function i(){var a={"":[]},c=[""],d,h,q,v,s;q=g.$modelValue;v=u(e)||[];var z=l?qb(v):v,B,y,A;y={};s=!1;var C,D;if(o)if(t&&F(q)){s=new za([]);for(h=0;h<q.length;h++)y[k]=q[h],s.put(t(e,y),q[h])}else s=new za(q);for(A=0;B=z.length,A<B;A++){y[k]=v[l?y[l]=
z[A]:A];d=m(e,y)||"";if(!(h=a[d]))h=a[d]=[],c.push(d);o?d=s.remove(t?t(e,y):n(e,y))!=p:(t?(d={},d[k]=q,d=t(e,d)===t(e,y)):d=q===n(e,y),s=s||d);C=j(e,y);C=C===p?"":C;h.push({id:t?t(e,y):l?z[A]:A,label:C,selected:d})}o||(r||q===null?a[""].unshift({id:"",label:"",selected:!s}):s||a[""].unshift({id:"?",label:"",selected:!0}));y=0;for(z=c.length;y<z;y++){d=c[y];h=a[d];if(w.length<=y)q={element:E.clone().attr("label",d),label:h.label},v=[q],w.push(v),f.append(q.element);else if(v=w[y],q=v[0],q.label!=d)q.element.attr("label",
q.label=d);C=null;A=0;for(B=h.length;A<B;A++)if(d=h[A],s=v[A+1]){C=s.element;if(s.label!==d.label)C.text(s.label=d.label);if(s.id!==d.id)C.val(s.id=d.id);if(C[0].selected!==d.selected)C.prop("selected",s.selected=d.selected)}else d.id===""&&r?D=r:(D=x.clone()).val(d.id).attr("selected",d.selected).text(d.label),v.push({element:D,label:d.label,id:d.id,selected:d.selected}),C?C.after(D):q.element.append(D),C=D;for(A++;v.length>A;)v.pop().element.remove()}for(;w.length>y;)w.pop()[0].element.remove()}
var h;if(!(h=q.match(d)))throw Error("Expected ngOptions in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_ (track by _expr_)?' but got '"+q+"'.");var j=c(h[2]||h[1]),k=h[4]||h[6],l=h[5],m=c(h[3]||""),n=c(h[2]?h[1]:k),u=c(h[7]),t=h[8]?c(h[8]):null,w=[[{element:f,label:""}]];r&&(a(r)(e),r.removeClass("ng-scope"),r.remove());f.html("");f.bind("change",function(){e.$apply(function(){var a,c=u(e)||[],d={},h,i,j,m,q,r;if(o){i=[];m=0;for(r=w.length;m<r;m++){a=w[m];j=1;for(q=a.length;j<
q;j++)if((h=a[j].element)[0].selected){h=h.val();l&&(d[l]=h);if(t)for(var s=0;s<c.length;s++){if(d[k]=c[s],t(e,d)==h)break}else d[k]=c[h];i.push(n(e,d))}}}else if(h=f.val(),h=="?")i=p;else if(h=="")i=null;else if(t)for(s=0;s<c.length;s++){if(d[k]=c[s],t(e,d)==h){i=n(e,d);break}}else d[k]=c[h],l&&(d[l]=h),i=n(e,d);g.$setViewValue(i)})});g.$render=i;e.$watch(i)}if(h[1]){for(var l=h[0],u=h[1],o=f.multiple,q=f.ngOptions,r=!1,t,x=w(T.createElement("option")),E=w(T.createElement("optgroup")),v=x.clone(),
h=0,A=i.children(),G=A.length;h<G;h++)if(A[h].value==""){t=r=A.eq(h);break}l.init(u,r,v);if(o&&(f.required||f.ngRequired)){var D=function(a){u.$setValidity("required",!f.required||a&&a.length);return a};u.$parsers.push(D);u.$formatters.unshift(D);f.$observe("required",function(){D(u.$viewValue)})}q?k(e,i,u):o?m(e,i,u):j(e,i,u,l)}}}}],de=["$interpolate",function(a){var c={addOption:q,removeOption:q};return{restrict:"E",priority:100,compile:function(d,e){if(C(e.value)){var g=a(d.text(),!0);g||e.$set("value",
d.text())}return function(a,d,e){var j=d.parent(),m=j.data("$selectController")||j.parent().data("$selectController");m&&m.databound?d.prop("selected",!1):m=c;g?a.$watch(g,function(a,c){e.$set("value",a);a!==c&&m.removeOption(c);m.addOption(a)}):m.addOption(e.value);d.bind("$destroy",function(){m.removeOption(e.value)})}}}}],ee=S({restrict:"E",terminal:!0});(ga=M.jQuery)?(w=ga,t(ga.fn,{scope:Ba.scope,controller:Ba.controller,injector:Ba.injector,inheritedData:Ba.inheritedData}),db("remove",!0),db("empty"),
db("html")):w=R;Ha.element=w;(function(a){t(a,{bootstrap:xb,copy:V,extend:t,equals:ia,element:w,forEach:n,injector:yb,noop:q,bind:$a,toJson:ha,fromJson:ub,identity:qa,isUndefined:C,isDefined:B,isString:E,isFunction:H,isObject:L,isNumber:Ya,isElement:oc,isArray:F,version:pd,isDate:ra,lowercase:I,uppercase:oa,callbacks:{counter:0},noConflict:lc});Aa=tc(M);try{Aa("ngLocale")}catch(c){Aa("ngLocale",[]).provider("$locale",fd)}Aa("ng",["ngLocale"],["$provide",function(a){a.provider("$compile",Jb).directive({a:rd,
input:ic,textarea:ic,form:sd,script:ae,select:ce,style:ee,option:de,ngBind:Dd,ngBindHtmlUnsafe:Fd,ngBindTemplate:Ed,ngClass:Gd,ngClassEven:Id,ngClassOdd:Hd,ngCsp:Ld,ngCloak:Jd,ngController:Kd,ngForm:td,ngHide:Ud,ngIf:Nd,ngInclude:Od,ngInit:Pd,ngNonBindable:Qd,ngPluralize:Rd,ngRepeat:Sd,ngShow:Td,ngSubmit:Md,ngStyle:Vd,ngSwitch:Wd,ngSwitchWhen:Xd,ngSwitchDefault:Yd,ngOptions:be,ngView:$d,ngTransclude:Zd,ngModel:yd,ngList:Ad,ngChange:zd,required:jc,ngRequired:jc,ngValue:Cd}).directive(pb).directive(kc);
a.provider({$anchorScroll:Cc,$animation:Ib,$animator:qd,$browser:Ec,$cacheFactory:Fc,$controller:Jc,$document:Kc,$exceptionHandler:Lc,$filter:Zb,$interpolate:Mc,$http:bd,$httpBackend:cd,$location:Nc,$log:Oc,$parse:Sc,$route:Vc,$routeParams:Wc,$rootScope:Xc,$q:Tc,$sniffer:Yc,$templateCache:Gc,$timeout:gd,$window:Zc})}])})(Ha);w(T).ready(function(){rc(T,xb)})})(window,document);angular.element(document).find("head").append('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak{display:none;}ng\\:form{display:block;}</style>');
var log={toggle:function(){},resize:function(){},move:function(){},clear:function(){},debug:function(){},warn:function(){},info:function(){},error:function(){},profile:function(){},show:function(){},hide:function(){},active:false};
if(!window.console){console={log:function(logMsg){log.info(logMsg);
}};
}(function(){var NAMESPACE="blackbird";
var IE6_POSITION_FIXED=true;
var bbird;
var outputList;
var cache=[];
var state=getState();
var classes={};
var profiler={};
var IDs={blackbird:"blackbird",checkbox:"bbVis",active:"bbActive",filters:"bbFilters",controls:"bbControls",size:"bbSize"};
var messageTypes={debug:true,info:true,warn:true,error:true,profile:true};
function generateMarkup(){var spans=[];
for(type in messageTypes){spans.push(['<span class="',type,'" type="',type,'"></span>'].join(""));
}var newNode=document.createElement("DIV");
newNode.id=IDs.blackbird;
newNode.style.display="none";
newNode.innerHTML=['<div class="header">','<div class="left">','<div id="',IDs.filters,'" class="filters" title="click to filter by message type">',spans.join(""),"</div>","</div>",'<div class="right">','<div id="',IDs.controls,'" class="controls">','<span id="',IDs.size,'" title="contract" op="resize"></span>','<span class="clear" title="clear" op="clear"></span>','<span class="close" title="close" op="close"></span>',"</div>","</div>","</div>",'<div class="main">','<div class="left"></div><div class="mainBody">',"<ol>",cache.join(""),"</ol>",'</div><div class="right"></div>',"</div>",'<div class="footer">','<div class="left"><label for="',IDs.checkbox,'"><input type="checkbox" id="',IDs.checkbox,'" />Visible on page load</label></div>','<div class="right"><label for="',IDs.active,'"><input type="checkbox" id="',IDs.active,'" />Active on page load</label></div>',"</div>"].join("");
return newNode;
}function backgroundImage(){var bodyTag=document.getElementsByTagName("BODY")[0];
if(bodyTag.currentStyle&&IE6_POSITION_FIXED){if(bodyTag.currentStyle.backgroundImage=="none"){bodyTag.style.backgroundImage="url(about:blank)";
}if(bodyTag.currentStyle.backgroundAttachment=="scroll"){bodyTag.style.backgroundAttachment="fixed";
}}}function addMessage(type,content){content=(content.constructor==Array)?content.join(""):content;
if(outputList){var newMsg=document.createElement("LI");
newMsg.className=type;
newMsg.innerHTML=['<span class="icon"></span>',content].join("");
outputList.appendChild(newMsg);
scrollToBottom();
}else{cache.push(['<li class="',type,'"><span class="icon"></span>',content,"</li>"].join(""));
}}function clear(){outputList.innerHTML="";
}function clickControl(evt){if(!evt){evt=window.event;
}var el=(evt.target)?evt.target:evt.srcElement;
if(el.tagName=="SPAN"){switch(el.getAttributeNode("op").nodeValue){case"resize":resize();
break;
case"clear":clear();
break;
case"close":hide();
break;
}}}function clickFilter(evt){if(!evt){evt=window.event;
}var span=(evt.target)?evt.target:evt.srcElement;
if(span&&span.tagName=="SPAN"){var type=span.getAttributeNode("type").nodeValue;
if(evt.altKey){var filters=document.getElementById(IDs.filters).getElementsByTagName("SPAN");
var active=0;
for(entry in messageTypes){if(messageTypes[entry]){active++;
}}var oneActiveFilter=(active==1&&messageTypes[type]);
for(var i=0;
filters[i];
i++){var spanType=filters[i].getAttributeNode("type").nodeValue;
filters[i].className=(oneActiveFilter||(spanType==type))?spanType:spanType+"Disabled";
messageTypes[spanType]=oneActiveFilter||(spanType==type);
}}else{messageTypes[type]=!messageTypes[type];
span.className=(messageTypes[type])?type:type+"Disabled";
}var disabledTypes=[];
for(type in messageTypes){if(!messageTypes[type]){disabledTypes.push(type);
}}disabledTypes.push("");
outputList.className=disabledTypes.join("Hidden ");
scrollToBottom();
}}function clickVis(evt){if(!evt){evt=window.event;
}var el=(evt.target)?evt.target:evt.srcElement;
state.load=el.checked;
setState();
}function clickActive(evt){if(!evt){evt=window.event;
}var el=(evt.target)?evt.target:evt.srcElement;
state.active=el.checked;
setState();
}function scrollToBottom(){outputList.scrollTop=outputList.scrollHeight;
}function isVisible(){return(bbird.style.display=="block");
}function hide(){bbird.style.display="none";
}function show(){var body=document.getElementsByTagName("BODY")[0];
body.removeChild(bbird);
body.appendChild(bbird);
bbird.style.display="block";
}function reposition(position){if(position===undefined||position==null){position=(state&&state.pos===null)?1:(state.pos+1)%4;
}switch(position){case 0:classes[0]="bbTopLeft";
break;
case 1:classes[0]="bbTopRight";
break;
case 2:classes[0]="bbBottomLeft";
break;
case 3:classes[0]="bbBottomRight";
break;
}state.pos=position;
setState();
}function resize(size){if(size===undefined||size===null){size=(state&&state.size==null)?0:(state.size+1)%2;
}classes[1]=(size===0)?"bbSmall":"bbLarge";
var span=document.getElementById(IDs.size);
span.title=(size===1)?"small":"large";
span.className=span.title;
state.size=size;
setState();
scrollToBottom();
}function setState(){var props=[];
for(entry in state){var value=(state[entry]&&state[entry].constructor===String)?'"'+state[entry]+'"':state[entry];
props.push(entry+":"+value);
}props=props.join(",");
var expiration=new Date();
expiration.setDate(expiration.getDate()+14);
document.cookie=["blackbird={",props,"}; expires=",expiration.toUTCString(),";"].join("");
var newClass=[];
for(word in classes){newClass.push(classes[word]);
}bbird.className=newClass.join(" ");
}function getState(){var re=new RegExp(/blackbird=({[^;]+})(;|\b|$)/);
var match=re.exec(document.cookie);
return(match&&match[1])?eval("("+match[1]+")"):{pos:null,size:null,load:null};
}function readKey(evt){if(!evt){evt=window.event;
}var code=113;
var activateCode=114;
if(evt&&evt.keyCode==code){var visible=isVisible();
if(visible&&evt.shiftKey&&evt.altKey){clear();
}else{if(visible&&evt.shiftKey){reposition();
}else{if(!evt.shiftKey&&!evt.altKey&&!evt.ctrlKey){(visible)?hide():show();
}}}}else{if(evt&&evt.keyCode==activateCode){activateBlackbird();
}}}function addEvent(obj,type,fn){var obj=(obj.constructor===String)?document.getElementById(obj):obj;
if(obj.attachEvent){obj["e"+type+fn]=fn;
obj[type+fn]=function(){obj["e"+type+fn](window.event);
};
obj.attachEvent("on"+type,obj[type+fn]);
}else{obj.addEventListener(type,fn,false);
}}function removeEvent(obj,type,fn){var obj=(obj.constructor===String)?document.getElementById(obj):obj;
if(obj.detachEvent){obj.detachEvent("on"+type,obj[type+fn]);
obj[type+fn]=null;
}else{obj.removeEventListener(type,fn,false);
}}function activateBlackbird(){if(window[NAMESPACE].active){log={toggle:function(){},resize:function(){},move:function(){},clear:function(){},debug:function(){},warn:function(){},info:function(){},error:function(){},profile:function(){},show:function(){},hide:function(){},active:false};
window[NAMESPACE].active=false;
window[NAMESPACE].info("Logging has been turned off.  Logging may be activated by pressing F3.");
}else{window[NAMESPACE].active=true;
log=window[NAMESPACE];
log.show();
log.info("Logging has been turned on.  You may deactivate logging by pressing F3.");
}}window[NAMESPACE]={toggle:function(){(isVisible())?hide():show();
},resize:function(){resize();
},clear:function(){clear();
},move:function(){reposition();
},debug:function(msg){addMessage("debug",msg);
},warn:function(msg){addMessage("warn",msg);
},info:function(msg){addMessage("info",msg);
},error:function(msg){addMessage("error",msg);
},profile:function(label){var currentTime=new Date();
if(label==undefined||label==""){addMessage("error","<b>ERROR:</b> Please specify a label for your profile statement");
}else{if(profiler[label]){addMessage("profile",[label,": ",currentTime-profiler[label],"ms"].join(""));
delete profiler[label];
}else{profiler[label]=currentTime;
addMessage("profile",label);
}}return currentTime;
},show:function(){show();
},hide:function(){hide();
},active:state.active};
addEvent(window,"load",function(){var body=document.getElementsByTagName("BODY")[0];
bbird=body.appendChild(generateMarkup());
outputList=bbird.getElementsByTagName("OL")[0];
backgroundImage();
addEvent(IDs.checkbox,"click",clickVis);
addEvent(IDs.active,"click",clickActive);
addEvent(IDs.filters,"click",clickFilter);
addEvent(IDs.controls,"click",clickControl);
addEvent(document,"keyup",readKey);
resize(state.size);
reposition(state.pos);
if(state.load){show();
document.getElementById(IDs.checkbox).checked=true;
}if(state.active){window[NAMESPACE].active=true;
document.getElementById(IDs.active).checked=true;
}scrollToBottom();
window[NAMESPACE].init=function(){show();
window[NAMESPACE].error(["<b>",NAMESPACE,"</b> can only be initialized once"]);
};
addEvent(window,"unload",function(){removeEvent(IDs.checkbox,"click",clickVis);
removeEvent(IDs.filters,"click",clickFilter);
removeEvent(IDs.controls,"click",clickControl);
removeEvent(document,"keyup",readKey);
});
});
})();
if(blackbird.active){log=blackbird;
log.info("Logging has been turned on.  You may deactivate logging by pressing F3.");
}else{blackbird.info("Logging has been turned off.  Logging may be activated by pressing F3.");
}function getXMLCclRequest(){var xmlHttp=null;
if(location.protocol.substr(0,4)=="http"){try{xmlHttp=new XMLHttpRequest();
}catch(e){try{xmlHttp=new ActiveXObject("Msxml2.XMLHTTP");
}catch(e){xmlHttp=new ActiveXObject("Microsoft.XMLHTTP");
}}}else{xmlHttp=new XMLCclRequest();
}return xmlHttp;
}var popupWindowHandle;
function getPopupWindowHandle(){return popupWindowHandle;
}XMLCclRequest=function(options){this.onreadystatechange=function(){return null;
};
this.options=options||{};
this.readyState=0;
this.responseText="";
this.status=0;
this.statusText="";
this.sendFlag=false;
this.errorFlag=false;
this.responseBody=this.responseXML=this.async=true;
this.requestBinding=null;
this.requestText=null;
this.onerror=this.abort=this.getAllResponseHeaders=this.getResponseHeader=function(){return null;
};
this.open=function(method,url,async){if(method.toLowerCase()!="get"&&method.toLowerCase()!="post"){this.errorFlag=true;
this.status=405;
this.statusText="Method not Allowed";
return false;
}this.method=method.toUpperCase();
this.url=url;
this.async=async!=null?(async?true:false):true;
this.requestHeaders=null;
this.responseText="";
this.responseBody=this.responseXML=null;
this.readyState=1;
this.sendFlag=false;
this.requestText="";
this.onreadystatechange();
};
this.send=function(param){if(this.readyState!=1){this.errorFlag=true;
this.status=409;
this.statusText="Invalid State";
return false;
}if(this.sendFlag){this.errorFlag=true;
this.status=409;
this.statusText="Invalid State";
return false;
}this.sendFlag=true;
this.requestLen=param.length;
this.requestText=param;
var uniqueId=this.url+"-"+(new Date()).getTime()+"-"+Math.floor(Math.random()*99999);
XMLCCLREQUESTOBJECTPOINTER[uniqueId]=this;
var el=document.body.appendChild(document.createElement("a"));
el.href='javascript:XMLCCLREQUEST_Send("'+uniqueId+'")';
el.click();
};
this.setRequestHeader=function(name,value){if(this.readyState!=1){this.errorFlag=true;
this.status=409;
this.statusText="Invalid State";
return false;
}if(this.sendFlag){this.errorFlag=true;
this.status=409;
this.statusText="Invalid State";
return false;
}if(!value){return false;
}if(!this.requestHeaders){this.requestHeaders=[];
}this.requestHeaders[name]=value;
};
};
XMLCCLREQUESTOBJECTPOINTER=[];
function evaluate(x){return eval(x);
}function CCLLINK__(program,param,nViewerType){}function CCLLINK(program,param,nViewerType){var paramLength=param.length;
if(paramLength>2000){param=param.substring(0,2000);
}var el=document.body.appendChild(document.createElement("a"));
el.href='javascript:CCLLINK__("'+program+'","'+param+'",'+nViewerType+","+paramLength+")";
el.click();
}function CCLNEWWINDOW(url){var newWindow=window.open(url,"","fullscreen=no,location=no,menubar=no,resizable=yes,scrollbars=yes,status=yes,titlebar=yes,toolbar=no");
newWindow.focus();
}function CCLNEWSESSIONWINDOW__(sUrl,sName,sFeatures,bReplace,bModal){}function CCLNEWSESSIONWINDOW(sUrl,sName,sFeatures,bReplace,bModal){var el=document.body.appendChild(document.createElement("a"));
el.href='javascript:CCLNEWSESSIONWINDOW__("'+sUrl+'","'+sName+'","'+sFeatures+'",'+bReplace+","+bModal+")";
el.click();
if(bModal==0){popupWindowHandle=window.open(sUrl,sName,sFeatures,bReplace);
if(popupWindowHandle){popupWindowHandle.focus();
}}}function APPLINK(mode,appname,param){if(mode==0){window.open("file:///"+appname+" "+param);
}else{window.location="file:///"+appname+" "+param;
}}function MPAGES_EVENT__(eventType,eventParams){}function MPAGES_EVENT(eventType,eventParams){var paramLength=eventParams.length;
if(!document.getElementById("__ID_CCLPostParams_32504__")){linkObj=document.body.appendChild(document.createElement("a"));
linkObj.id="__ID_CCLPostParams_32504__";
}if(paramLength>2000){document.getElementById("__ID_CCLPostParams_32504__").value='"'+eventParams+'"';
eventParams=eventParams.substring(0,2000);
}window.location.href="javascript:MPAGES_EVENT__('"+eventType+"','"+eventParams+"',"+paramLength+")";
}function ArgumentURL(){this.getArgument=_getArg;
this.setArgument=_setArg;
this.removeArgument=_removeArg;
this.toString=_toString;
this.arguments=new Array();
var separator=",";
var equalsign="=";
var str=window.location.search.replace(/%20/g," ");
var index=str.indexOf("?");
var sInfo;
var infoArray=new Array();
var tmp;
if(index!=-1){sInfo=str.substring(index+1,str.length);
infoArray=sInfo.split(separator);
}for(var i=0;
i<infoArray.length;
i++){tmp=infoArray[i].split(equalsign);
if(tmp[0]!=""){var t=tmp[0];
this.arguments[tmp[0]]=new Object();
this.arguments[tmp[0]].value=tmp[1];
this.arguments[tmp[0]].name=tmp[0];
}}function _toString(){var s="";
var once=true;
for(i in this.arguments){if(once){s+="?";
once=false;
}s+=this.arguments[i].name;
s+=equalsign;
s+=this.arguments[i].value;
s+=separator;
}return s.replace(/ /g,"%20");
}function _getArg(name){if(typeof(this.arguments[name].name)!="string"){return null;
}else{return this.arguments[name].value;
}}function _setArg(name,value){this.arguments[name]=new Object();
this.arguments[name].name=name;
this.arguments[name].value=value;
}function _removeArg(name){this.arguments[name]=null;
}return this;
}if(!document.createElement("canvas").getContext){(function(){var ab=Math;
var n=ab.round;
var l=ab.sin;
var A=ab.cos;
var H=ab.abs;
var N=ab.sqrt;
var d=10;
var f=d/2;
var z=+navigator.userAgent.match(/MSIE ([\d.]+)?/)[1];
function y(){return this.context_||(this.context_=new D(this));
}var t=Array.prototype.slice;
function g(j,m,p){var i=t.call(arguments,2);
return function(){return j.apply(m,i.concat(t.call(arguments)));
};
}function af(i){return String(i).replace(/&/g,"&amp;").replace(/"/g,"&quot;");
}function Y(m,j,i){if(!m.namespaces[j]){m.namespaces.add(j,i,"#default#VML");
}}function R(j){Y(j,"g_vml_","urn:schemas-microsoft-com:vml");
Y(j,"g_o_","urn:schemas-microsoft-com:office:office");
if(!j.styleSheets.ex_canvas_){var i=j.createStyleSheet();
i.owningElement.id="ex_canvas_";
i.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}";
}}R(document);
var e={init:function(i){var j=i||document;
j.createElement("canvas");
j.attachEvent("onreadystatechange",g(this.init_,this,j));
},init_:function(p){var m=p.getElementsByTagName("canvas");
for(var j=0;
j<m.length;
j++){this.initElement(m[j]);
}},initElement:function(j){if(!j.getContext){j.getContext=y;
R(j.ownerDocument);
j.innerHTML="";
j.attachEvent("onpropertychange",x);
j.attachEvent("onresize",W);
var i=j.attributes;
if(i.width&&i.width.specified){j.style.width=i.width.nodeValue+"px";
}else{j.width=j.clientWidth;
}if(i.height&&i.height.specified){j.style.height=i.height.nodeValue+"px";
}else{j.height=j.clientHeight;
}}return j;
},uninitElement:function(j){if(j.getContext){var i=j.getContext();
delete i.element_;
delete i.canvas;
j.innerHTML="";
j.context_=null;
j.getContext=null;
j.detachEvent("onpropertychange",x);
j.detachEvent("onresize",W);
}}};
function x(j){var i=j.srcElement;
switch(j.propertyName){case"width":i.getContext().clearRect();
i.style.width=i.attributes.width.nodeValue+"px";
i.firstChild.style.width=i.clientWidth+"px";
break;
case"height":i.getContext().clearRect();
i.style.height=i.attributes.height.nodeValue+"px";
i.firstChild.style.height=i.clientHeight+"px";
break;
}}function W(j){var i=j.srcElement;
if(i.firstChild){i.firstChild.style.width=i.clientWidth+"px";
i.firstChild.style.height=i.clientHeight+"px";
}}e.init();
var k=[];
for(var ae=0;
ae<16;
ae++){for(var ad=0;
ad<16;
ad++){k[ae*16+ad]=ae.toString(16)+ad.toString(16);
}}function B(){return[[1,0,0],[0,1,0],[0,0,1]];
}function J(p,m){var j=B();
for(var i=0;
i<3;
i++){for(var ah=0;
ah<3;
ah++){var Z=0;
for(var ag=0;
ag<3;
ag++){Z+=p[i][ag]*m[ag][ah];
}j[i][ah]=Z;
}}return j;
}function v(j,i){i.fillStyle=j.fillStyle;
i.lineCap=j.lineCap;
i.lineJoin=j.lineJoin;
i.lineWidth=j.lineWidth;
i.miterLimit=j.miterLimit;
i.shadowBlur=j.shadowBlur;
i.shadowColor=j.shadowColor;
i.shadowOffsetX=j.shadowOffsetX;
i.shadowOffsetY=j.shadowOffsetY;
i.strokeStyle=j.strokeStyle;
i.globalAlpha=j.globalAlpha;
i.font=j.font;
i.textAlign=j.textAlign;
i.textBaseline=j.textBaseline;
i.arcScaleX_=j.arcScaleX_;
i.arcScaleY_=j.arcScaleY_;
i.lineScale_=j.lineScale_;
}var b={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"};
function M(j){var p=j.indexOf("(",3);
var i=j.indexOf(")",p+1);
var m=j.substring(p+1,i).split(",");
if(m.length!=4||j.charAt(3)!="a"){m[3]=1;
}return m;
}function c(i){return parseFloat(i)/100;
}function r(j,m,i){return Math.min(i,Math.max(m,j));
}function I(ag){var i,ai,aj,ah,ak,Z;
ah=parseFloat(ag[0])/360%360;
if(ah<0){ah++;
}ak=r(c(ag[1]),0,1);
Z=r(c(ag[2]),0,1);
if(ak==0){i=ai=aj=Z;
}else{var j=Z<0.5?Z*(1+ak):Z+ak-Z*ak;
var m=2*Z-j;
i=a(m,j,ah+1/3);
ai=a(m,j,ah);
aj=a(m,j,ah-1/3);
}return"#"+k[Math.floor(i*255)]+k[Math.floor(ai*255)]+k[Math.floor(aj*255)];
}function a(j,i,m){if(m<0){m++;
}if(m>1){m--;
}if(6*m<1){return j+(i-j)*6*m;
}else{if(2*m<1){return i;
}else{if(3*m<2){return j+(i-j)*(2/3-m)*6;
}else{return j;
}}}}var C={};
function F(j){if(j in C){return C[j];
}var ag,Z=1;
j=String(j);
if(j.charAt(0)=="#"){ag=j;
}else{if(/^rgb/.test(j)){var p=M(j);
var ag="#",ah;
for(var m=0;
m<3;
m++){if(p[m].indexOf("%")!=-1){ah=Math.floor(c(p[m])*255);
}else{ah=+p[m];
}ag+=k[r(ah,0,255)];
}Z=+p[3];
}else{if(/^hsl/.test(j)){var p=M(j);
ag=I(p);
Z=p[3];
}else{ag=b[j]||j;
}}}return C[j]={color:ag,alpha:Z};
}var o={style:"normal",variant:"normal",weight:"normal",size:10,family:"sans-serif"};
var L={};
function E(i){if(L[i]){return L[i];
}var p=document.createElement("div");
var m=p.style;
try{m.font=i;
}catch(j){}return L[i]={style:m.fontStyle||o.style,variant:m.fontVariant||o.variant,weight:m.fontWeight||o.weight,size:m.fontSize||o.size,family:m.fontFamily||o.family};
}function u(m,j){var i={};
for(var ah in m){i[ah]=m[ah];
}var ag=parseFloat(j.currentStyle.fontSize),Z=parseFloat(m.size);
if(typeof m.size=="number"){i.size=m.size;
}else{if(m.size.indexOf("px")!=-1){i.size=Z;
}else{if(m.size.indexOf("em")!=-1){i.size=ag*Z;
}else{if(m.size.indexOf("%")!=-1){i.size=(ag/100)*Z;
}else{if(m.size.indexOf("pt")!=-1){i.size=Z/0.75;
}else{i.size=ag;
}}}}}i.size*=0.981;
i.family="'"+i.family.replace(/(\'|\")/g,"").replace(/\s*,\s*/g,"', '")+"'";
return i;
}function ac(i){return i.style+" "+i.variant+" "+i.weight+" "+i.size+"px "+i.family;
}var s={butt:"flat",round:"round"};
function S(i){return s[i]||"square";
}function D(i){this.m_=B();
this.mStack_=[];
this.aStack_=[];
this.currentPath_=[];
this.strokeStyle="#000";
this.fillStyle="#000";
this.lineWidth=1;
this.lineJoin="miter";
this.lineCap="butt";
this.miterLimit=d*1;
this.globalAlpha=1;
this.font="10px sans-serif";
this.textAlign="left";
this.textBaseline="alphabetic";
this.canvas=i;
var m="width:"+i.clientWidth+"px;height:"+i.clientHeight+"px;overflow:hidden;position:absolute";
var j=i.ownerDocument.createElement("div");
j.style.cssText=m;
i.appendChild(j);
var p=j.cloneNode(false);
p.style.backgroundColor="red";
p.style.filter="alpha(opacity=0)";
i.appendChild(p);
this.element_=j;
this.arcScaleX_=1;
this.arcScaleY_=1;
this.lineScale_=1;
}var q=D.prototype;
q.clearRect=function(){if(this.textMeasureEl_){this.textMeasureEl_.removeNode(true);
this.textMeasureEl_=null;
}this.element_.innerHTML="";
};
q.beginPath=function(){this.currentPath_=[];
};
q.moveTo=function(j,i){var m=V(this,j,i);
this.currentPath_.push({type:"moveTo",x:m.x,y:m.y});
this.currentX_=m.x;
this.currentY_=m.y;
};
q.lineTo=function(j,i){var m=V(this,j,i);
this.currentPath_.push({type:"lineTo",x:m.x,y:m.y});
this.currentX_=m.x;
this.currentY_=m.y;
};
q.bezierCurveTo=function(m,j,ak,aj,ai,ag){var i=V(this,ai,ag);
var ah=V(this,m,j);
var Z=V(this,ak,aj);
K(this,ah,Z,i);
};
function K(i,Z,m,j){i.currentPath_.push({type:"bezierCurveTo",cp1x:Z.x,cp1y:Z.y,cp2x:m.x,cp2y:m.y,x:j.x,y:j.y});
i.currentX_=j.x;
i.currentY_=j.y;
}q.quadraticCurveTo=function(ai,m,j,i){var ah=V(this,ai,m);
var ag=V(this,j,i);
var aj={x:this.currentX_+2/3*(ah.x-this.currentX_),y:this.currentY_+2/3*(ah.y-this.currentY_)};
var Z={x:aj.x+(ag.x-this.currentX_)/3,y:aj.y+(ag.y-this.currentY_)/3};
K(this,aj,Z,ag);
};
q.arc=function(al,aj,ak,ag,j,m){ak*=d;
var ap=m?"at":"wa";
var am=al+A(ag)*ak-f;
var ao=aj+l(ag)*ak-f;
var i=al+A(j)*ak-f;
var an=aj+l(j)*ak-f;
if(am==i&&!m){am+=0.125;
}var Z=V(this,al,aj);
var ai=V(this,am,ao);
var ah=V(this,i,an);
this.currentPath_.push({type:ap,x:Z.x,y:Z.y,radius:ak,xStart:ai.x,yStart:ai.y,xEnd:ah.x,yEnd:ah.y});
};
q.rect=function(m,j,i,p){this.moveTo(m,j);
this.lineTo(m+i,j);
this.lineTo(m+i,j+p);
this.lineTo(m,j+p);
this.closePath();
};
q.strokeRect=function(m,j,i,p){var Z=this.currentPath_;
this.beginPath();
this.moveTo(m,j);
this.lineTo(m+i,j);
this.lineTo(m+i,j+p);
this.lineTo(m,j+p);
this.closePath();
this.stroke();
this.currentPath_=Z;
};
q.fillRect=function(m,j,i,p){var Z=this.currentPath_;
this.beginPath();
this.moveTo(m,j);
this.lineTo(m+i,j);
this.lineTo(m+i,j+p);
this.lineTo(m,j+p);
this.closePath();
this.fill();
this.currentPath_=Z;
};
q.createLinearGradient=function(j,p,i,m){var Z=new U("gradient");
Z.x0_=j;
Z.y0_=p;
Z.x1_=i;
Z.y1_=m;
return Z;
};
q.createRadialGradient=function(p,ag,m,j,Z,i){var ah=new U("gradientradial");
ah.x0_=p;
ah.y0_=ag;
ah.r0_=m;
ah.x1_=j;
ah.y1_=Z;
ah.r1_=i;
return ah;
};
q.drawImage=function(aq,m){var aj,ah,al,ay,ao,am,at,aA;
var ak=aq.runtimeStyle.width;
var ap=aq.runtimeStyle.height;
aq.runtimeStyle.width="auto";
aq.runtimeStyle.height="auto";
var ai=aq.width;
var aw=aq.height;
aq.runtimeStyle.width=ak;
aq.runtimeStyle.height=ap;
if(arguments.length==3){aj=arguments[1];
ah=arguments[2];
ao=am=0;
at=al=ai;
aA=ay=aw;
}else{if(arguments.length==5){aj=arguments[1];
ah=arguments[2];
al=arguments[3];
ay=arguments[4];
ao=am=0;
at=ai;
aA=aw;
}else{if(arguments.length==9){ao=arguments[1];
am=arguments[2];
at=arguments[3];
aA=arguments[4];
aj=arguments[5];
ah=arguments[6];
al=arguments[7];
ay=arguments[8];
}else{throw Error("Invalid number of arguments");
}}}var az=V(this,aj,ah);
var p=at/2;
var j=aA/2;
var ax=[];
var i=10;
var ag=10;
ax.push(" <g_vml_:group",' coordsize="',d*i,",",d*ag,'"',' coordorigin="0,0"',' style="width:',i,"px;height:",ag,"px;position:absolute;");
if(this.m_[0][0]!=1||this.m_[0][1]||this.m_[1][1]!=1||this.m_[1][0]){var Z=[];
Z.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",n(az.x/d),",","Dy=",n(az.y/d),"");
var av=az;
var au=V(this,aj+al,ah);
var ar=V(this,aj,ah+ay);
var an=V(this,aj+al,ah+ay);
av.x=ab.max(av.x,au.x,ar.x,an.x);
av.y=ab.max(av.y,au.y,ar.y,an.y);
ax.push("padding:0 ",n(av.x/d),"px ",n(av.y/d),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",Z.join(""),", sizingmethod='clip');");
}else{ax.push("top:",n(az.y/d),"px;left:",n(az.x/d),"px;");
}ax.push(' ">','<g_vml_:image src="',aq.src,'"',' style="width:',d*al,"px;"," height:",d*ay,'px"',' cropleft="',ao/ai,'"',' croptop="',am/aw,'"',' cropright="',(ai-ao-at)/ai,'"',' cropbottom="',(aw-am-aA)/aw,'"'," />","</g_vml_:group>");
this.element_.insertAdjacentHTML("BeforeEnd",ax.join(""));
};
q.stroke=function(al){var aj=[];
var Z=false;
var m=10;
var am=10;
aj.push("<g_vml_:shape",' filled="',!!al,'"',' style="position:absolute;width:',m,"px;height:",am,'px;"',' coordorigin="0,0"',' coordsize="',d*m,",",d*am,'"',' stroked="',!al,'"',' path="');
var an=false;
var ag={x:null,y:null};
var ak={x:null,y:null};
for(var ah=0;
ah<this.currentPath_.length;
ah++){var j=this.currentPath_[ah];
var ai;
switch(j.type){case"moveTo":ai=j;
aj.push(" m ",n(j.x),",",n(j.y));
break;
case"lineTo":aj.push(" l ",n(j.x),",",n(j.y));
break;
case"close":aj.push(" x ");
j=null;
break;
case"bezierCurveTo":aj.push(" c ",n(j.cp1x),",",n(j.cp1y),",",n(j.cp2x),",",n(j.cp2y),",",n(j.x),",",n(j.y));
break;
case"at":case"wa":aj.push(" ",j.type," ",n(j.x-this.arcScaleX_*j.radius),",",n(j.y-this.arcScaleY_*j.radius)," ",n(j.x+this.arcScaleX_*j.radius),",",n(j.y+this.arcScaleY_*j.radius)," ",n(j.xStart),",",n(j.yStart)," ",n(j.xEnd),",",n(j.yEnd));
break;
}if(j){if(ag.x==null||j.x<ag.x){ag.x=j.x;
}if(ak.x==null||j.x>ak.x){ak.x=j.x;
}if(ag.y==null||j.y<ag.y){ag.y=j.y;
}if(ak.y==null||j.y>ak.y){ak.y=j.y;
}}}aj.push(' ">');
if(!al){w(this,aj);
}else{G(this,aj,ag,ak);
}aj.push("</g_vml_:shape>");
this.element_.insertAdjacentHTML("beforeEnd",aj.join(""));
};
function w(m,ag){var j=F(m.strokeStyle);
var p=j.color;
var Z=j.alpha*m.globalAlpha;
var i=m.lineScale_*m.lineWidth;
if(i<1){Z*=i;
}ag.push("<g_vml_:stroke",' opacity="',Z,'"',' joinstyle="',m.lineJoin,'"',' miterlimit="',m.miterLimit,'"',' endcap="',S(m.lineCap),'"',' weight="',i,'px"',' color="',p,'" />');
}function G(aq,ai,aK,ar){var aj=aq.fillStyle;
var aB=aq.arcScaleX_;
var aA=aq.arcScaleY_;
var j=ar.x-aK.x;
var p=ar.y-aK.y;
if(aj instanceof U){var an=0;
var aF={x:0,y:0};
var ax=0;
var am=1;
if(aj.type_=="gradient"){var al=aj.x0_/aB;
var m=aj.y0_/aA;
var ak=aj.x1_/aB;
var aM=aj.y1_/aA;
var aJ=V(aq,al,m);
var aI=V(aq,ak,aM);
var ag=aI.x-aJ.x;
var Z=aI.y-aJ.y;
an=Math.atan2(ag,Z)*180/Math.PI;
if(an<0){an+=360;
}if(an<0.000001){an=0;
}}else{var aJ=V(aq,aj.x0_,aj.y0_);
aF={x:(aJ.x-aK.x)/j,y:(aJ.y-aK.y)/p};
j/=aB*d;
p/=aA*d;
var aD=ab.max(j,p);
ax=2*aj.r0_/aD;
am=2*aj.r1_/aD-ax;
}var av=aj.colors_;
av.sort(function(aN,i){return aN.offset-i.offset;
});
var ap=av.length;
var au=av[0].color;
var at=av[ap-1].color;
var az=av[0].alpha*aq.globalAlpha;
var ay=av[ap-1].alpha*aq.globalAlpha;
var aE=[];
for(var aH=0;
aH<ap;
aH++){var ao=av[aH];
aE.push(ao.offset*am+ax+" "+ao.color);
}ai.push('<g_vml_:fill type="',aj.type_,'"',' method="none" focus="100%"',' color="',au,'"',' color2="',at,'"',' colors="',aE.join(","),'"',' opacity="',ay,'"',' g_o_:opacity2="',az,'"',' angle="',an,'"',' focusposition="',aF.x,",",aF.y,'" />');
}else{if(aj instanceof T){if(j&&p){var ah=-aK.x;
var aC=-aK.y;
ai.push("<g_vml_:fill",' position="',ah/j*aB*aB,",",aC/p*aA*aA,'"',' type="tile"',' src="',aj.src_,'" />');
}}else{var aL=F(aq.fillStyle);
var aw=aL.color;
var aG=aL.alpha*aq.globalAlpha;
ai.push('<g_vml_:fill color="',aw,'" opacity="',aG,'" />');
}}}q.fill=function(){this.stroke(true);
};
q.closePath=function(){this.currentPath_.push({type:"close"});
};
function V(j,Z,p){var i=j.m_;
return{x:d*(Z*i[0][0]+p*i[1][0]+i[2][0])-f,y:d*(Z*i[0][1]+p*i[1][1]+i[2][1])-f};
}q.save=function(){var i={};
v(this,i);
this.aStack_.push(i);
this.mStack_.push(this.m_);
this.m_=J(B(),this.m_);
};
q.restore=function(){if(this.aStack_.length){v(this.aStack_.pop(),this);
this.m_=this.mStack_.pop();
}};
function h(i){return isFinite(i[0][0])&&isFinite(i[0][1])&&isFinite(i[1][0])&&isFinite(i[1][1])&&isFinite(i[2][0])&&isFinite(i[2][1]);
}function aa(j,i,p){if(!h(i)){return;
}j.m_=i;
if(p){var Z=i[0][0]*i[1][1]-i[0][1]*i[1][0];
j.lineScale_=N(H(Z));
}}q.translate=function(m,j){var i=[[1,0,0],[0,1,0],[m,j,1]];
aa(this,J(i,this.m_),false);
};
q.rotate=function(j){var p=A(j);
var m=l(j);
var i=[[p,m,0],[-m,p,0],[0,0,1]];
aa(this,J(i,this.m_),false);
};
q.scale=function(m,j){this.arcScaleX_*=m;
this.arcScaleY_*=j;
var i=[[m,0,0],[0,j,0],[0,0,1]];
aa(this,J(i,this.m_),true);
};
q.transform=function(Z,p,ah,ag,j,i){var m=[[Z,p,0],[ah,ag,0],[j,i,1]];
aa(this,J(m,this.m_),true);
};
q.setTransform=function(ag,Z,ai,ah,p,j){var i=[[ag,Z,0],[ai,ah,0],[p,j,1]];
aa(this,i,true);
};
q.drawText_=function(am,ak,aj,ap,ai){var ao=this.m_,at=1000,j=0,ar=at,ah={x:0,y:0},ag=[];
var i=u(E(this.font),this.element_);
var p=ac(i);
var au=this.element_.currentStyle;
var Z=this.textAlign.toLowerCase();
switch(Z){case"left":case"center":case"right":break;
case"end":Z=au.direction=="ltr"?"right":"left";
break;
case"start":Z=au.direction=="rtl"?"right":"left";
break;
default:Z="left";
}switch(this.textBaseline){case"hanging":case"top":ah.y=i.size/1.75;
break;
case"middle":break;
default:case null:case"alphabetic":case"ideographic":case"bottom":ah.y=-i.size/2.25;
break;
}switch(Z){case"right":j=at;
ar=0.05;
break;
case"center":j=ar=at/2;
break;
}var aq=V(this,ak+ah.x,aj+ah.y);
ag.push('<g_vml_:line from="',-j,' 0" to="',ar,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!ai,'" stroked="',!!ai,'" style="position:absolute;width:1px;height:1px;">');
if(ai){w(this,ag);
}else{G(this,ag,{x:-j,y:0},{x:ar,y:i.size});
}var an=ao[0][0].toFixed(3)+","+ao[1][0].toFixed(3)+","+ao[0][1].toFixed(3)+","+ao[1][1].toFixed(3)+",0,0";
var al=n(aq.x/d+1-ao[0][0])+","+n(aq.y/d-2*ao[1][0]);
ag.push('<g_vml_:skew on="t" matrix="',an,'" ',' offset="',al,'" origin="',j,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',af(am),'" style="v-text-align:',Z,";font:",af(p),'" /></g_vml_:line>');
this.element_.insertAdjacentHTML("beforeEnd",ag.join(""));
};
q.fillText=function(m,i,p,j){this.drawText_(m,i,p,j,false);
};
q.strokeText=function(m,i,p,j){this.drawText_(m,i,p,j,true);
};
q.measureText=function(m){if(!this.textMeasureEl_){var i='<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>';
this.element_.insertAdjacentHTML("beforeEnd",i);
this.textMeasureEl_=this.element_.lastChild;
}var j=this.element_.ownerDocument;
this.textMeasureEl_.innerHTML="";
this.textMeasureEl_.style.font=this.font;
this.textMeasureEl_.appendChild(j.createTextNode(m));
return{width:this.textMeasureEl_.offsetWidth};
};
q.clip=function(){};
q.arcTo=function(){};
q.createPattern=function(j,i){return new T(j,i);
};
function U(i){this.type_=i;
this.x0_=0;
this.y0_=0;
this.r0_=0;
this.x1_=0;
this.y1_=0;
this.r1_=0;
this.colors_=[];
}U.prototype.addColorStop=function(j,i){i=F(i);
this.colors_.push({offset:j,color:i.color,alpha:i.alpha});
};
function T(j,i){Q(j);
switch(i){case"repeat":case null:case"":this.repetition_="repeat";
break;
case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=i;
break;
default:O("SYNTAX_ERR");
}this.src_=j.src;
this.width_=j.width;
this.height_=j.height;
}function O(i){throw new P(i);
}function Q(i){if(!i||i.nodeType!=1||i.tagName!="IMG"){O("TYPE_MISMATCH_ERR");
}if(i.readyState!="complete"){O("INVALID_STATE_ERR");
}}function P(i){this.code=this[i];
this.message=i+": DOM Exception "+this.code;
}var X=P.prototype=new Error;
X.INDEX_SIZE_ERR=1;
X.DOMSTRING_SIZE_ERR=2;
X.HIERARCHY_REQUEST_ERR=3;
X.WRONG_DOCUMENT_ERR=4;
X.INVALID_CHARACTER_ERR=5;
X.NO_DATA_ALLOWED_ERR=6;
X.NO_MODIFICATION_ALLOWED_ERR=7;
X.NOT_FOUND_ERR=8;
X.NOT_SUPPORTED_ERR=9;
X.INUSE_ATTRIBUTE_ERR=10;
X.INVALID_STATE_ERR=11;
X.SYNTAX_ERR=12;
X.INVALID_MODIFICATION_ERR=13;
X.NAMESPACE_ERR=14;
X.INVALID_ACCESS_ERR=15;
X.VALIDATION_ERR=16;
X.TYPE_MISMATCH_ERR=17;
G_vmlCanvasManager=e;
CanvasRenderingContext2D=D;
CanvasGradient=U;
CanvasPattern=T;
DOMException=P;
G_vmlCanvasManager._version=888;
})();
}jQuery.ajaxSettings.overridden=true;
jQuery.ajaxSettings.xhr=function(){return(CERN_BrowserDevInd)?new XMLHttpRequest():new XMLCclRequest();
};
jQuery.ajaxSettings.beforeSend=function(xhr,settings){settings.data=prepareParams(settings.data);
xhr.url=settings.url;
xhr.data=settings.data;
xhr.reqId=Math.floor(Math.random()*1000)+1;
var logString="Executing: "+settings.url+"<br>";
if(settings.caller!==undefined&&settings.caller!==""){logString+="Called from: "+settings.caller;
}if(settings.data!==undefined&&settings.data!==""){logString+="<br>Parameters: "+settings.data;
}log.profile(settings.url+"("+xhr.reqId+")");
log.info(logString);
settings.data=(CERN_BrowserDevInd)?"parameters="+settings.data:settings.data;
settings.url=(CERN_BrowserDevInd)?"http://localhost:9090/discern/mpages/reports/"+settings.url:settings.url;
};
jQuery.ajaxSettings.complete=function(xhr,textStatus){if(xhr.url===undefined){xhr.url="unknown";
}log.profile(xhr.url+"("+xhr.reqId+")");
if(xhr.url.slice(-3)==="css"||xhr.url.slice(-2)==="js"){log.debug("Request to "+xhr.url+" is complete.<br>Status: "+textStatus);
}else{log.debug("Request to "+xhr.url+"("+xhr.reqId+") is complete.<br>Status: "+textStatus+"<br>Response:<br>"+xhr.responseText);
}};
String.prototype.splitCSV=function(sep){var delimitAry=["'",'"',"^","~","|","@"];
var firstChar="";
var lastChar="";
for(var tempString=this.split(sep=sep||","),x=tempString.length-1;
x>=0;
x--){for(var i=0;
i<delimitAry.length;
i++){lastChar=$.trim(tempString[x]).replace(/delimitAry[i]\s+$/,delimitAry[i]).charAt($.trim(tempString[x]).length-1);
firstChar=$.trim(tempString[x]).replace(/delimitAry[i]\s+$/,delimitAry[i]).charAt(0);
if((lastChar===delimitAry[i])||(firstChar===delimitAry[i])){if(lastChar!==firstChar||(tempString[x].length===1)){tempString[x-1]=tempString[x-1]+sep+tempString[x];
tempString[x]="";
tempString.splice(x,1);
x=x++;
}}}}return tempString;
};
function prepareParams(params){var dataAry=params.splitCSV();
var hadDelimiter=false;
var jsonString="";
var charDelimSubstring="";
var stripKp=function(paramString){paramString=paramString.replace(/\"#kp_/g,"").replace(/_kp#\"/g,"");
paramString=paramString.replace(/#kp_/g,"").replace(/_kp#/g,"");
return paramString;
};
$.each(dataAry,function(idx,obj){charDelimSubstring=$.trim(obj).substring(0,1);
if(charDelimSubstring==="'"||charDelimSubstring==='"'||charDelimSubstring==="^"||charDelimSubstring==="~"||charDelimSubstring==="|"||charDelimSubstring==="@"){if(charDelimSubstring==="@"){jsonString=$.trim(obj).substring($.trim(obj).indexOf(":")+1,$.trim(obj).length-1);
}else{jsonString=$.trim(obj).substring(1,$.trim(obj).length-1);
}hadDelimiter=true;
}else{jsonString=$.trim(obj);
hadDelimiter=false;
}if(jsonString.substring(0,1)==="{"){jsonObj=JSON.parse(jsonString,function(key,value){if(typeof value!=="object"){if(value.length!==undefined&&value.length>0){value=value;
}else{if(!isNaN(parseFloat(value))&&isFinite(value)){if(value>=2147483647){value="#kp_"+parseFloat(value).toFixed(2)+"_kp#";
}}}}return value;
});
jsonString=JSON.stringify(jsonObj);
jsonString="@"+stripKp(jsonString).length+":"+jsonString+"@";
}else{if(hadDelimiter){if(jsonString.toUpperCase()==="MINE"){jsonString="^"+jsonString+"^";
}else{if(obj===""){jsonString="^^";
}else{jsonString="@"+jsonString.length+":"+jsonString+"@";
}}}else{if(!isNaN(parseFloat(jsonString))&&isFinite(jsonString)){if(jsonString>=2147483647){jsonString="#kp_"+parseFloat(jsonString).toFixed(2)+"_kp#";
}}}}jsonString=stripKp(jsonString);
dataAry[idx]=jsonString;
});
return dataAry.join(",");
}(function(L){var u;
L.fn.emptyForce=function(){for(var ah=0,ai;
(ai=L(this)[ah])!=null;
ah++){if(ai.nodeType===1){L.cleanData(ai.getElementsByTagName("*"));
}if(L.jqplot.use_excanvas){ai.outerHTML="";
}else{while(ai.firstChild){ai.removeChild(ai.firstChild);
}}ai=null;
}return L(this);
};
L.fn.removeChildForce=function(ah){while(ah.firstChild){this.removeChildForce(ah.firstChild);
ah.removeChild(ah.firstChild);
}};
L.fn.jqplot=function(){var ah=[];
var aj=[];
for(var ak=0,ai=arguments.length;
ak<ai;
ak++){if(L.isArray(arguments[ak])){ah.push(arguments[ak]);
}else{if(L.isPlainObject(arguments[ak])){aj.push(arguments[ak]);
}}}return this.each(function(an){var at,ar,aq=L(this),am=ah.length,al=aj.length,ap,ao;
if(an<am){ap=ah[an];
}else{ap=am?ah[am-1]:null;
}if(an<al){ao=aj[an];
}else{ao=al?aj[al-1]:null;
}at=aq.attr("id");
if(at===u){at="jqplot_target_"+L.jqplot.targetCounter++;
aq.attr("id",at);
}ar=L.jqplot(at,ap,ao);
aq.data("jqplot",ar);
});
};
L.jqplot=function(an,ak,ai){var aj=null,ah=null;
if(arguments.length===3){aj=ak;
ah=ai;
}else{if(arguments.length===2){if(L.isArray(ak)){aj=ak;
}else{if(L.isPlainObject(ak)){ah=ak;
}}}}if(aj===null&&ah!==null&&ah.data){aj=ah.data;
}var am=new R();
L("#"+an).removeClass("jqplot-error");
if(L.jqplot.config.catchErrors){try{am.init(an,aj,ah);
am.draw();
am.themeEngine.init.call(am);
return am;
}catch(al){var ao=L.jqplot.config.errorMessage||al.message;
L("#"+an).append('<div class="jqplot-error-message">'+ao+"</div>");
L("#"+an).addClass("jqplot-error");
document.getElementById(an).style.background=L.jqplot.config.errorBackground;
document.getElementById(an).style.border=L.jqplot.config.errorBorder;
document.getElementById(an).style.fontFamily=L.jqplot.config.errorFontFamily;
document.getElementById(an).style.fontSize=L.jqplot.config.errorFontSize;
document.getElementById(an).style.fontStyle=L.jqplot.config.errorFontStyle;
document.getElementById(an).style.fontWeight=L.jqplot.config.errorFontWeight;
}}else{am.init(an,aj,ah);
am.draw();
am.themeEngine.init.call(am);
return am;
}};
L.jqplot.version="1.0.8";
L.jqplot.revision="1250";
L.jqplot.targetCounter=1;
L.jqplot.CanvasManager=function(){if(typeof L.jqplot.CanvasManager.canvases=="undefined"){L.jqplot.CanvasManager.canvases=[];
L.jqplot.CanvasManager.free=[];
}var ah=[];
this.getCanvas=function(){var ak;
var aj=true;
if(!L.jqplot.use_excanvas){for(var al=0,ai=L.jqplot.CanvasManager.canvases.length;
al<ai;
al++){if(L.jqplot.CanvasManager.free[al]===true){aj=false;
ak=L.jqplot.CanvasManager.canvases[al];
L.jqplot.CanvasManager.free[al]=false;
ah.push(al);
break;
}}}if(aj){ak=document.createElement("canvas");
ah.push(L.jqplot.CanvasManager.canvases.length);
L.jqplot.CanvasManager.canvases.push(ak);
L.jqplot.CanvasManager.free.push(false);
}return ak;
};
this.initCanvas=function(ai){if(L.jqplot.use_excanvas){return window.G_vmlCanvasManager.initElement(ai);
}return ai;
};
this.freeAllCanvases=function(){for(var aj=0,ai=ah.length;
aj<ai;
aj++){this.freeCanvas(ah[aj]);
}ah=[];
};
this.freeCanvas=function(ai){if(L.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==u){window.G_vmlCanvasManager.uninitElement(L.jqplot.CanvasManager.canvases[ai]);
L.jqplot.CanvasManager.canvases[ai]=null;
}else{var aj=L.jqplot.CanvasManager.canvases[ai];
aj.getContext("2d").clearRect(0,0,aj.width,aj.height);
L(aj).unbind().removeAttr("class").removeAttr("style");
L(aj).css({left:"",top:"",position:""});
aj.width=0;
aj.height=0;
L.jqplot.CanvasManager.free[ai]=true;
}};
};
L.jqplot.log=function(){if(window.console){window.console.log.apply(window.console,arguments);
}};
L.jqplot.config={addDomReference:false,enablePlugins:false,defaultHeight:300,defaultWidth:400,UTCAdjust:false,timezoneOffset:new Date(new Date().getTimezoneOffset()*60000),errorMessage:"",errorBackground:"",errorBorder:"",errorFontFamily:"",errorFontSize:"",errorFontStyle:"",errorFontWeight:"",catchErrors:false,defaultTickFormatString:"%.1f",defaultColors:["#4bb2c5","#EAA228","#c5b47f","#579575","#839557","#958c12","#953579","#4b5de4","#d8b83f","#ff5800","#0085cc","#c747a3","#cddf54","#FBD178","#26B4E3","#bd70c7"],defaultNegativeColors:["#498991","#C08840","#9F9274","#546D61","#646C4A","#6F6621","#6E3F5F","#4F64B0","#A89050","#C45923","#187399","#945381","#959E5C","#C7AF7B","#478396","#907294"],dashLength:4,gapLength:4,dotGapLength:2.5,srcLocation:"jqplot/src/",pluginLocation:"jqplot/src/plugins/"};
L.jqplot.arrayMax=function(ah){return Math.max.apply(Math,ah);
};
L.jqplot.arrayMin=function(ah){return Math.min.apply(Math,ah);
};
L.jqplot.enablePlugins=L.jqplot.config.enablePlugins;
L.jqplot.support_canvas=function(){if(typeof L.jqplot.support_canvas.result=="undefined"){L.jqplot.support_canvas.result=!!document.createElement("canvas").getContext;
}return L.jqplot.support_canvas.result;
};
L.jqplot.support_canvas_text=function(){if(typeof L.jqplot.support_canvas_text.result=="undefined"){if(window.G_vmlCanvasManager!==u&&window.G_vmlCanvasManager._version>887){L.jqplot.support_canvas_text.result=true;
}else{L.jqplot.support_canvas_text.result=!!(document.createElement("canvas").getContext&&typeof document.createElement("canvas").getContext("2d").fillText=="function");
}}return L.jqplot.support_canvas_text.result;
};
L.jqplot.use_excanvas=((!L.support.boxModel||!L.support.objectAll||!$support.leadingWhitespace)&&!L.jqplot.support_canvas())?true:false;
L.jqplot.preInitHooks=[];
L.jqplot.postInitHooks=[];
L.jqplot.preParseOptionsHooks=[];
L.jqplot.postParseOptionsHooks=[];
L.jqplot.preDrawHooks=[];
L.jqplot.postDrawHooks=[];
L.jqplot.preDrawSeriesHooks=[];
L.jqplot.postDrawSeriesHooks=[];
L.jqplot.preDrawLegendHooks=[];
L.jqplot.addLegendRowHooks=[];
L.jqplot.preSeriesInitHooks=[];
L.jqplot.postSeriesInitHooks=[];
L.jqplot.preParseSeriesOptionsHooks=[];
L.jqplot.postParseSeriesOptionsHooks=[];
L.jqplot.eventListenerHooks=[];
L.jqplot.preDrawSeriesShadowHooks=[];
L.jqplot.postDrawSeriesShadowHooks=[];
L.jqplot.ElemContainer=function(){this._elem;
this._plotWidth;
this._plotHeight;
this._plotDimensions={height:null,width:null};
};
L.jqplot.ElemContainer.prototype.createElement=function(ak,am,ai,aj,an){this._offsets=am;
var ah=ai||"jqplot";
var al=document.createElement(ak);
this._elem=L(al);
this._elem.addClass(ah);
this._elem.css(aj);
this._elem.attr(an);
al=null;
return this._elem;
};
L.jqplot.ElemContainer.prototype.getWidth=function(){if(this._elem){return this._elem.outerWidth(true);
}else{return null;
}};
L.jqplot.ElemContainer.prototype.getHeight=function(){if(this._elem){return this._elem.outerHeight(true);
}else{return null;
}};
L.jqplot.ElemContainer.prototype.getPosition=function(){if(this._elem){return this._elem.position();
}else{return{top:null,left:null,bottom:null,right:null};
}};
L.jqplot.ElemContainer.prototype.getTop=function(){return this.getPosition().top;
};
L.jqplot.ElemContainer.prototype.getLeft=function(){return this.getPosition().left;
};
L.jqplot.ElemContainer.prototype.getBottom=function(){return this._elem.css("bottom");
};
L.jqplot.ElemContainer.prototype.getRight=function(){return this._elem.css("right");
};
function w(ah){L.jqplot.ElemContainer.call(this);
this.name=ah;
this._series=[];
this.show=false;
this.tickRenderer=L.jqplot.AxisTickRenderer;
this.tickOptions={};
this.labelRenderer=L.jqplot.AxisLabelRenderer;
this.labelOptions={};
this.label=null;
this.showLabel=true;
this.min=null;
this.max=null;
this.autoscale=false;
this.pad=1.2;
this.padMax=null;
this.padMin=null;
this.ticks=[];
this.numberTicks;
this.tickInterval;
this.renderer=L.jqplot.LinearAxisRenderer;
this.rendererOptions={};
this.showTicks=true;
this.showTickMarks=true;
this.showMinorTicks=true;
this.drawMajorGridlines=true;
this.drawMinorGridlines=false;
this.drawMajorTickMarks=true;
this.drawMinorTickMarks=true;
this.useSeriesColor=false;
this.borderWidth=null;
this.borderColor=null;
this.scaleToHiddenSeries=false;
this._dataBounds={min:null,max:null};
this._intervalStats=[];
this._offsets={min:null,max:null};
this._ticks=[];
this._label=null;
this.syncTicks=null;
this.tickSpacing=75;
this._min=null;
this._max=null;
this._tickInterval=null;
this._numberTicks=null;
this.__ticks=null;
this._options={};
}w.prototype=new L.jqplot.ElemContainer();
w.prototype.constructor=w;
w.prototype.init=function(){if(L.isFunction(this.renderer)){this.renderer=new this.renderer();
}this.tickOptions.axis=this.name;
if(this.tickOptions.showMark==null){this.tickOptions.showMark=this.showTicks;
}if(this.tickOptions.showMark==null){this.tickOptions.showMark=this.showTickMarks;
}if(this.tickOptions.showLabel==null){this.tickOptions.showLabel=this.showTicks;
}if(this.label==null||this.label==""){this.showLabel=false;
}else{this.labelOptions.label=this.label;
}if(this.showLabel==false){this.labelOptions.show=false;
}if(this.pad==0){this.pad=1;
}if(this.padMax==0){this.padMax=1;
}if(this.padMin==0){this.padMin=1;
}if(this.padMax==null){this.padMax=(this.pad-1)/2+1;
}if(this.padMin==null){this.padMin=(this.pad-1)/2+1;
}this.pad=this.padMax+this.padMin-1;
if(this.min!=null||this.max!=null){this.autoscale=false;
}if(this.syncTicks==null&&this.name.indexOf("y")>-1){this.syncTicks=true;
}else{if(this.syncTicks==null){this.syncTicks=false;
}}this.renderer.init.call(this,this.rendererOptions);
};
w.prototype.draw=function(ah,ai){if(this.__ticks){this.__ticks=null;
}return this.renderer.draw.call(this,ah,ai);
};
w.prototype.set=function(){this.renderer.set.call(this);
};
w.prototype.pack=function(ai,ah){if(this.show){this.renderer.pack.call(this,ai,ah);
}if(this._min==null){this._min=this.min;
this._max=this.max;
this._tickInterval=this.tickInterval;
this._numberTicks=this.numberTicks;
this.__ticks=this._ticks;
}};
w.prototype.reset=function(){this.renderer.reset.call(this);
};
w.prototype.resetScale=function(ah){L.extend(true,this,{min:null,max:null,numberTicks:null,tickInterval:null,_ticks:[],ticks:[]},ah);
this.resetDataBounds();
};
w.prototype.resetDataBounds=function(){var ao=this._dataBounds;
ao.min=null;
ao.max=null;
var ai,ap,am;
var aj=(this.show)?true:false;
for(var al=0;
al<this._series.length;
al++){ap=this._series[al];
if(ap.show||this.scaleToHiddenSeries){am=ap._plotData;
if(ap._type==="line"&&ap.renderer.bands.show&&this.name.charAt(0)!=="x"){am=[[0,ap.renderer.bands._min],[1,ap.renderer.bands._max]];
}var ah=1,an=1;
if(ap._type!=null&&ap._type=="ohlc"){ah=3;
an=2;
}for(var ak=0,ai=am.length;
ak<ai;
ak++){if(this.name=="xaxis"||this.name=="x2axis"){if((am[ak][0]!=null&&am[ak][0]<ao.min)||ao.min==null){ao.min=am[ak][0];
}if((am[ak][0]!=null&&am[ak][0]>ao.max)||ao.max==null){ao.max=am[ak][0];
}}else{if((am[ak][ah]!=null&&am[ak][ah]<ao.min)||ao.min==null){ao.min=am[ak][ah];
}if((am[ak][an]!=null&&am[ak][an]>ao.max)||ao.max==null){ao.max=am[ak][an];
}}}if(aj&&ap.renderer.constructor!==L.jqplot.BarRenderer){aj=false;
}else{if(aj&&this._options.hasOwnProperty("forceTickAt0")&&this._options.forceTickAt0==false){aj=false;
}else{if(aj&&ap.renderer.constructor===L.jqplot.BarRenderer){if(ap.barDirection=="vertical"&&this.name!="xaxis"&&this.name!="x2axis"){if(this._options.pad!=null||this._options.padMin!=null){aj=false;
}}else{if(ap.barDirection=="horizontal"&&(this.name=="xaxis"||this.name=="x2axis")){if(this._options.pad!=null||this._options.padMin!=null){aj=false;
}}}}}}}}if(aj&&this.renderer.constructor===L.jqplot.LinearAxisRenderer&&ao.min>=0){this.padMin=1;
this.forceTickAt0=true;
}};
function q(ah){L.jqplot.ElemContainer.call(this);
this.show=false;
this.location="ne";
this.labels=[];
this.showLabels=true;
this.showSwatches=true;
this.placement="insideGrid";
this.xoffset=0;
this.yoffset=0;
this.border;
this.background;
this.textColor;
this.fontFamily;
this.fontSize;
this.rowSpacing="0.5em";
this.renderer=L.jqplot.TableLegendRenderer;
this.rendererOptions={};
this.preDraw=false;
this.marginTop=null;
this.marginRight=null;
this.marginBottom=null;
this.marginLeft=null;
this.escapeHtml=false;
this._series=[];
L.extend(true,this,ah);
}q.prototype=new L.jqplot.ElemContainer();
q.prototype.constructor=q;
q.prototype.setOptions=function(ah){L.extend(true,this,ah);
if(this.placement=="inside"){this.placement="insideGrid";
}if(this.xoffset>0){if(this.placement=="insideGrid"){switch(this.location){case"nw":case"w":case"sw":if(this.marginLeft==null){this.marginLeft=this.xoffset+"px";
}this.marginRight="0px";
break;
case"ne":case"e":case"se":default:if(this.marginRight==null){this.marginRight=this.xoffset+"px";
}this.marginLeft="0px";
break;
}}else{if(this.placement=="outside"){switch(this.location){case"nw":case"w":case"sw":if(this.marginRight==null){this.marginRight=this.xoffset+"px";
}this.marginLeft="0px";
break;
case"ne":case"e":case"se":default:if(this.marginLeft==null){this.marginLeft=this.xoffset+"px";
}this.marginRight="0px";
break;
}}}this.xoffset=0;
}if(this.yoffset>0){if(this.placement=="outside"){switch(this.location){case"sw":case"s":case"se":if(this.marginTop==null){this.marginTop=this.yoffset+"px";
}this.marginBottom="0px";
break;
case"ne":case"n":case"nw":default:if(this.marginBottom==null){this.marginBottom=this.yoffset+"px";
}this.marginTop="0px";
break;
}}else{if(this.placement=="insideGrid"){switch(this.location){case"sw":case"s":case"se":if(this.marginBottom==null){this.marginBottom=this.yoffset+"px";
}this.marginTop="0px";
break;
case"ne":case"n":case"nw":default:if(this.marginTop==null){this.marginTop=this.yoffset+"px";
}this.marginBottom="0px";
break;
}}}this.yoffset=0;
}};
q.prototype.init=function(){if(L.isFunction(this.renderer)){this.renderer=new this.renderer();
}this.renderer.init.call(this,this.rendererOptions);
};
q.prototype.draw=function(ai,aj){for(var ah=0;
ah<L.jqplot.preDrawLegendHooks.length;
ah++){L.jqplot.preDrawLegendHooks[ah].call(this,ai);
}return this.renderer.draw.call(this,ai,aj);
};
q.prototype.pack=function(ah){this.renderer.pack.call(this,ah);
};
function y(ah){L.jqplot.ElemContainer.call(this);
this.text=ah;
this.show=true;
this.fontFamily;
this.fontSize;
this.textAlign;
this.textColor;
this.renderer=L.jqplot.DivTitleRenderer;
this.rendererOptions={};
this.escapeHtml=false;
}y.prototype=new L.jqplot.ElemContainer();
y.prototype.constructor=y;
y.prototype.init=function(){if(L.isFunction(this.renderer)){this.renderer=new this.renderer();
}this.renderer.init.call(this,this.rendererOptions);
};
y.prototype.draw=function(ah){return this.renderer.draw.call(this,ah);
};
y.prototype.pack=function(){this.renderer.pack.call(this);
};
function S(ah){ah=ah||{};
L.jqplot.ElemContainer.call(this);
this.show=true;
this.xaxis="xaxis";
this._xaxis;
this.yaxis="yaxis";
this._yaxis;
this.gridBorderWidth=2;
this.renderer=L.jqplot.LineRenderer;
this.rendererOptions={};
this.data=[];
this.gridData=[];
this.label="";
this.showLabel=true;
this.color;
this.negativeColor;
this.lineWidth=2.5;
this.lineJoin="round";
this.lineCap="round";
this.linePattern="solid";
this.shadow=true;
this.shadowAngle=45;
this.shadowOffset=1.25;
this.shadowDepth=3;
this.shadowAlpha="0.1";
this.breakOnNull=false;
this.markerRenderer=L.jqplot.MarkerRenderer;
this.markerOptions={};
this.showLine=true;
this.showMarker=true;
this.index;
this.fill=false;
this.fillColor;
this.fillAlpha;
this.fillAndStroke=false;
this.disableStack=false;
this._stack=false;
this.neighborThreshold=4;
this.fillToZero=false;
this.fillToValue=0;
this.fillAxis="y";
this.useNegativeColors=true;
this._stackData=[];
this._plotData=[];
this._plotValues={x:[],y:[]};
this._intervals={x:{},y:{}};
this._prevPlotData=[];
this._prevGridData=[];
this._stackAxis="y";
this._primaryAxis="_xaxis";
this.canvas=new L.jqplot.GenericCanvas();
this.shadowCanvas=new L.jqplot.GenericCanvas();
this.plugins={};
this._sumy=0;
this._sumx=0;
this._type="";
}S.prototype=new L.jqplot.ElemContainer();
S.prototype.constructor=S;
S.prototype.init=function(ak,ao,am){this.index=ak;
this.gridBorderWidth=ao;
var an=this.data;
var aj=[],al,ah;
for(al=0,ah=an.length;
al<ah;
al++){if(!this.breakOnNull){if(an[al]==null||an[al][0]==null||an[al][1]==null){continue;
}else{aj.push(an[al]);
}}else{aj.push(an[al]);
}}this.data=aj;
if(!this.color){this.color=am.colorGenerator.get(this.index);
}if(!this.negativeColor){this.negativeColor=am.negativeColorGenerator.get(this.index);
}if(!this.fillColor){this.fillColor=this.color;
}if(this.fillAlpha){var ai=L.jqplot.normalize2rgb(this.fillColor);
var ai=L.jqplot.getColorComponents(ai);
this.fillColor="rgba("+ai[0]+","+ai[1]+","+ai[2]+","+this.fillAlpha+")";
}if(L.isFunction(this.renderer)){this.renderer=new this.renderer();
}this.renderer.init.call(this,this.rendererOptions,am);
this.markerRenderer=new this.markerRenderer();
if(!this.markerOptions.color){this.markerOptions.color=this.color;
}if(this.markerOptions.show==null){this.markerOptions.show=this.showMarker;
}this.showMarker=this.markerOptions.show;
this.markerRenderer.init(this.markerOptions);
};
S.prototype.draw=function(an,ak,am){var ai=(ak==u)?{}:ak;
an=(an==u)?this.canvas._ctx:an;
var ah,al,aj;
for(ah=0;
ah<L.jqplot.preDrawSeriesHooks.length;
ah++){L.jqplot.preDrawSeriesHooks[ah].call(this,an,ai);
}if(this.show){this.renderer.setGridData.call(this,am);
if(!ai.preventJqPlotSeriesDrawTrigger){L(an.canvas).trigger("jqplotSeriesDraw",[this.data,this.gridData]);
}al=[];
if(ai.data){al=ai.data;
}else{if(!this._stack){al=this.data;
}else{al=this._plotData;
}}aj=ai.gridData||this.renderer.makeGridData.call(this,al,am);
if(this._type==="line"&&this.renderer.smooth&&this.renderer._smoothedData.length){aj=this.renderer._smoothedData;
}this.renderer.draw.call(this,an,aj,ai,am);
}for(ah=0;
ah<L.jqplot.postDrawSeriesHooks.length;
ah++){L.jqplot.postDrawSeriesHooks[ah].call(this,an,ai,am);
}an=ak=am=ah=al=aj=null;
};
S.prototype.drawShadow=function(an,ak,am){var ai=(ak==u)?{}:ak;
an=(an==u)?this.shadowCanvas._ctx:an;
var ah,al,aj;
for(ah=0;
ah<L.jqplot.preDrawSeriesShadowHooks.length;
ah++){L.jqplot.preDrawSeriesShadowHooks[ah].call(this,an,ai);
}if(this.shadow){this.renderer.setGridData.call(this,am);
al=[];
if(ai.data){al=ai.data;
}else{if(!this._stack){al=this.data;
}else{al=this._plotData;
}}aj=ai.gridData||this.renderer.makeGridData.call(this,al,am);
this.renderer.drawShadow.call(this,an,aj,ai,am);
}for(ah=0;
ah<L.jqplot.postDrawSeriesShadowHooks.length;
ah++){L.jqplot.postDrawSeriesShadowHooks[ah].call(this,an,ai);
}an=ak=am=ah=al=aj=null;
};
S.prototype.toggleDisplay=function(ai,ak){var ah,aj;
if(ai.data.series){ah=ai.data.series;
}else{ah=this;
}if(ai.data.speed){aj=ai.data.speed;
}if(aj){if(ah.canvas._elem.is(":hidden")||!ah.show){ah.show=true;
ah.canvas._elem.removeClass("jqplot-series-hidden");
if(ah.shadowCanvas._elem){ah.shadowCanvas._elem.fadeIn(aj);
}ah.canvas._elem.fadeIn(aj,ak);
ah.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+ah.index).fadeIn(aj);
}else{ah.show=false;
ah.canvas._elem.addClass("jqplot-series-hidden");
if(ah.shadowCanvas._elem){ah.shadowCanvas._elem.fadeOut(aj);
}ah.canvas._elem.fadeOut(aj,ak);
ah.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+ah.index).fadeOut(aj);
}}else{if(ah.canvas._elem.is(":hidden")||!ah.show){ah.show=true;
ah.canvas._elem.removeClass("jqplot-series-hidden");
if(ah.shadowCanvas._elem){ah.shadowCanvas._elem.show();
}ah.canvas._elem.show(0,ak);
ah.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+ah.index).show();
}else{ah.show=false;
ah.canvas._elem.addClass("jqplot-series-hidden");
if(ah.shadowCanvas._elem){ah.shadowCanvas._elem.hide();
}ah.canvas._elem.hide(0,ak);
ah.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+ah.index).hide();
}}};
function M(){L.jqplot.ElemContainer.call(this);
this.drawGridlines=true;
this.gridLineColor="#cccccc";
this.gridLineWidth=1;
this.background="#fffdf6";
this.borderColor="#999999";
this.borderWidth=2;
this.drawBorder=true;
this.shadow=true;
this.shadowAngle=45;
this.shadowOffset=1.5;
this.shadowWidth=3;
this.shadowDepth=3;
this.shadowColor=null;
this.shadowAlpha="0.07";
this._left;
this._top;
this._right;
this._bottom;
this._width;
this._height;
this._axes=[];
this.renderer=L.jqplot.CanvasGridRenderer;
this.rendererOptions={};
this._offsets={top:null,bottom:null,left:null,right:null};
}M.prototype=new L.jqplot.ElemContainer();
M.prototype.constructor=M;
M.prototype.init=function(){if(L.isFunction(this.renderer)){this.renderer=new this.renderer();
}this.renderer.init.call(this,this.rendererOptions);
};
M.prototype.createElement=function(ah,ai){this._offsets=ah;
return this.renderer.createElement.call(this,ai);
};
M.prototype.draw=function(){this.renderer.draw.call(this);
};
L.jqplot.GenericCanvas=function(){L.jqplot.ElemContainer.call(this);
this._ctx;
};
L.jqplot.GenericCanvas.prototype=new L.jqplot.ElemContainer();
L.jqplot.GenericCanvas.prototype.constructor=L.jqplot.GenericCanvas;
L.jqplot.GenericCanvas.prototype.createElement=function(al,aj,ai,am){this._offsets=al;
var ah="jqplot";
if(aj!=u){ah=aj;
}var ak;
ak=am.canvasManager.getCanvas();
if(ai!=null){this._plotDimensions=ai;
}ak.width=this._plotDimensions.width-this._offsets.left-this._offsets.right;
ak.height=this._plotDimensions.height-this._offsets.top-this._offsets.bottom;
this._elem=L(ak);
this._elem.css({position:"absolute",left:this._offsets.left,top:this._offsets.top});
this._elem.addClass(ah);
ak=am.canvasManager.initCanvas(ak);
ak=null;
return this._elem;
};
L.jqplot.GenericCanvas.prototype.setContext=function(){this._ctx=this._elem.get(0).getContext("2d");
return this._ctx;
};
L.jqplot.GenericCanvas.prototype.resetCanvas=function(){if(this._elem){if(L.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==u){window.G_vmlCanvasManager.uninitElement(this._elem.get(0));
}this._elem.emptyForce();
}this._ctx=null;
};
L.jqplot.HooksManager=function(){this.hooks=[];
this.args=[];
};
L.jqplot.HooksManager.prototype.addOnce=function(ak,ai){ai=ai||[];
var al=false;
for(var aj=0,ah=this.hooks.length;
aj<ah;
aj++){if(this.hooks[aj]==ak){al=true;
}}if(!al){this.hooks.push(ak);
this.args.push(ai);
}};
L.jqplot.HooksManager.prototype.add=function(ai,ah){ah=ah||[];
this.hooks.push(ai);
this.args.push(ah);
};
L.jqplot.EventListenerManager=function(){this.hooks=[];
};
L.jqplot.EventListenerManager.prototype.addOnce=function(al,ak){var am=false,aj,ai;
for(var ai=0,ah=this.hooks.length;
ai<ah;
ai++){aj=this.hooks[ai];
if(aj[0]==al&&aj[1]==ak){am=true;
}}if(!am){this.hooks.push([al,ak]);
}};
L.jqplot.EventListenerManager.prototype.add=function(ai,ah){this.hooks.push([ai,ah]);
};
var U=["yMidAxis","xaxis","yaxis","x2axis","y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis"];
function R(){this.animate=false;
this.animateReplot=false;
this.axes={xaxis:new w("xaxis"),yaxis:new w("yaxis"),x2axis:new w("x2axis"),y2axis:new w("y2axis"),y3axis:new w("y3axis"),y4axis:new w("y4axis"),y5axis:new w("y5axis"),y6axis:new w("y6axis"),y7axis:new w("y7axis"),y8axis:new w("y8axis"),y9axis:new w("y9axis"),yMidAxis:new w("yMidAxis")};
this.baseCanvas=new L.jqplot.GenericCanvas();
this.captureRightClick=false;
this.data=[];
this.dataRenderer;
this.dataRendererOptions;
this.defaults={axesDefaults:{},axes:{xaxis:{},yaxis:{},x2axis:{},y2axis:{},y3axis:{},y4axis:{},y5axis:{},y6axis:{},y7axis:{},y8axis:{},y9axis:{},yMidAxis:{}},seriesDefaults:{},series:[]};
this.defaultAxisStart=1;
this.drawIfHidden=false;
this.eventCanvas=new L.jqplot.GenericCanvas();
this.fillBetween={series1:null,series2:null,color:null,baseSeries:0,fill:true};
this.fontFamily;
this.fontSize;
this.grid=new M();
this.legend=new q();
this.noDataIndicator={show:false,indicator:"Loading Data...",axes:{xaxis:{min:0,max:10,tickInterval:2,show:true},yaxis:{min:0,max:12,tickInterval:3,show:true}}};
this.negativeSeriesColors=L.jqplot.config.defaultNegativeColors;
this.options={};
this.previousSeriesStack=[];
this.plugins={};
this.series=[];
this.seriesStack=[];
this.seriesColors=L.jqplot.config.defaultColors;
this.sortData=true;
this.stackSeries=false;
this.syncXTicks=true;
this.syncYTicks=true;
this.target=null;
this.targetId=null;
this.textColor;
this.title=new y();
this._drawCount=0;
this._sumy=0;
this._sumx=0;
this._stackData=[];
this._plotData=[];
this._width=null;
this._height=null;
this._plotDimensions={height:null,width:null};
this._gridPadding={top:null,right:null,bottom:null,left:null};
this._defaultGridPadding={top:10,right:10,bottom:23,left:10};
this._addDomReference=L.jqplot.config.addDomReference;
this.preInitHooks=new L.jqplot.HooksManager();
this.postInitHooks=new L.jqplot.HooksManager();
this.preParseOptionsHooks=new L.jqplot.HooksManager();
this.postParseOptionsHooks=new L.jqplot.HooksManager();
this.preDrawHooks=new L.jqplot.HooksManager();
this.postDrawHooks=new L.jqplot.HooksManager();
this.preDrawSeriesHooks=new L.jqplot.HooksManager();
this.postDrawSeriesHooks=new L.jqplot.HooksManager();
this.preDrawLegendHooks=new L.jqplot.HooksManager();
this.addLegendRowHooks=new L.jqplot.HooksManager();
this.preSeriesInitHooks=new L.jqplot.HooksManager();
this.postSeriesInitHooks=new L.jqplot.HooksManager();
this.preParseSeriesOptionsHooks=new L.jqplot.HooksManager();
this.postParseSeriesOptionsHooks=new L.jqplot.HooksManager();
this.eventListenerHooks=new L.jqplot.EventListenerManager();
this.preDrawSeriesShadowHooks=new L.jqplot.HooksManager();
this.postDrawSeriesShadowHooks=new L.jqplot.HooksManager();
this.colorGenerator=new L.jqplot.ColorGenerator();
this.negativeColorGenerator=new L.jqplot.ColorGenerator();
this.canvasManager=new L.jqplot.CanvasManager();
this.themeEngine=new L.jqplot.ThemeEngine();
var aj=0;
this.init=function(av,ar,ay){ay=ay||{};
for(var at=0;
at<L.jqplot.preInitHooks.length;
at++){L.jqplot.preInitHooks[at].call(this,av,ar,ay);
}for(var at=0;
at<this.preInitHooks.hooks.length;
at++){this.preInitHooks.hooks[at].call(this,av,ar,ay);
}this.targetId="#"+av;
this.target=L("#"+av);
if(this._addDomReference){this.target.data("jqplot",this);
}this.target.removeClass("jqplot-error");
if(!this.target.get(0)){throw new Error("No plot target specified");
}if(this.target.css("position")=="static"){this.target.css("position","relative");
}if(!this.target.hasClass("jqplot-target")){this.target.addClass("jqplot-target");
}if(!this.target.height()){var au;
if(ay&&ay.height){au=parseInt(ay.height,10);
}else{if(this.target.attr("data-height")){au=parseInt(this.target.attr("data-height"),10);
}else{au=parseInt(L.jqplot.config.defaultHeight,10);
}}this._height=au;
this.target.css("height",au+"px");
}else{this._height=au=this.target.height();
}if(!this.target.width()){var aw;
if(ay&&ay.width){aw=parseInt(ay.width,10);
}else{if(this.target.attr("data-width")){aw=parseInt(this.target.attr("data-width"),10);
}else{aw=parseInt(L.jqplot.config.defaultWidth,10);
}}this._width=aw;
this.target.css("width",aw+"px");
}else{this._width=aw=this.target.width();
}for(var at=0,ap=U.length;
at<ap;
at++){this.axes[U[at]]=new w(U[at]);
}this._plotDimensions.height=this._height;
this._plotDimensions.width=this._width;
this.grid._plotDimensions=this._plotDimensions;
this.title._plotDimensions=this._plotDimensions;
this.baseCanvas._plotDimensions=this._plotDimensions;
this.eventCanvas._plotDimensions=this._plotDimensions;
this.legend._plotDimensions=this._plotDimensions;
if(this._height<=0||this._width<=0||!this._height||!this._width){throw new Error("Canvas dimension not set");
}if(ay.dataRenderer&&L.isFunction(ay.dataRenderer)){if(ay.dataRendererOptions){this.dataRendererOptions=ay.dataRendererOptions;
}this.dataRenderer=ay.dataRenderer;
ar=this.dataRenderer(ar,this,this.dataRendererOptions);
}if(ay.noDataIndicator&&L.isPlainObject(ay.noDataIndicator)){L.extend(true,this.noDataIndicator,ay.noDataIndicator);
}if(ar==null||L.isArray(ar)==false||ar.length==0||L.isArray(ar[0])==false||ar[0].length==0){if(this.noDataIndicator.show==false){throw new Error("No data specified");
}else{for(var al in this.noDataIndicator.axes){for(var an in this.noDataIndicator.axes[al]){this.axes[al][an]=this.noDataIndicator.axes[al][an];
}}this.postDrawHooks.add(function(){var aD=this.eventCanvas.getHeight();
var aA=this.eventCanvas.getWidth();
var az=L('<div class="jqplot-noData-container" style="position:absolute;"></div>');
this.target.append(az);
az.height(aD);
az.width(aA);
az.css("top",this.eventCanvas._offsets.top);
az.css("left",this.eventCanvas._offsets.left);
var aC=L('<div class="jqplot-noData-contents" style="text-align:center; position:relative; margin-left:auto; margin-right:auto;"></div>');
az.append(aC);
aC.html(this.noDataIndicator.indicator);
var aB=aC.height();
var ax=aC.width();
aC.height(aB);
aC.width(ax);
aC.css("top",(aD-aB)/2+"px");
});
}}this.data=L.extend(true,[],ar);
this.parseOptions(ay);
if(this.textColor){this.target.css("color",this.textColor);
}if(this.fontFamily){this.target.css("font-family",this.fontFamily);
}if(this.fontSize){this.target.css("font-size",this.fontSize);
}this.title.init();
this.legend.init();
this._sumy=0;
this._sumx=0;
this.computePlotData();
for(var at=0;
at<this.series.length;
at++){this.seriesStack.push(at);
this.previousSeriesStack.push(at);
this.series[at].shadowCanvas._plotDimensions=this._plotDimensions;
this.series[at].canvas._plotDimensions=this._plotDimensions;
for(var aq=0;
aq<L.jqplot.preSeriesInitHooks.length;
aq++){L.jqplot.preSeriesInitHooks[aq].call(this.series[at],av,this.data,this.options.seriesDefaults,this.options.series[at],this);
}for(var aq=0;
aq<this.preSeriesInitHooks.hooks.length;
aq++){this.preSeriesInitHooks.hooks[aq].call(this.series[at],av,this.data,this.options.seriesDefaults,this.options.series[at],this);
}this.series[at]._plotDimensions=this._plotDimensions;
this.series[at].init(at,this.grid.borderWidth,this);
for(var aq=0;
aq<L.jqplot.postSeriesInitHooks.length;
aq++){L.jqplot.postSeriesInitHooks[aq].call(this.series[at],av,this.data,this.options.seriesDefaults,this.options.series[at],this);
}for(var aq=0;
aq<this.postSeriesInitHooks.hooks.length;
aq++){this.postSeriesInitHooks.hooks[aq].call(this.series[at],av,this.data,this.options.seriesDefaults,this.options.series[at],this);
}this._sumy+=this.series[at]._sumy;
this._sumx+=this.series[at]._sumx;
}var am,ao;
for(var at=0,ap=U.length;
at<ap;
at++){am=U[at];
ao=this.axes[am];
ao._plotDimensions=this._plotDimensions;
ao.init();
if(this.axes[am].borderColor==null){if(am.charAt(0)!=="x"&&ao.useSeriesColor===true&&ao.show){ao.borderColor=ao._series[0].color;
}else{ao.borderColor=this.grid.borderColor;
}}}if(this.sortData){ah(this.series);
}this.grid.init();
this.grid._axes=this.axes;
this.legend._series=this.series;
for(var at=0;
at<L.jqplot.postInitHooks.length;
at++){L.jqplot.postInitHooks[at].call(this,av,this.data,ay);
}for(var at=0;
at<this.postInitHooks.hooks.length;
at++){this.postInitHooks.hooks[at].call(this,av,this.data,ay);
}};
this.resetAxesScale=function(aq,am){var ao=am||{};
var ap=aq||this.axes;
if(ap===true){ap=this.axes;
}if(L.isArray(ap)){for(var an=0;
an<ap.length;
an++){this.axes[ap[an]].resetScale(ao[ap[an]]);
}}else{if(typeof(ap)==="object"){for(var al in ap){this.axes[al].resetScale(ao[al]);
}}}};
this.reInitialize=function(au,al){var ay=L.extend(true,{},this.options,al);
var aw=this.targetId.substr(1);
var ar=(au==null)?this.data:au;
for(var av=0;
av<L.jqplot.preInitHooks.length;
av++){L.jqplot.preInitHooks[av].call(this,aw,ar,ay);
}for(var av=0;
av<this.preInitHooks.hooks.length;
av++){this.preInitHooks.hooks[av].call(this,aw,ar,ay);
}this._height=this.target.height();
this._width=this.target.width();
if(this._height<=0||this._width<=0||!this._height||!this._width){throw new Error("Target dimension not set");
}this._plotDimensions.height=this._height;
this._plotDimensions.width=this._width;
this.grid._plotDimensions=this._plotDimensions;
this.title._plotDimensions=this._plotDimensions;
this.baseCanvas._plotDimensions=this._plotDimensions;
this.eventCanvas._plotDimensions=this._plotDimensions;
this.legend._plotDimensions=this._plotDimensions;
var am,ax,at,ao;
for(var av=0,aq=U.length;
av<aq;
av++){am=U[av];
ao=this.axes[am];
ax=ao._ticks;
for(var at=0,ap=ax.length;
at<ap;
at++){var an=ax[at]._elem;
if(an){if(L.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==u){window.G_vmlCanvasManager.uninitElement(an.get(0));
}an.emptyForce();
an=null;
ax._elem=null;
}}ax=null;
delete ao.ticks;
delete ao._ticks;
this.axes[am]=new w(am);
this.axes[am]._plotWidth=this._width;
this.axes[am]._plotHeight=this._height;
}if(au){if(ay.dataRenderer&&L.isFunction(ay.dataRenderer)){if(ay.dataRendererOptions){this.dataRendererOptions=ay.dataRendererOptions;
}this.dataRenderer=ay.dataRenderer;
au=this.dataRenderer(au,this,this.dataRendererOptions);
}this.data=L.extend(true,[],au);
}if(al){this.parseOptions(ay);
}this.title._plotWidth=this._width;
if(this.textColor){this.target.css("color",this.textColor);
}if(this.fontFamily){this.target.css("font-family",this.fontFamily);
}if(this.fontSize){this.target.css("font-size",this.fontSize);
}this.title.init();
this.legend.init();
this._sumy=0;
this._sumx=0;
this.seriesStack=[];
this.previousSeriesStack=[];
this.computePlotData();
for(var av=0,aq=this.series.length;
av<aq;
av++){this.seriesStack.push(av);
this.previousSeriesStack.push(av);
this.series[av].shadowCanvas._plotDimensions=this._plotDimensions;
this.series[av].canvas._plotDimensions=this._plotDimensions;
for(var at=0;
at<L.jqplot.preSeriesInitHooks.length;
at++){L.jqplot.preSeriesInitHooks[at].call(this.series[av],aw,this.data,this.options.seriesDefaults,this.options.series[av],this);
}for(var at=0;
at<this.preSeriesInitHooks.hooks.length;
at++){this.preSeriesInitHooks.hooks[at].call(this.series[av],aw,this.data,this.options.seriesDefaults,this.options.series[av],this);
}this.series[av]._plotDimensions=this._plotDimensions;
this.series[av].init(av,this.grid.borderWidth,this);
for(var at=0;
at<L.jqplot.postSeriesInitHooks.length;
at++){L.jqplot.postSeriesInitHooks[at].call(this.series[av],aw,this.data,this.options.seriesDefaults,this.options.series[av],this);
}for(var at=0;
at<this.postSeriesInitHooks.hooks.length;
at++){this.postSeriesInitHooks.hooks[at].call(this.series[av],aw,this.data,this.options.seriesDefaults,this.options.series[av],this);
}this._sumy+=this.series[av]._sumy;
this._sumx+=this.series[av]._sumx;
}for(var av=0,aq=U.length;
av<aq;
av++){am=U[av];
ao=this.axes[am];
ao._plotDimensions=this._plotDimensions;
ao.init();
if(ao.borderColor==null){if(am.charAt(0)!=="x"&&ao.useSeriesColor===true&&ao.show){ao.borderColor=ao._series[0].color;
}else{ao.borderColor=this.grid.borderColor;
}}}if(this.sortData){ah(this.series);
}this.grid.init();
this.grid._axes=this.axes;
this.legend._series=this.series;
for(var av=0,aq=L.jqplot.postInitHooks.length;
av<aq;
av++){L.jqplot.postInitHooks[av].call(this,aw,this.data,ay);
}for(var av=0,aq=this.postInitHooks.hooks.length;
av<aq;
av++){this.postInitHooks.hooks[av].call(this,aw,this.data,ay);
}};
this.quickInit=function(){this._height=this.target.height();
this._width=this.target.width();
if(this._height<=0||this._width<=0||!this._height||!this._width){throw new Error("Target dimension not set");
}this._plotDimensions.height=this._height;
this._plotDimensions.width=this._width;
this.grid._plotDimensions=this._plotDimensions;
this.title._plotDimensions=this._plotDimensions;
this.baseCanvas._plotDimensions=this._plotDimensions;
this.eventCanvas._plotDimensions=this._plotDimensions;
this.legend._plotDimensions=this._plotDimensions;
for(var aq in this.axes){this.axes[aq]._plotWidth=this._width;
this.axes[aq]._plotHeight=this._height;
}this.title._plotWidth=this._width;
if(this.textColor){this.target.css("color",this.textColor);
}if(this.fontFamily){this.target.css("font-family",this.fontFamily);
}if(this.fontSize){this.target.css("font-size",this.fontSize);
}this._sumy=0;
this._sumx=0;
this.computePlotData();
for(var ao=0;
ao<this.series.length;
ao++){if(this.series[ao]._type==="line"&&this.series[ao].renderer.bands.show){this.series[ao].renderer.initBands.call(this.series[ao],this.series[ao].renderer.options,this);
}this.series[ao]._plotDimensions=this._plotDimensions;
this.series[ao].canvas._plotDimensions=this._plotDimensions;
this._sumy+=this.series[ao]._sumy;
this._sumx+=this.series[ao]._sumx;
}var am;
for(var al=0;
al<12;
al++){am=U[al];
var an=this.axes[am]._ticks;
for(var ao=0;
ao<an.length;
ao++){var ap=an[ao]._elem;
if(ap){if(L.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==u){window.G_vmlCanvasManager.uninitElement(ap.get(0));
}ap.emptyForce();
ap=null;
an._elem=null;
}}an=null;
this.axes[am]._plotDimensions=this._plotDimensions;
this.axes[am]._ticks=[];
}if(this.sortData){ah(this.series);
}this.grid._axes=this.axes;
this.legend._series=this.series;
};
function ah(ap){var au,av,aw,al,at;
for(var aq=0;
aq<ap.length;
aq++){var am;
var ar=[ap[aq].data,ap[aq]._stackData,ap[aq]._plotData,ap[aq]._prevPlotData];
for(var an=0;
an<4;
an++){am=true;
au=ar[an];
if(ap[aq]._stackAxis=="x"){for(var ao=0;
ao<au.length;
ao++){if(typeof(au[ao][1])!="number"){am=false;
break;
}}if(am){au.sort(function(ay,ax){return ay[1]-ax[1];
});
}}else{for(var ao=0;
ao<au.length;
ao++){if(typeof(au[ao][0])!="number"){am=false;
break;
}}if(am){au.sort(function(ay,ax){return ay[0]-ax[0];
});
}}}}}this.computePlotData=function(){this._plotData=[];
this._stackData=[];
var at,au,ao;
for(au=0,ao=this.series.length;
au<ao;
au++){at=this.series[au];
this._plotData.push([]);
this._stackData.push([]);
var am=at.data;
this._plotData[au]=L.extend(true,[],am);
this._stackData[au]=L.extend(true,[],am);
at._plotData=this._plotData[au];
at._stackData=this._stackData[au];
var ax={x:[],y:[]};
if(this.stackSeries&&!at.disableStack){at._stack=true;
var av=(at._stackAxis==="x")?0:1;
for(var ap=0,al=am.length;
ap<al;
ap++){var aw=am[ap][av];
if(aw==null){aw=0;
}this._plotData[au][ap][av]=aw;
this._stackData[au][ap][av]=aw;
if(au>0){for(var aq=au;
aq--;
){var an=this._plotData[aq][ap][av];
if(aw*an>=0){this._plotData[au][ap][av]+=an;
this._stackData[au][ap][av]+=an;
break;
}}}}}else{for(var ar=0;
ar<at.data.length;
ar++){ax.x.push(at.data[ar][0]);
ax.y.push(at.data[ar][1]);
}this._stackData.push(at.data);
this.series[au]._stackData=at.data;
this._plotData.push(at.data);
at._plotData=at.data;
at._plotValues=ax;
}if(au>0){at._prevPlotData=this.series[au-1]._plotData;
}at._sumy=0;
at._sumx=0;
for(ar=at.data.length-1;
ar>-1;
ar--){at._sumy+=at.data[ar][1];
at._sumx+=at.data[ar][0];
}}};
this.populatePlotData=function(au,av){this._plotData=[];
this._stackData=[];
au._stackData=[];
au._plotData=[];
var ay={x:[],y:[]};
if(this.stackSeries&&!au.disableStack){au._stack=true;
var ax=(au._stackAxis==="x")?0:1;
var az=L.extend(true,[],au.data);
var aA=L.extend(true,[],au.data);
var an,am,ao,aw,al;
for(var ar=0;
ar<av;
ar++){var ap=this.series[ar].data;
for(var aq=0;
aq<ap.length;
aq++){ao=ap[aq];
an=(ao[0]!=null)?ao[0]:0;
am=(ao[1]!=null)?ao[1]:0;
az[aq][0]+=an;
az[aq][1]+=am;
aw=(ax)?am:an;
if(au.data[aq][ax]*aw>=0){aA[aq][ax]+=aw;
}}}for(var at=0;
at<aA.length;
at++){ay.x.push(aA[at][0]);
ay.y.push(aA[at][1]);
}this._plotData.push(aA);
this._stackData.push(az);
au._stackData=az;
au._plotData=aA;
au._plotValues=ay;
}else{for(var at=0;
at<au.data.length;
at++){ay.x.push(au.data[at][0]);
ay.y.push(au.data[at][1]);
}this._stackData.push(au.data);
this.series[av]._stackData=au.data;
this._plotData.push(au.data);
au._plotData=au.data;
au._plotValues=ay;
}if(av>0){au._prevPlotData=this.series[av-1]._plotData;
}au._sumy=0;
au._sumx=0;
for(at=au.data.length-1;
at>-1;
at--){au._sumy+=au.data[at][1];
au._sumx+=au.data[at][0];
}};
this.getNextSeriesColor=(function(am){var al=0;
var an=am.seriesColors;
return function(){if(al<an.length){return an[al++];
}else{al=0;
return an[al++];
}};
})(this);
this.parseOptions=function(ay){for(var at=0;
at<this.preParseOptionsHooks.hooks.length;
at++){this.preParseOptionsHooks.hooks[at].call(this,ay);
}for(var at=0;
at<L.jqplot.preParseOptionsHooks.length;
at++){L.jqplot.preParseOptionsHooks[at].call(this,ay);
}this.options=L.extend(true,{},this.defaults,ay);
var am=this.options;
this.animate=am.animate;
this.animateReplot=am.animateReplot;
this.stackSeries=am.stackSeries;
if(L.isPlainObject(am.fillBetween)){var ax=["series1","series2","color","baseSeries","fill"],au;
for(var at=0,aq=ax.length;
at<aq;
at++){au=ax[at];
if(am.fillBetween[au]!=null){this.fillBetween[au]=am.fillBetween[au];
}}}if(am.seriesColors){this.seriesColors=am.seriesColors;
}if(am.negativeSeriesColors){this.negativeSeriesColors=am.negativeSeriesColors;
}if(am.captureRightClick){this.captureRightClick=am.captureRightClick;
}this.defaultAxisStart=(ay&&ay.defaultAxisStart!=null)?ay.defaultAxisStart:this.defaultAxisStart;
this.colorGenerator.setColors(this.seriesColors);
this.negativeColorGenerator.setColors(this.negativeSeriesColors);
L.extend(true,this._gridPadding,am.gridPadding);
this.sortData=(am.sortData!=null)?am.sortData:this.sortData;
for(var at=0;
at<12;
at++){var an=U[at];
var ap=this.axes[an];
ap._options=L.extend(true,{},am.axesDefaults,am.axes[an]);
L.extend(true,ap,am.axesDefaults,am.axes[an]);
ap._plotWidth=this._width;
ap._plotHeight=this._height;
}var aw=function(aD,aB,aE){var aA=[];
var aC,az;
aB=aB||"vertical";
if(!L.isArray(aD[0])){for(aC=0,az=aD.length;
aC<az;
aC++){if(aB=="vertical"){aA.push([aE+aC,aD[aC]]);
}else{aA.push([aD[aC],aE+aC]);
}}}else{L.extend(true,aA,aD);
}return aA;
};
var av=0;
this.series=[];
for(var at=0;
at<this.data.length;
at++){var al=L.extend(true,{index:at},{seriesColors:this.seriesColors,negativeSeriesColors:this.negativeSeriesColors},this.options.seriesDefaults,this.options.series[at],{rendererOptions:{animation:{show:this.animate}}});
var ax=new S(al);
for(var ar=0;
ar<L.jqplot.preParseSeriesOptionsHooks.length;
ar++){L.jqplot.preParseSeriesOptionsHooks[ar].call(ax,this.options.seriesDefaults,this.options.series[at]);
}for(var ar=0;
ar<this.preParseSeriesOptionsHooks.hooks.length;
ar++){this.preParseSeriesOptionsHooks.hooks[ar].call(ax,this.options.seriesDefaults,this.options.series[at]);
}L.extend(true,ax,al);
var ao="vertical";
if(ax.renderer===L.jqplot.BarRenderer&&ax.rendererOptions&&ax.rendererOptions.barDirection=="horizontal"){ao="horizontal";
ax._stackAxis="x";
ax._primaryAxis="_yaxis";
}ax.data=aw(this.data[at],ao,this.defaultAxisStart);
switch(ax.xaxis){case"xaxis":ax._xaxis=this.axes.xaxis;
break;
case"x2axis":ax._xaxis=this.axes.x2axis;
break;
default:break;
}ax._yaxis=this.axes[ax.yaxis];
ax._xaxis._series.push(ax);
ax._yaxis._series.push(ax);
if(ax.show){ax._xaxis.show=true;
ax._yaxis.show=true;
}else{if(ax._xaxis.scaleToHiddenSeries){ax._xaxis.show=true;
}if(ax._yaxis.scaleToHiddenSeries){ax._yaxis.show=true;
}}if(!ax.label){ax.label="Series "+(at+1).toString();
}this.series.push(ax);
for(var ar=0;
ar<L.jqplot.postParseSeriesOptionsHooks.length;
ar++){L.jqplot.postParseSeriesOptionsHooks[ar].call(this.series[at],this.options.seriesDefaults,this.options.series[at]);
}for(var ar=0;
ar<this.postParseSeriesOptionsHooks.hooks.length;
ar++){this.postParseSeriesOptionsHooks.hooks[ar].call(this.series[at],this.options.seriesDefaults,this.options.series[at]);
}}L.extend(true,this.grid,this.options.grid);
for(var at=0,aq=U.length;
at<aq;
at++){var an=U[at];
var ap=this.axes[an];
if(ap.borderWidth==null){ap.borderWidth=this.grid.borderWidth;
}}if(typeof this.options.title=="string"){this.title.text=this.options.title;
}else{if(typeof this.options.title=="object"){L.extend(true,this.title,this.options.title);
}}this.title._plotWidth=this._width;
this.legend.setOptions(this.options.legend);
for(var at=0;
at<L.jqplot.postParseOptionsHooks.length;
at++){L.jqplot.postParseOptionsHooks[at].call(this,ay);
}for(var at=0;
at<this.postParseOptionsHooks.hooks.length;
at++){this.postParseOptionsHooks.hooks[at].call(this,ay);
}};
this.destroy=function(){this.canvasManager.freeAllCanvases();
if(this.eventCanvas&&this.eventCanvas._elem){this.eventCanvas._elem.unbind();
}this.target.empty();
this.target[0].innerHTML="";
};
this.replot=function(am){var an=am||{};
var ap=an.data||null;
var al=(an.clear===false)?false:true;
var ao=an.resetAxes||false;
delete an.data;
delete an.clear;
delete an.resetAxes;
this.target.trigger("jqplotPreReplot");
if(al){this.destroy();
}if(ap||!L.isEmptyObject(an)){this.reInitialize(ap,an);
}else{this.quickInit();
}if(ao){this.resetAxesScale(ao,an.axes);
}this.draw();
this.target.trigger("jqplotPostReplot");
};
this.redraw=function(al){al=(al!=null)?al:true;
this.target.trigger("jqplotPreRedraw");
if(al){this.canvasManager.freeAllCanvases();
this.eventCanvas._elem.unbind();
this.target.empty();
}for(var an in this.axes){this.axes[an]._ticks=[];
}this.computePlotData();
this._sumy=0;
this._sumx=0;
for(var am=0,ao=this.series.length;
am<ao;
am++){this._sumy+=this.series[am]._sumy;
this._sumx+=this.series[am]._sumx;
}this.draw();
this.target.trigger("jqplotPostRedraw");
};
this.draw=function(){if(this.drawIfHidden||this.target.is(":visible")){this.target.trigger("jqplotPreDraw");
var aH,aF,aE,ao;
for(aH=0,aE=L.jqplot.preDrawHooks.length;
aH<aE;
aH++){L.jqplot.preDrawHooks[aH].call(this);
}for(aH=0,aE=this.preDrawHooks.hooks.length;
aH<aE;
aH++){this.preDrawHooks.hooks[aH].apply(this,this.preDrawSeriesHooks.args[aH]);
}this.target.append(this.baseCanvas.createElement({left:0,right:0,top:0,bottom:0},"jqplot-base-canvas",null,this));
this.baseCanvas.setContext();
this.target.append(this.title.draw());
this.title.pack({top:0,left:0});
var aL=this.legend.draw({},this);
var al={top:0,left:0,bottom:0,right:0};
if(this.legend.placement=="outsideGrid"){this.target.append(aL);
switch(this.legend.location){case"n":al.top+=this.legend.getHeight();
break;
case"s":al.bottom+=this.legend.getHeight();
break;
case"ne":case"e":case"se":al.right+=this.legend.getWidth();
break;
case"nw":case"w":case"sw":al.left+=this.legend.getWidth();
break;
default:al.right+=this.legend.getWidth();
break;
}aL=aL.detach();
}var ar=this.axes;
var aM;
for(aH=0;
aH<12;
aH++){aM=U[aH];
this.target.append(ar[aM].draw(this.baseCanvas._ctx,this));
ar[aM].set();
}if(ar.yaxis.show){al.left+=ar.yaxis.getWidth();
}var aG=["y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis"];
var az=[0,0,0,0,0,0,0,0];
var aC=0;
var aB;
for(aB=0;
aB<8;
aB++){if(ar[aG[aB]].show){aC+=ar[aG[aB]].getWidth();
az[aB]=aC;
}}al.right+=aC;
if(ar.x2axis.show){al.top+=ar.x2axis.getHeight();
}if(this.title.show){al.top+=this.title.getHeight();
}if(ar.xaxis.show){al.bottom+=ar.xaxis.getHeight();
}if(this.options.gridDimensions&&L.isPlainObject(this.options.gridDimensions)){var at=parseInt(this.options.gridDimensions.width,10)||0;
var aI=parseInt(this.options.gridDimensions.height,10)||0;
var an=(this._width-al.left-al.right-at)/2;
var aK=(this._height-al.top-al.bottom-aI)/2;
if(aK>=0&&an>=0){al.top+=aK;
al.bottom+=aK;
al.left+=an;
al.right+=an;
}}var am=["top","bottom","left","right"];
for(var aB in am){if(this._gridPadding[am[aB]]==null&&al[am[aB]]>0){this._gridPadding[am[aB]]=al[am[aB]];
}else{if(this._gridPadding[am[aB]]==null){this._gridPadding[am[aB]]=this._defaultGridPadding[am[aB]];
}}}var aA=this._gridPadding;
if(this.legend.placement==="outsideGrid"){aA={top:this.title.getHeight(),left:0,right:0,bottom:0};
if(this.legend.location==="s"){aA.left=this._gridPadding.left;
aA.right=this._gridPadding.right;
}}ar.xaxis.pack({position:"absolute",bottom:this._gridPadding.bottom-ar.xaxis.getHeight(),left:0,width:this._width},{min:this._gridPadding.left,max:this._width-this._gridPadding.right});
ar.yaxis.pack({position:"absolute",top:0,left:this._gridPadding.left-ar.yaxis.getWidth(),height:this._height},{min:this._height-this._gridPadding.bottom,max:this._gridPadding.top});
ar.x2axis.pack({position:"absolute",top:this._gridPadding.top-ar.x2axis.getHeight(),left:0,width:this._width},{min:this._gridPadding.left,max:this._width-this._gridPadding.right});
for(aH=8;
aH>0;
aH--){ar[aG[aH-1]].pack({position:"absolute",top:0,right:this._gridPadding.right-az[aH-1]},{min:this._height-this._gridPadding.bottom,max:this._gridPadding.top});
}var au=(this._width-this._gridPadding.left-this._gridPadding.right)/2+this._gridPadding.left-ar.yMidAxis.getWidth()/2;
ar.yMidAxis.pack({position:"absolute",top:0,left:au,zIndex:9,textAlign:"center"},{min:this._height-this._gridPadding.bottom,max:this._gridPadding.top});
this.target.append(this.grid.createElement(this._gridPadding,this));
this.grid.draw();
var aq=this.series;
var aJ=aq.length;
for(aH=0,aE=aJ;
aH<aE;
aH++){aF=this.seriesStack[aH];
this.target.append(aq[aF].shadowCanvas.createElement(this._gridPadding,"jqplot-series-shadowCanvas",null,this));
aq[aF].shadowCanvas.setContext();
aq[aF].shadowCanvas._elem.data("seriesIndex",aF);
}for(aH=0,aE=aJ;
aH<aE;
aH++){aF=this.seriesStack[aH];
this.target.append(aq[aF].canvas.createElement(this._gridPadding,"jqplot-series-canvas",null,this));
aq[aF].canvas.setContext();
aq[aF].canvas._elem.data("seriesIndex",aF);
}this.target.append(this.eventCanvas.createElement(this._gridPadding,"jqplot-event-canvas",null,this));
this.eventCanvas.setContext();
this.eventCanvas._ctx.fillStyle="rgba(0,0,0,0)";
this.eventCanvas._ctx.fillRect(0,0,this.eventCanvas._ctx.canvas.width,this.eventCanvas._ctx.canvas.height);
this.bindCustomEvents();
if(this.legend.preDraw){this.eventCanvas._elem.before(aL);
this.legend.pack(aA);
if(this.legend._elem){this.drawSeries({legendInfo:{location:this.legend.location,placement:this.legend.placement,width:this.legend.getWidth(),height:this.legend.getHeight(),xoffset:this.legend.xoffset,yoffset:this.legend.yoffset}});
}else{this.drawSeries();
}}else{this.drawSeries();
if(aJ){L(aq[aJ-1].canvas._elem).after(aL);
}this.legend.pack(aA);
}for(var aH=0,aE=L.jqplot.eventListenerHooks.length;
aH<aE;
aH++){this.eventCanvas._elem.bind(L.jqplot.eventListenerHooks[aH][0],{plot:this},L.jqplot.eventListenerHooks[aH][1]);
}for(var aH=0,aE=this.eventListenerHooks.hooks.length;
aH<aE;
aH++){this.eventCanvas._elem.bind(this.eventListenerHooks.hooks[aH][0],{plot:this},this.eventListenerHooks.hooks[aH][1]);
}var ay=this.fillBetween;
if(ay.fill&&ay.series1!==ay.series2&&ay.series1<aJ&&ay.series2<aJ&&aq[ay.series1]._type==="line"&&aq[ay.series2]._type==="line"){this.doFillBetweenLines();
}for(var aH=0,aE=L.jqplot.postDrawHooks.length;
aH<aE;
aH++){L.jqplot.postDrawHooks[aH].call(this);
}for(var aH=0,aE=this.postDrawHooks.hooks.length;
aH<aE;
aH++){this.postDrawHooks.hooks[aH].apply(this,this.postDrawHooks.args[aH]);
}if(this.target.is(":visible")){this._drawCount+=1;
}var av,aw,aD,ap;
for(aH=0,aE=aJ;
aH<aE;
aH++){av=aq[aH];
aw=av.renderer;
aD=".jqplot-point-label.jqplot-series-"+aH;
if(aw.animation&&aw.animation._supported&&aw.animation.show&&(this._drawCount<2||this.animateReplot)){ap=this.target.find(aD);
ap.stop(true,true).hide();
av.canvas._elem.stop(true,true).hide();
av.shadowCanvas._elem.stop(true,true).hide();
av.canvas._elem.jqplotEffect("blind",{mode:"show",direction:aw.animation.direction},aw.animation.speed);
av.shadowCanvas._elem.jqplotEffect("blind",{mode:"show",direction:aw.animation.direction},aw.animation.speed);
ap.fadeIn(aw.animation.speed*0.8);
}}ap=null;
this.target.trigger("jqplotPostDraw",[this]);
}};
R.prototype.doFillBetweenLines=function(){var an=this.fillBetween;
var ax=an.series1;
var av=an.series2;
var aw=(ax<av)?ax:av;
var au=(av>ax)?av:ax;
var ar=this.series[aw];
var aq=this.series[au];
if(aq.renderer.smooth){var ap=aq.renderer._smoothedData.slice(0).reverse();
}else{var ap=aq.gridData.slice(0).reverse();
}if(ar.renderer.smooth){var at=ar.renderer._smoothedData.concat(ap);
}else{var at=ar.gridData.concat(ap);
}var ao=(an.color!==null)?an.color:this.series[ax].fillColor;
var ay=(an.baseSeries!==null)?an.baseSeries:aw;
var am=this.series[ay].renderer.shapeRenderer;
var al={fillStyle:ao,fill:true,closePath:true};
am.draw(ar.shadowCanvas._ctx,at,al);
};
this.bindCustomEvents=function(){this.eventCanvas._elem.bind("click",{plot:this},this.onClick);
this.eventCanvas._elem.bind("dblclick",{plot:this},this.onDblClick);
this.eventCanvas._elem.bind("mousedown",{plot:this},this.onMouseDown);
this.eventCanvas._elem.bind("mousemove",{plot:this},this.onMouseMove);
this.eventCanvas._elem.bind("mouseenter",{plot:this},this.onMouseEnter);
this.eventCanvas._elem.bind("mouseleave",{plot:this},this.onMouseLeave);
if(this.captureRightClick){this.eventCanvas._elem.bind("mouseup",{plot:this},this.onRightClick);
this.eventCanvas._elem.get(0).oncontextmenu=function(){return false;
};
}else{this.eventCanvas._elem.bind("mouseup",{plot:this},this.onMouseUp);
}};
function ai(av){var au=av.data.plot;
var ap=au.eventCanvas._elem.offset();
var at={x:av.pageX-ap.left,y:av.pageY-ap.top};
var aq={xaxis:null,yaxis:null,x2axis:null,y2axis:null,y3axis:null,y4axis:null,y5axis:null,y6axis:null,y7axis:null,y8axis:null,y9axis:null,yMidAxis:null};
var ar=["xaxis","yaxis","x2axis","y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis","yMidAxis"];
var al=au.axes;
var am,ao;
for(am=11;
am>0;
am--){ao=ar[am-1];
if(al[ao].show){aq[ao]=al[ao].series_p2u(at[ao.charAt(0)]);
}}return{offsets:ap,gridPos:at,dataPos:aq};
}function ak(al,am){var aq=am.series;
var aW,aU,aT,aO,aP,aJ,aI,aw,au,az,aA,aK;
var aS,aX,aQ,ar,aH,aM,aV;
var an,aN;
for(aT=am.seriesStack.length-1;
aT>=0;
aT--){aW=am.seriesStack[aT];
aO=aq[aW];
aV=aO._highlightThreshold;
switch(aO.renderer.constructor){case L.jqplot.BarRenderer:aJ=al.x;
aI=al.y;
for(aU=0;
aU<aO._barPoints.length;
aU++){aH=aO._barPoints[aU];
aQ=aO.gridData[aU];
if(aJ>aH[0][0]&&aJ<aH[2][0]&&aI>aH[2][1]&&aI<aH[0][1]){return{seriesIndex:aO.index,pointIndex:aU,gridData:aQ,data:aO.data[aU],points:aO._barPoints[aU]};
}}break;
case L.jqplot.PyramidRenderer:aJ=al.x;
aI=al.y;
for(aU=0;
aU<aO._barPoints.length;
aU++){aH=aO._barPoints[aU];
aQ=aO.gridData[aU];
if(aJ>aH[0][0]+aV[0][0]&&aJ<aH[2][0]+aV[2][0]&&aI>aH[2][1]&&aI<aH[0][1]){return{seriesIndex:aO.index,pointIndex:aU,gridData:aQ,data:aO.data[aU],points:aO._barPoints[aU]};
}}break;
case L.jqplot.DonutRenderer:az=aO.startAngle/180*Math.PI;
aJ=al.x-aO._center[0];
aI=al.y-aO._center[1];
aP=Math.sqrt(Math.pow(aJ,2)+Math.pow(aI,2));
if(aJ>0&&-aI>=0){aw=2*Math.PI-Math.atan(-aI/aJ);
}else{if(aJ>0&&-aI<0){aw=-Math.atan(-aI/aJ);
}else{if(aJ<0){aw=Math.PI-Math.atan(-aI/aJ);
}else{if(aJ==0&&-aI>0){aw=3*Math.PI/2;
}else{if(aJ==0&&-aI<0){aw=Math.PI/2;
}else{if(aJ==0&&aI==0){aw=0;
}}}}}}if(az){aw-=az;
if(aw<0){aw+=2*Math.PI;
}else{if(aw>2*Math.PI){aw-=2*Math.PI;
}}}au=aO.sliceMargin/180*Math.PI;
if(aP<aO._radius&&aP>aO._innerRadius){for(aU=0;
aU<aO.gridData.length;
aU++){aA=(aU>0)?aO.gridData[aU-1][1]+au:au;
aK=aO.gridData[aU][1];
if(aw>aA&&aw<aK){return{seriesIndex:aO.index,pointIndex:aU,gridData:[al.x,al.y],data:aO.data[aU]};
}}}break;
case L.jqplot.PieRenderer:az=aO.startAngle/180*Math.PI;
aJ=al.x-aO._center[0];
aI=al.y-aO._center[1];
aP=Math.sqrt(Math.pow(aJ,2)+Math.pow(aI,2));
if(aJ>0&&-aI>=0){aw=2*Math.PI-Math.atan(-aI/aJ);
}else{if(aJ>0&&-aI<0){aw=-Math.atan(-aI/aJ);
}else{if(aJ<0){aw=Math.PI-Math.atan(-aI/aJ);
}else{if(aJ==0&&-aI>0){aw=3*Math.PI/2;
}else{if(aJ==0&&-aI<0){aw=Math.PI/2;
}else{if(aJ==0&&aI==0){aw=0;
}}}}}}if(az){aw-=az;
if(aw<0){aw+=2*Math.PI;
}else{if(aw>2*Math.PI){aw-=2*Math.PI;
}}}au=aO.sliceMargin/180*Math.PI;
if(aP<aO._radius){for(aU=0;
aU<aO.gridData.length;
aU++){aA=(aU>0)?aO.gridData[aU-1][1]+au:au;
aK=aO.gridData[aU][1];
if(aw>aA&&aw<aK){return{seriesIndex:aO.index,pointIndex:aU,gridData:[al.x,al.y],data:aO.data[aU]};
}}}break;
case L.jqplot.BubbleRenderer:aJ=al.x;
aI=al.y;
var aF=null;
if(aO.show){for(var aU=0;
aU<aO.gridData.length;
aU++){aQ=aO.gridData[aU];
aX=Math.sqrt((aJ-aQ[0])*(aJ-aQ[0])+(aI-aQ[1])*(aI-aQ[1]));
if(aX<=aQ[2]&&(aX<=aS||aS==null)){aS=aX;
aF={seriesIndex:aW,pointIndex:aU,gridData:aQ,data:aO.data[aU]};
}}if(aF!=null){return aF;
}}break;
case L.jqplot.FunnelRenderer:aJ=al.x;
aI=al.y;
var aL=aO._vertices,ap=aL[0],ao=aL[aL.length-1],at,aE,ay;
function aR(a0,a2,a1){var aZ=(a2[1]-a1[1])/(a2[0]-a1[0]);
var aY=a2[1]-aZ*a2[0];
var a3=a0+a2[1];
return[(a3-aY)/aZ,a3];
}at=aR(aI,ap[0],ao[3]);
aE=aR(aI,ap[1],ao[2]);
for(aU=0;
aU<aL.length;
aU++){ay=aL[aU];
if(aI>=ay[0][1]&&aI<=ay[3][1]&&aJ>=at[0]&&aJ<=aE[0]){return{seriesIndex:aO.index,pointIndex:aU,gridData:null,data:aO.data[aU]};
}}break;
case L.jqplot.LineRenderer:aJ=al.x;
aI=al.y;
aP=aO.renderer;
if(aO.show){if((aO.fill||(aO.renderer.bands.show&&aO.renderer.bands.fill))&&(!am.plugins.highlighter||!am.plugins.highlighter.show)){var ax=false;
if(aJ>aO._boundingBox[0][0]&&aJ<aO._boundingBox[1][0]&&aI>aO._boundingBox[1][1]&&aI<aO._boundingBox[0][1]){var aD=aO._areaPoints.length;
var aG;
var aU=aD-1;
for(var aG=0;
aG<aD;
aG++){var aC=[aO._areaPoints[aG][0],aO._areaPoints[aG][1]];
var aB=[aO._areaPoints[aU][0],aO._areaPoints[aU][1]];
if(aC[1]<aI&&aB[1]>=aI||aB[1]<aI&&aC[1]>=aI){if(aC[0]+(aI-aC[1])/(aB[1]-aC[1])*(aB[0]-aC[0])<aJ){ax=!ax;
}}aU=aG;
}}if(ax){return{seriesIndex:aW,pointIndex:null,gridData:aO.gridData,data:aO.data,points:aO._areaPoints};
}break;
}else{aN=aO.markerRenderer.size/2+aO.neighborThreshold;
an=(aN>0)?aN:0;
for(var aU=0;
aU<aO.gridData.length;
aU++){aQ=aO.gridData[aU];
if(aP.constructor==L.jqplot.OHLCRenderer){if(aP.candleStick){var av=aO._yaxis.series_u2p;
if(aJ>=aQ[0]-aP._bodyWidth/2&&aJ<=aQ[0]+aP._bodyWidth/2&&aI>=av(aO.data[aU][2])&&aI<=av(aO.data[aU][3])){return{seriesIndex:aW,pointIndex:aU,gridData:aQ,data:aO.data[aU]};
}}else{if(!aP.hlc){var av=aO._yaxis.series_u2p;
if(aJ>=aQ[0]-aP._tickLength&&aJ<=aQ[0]+aP._tickLength&&aI>=av(aO.data[aU][2])&&aI<=av(aO.data[aU][3])){return{seriesIndex:aW,pointIndex:aU,gridData:aQ,data:aO.data[aU]};
}}else{var av=aO._yaxis.series_u2p;
if(aJ>=aQ[0]-aP._tickLength&&aJ<=aQ[0]+aP._tickLength&&aI>=av(aO.data[aU][1])&&aI<=av(aO.data[aU][2])){return{seriesIndex:aW,pointIndex:aU,gridData:aQ,data:aO.data[aU]};
}}}}else{if(aQ[0]!=null&&aQ[1]!=null){aX=Math.sqrt((aJ-aQ[0])*(aJ-aQ[0])+(aI-aQ[1])*(aI-aQ[1]));
if(aX<=an&&(aX<=aS||aS==null)){aS=aX;
return{seriesIndex:aW,pointIndex:aU,gridData:aQ,data:aO.data[aU]};
}}}}}}break;
default:aJ=al.x;
aI=al.y;
aP=aO.renderer;
if(aO.show){aN=aO.markerRenderer.size/2+aO.neighborThreshold;
an=(aN>0)?aN:0;
for(var aU=0;
aU<aO.gridData.length;
aU++){aQ=aO.gridData[aU];
if(aP.constructor==L.jqplot.OHLCRenderer){if(aP.candleStick){var av=aO._yaxis.series_u2p;
if(aJ>=aQ[0]-aP._bodyWidth/2&&aJ<=aQ[0]+aP._bodyWidth/2&&aI>=av(aO.data[aU][2])&&aI<=av(aO.data[aU][3])){return{seriesIndex:aW,pointIndex:aU,gridData:aQ,data:aO.data[aU]};
}}else{if(!aP.hlc){var av=aO._yaxis.series_u2p;
if(aJ>=aQ[0]-aP._tickLength&&aJ<=aQ[0]+aP._tickLength&&aI>=av(aO.data[aU][2])&&aI<=av(aO.data[aU][3])){return{seriesIndex:aW,pointIndex:aU,gridData:aQ,data:aO.data[aU]};
}}else{var av=aO._yaxis.series_u2p;
if(aJ>=aQ[0]-aP._tickLength&&aJ<=aQ[0]+aP._tickLength&&aI>=av(aO.data[aU][1])&&aI<=av(aO.data[aU][2])){return{seriesIndex:aW,pointIndex:aU,gridData:aQ,data:aO.data[aU]};
}}}}else{aX=Math.sqrt((aJ-aQ[0])*(aJ-aQ[0])+(aI-aQ[1])*(aI-aQ[1]));
if(aX<=an&&(aX<=aS||aS==null)){aS=aX;
return{seriesIndex:aW,pointIndex:aU,gridData:aQ,data:aO.data[aU]};
}}}}break;
}}return null;
}this.onClick=function(an){var am=ai(an);
var ap=an.data.plot;
var ao=ak(am.gridPos,ap);
var al=L.Event("jqplotClick");
al.pageX=an.pageX;
al.pageY=an.pageY;
L(this).trigger(al,[am.gridPos,am.dataPos,ao,ap]);
};
this.onDblClick=function(an){var am=ai(an);
var ap=an.data.plot;
var ao=ak(am.gridPos,ap);
var al=L.Event("jqplotDblClick");
al.pageX=an.pageX;
al.pageY=an.pageY;
L(this).trigger(al,[am.gridPos,am.dataPos,ao,ap]);
};
this.onMouseDown=function(an){var am=ai(an);
var ap=an.data.plot;
var ao=ak(am.gridPos,ap);
var al=L.Event("jqplotMouseDown");
al.pageX=an.pageX;
al.pageY=an.pageY;
L(this).trigger(al,[am.gridPos,am.dataPos,ao,ap]);
};
this.onMouseUp=function(an){var am=ai(an);
var al=L.Event("jqplotMouseUp");
al.pageX=an.pageX;
al.pageY=an.pageY;
L(this).trigger(al,[am.gridPos,am.dataPos,null,an.data.plot]);
};
this.onRightClick=function(an){var am=ai(an);
var ap=an.data.plot;
var ao=ak(am.gridPos,ap);
if(ap.captureRightClick){if(an.which==3){var al=L.Event("jqplotRightClick");
al.pageX=an.pageX;
al.pageY=an.pageY;
L(this).trigger(al,[am.gridPos,am.dataPos,ao,ap]);
}else{var al=L.Event("jqplotMouseUp");
al.pageX=an.pageX;
al.pageY=an.pageY;
L(this).trigger(al,[am.gridPos,am.dataPos,ao,ap]);
}}};
this.onMouseMove=function(an){var am=ai(an);
var ap=an.data.plot;
var ao=ak(am.gridPos,ap);
var al=L.Event("jqplotMouseMove");
al.pageX=an.pageX;
al.pageY=an.pageY;
L(this).trigger(al,[am.gridPos,am.dataPos,ao,ap]);
};
this.onMouseEnter=function(an){var am=ai(an);
var ao=an.data.plot;
var al=L.Event("jqplotMouseEnter");
al.pageX=an.pageX;
al.pageY=an.pageY;
al.relatedTarget=an.relatedTarget;
L(this).trigger(al,[am.gridPos,am.dataPos,null,ao]);
};
this.onMouseLeave=function(an){var am=ai(an);
var ao=an.data.plot;
var al=L.Event("jqplotMouseLeave");
al.pageX=an.pageX;
al.pageY=an.pageY;
al.relatedTarget=an.relatedTarget;
L(this).trigger(al,[am.gridPos,am.dataPos,null,ao]);
};
this.drawSeries=function(an,al){var ap,ao,am;
al=(typeof(an)==="number"&&al==null)?an:al;
an=(typeof(an)==="object")?an:{};
if(al!=u){ao=this.series[al];
am=ao.shadowCanvas._ctx;
am.clearRect(0,0,am.canvas.width,am.canvas.height);
ao.drawShadow(am,an,this);
am=ao.canvas._ctx;
am.clearRect(0,0,am.canvas.width,am.canvas.height);
ao.draw(am,an,this);
if(ao.renderer.constructor==L.jqplot.BezierCurveRenderer){if(al<this.series.length-1){this.drawSeries(al+1);
}}}else{for(ap=0;
ap<this.series.length;
ap++){ao=this.series[ap];
am=ao.shadowCanvas._ctx;
am.clearRect(0,0,am.canvas.width,am.canvas.height);
ao.drawShadow(am,an,this);
am=ao.canvas._ctx;
am.clearRect(0,0,am.canvas.width,am.canvas.height);
ao.draw(am,an,this);
}}an=al=ap=ao=am=null;
};
this.moveSeriesToFront=function(am){am=parseInt(am,10);
var ap=L.inArray(am,this.seriesStack);
if(ap==-1){return;
}if(ap==this.seriesStack.length-1){this.previousSeriesStack=this.seriesStack.slice(0);
return;
}var al=this.seriesStack[this.seriesStack.length-1];
var ao=this.series[am].canvas._elem.detach();
var an=this.series[am].shadowCanvas._elem.detach();
this.series[al].shadowCanvas._elem.after(an);
this.series[al].canvas._elem.after(ao);
this.previousSeriesStack=this.seriesStack.slice(0);
this.seriesStack.splice(ap,1);
this.seriesStack.push(am);
};
this.moveSeriesToBack=function(am){am=parseInt(am,10);
var ap=L.inArray(am,this.seriesStack);
if(ap==0||ap==-1){return;
}var al=this.seriesStack[0];
var ao=this.series[am].canvas._elem.detach();
var an=this.series[am].shadowCanvas._elem.detach();
this.series[al].shadowCanvas._elem.before(an);
this.series[al].canvas._elem.before(ao);
this.previousSeriesStack=this.seriesStack.slice(0);
this.seriesStack.splice(ap,1);
this.seriesStack.unshift(am);
};
this.restorePreviousSeriesOrder=function(){var ar,aq,ap,ao,an,al,am;
if(this.seriesStack==this.previousSeriesStack){return;
}for(ar=1;
ar<this.previousSeriesStack.length;
ar++){al=this.previousSeriesStack[ar];
am=this.previousSeriesStack[ar-1];
ap=this.series[al].canvas._elem.detach();
ao=this.series[al].shadowCanvas._elem.detach();
this.series[am].shadowCanvas._elem.after(ao);
this.series[am].canvas._elem.after(ap);
}an=this.seriesStack.slice(0);
this.seriesStack=this.previousSeriesStack.slice(0);
this.previousSeriesStack=an;
};
this.restoreOriginalSeriesOrder=function(){var ap,ao,al=[],an,am;
for(ap=0;
ap<this.series.length;
ap++){al.push(ap);
}if(this.seriesStack==al){return;
}this.previousSeriesStack=this.seriesStack.slice(0);
this.seriesStack=al;
for(ap=1;
ap<this.seriesStack.length;
ap++){an=this.series[ap].canvas._elem.detach();
am=this.series[ap].shadowCanvas._elem.detach();
this.series[ap-1].shadowCanvas._elem.after(am);
this.series[ap-1].canvas._elem.after(an);
}};
this.activateTheme=function(al){this.themeEngine.activate(this,al);
};
}L.jqplot.computeHighlightColors=function(ai){var ak;
if(L.isArray(ai)){ak=[];
for(var am=0;
am<ai.length;
am++){var al=L.jqplot.getColorComponents(ai[am]);
var ah=[al[0],al[1],al[2]];
var an=ah[0]+ah[1]+ah[2];
for(var aj=0;
aj<3;
aj++){ah[aj]=(an>660)?ah[aj]*0.85:0.73*ah[aj]+90;
ah[aj]=parseInt(ah[aj],10);
(ah[aj]>255)?255:ah[aj];
}ah[3]=0.3+0.35*al[3];
ak.push("rgba("+ah[0]+","+ah[1]+","+ah[2]+","+ah[3]+")");
}}else{var al=L.jqplot.getColorComponents(ai);
var ah=[al[0],al[1],al[2]];
var an=ah[0]+ah[1]+ah[2];
for(var aj=0;
aj<3;
aj++){ah[aj]=(an>660)?ah[aj]*0.85:0.73*ah[aj]+90;
ah[aj]=parseInt(ah[aj],10);
(ah[aj]>255)?255:ah[aj];
}ah[3]=0.3+0.35*al[3];
ak="rgba("+ah[0]+","+ah[1]+","+ah[2]+","+ah[3]+")";
}return ak;
};
L.jqplot.ColorGenerator=function(ai){ai=ai||L.jqplot.config.defaultColors;
var ah=0;
this.next=function(){if(ah<ai.length){return ai[ah++];
}else{ah=0;
return ai[ah++];
}};
this.previous=function(){if(ah>0){return ai[ah--];
}else{ah=ai.length-1;
return ai[ah];
}};
this.get=function(ak){var aj=ak-ai.length*Math.floor(ak/ai.length);
return ai[aj];
};
this.setColors=function(aj){ai=aj;
};
this.reset=function(){ah=0;
};
this.getIndex=function(){return ah;
};
this.setIndex=function(aj){ah=aj;
};
};
L.jqplot.hex2rgb=function(aj,ah){aj=aj.replace("#","");
if(aj.length==3){aj=aj.charAt(0)+aj.charAt(0)+aj.charAt(1)+aj.charAt(1)+aj.charAt(2)+aj.charAt(2);
}var ai;
ai="rgba("+parseInt(aj.slice(0,2),16)+", "+parseInt(aj.slice(2,4),16)+", "+parseInt(aj.slice(4,6),16);
if(ah){ai+=", "+ah;
}ai+=")";
return ai;
};
L.jqplot.rgb2hex=function(am){var aj=/rgba?\( *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *(?:, *[0-9.]*)?\)/;
var ah=am.match(aj);
var al="#";
for(var ak=1;
ak<4;
ak++){var ai;
if(ah[ak].search(/%/)!=-1){ai=parseInt(255*ah[ak]/100,10).toString(16);
if(ai.length==1){ai="0"+ai;
}}else{ai=parseInt(ah[ak],10).toString(16);
if(ai.length==1){ai="0"+ai;
}}al+=ai;
}return al;
};
L.jqplot.normalize2rgb=function(ai,ah){if(ai.search(/^ *rgba?\(/)!=-1){return ai;
}else{if(ai.search(/^ *#?[0-9a-fA-F]?[0-9a-fA-F]/)!=-1){return L.jqplot.hex2rgb(ai,ah);
}else{throw new Error("Invalid color spec");
}}};
L.jqplot.getColorComponents=function(am){am=L.jqplot.colorKeywordMap[am]||am;
var ak=L.jqplot.normalize2rgb(am);
var aj=/rgba?\( *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *,? *([0-9.]* *)?\)/;
var ah=ak.match(aj);
var ai=[];
for(var al=1;
al<4;
al++){if(ah[al].search(/%/)!=-1){ai[al-1]=parseInt(255*ah[al]/100,10);
}else{ai[al-1]=parseInt(ah[al],10);
}}ai[3]=parseFloat(ah[4])?parseFloat(ah[4]):1;
return ai;
};
L.jqplot.colorKeywordMap={aliceblue:"rgb(240, 248, 255)",antiquewhite:"rgb(250, 235, 215)",aqua:"rgb( 0, 255, 255)",aquamarine:"rgb(127, 255, 212)",azure:"rgb(240, 255, 255)",beige:"rgb(245, 245, 220)",bisque:"rgb(255, 228, 196)",black:"rgb( 0, 0, 0)",blanchedalmond:"rgb(255, 235, 205)",blue:"rgb( 0, 0, 255)",blueviolet:"rgb(138, 43, 226)",brown:"rgb(165, 42, 42)",burlywood:"rgb(222, 184, 135)",cadetblue:"rgb( 95, 158, 160)",chartreuse:"rgb(127, 255, 0)",chocolate:"rgb(210, 105, 30)",coral:"rgb(255, 127, 80)",cornflowerblue:"rgb(100, 149, 237)",cornsilk:"rgb(255, 248, 220)",crimson:"rgb(220, 20, 60)",cyan:"rgb( 0, 255, 255)",darkblue:"rgb( 0, 0, 139)",darkcyan:"rgb( 0, 139, 139)",darkgoldenrod:"rgb(184, 134, 11)",darkgray:"rgb(169, 169, 169)",darkgreen:"rgb( 0, 100, 0)",darkgrey:"rgb(169, 169, 169)",darkkhaki:"rgb(189, 183, 107)",darkmagenta:"rgb(139, 0, 139)",darkolivegreen:"rgb( 85, 107, 47)",darkorange:"rgb(255, 140, 0)",darkorchid:"rgb(153, 50, 204)",darkred:"rgb(139, 0, 0)",darksalmon:"rgb(233, 150, 122)",darkseagreen:"rgb(143, 188, 143)",darkslateblue:"rgb( 72, 61, 139)",darkslategray:"rgb( 47, 79, 79)",darkslategrey:"rgb( 47, 79, 79)",darkturquoise:"rgb( 0, 206, 209)",darkviolet:"rgb(148, 0, 211)",deeppink:"rgb(255, 20, 147)",deepskyblue:"rgb( 0, 191, 255)",dimgray:"rgb(105, 105, 105)",dimgrey:"rgb(105, 105, 105)",dodgerblue:"rgb( 30, 144, 255)",firebrick:"rgb(178, 34, 34)",floralwhite:"rgb(255, 250, 240)",forestgreen:"rgb( 34, 139, 34)",fuchsia:"rgb(255, 0, 255)",gainsboro:"rgb(220, 220, 220)",ghostwhite:"rgb(248, 248, 255)",gold:"rgb(255, 215, 0)",goldenrod:"rgb(218, 165, 32)",gray:"rgb(128, 128, 128)",grey:"rgb(128, 128, 128)",green:"rgb( 0, 128, 0)",greenyellow:"rgb(173, 255, 47)",honeydew:"rgb(240, 255, 240)",hotpink:"rgb(255, 105, 180)",indianred:"rgb(205, 92, 92)",indigo:"rgb( 75, 0, 130)",ivory:"rgb(255, 255, 240)",khaki:"rgb(240, 230, 140)",lavender:"rgb(230, 230, 250)",lavenderblush:"rgb(255, 240, 245)",lawngreen:"rgb(124, 252, 0)",lemonchiffon:"rgb(255, 250, 205)",lightblue:"rgb(173, 216, 230)",lightcoral:"rgb(240, 128, 128)",lightcyan:"rgb(224, 255, 255)",lightgoldenrodyellow:"rgb(250, 250, 210)",lightgray:"rgb(211, 211, 211)",lightgreen:"rgb(144, 238, 144)",lightgrey:"rgb(211, 211, 211)",lightpink:"rgb(255, 182, 193)",lightsalmon:"rgb(255, 160, 122)",lightseagreen:"rgb( 32, 178, 170)",lightskyblue:"rgb(135, 206, 250)",lightslategray:"rgb(119, 136, 153)",lightslategrey:"rgb(119, 136, 153)",lightsteelblue:"rgb(176, 196, 222)",lightyellow:"rgb(255, 255, 224)",lime:"rgb( 0, 255, 0)",limegreen:"rgb( 50, 205, 50)",linen:"rgb(250, 240, 230)",magenta:"rgb(255, 0, 255)",maroon:"rgb(128, 0, 0)",mediumaquamarine:"rgb(102, 205, 170)",mediumblue:"rgb( 0, 0, 205)",mediumorchid:"rgb(186, 85, 211)",mediumpurple:"rgb(147, 112, 219)",mediumseagreen:"rgb( 60, 179, 113)",mediumslateblue:"rgb(123, 104, 238)",mediumspringgreen:"rgb( 0, 250, 154)",mediumturquoise:"rgb( 72, 209, 204)",mediumvioletred:"rgb(199, 21, 133)",midnightblue:"rgb( 25, 25, 112)",mintcream:"rgb(245, 255, 250)",mistyrose:"rgb(255, 228, 225)",moccasin:"rgb(255, 228, 181)",navajowhite:"rgb(255, 222, 173)",navy:"rgb( 0, 0, 128)",oldlace:"rgb(253, 245, 230)",olive:"rgb(128, 128, 0)",olivedrab:"rgb(107, 142, 35)",orange:"rgb(255, 165, 0)",orangered:"rgb(255, 69, 0)",orchid:"rgb(218, 112, 214)",palegoldenrod:"rgb(238, 232, 170)",palegreen:"rgb(152, 251, 152)",paleturquoise:"rgb(175, 238, 238)",palevioletred:"rgb(219, 112, 147)",papayawhip:"rgb(255, 239, 213)",peachpuff:"rgb(255, 218, 185)",peru:"rgb(205, 133, 63)",pink:"rgb(255, 192, 203)",plum:"rgb(221, 160, 221)",powderblue:"rgb(176, 224, 230)",purple:"rgb(128, 0, 128)",red:"rgb(255, 0, 0)",rosybrown:"rgb(188, 143, 143)",royalblue:"rgb( 65, 105, 225)",saddlebrown:"rgb(139, 69, 19)",salmon:"rgb(250, 128, 114)",sandybrown:"rgb(244, 164, 96)",seagreen:"rgb( 46, 139, 87)",seashell:"rgb(255, 245, 238)",sienna:"rgb(160, 82, 45)",silver:"rgb(192, 192, 192)",skyblue:"rgb(135, 206, 235)",slateblue:"rgb(106, 90, 205)",slategray:"rgb(112, 128, 144)",slategrey:"rgb(112, 128, 144)",snow:"rgb(255, 250, 250)",springgreen:"rgb( 0, 255, 127)",steelblue:"rgb( 70, 130, 180)",tan:"rgb(210, 180, 140)",teal:"rgb( 0, 128, 128)",thistle:"rgb(216, 191, 216)",tomato:"rgb(255, 99, 71)",turquoise:"rgb( 64, 224, 208)",violet:"rgb(238, 130, 238)",wheat:"rgb(245, 222, 179)",white:"rgb(255, 255, 255)",whitesmoke:"rgb(245, 245, 245)",yellow:"rgb(255, 255, 0)",yellowgreen:"rgb(154, 205, 50)"};
L.jqplot.AxisLabelRenderer=function(ah){L.jqplot.ElemContainer.call(this);
this.axis;
this.show=true;
this.label="";
this.fontFamily=null;
this.fontSize=null;
this.textColor=null;
this._elem;
this.escapeHTML=false;
L.extend(true,this,ah);
};
L.jqplot.AxisLabelRenderer.prototype=new L.jqplot.ElemContainer();
L.jqplot.AxisLabelRenderer.prototype.constructor=L.jqplot.AxisLabelRenderer;
L.jqplot.AxisLabelRenderer.prototype.init=function(ah){L.extend(true,this,ah);
};
L.jqplot.AxisLabelRenderer.prototype.draw=function(ah,ai){if(this._elem){this._elem.emptyForce();
this._elem=null;
}this._elem=L('<div style="position:absolute;" class="jqplot-'+this.axis+'-label"></div>');
if(Number(this.label)){this._elem.css("white-space","nowrap");
}if(!this.escapeHTML){this._elem.html(this.label);
}else{this._elem.text(this.label);
}if(this.fontFamily){this._elem.css("font-family",this.fontFamily);
}if(this.fontSize){this._elem.css("font-size",this.fontSize);
}if(this.textColor){this._elem.css("color",this.textColor);
}return this._elem;
};
L.jqplot.AxisLabelRenderer.prototype.pack=function(){};
L.jqplot.AxisTickRenderer=function(ah){L.jqplot.ElemContainer.call(this);
this.mark="outside";
this.axis;
this.showMark=true;
this.showGridline=true;
this.isMinorTick=false;
this.size=4;
this.markSize=6;
this.show=true;
this.showLabel=true;
this.label=null;
this.value=null;
this._styles={};
this.formatter=L.jqplot.DefaultTickFormatter;
this.prefix="";
this.suffix="";
this.formatString="";
this.fontFamily;
this.fontSize;
this.textColor;
this.escapeHTML=false;
this._elem;
this._breakTick=false;
L.extend(true,this,ah);
};
L.jqplot.AxisTickRenderer.prototype.init=function(ah){L.extend(true,this,ah);
};
L.jqplot.AxisTickRenderer.prototype=new L.jqplot.ElemContainer();
L.jqplot.AxisTickRenderer.prototype.constructor=L.jqplot.AxisTickRenderer;
L.jqplot.AxisTickRenderer.prototype.setTick=function(ah,aj,ai){this.value=ah;
this.axis=aj;
if(ai){this.isMinorTick=true;
}return this;
};
L.jqplot.AxisTickRenderer.prototype.draw=function(){if(this.label===null){this.label=this.prefix+this.formatter(this.formatString,this.value)+this.suffix;
}var ai={position:"absolute"};
if(Number(this.label)){ai.whitSpace="nowrap";
}if(this._elem){this._elem.emptyForce();
this._elem=null;
}this._elem=L(document.createElement("div"));
this._elem.addClass("jqplot-"+this.axis+"-tick");
if(!this.escapeHTML){this._elem.html(this.label);
}else{this._elem.text(this.label);
}this._elem.css(ai);
for(var ah in this._styles){this._elem.css(ah,this._styles[ah]);
}if(this.fontFamily){this._elem.css("font-family",this.fontFamily);
}if(this.fontSize){this._elem.css("font-size",this.fontSize);
}if(this.textColor){this._elem.css("color",this.textColor);
}if(this._breakTick){this._elem.addClass("jqplot-breakTick");
}return this._elem;
};
L.jqplot.DefaultTickFormatter=function(ah,ai){if(typeof ai=="number"){if(!ah){ah=L.jqplot.config.defaultTickFormatString;
}return L.jqplot.sprintf(ah,ai);
}else{return String(ai);
}};
L.jqplot.PercentTickFormatter=function(ah,ai){if(typeof ai=="number"){ai=100*ai;
if(!ah){ah=L.jqplot.config.defaultTickFormatString;
}return L.jqplot.sprintf(ah,ai);
}else{return String(ai);
}};
L.jqplot.AxisTickRenderer.prototype.pack=function(){};
L.jqplot.CanvasGridRenderer=function(){this.shadowRenderer=new L.jqplot.ShadowRenderer();
};
L.jqplot.CanvasGridRenderer.prototype.init=function(ai){this._ctx;
L.extend(true,this,ai);
var ah={lineJoin:"miter",lineCap:"round",fill:false,isarc:false,angle:this.shadowAngle,offset:this.shadowOffset,alpha:this.shadowAlpha,depth:this.shadowDepth,lineWidth:this.shadowWidth,closePath:false,strokeStyle:this.shadowColor};
this.renderer.shadowRenderer.init(ah);
};
L.jqplot.CanvasGridRenderer.prototype.createElement=function(ak){var aj;
if(this._elem){if(L.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==u){aj=this._elem.get(0);
window.G_vmlCanvasManager.uninitElement(aj);
aj=null;
}this._elem.emptyForce();
this._elem=null;
}aj=ak.canvasManager.getCanvas();
var ah=this._plotDimensions.width;
var ai=this._plotDimensions.height;
aj.width=ah;
aj.height=ai;
this._elem=L(aj);
this._elem.addClass("jqplot-grid-canvas");
this._elem.css({position:"absolute",left:0,top:0});
aj=ak.canvasManager.initCanvas(aj);
this._top=this._offsets.top;
this._bottom=ai-this._offsets.bottom;
this._left=this._offsets.left;
this._right=ah-this._offsets.right;
this._width=this._right-this._left;
this._height=this._bottom-this._top;
aj=null;
return this._elem;
};
L.jqplot.CanvasGridRenderer.prototype.draw=function(){this._ctx=this._elem.get(0).getContext("2d");
var at=this._ctx;
var aw=this._axes;
at.save();
at.clearRect(0,0,this._plotDimensions.width,this._plotDimensions.height);
at.fillStyle=this.backgroundColor||this.background;
at.fillRect(this._left,this._top,this._width,this._height);
at.save();
at.lineJoin="miter";
at.lineCap="butt";
at.lineWidth=this.gridLineWidth;
at.strokeStyle=this.gridLineColor;
var aA,az,ap,aq;
var am=["xaxis","yaxis","x2axis","y2axis"];
for(var ay=4;
ay>0;
ay--){var aD=am[ay-1];
var ah=aw[aD];
var aB=ah._ticks;
var ar=aB.length;
if(ah.show){if(ah.drawBaseline){var aC={};
if(ah.baselineWidth!==null){aC.lineWidth=ah.baselineWidth;
}if(ah.baselineColor!==null){aC.strokeStyle=ah.baselineColor;
}switch(aD){case"xaxis":ao(this._left,this._bottom,this._right,this._bottom,aC);
break;
case"yaxis":ao(this._left,this._bottom,this._left,this._top,aC);
break;
case"x2axis":ao(this._left,this._bottom,this._right,this._bottom,aC);
break;
case"y2axis":ao(this._right,this._bottom,this._right,this._top,aC);
break;
}}for(var au=ar;
au>0;
au--){var an=aB[au-1];
if(an.show){var ak=Math.round(ah.u2p(an.value))+0.5;
switch(aD){case"xaxis":if(an.showGridline&&this.drawGridlines&&((!an.isMinorTick&&ah.drawMajorGridlines)||(an.isMinorTick&&ah.drawMinorGridlines))){ao(ak,this._top,ak,this._bottom);
}if(an.showMark&&an.mark&&((!an.isMinorTick&&ah.drawMajorTickMarks)||(an.isMinorTick&&ah.drawMinorTickMarks))){ap=an.markSize;
aq=an.mark;
var ak=Math.round(ah.u2p(an.value))+0.5;
switch(aq){case"outside":aA=this._bottom;
az=this._bottom+ap;
break;
case"inside":aA=this._bottom-ap;
az=this._bottom;
break;
case"cross":aA=this._bottom-ap;
az=this._bottom+ap;
break;
default:aA=this._bottom;
az=this._bottom+ap;
break;
}if(this.shadow){this.renderer.shadowRenderer.draw(at,[[ak,aA],[ak,az]],{lineCap:"butt",lineWidth:this.gridLineWidth,offset:this.gridLineWidth*0.75,depth:2,fill:false,closePath:false});
}ao(ak,aA,ak,az);
}break;
case"yaxis":if(an.showGridline&&this.drawGridlines&&((!an.isMinorTick&&ah.drawMajorGridlines)||(an.isMinorTick&&ah.drawMinorGridlines))){ao(this._right,ak,this._left,ak);
}if(an.showMark&&an.mark&&((!an.isMinorTick&&ah.drawMajorTickMarks)||(an.isMinorTick&&ah.drawMinorTickMarks))){ap=an.markSize;
aq=an.mark;
var ak=Math.round(ah.u2p(an.value))+0.5;
switch(aq){case"outside":aA=this._left-ap;
az=this._left;
break;
case"inside":aA=this._left;
az=this._left+ap;
break;
case"cross":aA=this._left-ap;
az=this._left+ap;
break;
default:aA=this._left-ap;
az=this._left;
break;
}if(this.shadow){this.renderer.shadowRenderer.draw(at,[[aA,ak],[az,ak]],{lineCap:"butt",lineWidth:this.gridLineWidth*1.5,offset:this.gridLineWidth*0.75,fill:false,closePath:false});
}ao(aA,ak,az,ak,{strokeStyle:ah.borderColor});
}break;
case"x2axis":if(an.showGridline&&this.drawGridlines&&((!an.isMinorTick&&ah.drawMajorGridlines)||(an.isMinorTick&&ah.drawMinorGridlines))){ao(ak,this._bottom,ak,this._top);
}if(an.showMark&&an.mark&&((!an.isMinorTick&&ah.drawMajorTickMarks)||(an.isMinorTick&&ah.drawMinorTickMarks))){ap=an.markSize;
aq=an.mark;
var ak=Math.round(ah.u2p(an.value))+0.5;
switch(aq){case"outside":aA=this._top-ap;
az=this._top;
break;
case"inside":aA=this._top;
az=this._top+ap;
break;
case"cross":aA=this._top-ap;
az=this._top+ap;
break;
default:aA=this._top-ap;
az=this._top;
break;
}if(this.shadow){this.renderer.shadowRenderer.draw(at,[[ak,aA],[ak,az]],{lineCap:"butt",lineWidth:this.gridLineWidth,offset:this.gridLineWidth*0.75,depth:2,fill:false,closePath:false});
}ao(ak,aA,ak,az);
}break;
case"y2axis":if(an.showGridline&&this.drawGridlines&&((!an.isMinorTick&&ah.drawMajorGridlines)||(an.isMinorTick&&ah.drawMinorGridlines))){ao(this._left,ak,this._right,ak);
}if(an.showMark&&an.mark&&((!an.isMinorTick&&ah.drawMajorTickMarks)||(an.isMinorTick&&ah.drawMinorTickMarks))){ap=an.markSize;
aq=an.mark;
var ak=Math.round(ah.u2p(an.value))+0.5;
switch(aq){case"outside":aA=this._right;
az=this._right+ap;
break;
case"inside":aA=this._right-ap;
az=this._right;
break;
case"cross":aA=this._right-ap;
az=this._right+ap;
break;
default:aA=this._right;
az=this._right+ap;
break;
}if(this.shadow){this.renderer.shadowRenderer.draw(at,[[aA,ak],[az,ak]],{lineCap:"butt",lineWidth:this.gridLineWidth*1.5,offset:this.gridLineWidth*0.75,fill:false,closePath:false});
}ao(aA,ak,az,ak,{strokeStyle:ah.borderColor});
}break;
default:break;
}}}an=null;
}ah=null;
aB=null;
}am=["y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis","yMidAxis"];
for(var ay=7;
ay>0;
ay--){var ah=aw[am[ay-1]];
var aB=ah._ticks;
if(ah.show){var ai=aB[ah.numberTicks-1];
var al=aB[0];
var aj=ah.getLeft();
var av=[[aj,ai.getTop()+ai.getHeight()/2],[aj,al.getTop()+al.getHeight()/2+1]];
if(this.shadow){this.renderer.shadowRenderer.draw(at,av,{lineCap:"butt",fill:false,closePath:false});
}ao(av[0][0],av[0][1],av[1][0],av[1][1],{lineCap:"butt",strokeStyle:ah.borderColor,lineWidth:ah.borderWidth});
for(var au=aB.length;
au>0;
au--){var an=aB[au-1];
ap=an.markSize;
aq=an.mark;
var ak=Math.round(ah.u2p(an.value))+0.5;
if(an.showMark&&an.mark){switch(aq){case"outside":aA=aj;
az=aj+ap;
break;
case"inside":aA=aj-ap;
az=aj;
break;
case"cross":aA=aj-ap;
az=aj+ap;
break;
default:aA=aj;
az=aj+ap;
break;
}av=[[aA,ak],[az,ak]];
if(this.shadow){this.renderer.shadowRenderer.draw(at,av,{lineCap:"butt",lineWidth:this.gridLineWidth*1.5,offset:this.gridLineWidth*0.75,fill:false,closePath:false});
}ao(aA,ak,az,ak,{strokeStyle:ah.borderColor});
}an=null;
}al=null;
}ah=null;
aB=null;
}at.restore();
function ao(aH,aG,aE,ax,aF){at.save();
aF=aF||{};
if(aF.lineWidth==null||aF.lineWidth!=0){L.extend(true,at,aF);
at.beginPath();
at.moveTo(aH,aG);
at.lineTo(aE,ax);
at.stroke();
at.restore();
}}if(this.shadow){var av=[[this._left,this._bottom],[this._right,this._bottom],[this._right,this._top]];
this.renderer.shadowRenderer.draw(at,av);
}if(this.borderWidth!=0&&this.drawBorder){ao(this._left,this._top,this._right,this._top,{lineCap:"round",strokeStyle:aw.x2axis.borderColor,lineWidth:aw.x2axis.borderWidth});
ao(this._right,this._top,this._right,this._bottom,{lineCap:"round",strokeStyle:aw.y2axis.borderColor,lineWidth:aw.y2axis.borderWidth});
ao(this._right,this._bottom,this._left,this._bottom,{lineCap:"round",strokeStyle:aw.xaxis.borderColor,lineWidth:aw.xaxis.borderWidth});
ao(this._left,this._bottom,this._left,this._top,{lineCap:"round",strokeStyle:aw.yaxis.borderColor,lineWidth:aw.yaxis.borderWidth});
}at.restore();
at=null;
aw=null;
};
L.jqplot.DivTitleRenderer=function(){};
L.jqplot.DivTitleRenderer.prototype.init=function(ah){L.extend(true,this,ah);
};
L.jqplot.DivTitleRenderer.prototype.draw=function(){if(this._elem){this._elem.emptyForce();
this._elem=null;
}var ak=this.renderer;
var aj=document.createElement("div");
this._elem=L(aj);
this._elem.addClass("jqplot-title");
if(!this.text){this.show=false;
this._elem.height(0);
this._elem.width(0);
}else{if(this.text){var ah;
if(this.color){ah=this.color;
}else{if(this.textColor){ah=this.textColor;
}}var ai={position:"absolute",top:"0px",left:"0px"};
if(this._plotWidth){ai.width=this._plotWidth+"px";
}if(this.fontSize){ai.fontSize=this.fontSize;
}if(typeof this.textAlign==="string"){ai.textAlign=this.textAlign;
}else{ai.textAlign="center";
}if(ah){ai.color=ah;
}if(this.paddingBottom){ai.paddingBottom=this.paddingBottom;
}if(this.fontFamily){ai.fontFamily=this.fontFamily;
}this._elem.css(ai);
if(this.escapeHtml){this._elem.text(this.text);
}else{this._elem.html(this.text);
}}}aj=null;
return this._elem;
};
L.jqplot.DivTitleRenderer.prototype.pack=function(){};
var r=0.1;
L.jqplot.LinePattern=function(aw,aq){var ap={dotted:[r,L.jqplot.config.dotGapLength],dashed:[L.jqplot.config.dashLength,L.jqplot.config.gapLength],solid:null};
if(typeof aq==="string"){if(aq[0]==="."||aq[0]==="-"){var ax=aq;
aq=[];
for(var ao=0,al=ax.length;
ao<al;
ao++){if(ax[ao]==="."){aq.push(r);
}else{if(ax[ao]==="-"){aq.push(L.jqplot.config.dashLength);
}else{continue;
}}aq.push(L.jqplot.config.gapLength);
}}else{aq=ap[aq];
}}if(!(aq&&aq.length)){return aw;
}var ak=0;
var ar=aq[0];
var au=0;
var at=0;
var an=0;
var ah=0;
var av=function(ay,az){aw.moveTo(ay,az);
au=ay;
at=az;
an=ay;
ah=az;
};
var aj=function(ay,aE){var aC=aw.lineWidth;
var aA=ay-au;
var az=aE-at;
var aB=Math.sqrt(aA*aA+az*az);
if((aB>0)&&(aC>0)){aA/=aB;
az/=aB;
while(true){var aD=aC*ar;
if(aD<aB){au+=aD*aA;
at+=aD*az;
if((ak&1)==0){aw.lineTo(au,at);
}else{aw.moveTo(au,at);
}aB-=aD;
ak++;
if(ak>=aq.length){ak=0;
}ar=aq[ak];
}else{au=ay;
at=aE;
if((ak&1)==0){aw.lineTo(au,at);
}else{aw.moveTo(au,at);
}ar-=aB/aC;
break;
}}}};
var ai=function(){aw.beginPath();
};
var am=function(){aj(an,ah);
};
return{moveTo:av,lineTo:aj,beginPath:ai,closePath:am};
};
L.jqplot.LineRenderer=function(){this.shapeRenderer=new L.jqplot.ShapeRenderer();
this.shadowRenderer=new L.jqplot.ShadowRenderer();
};
L.jqplot.LineRenderer.prototype.init=function(ai,an){ai=ai||{};
this._type="line";
this.renderer.animation={show:false,direction:"left",speed:2500,_supported:true};
this.renderer.smooth=false;
this.renderer.tension=null;
this.renderer.constrainSmoothing=true;
this.renderer._smoothedData=[];
this.renderer._smoothedPlotData=[];
this.renderer._hiBandGridData=[];
this.renderer._lowBandGridData=[];
this.renderer._hiBandSmoothedData=[];
this.renderer._lowBandSmoothedData=[];
this.renderer.bandData=[];
this.renderer.bands={show:false,hiData:[],lowData:[],color:this.color,showLines:false,fill:true,fillColor:null,_min:null,_max:null,interval:"3%"};
var al={highlightMouseOver:ai.highlightMouseOver,highlightMouseDown:ai.highlightMouseDown,highlightColor:ai.highlightColor};
delete (ai.highlightMouseOver);
delete (ai.highlightMouseDown);
delete (ai.highlightColor);
L.extend(true,this.renderer,ai);
this.renderer.options=ai;
if(this.renderer.bandData.length>1&&(!ai.bands||ai.bands.show==null)){this.renderer.bands.show=true;
}else{if(ai.bands&&ai.bands.show==null&&ai.bands.interval!=null){this.renderer.bands.show=true;
}}if(this.fill){this.renderer.bands.show=false;
}if(this.renderer.bands.show){this.renderer.initBands.call(this,this.renderer.options,an);
}if(this._stack){this.renderer.smooth=false;
}var am={lineJoin:this.lineJoin,lineCap:this.lineCap,fill:this.fill,isarc:false,strokeStyle:this.color,fillStyle:this.fillColor,lineWidth:this.lineWidth,linePattern:this.linePattern,closePath:this.fill};
this.renderer.shapeRenderer.init(am);
var aj=ai.shadowOffset;
if(aj==null){if(this.lineWidth>2.5){aj=1.25*(1+(Math.atan((this.lineWidth/2.5))/0.785398163-1)*0.6);
}else{aj=1.25*Math.atan((this.lineWidth/2.5))/0.785398163;
}}var ah={lineJoin:this.lineJoin,lineCap:this.lineCap,fill:this.fill,isarc:false,angle:this.shadowAngle,offset:aj,alpha:this.shadowAlpha,depth:this.shadowDepth,lineWidth:this.lineWidth,linePattern:this.linePattern,closePath:this.fill};
this.renderer.shadowRenderer.init(ah);
this._areaPoints=[];
this._boundingBox=[[],[]];
if(!this.isTrendline&&this.fill||this.renderer.bands.show){this.highlightMouseOver=true;
this.highlightMouseDown=false;
this.highlightColor=null;
if(al.highlightMouseDown&&al.highlightMouseOver==null){al.highlightMouseOver=false;
}L.extend(true,this,{highlightMouseOver:al.highlightMouseOver,highlightMouseDown:al.highlightMouseDown,highlightColor:al.highlightColor});
if(!this.highlightColor){var ak=(this.renderer.bands.show)?this.renderer.bands.fillColor:this.fillColor;
this.highlightColor=L.jqplot.computeHighlightColors(ak);
}if(this.highlighter){this.highlighter.show=false;
}}if(!this.isTrendline&&an){an.plugins.lineRenderer={};
an.postInitHooks.addOnce(z);
an.postDrawHooks.addOnce(af);
an.eventListenerHooks.addOnce("jqplotMouseMove",h);
an.eventListenerHooks.addOnce("jqplotMouseDown",e);
an.eventListenerHooks.addOnce("jqplotMouseUp",ad);
an.eventListenerHooks.addOnce("jqplotClick",g);
an.eventListenerHooks.addOnce("jqplotRightClick",s);
}};
L.jqplot.LineRenderer.prototype.initBands=function(ak,av){var al=ak.bandData||[];
var an=this.renderer.bands;
an.hiData=[];
an.lowData=[];
var aB=this.data;
an._max=null;
an._min=null;
if(al.length==2){if(L.isArray(al[0][0])){var ao;
var ah=0,ar=0;
for(var aw=0,at=al[0].length;
aw<at;
aw++){ao=al[0][aw];
if((ao[1]!=null&&ao[1]>an._max)||an._max==null){an._max=ao[1];
}if((ao[1]!=null&&ao[1]<an._min)||an._min==null){an._min=ao[1];
}}for(var aw=0,at=al[1].length;
aw<at;
aw++){ao=al[1][aw];
if((ao[1]!=null&&ao[1]>an._max)||an._max==null){an._max=ao[1];
ar=1;
}if((ao[1]!=null&&ao[1]<an._min)||an._min==null){an._min=ao[1];
ah=1;
}}if(ar===ah){an.show=false;
}an.hiData=al[ar];
an.lowData=al[ah];
}else{if(al[0].length===aB.length&&al[1].length===aB.length){var aj=(al[0][0]>al[1][0])?0:1;
var aC=(aj)?0:1;
for(var aw=0,at=aB.length;
aw<at;
aw++){an.hiData.push([aB[aw][0],al[aj][aw]]);
an.lowData.push([aB[aw][0],al[aC][aw]]);
}}else{an.show=false;
}}}else{if(al.length>2&&!L.isArray(al[0][0])){var aj=(al[0][0]>al[0][1])?0:1;
var aC=(aj)?0:1;
for(var aw=0,at=al.length;
aw<at;
aw++){an.hiData.push([aB[aw][0],al[aw][aj]]);
an.lowData.push([aB[aw][0],al[aw][aC]]);
}}else{var aq=an.interval;
var aA=null;
var az=null;
var ai=null;
var au=null;
if(L.isArray(aq)){aA=aq[0];
az=aq[1];
}else{aA=aq;
}if(isNaN(aA)){if(aA.charAt(aA.length-1)==="%"){ai="multiply";
aA=parseFloat(aA)/100+1;
}}else{aA=parseFloat(aA);
ai="add";
}if(az!==null&&isNaN(az)){if(az.charAt(az.length-1)==="%"){au="multiply";
az=parseFloat(az)/100+1;
}}else{if(az!==null){az=parseFloat(az);
au="add";
}}if(aA!==null){if(az===null){az=-aA;
au=ai;
if(au==="multiply"){az+=2;
}}if(aA<az){var ax=aA;
aA=az;
az=ax;
ax=ai;
ai=au;
au=ax;
}for(var aw=0,at=aB.length;
aw<at;
aw++){switch(ai){case"add":an.hiData.push([aB[aw][0],aB[aw][1]+aA]);
break;
case"multiply":an.hiData.push([aB[aw][0],aB[aw][1]*aA]);
break;
}switch(au){case"add":an.lowData.push([aB[aw][0],aB[aw][1]+az]);
break;
case"multiply":an.lowData.push([aB[aw][0],aB[aw][1]*az]);
break;
}}}else{an.show=false;
}}}var am=an.hiData;
var ap=an.lowData;
for(var aw=0,at=am.length;
aw<at;
aw++){if((am[aw][1]!=null&&am[aw][1]>an._max)||an._max==null){an._max=am[aw][1];
}}for(var aw=0,at=ap.length;
aw<at;
aw++){if((ap[aw][1]!=null&&ap[aw][1]<an._min)||an._min==null){an._min=ap[aw][1];
}}if(an.fillColor===null){var ay=L.jqplot.getColorComponents(an.color);
ay[3]=ay[3]*0.5;
an.fillColor="rgba("+ay[0]+", "+ay[1]+", "+ay[2]+", "+ay[3]+")";
}};
function K(ai,ah){return(3.4182054+ah)*Math.pow(ai,-0.3534992);
}function n(aj,ai){var ah=Math.sqrt(Math.pow((ai[0]-aj[0]),2)+Math.pow((ai[1]-aj[1]),2));
return 5.7648*Math.log(ah)+7.4456;
}function A(ah){var ai=(Math.exp(2*ah)-1)/(Math.exp(2*ah)+1);
return ai;
}function J(aJ){var at=this.renderer.smooth;
var aD=this.canvas.getWidth();
var an=this._xaxis.series_p2u;
var aG=this._yaxis.series_p2u;
var aF=null;
var am=null;
var az=aJ.length/aD;
var aj=[];
var ay=[];
if(!isNaN(parseFloat(at))){aF=parseFloat(at);
}else{aF=K(az,0.5);
}var aw=[];
var ak=[];
for(var aE=0,aA=aJ.length;
aE<aA;
aE++){aw.push(aJ[aE][1]);
ak.push(aJ[aE][0]);
}function av(aK,aL){if(aK-aL==0){return Math.pow(10,10);
}else{return aK-aL;
}}var ax,ar,aq,ap;
var ah=aJ.length-1;
for(var al=1,aB=aJ.length;
al<aB;
al++){var ai=[];
var au=[];
for(var aC=0;
aC<2;
aC++){var aE=al-1+aC;
if(aE==0||aE==ah){ai[aC]=Math.pow(10,10);
}else{if(aw[aE+1]-aw[aE]==0||aw[aE]-aw[aE-1]==0){ai[aC]=0;
}else{if(((ak[aE+1]-ak[aE])/(aw[aE+1]-aw[aE])+(ak[aE]-ak[aE-1])/(aw[aE]-aw[aE-1]))==0){ai[aC]=0;
}else{if((aw[aE+1]-aw[aE])*(aw[aE]-aw[aE-1])<0){ai[aC]=0;
}else{ai[aC]=2/(av(ak[aE+1],ak[aE])/(aw[aE+1]-aw[aE])+av(ak[aE],ak[aE-1])/(aw[aE]-aw[aE-1]));
}}}}}if(al==1){ai[0]=3/2*(aw[1]-aw[0])/av(ak[1],ak[0])-ai[1]/2;
}else{if(al==ah){ai[1]=3/2*(aw[ah]-aw[ah-1])/av(ak[ah],ak[ah-1])-ai[0]/2;
}}au[0]=-2*(ai[1]+2*ai[0])/av(ak[al],ak[al-1])+6*(aw[al]-aw[al-1])/Math.pow(av(ak[al],ak[al-1]),2);
au[1]=2*(2*ai[1]+ai[0])/av(ak[al],ak[al-1])-6*(aw[al]-aw[al-1])/Math.pow(av(ak[al],ak[al-1]),2);
ap=1/6*(au[1]-au[0])/av(ak[al],ak[al-1]);
aq=1/2*(ak[al]*au[0]-ak[al-1]*au[1])/av(ak[al],ak[al-1]);
ar=(aw[al]-aw[al-1]-aq*(Math.pow(ak[al],2)-Math.pow(ak[al-1],2))-ap*(Math.pow(ak[al],3)-Math.pow(ak[al-1],3)))/av(ak[al],ak[al-1]);
ax=aw[al-1]-ar*ak[al-1]-aq*Math.pow(ak[al-1],2)-ap*Math.pow(ak[al-1],3);
var aI=(ak[al]-ak[al-1])/aF;
var aH,ao;
for(var aC=0,aA=aF;
aC<aA;
aC++){aH=[];
ao=ak[al-1]+aC*aI;
aH.push(ao);
aH.push(ax+ar*ao+aq*Math.pow(ao,2)+ap*Math.pow(ao,3));
aj.push(aH);
ay.push([an(aH[0]),aG(aH[1])]);
}}aj.push(aJ[aE]);
ay.push([an(aJ[aE][0]),aG(aJ[aE][1])]);
return[aj,ay];
}function F(ap){var ao=this.renderer.smooth;
var aU=this.renderer.tension;
var ah=this.canvas.getWidth();
var aH=this._xaxis.series_p2u;
var aq=this._yaxis.series_p2u;
var aI=null;
var aJ=null;
var aT=null;
var aO=null;
var aM=null;
var at=null;
var aR=null;
var am=null;
var aK,aL,aD,aC,aA,ay;
var ak,ai,av,au;
var aB,az,aN;
var aw=[];
var aj=[];
var al=ap.length/ah;
var aS,ax,aF,aG,aE;
var ar=[];
var an=[];
if(!isNaN(parseFloat(ao))){aI=parseFloat(ao);
}else{aI=K(al,0.5);
}if(!isNaN(parseFloat(aU))){aU=parseFloat(aU);
}for(var aQ=0,aP=ap.length-1;
aQ<aP;
aQ++){if(aU===null){at=Math.abs((ap[aQ+1][1]-ap[aQ][1])/(ap[aQ+1][0]-ap[aQ][0]));
aS=0.3;
ax=0.6;
aF=(ax-aS)/2;
aG=2.5;
aE=-1.4;
am=at/aG+aE;
aO=aF*A(am)-aF*A(aE)+aS;
if(aQ>0){aR=Math.abs((ap[aQ][1]-ap[aQ-1][1])/(ap[aQ][0]-ap[aQ-1][0]));
}am=aR/aG+aE;
aM=aF*A(am)-aF*A(aE)+aS;
aT=(aO+aM)/2;
}else{aT=aU;
}for(aK=0;
aK<aI;
aK++){aL=aK/aI;
aD=(1+2*aL)*Math.pow((1-aL),2);
aC=aL*Math.pow((1-aL),2);
aA=Math.pow(aL,2)*(3-2*aL);
ay=Math.pow(aL,2)*(aL-1);
if(ap[aQ-1]){ak=aT*(ap[aQ+1][0]-ap[aQ-1][0]);
ai=aT*(ap[aQ+1][1]-ap[aQ-1][1]);
}else{ak=aT*(ap[aQ+1][0]-ap[aQ][0]);
ai=aT*(ap[aQ+1][1]-ap[aQ][1]);
}if(ap[aQ+2]){av=aT*(ap[aQ+2][0]-ap[aQ][0]);
au=aT*(ap[aQ+2][1]-ap[aQ][1]);
}else{av=aT*(ap[aQ+1][0]-ap[aQ][0]);
au=aT*(ap[aQ+1][1]-ap[aQ][1]);
}aB=aD*ap[aQ][0]+aA*ap[aQ+1][0]+aC*ak+ay*av;
az=aD*ap[aQ][1]+aA*ap[aQ+1][1]+aC*ai+ay*au;
aN=[aB,az];
ar.push(aN);
an.push([aH(aB),aq(az)]);
}}ar.push(ap[aP]);
an.push([aH(ap[aP][0]),aq(ap[aP][1])]);
return[ar,an];
}L.jqplot.LineRenderer.prototype.setGridData=function(ap){var al=this._xaxis.series_u2p;
var ah=this._yaxis.series_u2p;
var am=this._plotData;
var aq=this._prevPlotData;
this.gridData=[];
this._prevGridData=[];
this.renderer._smoothedData=[];
this.renderer._smoothedPlotData=[];
this.renderer._hiBandGridData=[];
this.renderer._lowBandGridData=[];
this.renderer._hiBandSmoothedData=[];
this.renderer._lowBandSmoothedData=[];
var ak=this.renderer.bands;
var ai=false;
for(var an=0,aj=am.length;
an<aj;
an++){if(am[an][0]!=null&&am[an][1]!=null){this.gridData.push([al.call(this._xaxis,am[an][0]),ah.call(this._yaxis,am[an][1])]);
}else{if(am[an][0]==null){ai=true;
this.gridData.push([null,ah.call(this._yaxis,am[an][1])]);
}else{if(am[an][1]==null){ai=true;
this.gridData.push([al.call(this._xaxis,am[an][0]),null]);
}}}if(aq[an]!=null&&aq[an][0]!=null&&aq[an][1]!=null){this._prevGridData.push([al.call(this._xaxis,aq[an][0]),ah.call(this._yaxis,aq[an][1])]);
}else{if(aq[an]!=null&&aq[an][0]==null){this._prevGridData.push([null,ah.call(this._yaxis,aq[an][1])]);
}else{if(aq[an]!=null&&aq[an][0]!=null&&aq[an][1]==null){this._prevGridData.push([al.call(this._xaxis,aq[an][0]),null]);
}}}}if(ai){this.renderer.smooth=false;
if(this._type==="line"){ak.show=false;
}}if(this._type==="line"&&ak.show){for(var an=0,aj=ak.hiData.length;
an<aj;
an++){this.renderer._hiBandGridData.push([al.call(this._xaxis,ak.hiData[an][0]),ah.call(this._yaxis,ak.hiData[an][1])]);
}for(var an=0,aj=ak.lowData.length;
an<aj;
an++){this.renderer._lowBandGridData.push([al.call(this._xaxis,ak.lowData[an][0]),ah.call(this._yaxis,ak.lowData[an][1])]);
}}if(this._type==="line"&&this.renderer.smooth&&this.gridData.length>2){var ao;
if(this.renderer.constrainSmoothing){ao=J.call(this,this.gridData);
this.renderer._smoothedData=ao[0];
this.renderer._smoothedPlotData=ao[1];
if(ak.show){ao=J.call(this,this.renderer._hiBandGridData);
this.renderer._hiBandSmoothedData=ao[0];
ao=J.call(this,this.renderer._lowBandGridData);
this.renderer._lowBandSmoothedData=ao[0];
}ao=null;
}else{ao=F.call(this,this.gridData);
this.renderer._smoothedData=ao[0];
this.renderer._smoothedPlotData=ao[1];
if(ak.show){ao=F.call(this,this.renderer._hiBandGridData);
this.renderer._hiBandSmoothedData=ao[0];
ao=F.call(this,this.renderer._lowBandGridData);
this.renderer._lowBandSmoothedData=ao[0];
}ao=null;
}}};
L.jqplot.LineRenderer.prototype.makeGridData=function(ao,aq){var am=this._xaxis.series_u2p;
var ah=this._yaxis.series_u2p;
var ar=[];
var aj=[];
this.renderer._smoothedData=[];
this.renderer._smoothedPlotData=[];
this.renderer._hiBandGridData=[];
this.renderer._lowBandGridData=[];
this.renderer._hiBandSmoothedData=[];
this.renderer._lowBandSmoothedData=[];
var al=this.renderer.bands;
var ai=false;
for(var an=0;
an<ao.length;
an++){if(ao[an][0]!=null&&ao[an][1]!=null){ar.push([am.call(this._xaxis,ao[an][0]),ah.call(this._yaxis,ao[an][1])]);
}else{if(ao[an][0]==null){ai=true;
ar.push([null,ah.call(this._yaxis,ao[an][1])]);
}else{if(ao[an][1]==null){ai=true;
ar.push([am.call(this._xaxis,ao[an][0]),null]);
}}}}if(ai){this.renderer.smooth=false;
if(this._type==="line"){al.show=false;
}}if(this._type==="line"&&al.show){for(var an=0,ak=al.hiData.length;
an<ak;
an++){this.renderer._hiBandGridData.push([am.call(this._xaxis,al.hiData[an][0]),ah.call(this._yaxis,al.hiData[an][1])]);
}for(var an=0,ak=al.lowData.length;
an<ak;
an++){this.renderer._lowBandGridData.push([am.call(this._xaxis,al.lowData[an][0]),ah.call(this._yaxis,al.lowData[an][1])]);
}}if(this._type==="line"&&this.renderer.smooth&&ar.length>2){var ap;
if(this.renderer.constrainSmoothing){ap=J.call(this,ar);
this.renderer._smoothedData=ap[0];
this.renderer._smoothedPlotData=ap[1];
if(al.show){ap=J.call(this,this.renderer._hiBandGridData);
this.renderer._hiBandSmoothedData=ap[0];
ap=J.call(this,this.renderer._lowBandGridData);
this.renderer._lowBandSmoothedData=ap[0];
}ap=null;
}else{ap=F.call(this,ar);
this.renderer._smoothedData=ap[0];
this.renderer._smoothedPlotData=ap[1];
if(al.show){ap=F.call(this,this.renderer._hiBandGridData);
this.renderer._hiBandSmoothedData=ap[0];
ap=F.call(this,this.renderer._lowBandGridData);
this.renderer._lowBandSmoothedData=ap[0];
}ap=null;
}}return ar;
};
L.jqplot.LineRenderer.prototype.draw=function(ax,aI,ai,aB){var aC;
var aq=L.extend(true,{},ai);
var ak=(aq.shadow!=u)?aq.shadow:this.shadow;
var aJ=(aq.showLine!=u)?aq.showLine:this.showLine;
var aA=(aq.fill!=u)?aq.fill:this.fill;
var ah=(aq.fillAndStroke!=u)?aq.fillAndStroke:this.fillAndStroke;
var ar,ay,av,aE;
ax.save();
if(aI.length){if(aJ){if(aA){if(this.fillToZero){var aF=this.negativeColor;
if(!this.useNegativeColors){aF=aq.fillStyle;
}var ao=false;
var ap=aq.fillStyle;
if(ah){var aH=aI.slice(0);
}if(this.index==0||!this._stack){var aw=[];
var aL=(this.renderer.smooth)?this.renderer._smoothedPlotData:this._plotData;
this._areaPoints=[];
var aG=this._yaxis.series_u2p(this.fillToValue);
var aj=this._xaxis.series_u2p(this.fillToValue);
aq.closePath=true;
if(this.fillAxis=="y"){aw.push([aI[0][0],aG]);
this._areaPoints.push([aI[0][0],aG]);
for(var aC=0;
aC<aI.length-1;
aC++){aw.push(aI[aC]);
this._areaPoints.push(aI[aC]);
if(aL[aC][1]*aL[aC+1][1]<=0){if(aL[aC][1]<0){ao=true;
aq.fillStyle=aF;
}else{ao=false;
aq.fillStyle=ap;
}var an=aI[aC][0]+(aI[aC+1][0]-aI[aC][0])*(aG-aI[aC][1])/(aI[aC+1][1]-aI[aC][1]);
aw.push([an,aG]);
this._areaPoints.push([an,aG]);
if(ak){this.renderer.shadowRenderer.draw(ax,aw,aq);
}this.renderer.shapeRenderer.draw(ax,aw,aq);
aw=[[an,aG]];
}}if(aL[aI.length-1][1]<0){ao=true;
aq.fillStyle=aF;
}else{ao=false;
aq.fillStyle=ap;
}aw.push(aI[aI.length-1]);
this._areaPoints.push(aI[aI.length-1]);
aw.push([aI[aI.length-1][0],aG]);
this._areaPoints.push([aI[aI.length-1][0],aG]);
}if(ak){this.renderer.shadowRenderer.draw(ax,aw,aq);
}this.renderer.shapeRenderer.draw(ax,aw,aq);
}else{var au=this._prevGridData;
for(var aC=au.length;
aC>0;
aC--){aI.push(au[aC-1]);
}if(ak){this.renderer.shadowRenderer.draw(ax,aI,aq);
}this._areaPoints=aI;
this.renderer.shapeRenderer.draw(ax,aI,aq);
}}else{if(ah){var aH=aI.slice(0);
}if(this.index==0||!this._stack){var al=ax.canvas.height;
aI.unshift([aI[0][0],al]);
var aD=aI.length;
aI.push([aI[aD-1][0],al]);
}else{var au=this._prevGridData;
for(var aC=au.length;
aC>0;
aC--){aI.push(au[aC-1]);
}}this._areaPoints=aI;
if(ak){this.renderer.shadowRenderer.draw(ax,aI,aq);
}this.renderer.shapeRenderer.draw(ax,aI,aq);
}if(ah){var az=L.extend(true,{},aq,{fill:false,closePath:false});
this.renderer.shapeRenderer.draw(ax,aH,az);
if(this.markerRenderer.show){if(this.renderer.smooth){aH=this.gridData;
}for(aC=0;
aC<aH.length;
aC++){this.markerRenderer.draw(aH[aC][0],aH[aC][1],ax,aq.markerOptions);
}}}}else{if(this.renderer.bands.show){var am;
var aK=L.extend(true,{},aq);
if(this.renderer.bands.showLines){am=(this.renderer.smooth)?this.renderer._hiBandSmoothedData:this.renderer._hiBandGridData;
this.renderer.shapeRenderer.draw(ax,am,aq);
am=(this.renderer.smooth)?this.renderer._lowBandSmoothedData:this.renderer._lowBandGridData;
this.renderer.shapeRenderer.draw(ax,am,aK);
}if(this.renderer.bands.fill){if(this.renderer.smooth){am=this.renderer._hiBandSmoothedData.concat(this.renderer._lowBandSmoothedData.reverse());
}else{am=this.renderer._hiBandGridData.concat(this.renderer._lowBandGridData.reverse());
}this._areaPoints=am;
aK.closePath=true;
aK.fill=true;
aK.fillStyle=this.renderer.bands.fillColor;
this.renderer.shapeRenderer.draw(ax,am,aK);
}}if(ak){this.renderer.shadowRenderer.draw(ax,aI,aq);
}this.renderer.shapeRenderer.draw(ax,aI,aq);
}}var ar=av=ay=aE=null;
for(aC=0;
aC<this._areaPoints.length;
aC++){var at=this._areaPoints[aC];
if(ar>at[0]||ar==null){ar=at[0];
}if(aE<at[1]||aE==null){aE=at[1];
}if(av<at[0]||av==null){av=at[0];
}if(ay>at[1]||ay==null){ay=at[1];
}}if(this.type==="line"&&this.renderer.bands.show){aE=this._yaxis.series_u2p(this.renderer.bands._min);
ay=this._yaxis.series_u2p(this.renderer.bands._max);
}this._boundingBox=[[ar,aE],[av,ay]];
if(this.markerRenderer.show&&!aA){if(this.renderer.smooth){aI=this.gridData;
}for(aC=0;
aC<aI.length;
aC++){if(aI[aC][0]!=null&&aI[aC][1]!=null){this.markerRenderer.draw(aI[aC][0],aI[aC][1],ax,aq.markerOptions);
}}}}ax.restore();
};
L.jqplot.LineRenderer.prototype.drawShadow=function(ah,aj,ai){};
function z(ak,aj,ah){for(var ai=0;
ai<this.series.length;
ai++){if(this.series[ai].renderer.constructor==L.jqplot.LineRenderer){if(this.series[ai].highlightMouseOver){this.series[ai].highlightMouseDown=false;
}}}}function af(){if(this.plugins.lineRenderer&&this.plugins.lineRenderer.highlightCanvas){this.plugins.lineRenderer.highlightCanvas.resetCanvas();
this.plugins.lineRenderer.highlightCanvas=null;
}this.plugins.lineRenderer.highlightedSeriesIndex=null;
this.plugins.lineRenderer.highlightCanvas=new L.jqplot.GenericCanvas();
this.eventCanvas._elem.before(this.plugins.lineRenderer.highlightCanvas.createElement(this._gridPadding,"jqplot-lineRenderer-highlight-canvas",this._plotDimensions,this));
this.plugins.lineRenderer.highlightCanvas.setContext();
this.eventCanvas._elem.bind("mouseleave",{plot:this},function(ah){aa(ah.data.plot);
});
}function ac(an,am,ak,aj){var ai=an.series[am];
var ah=an.plugins.lineRenderer.highlightCanvas;
ah._ctx.clearRect(0,0,ah._ctx.canvas.width,ah._ctx.canvas.height);
ai._highlightedPoint=ak;
an.plugins.lineRenderer.highlightedSeriesIndex=am;
var al={fillStyle:ai.highlightColor};
if(ai.type==="line"&&ai.renderer.bands.show){al.fill=true;
al.closePath=true;
}ai.renderer.shapeRenderer.draw(ah._ctx,aj,al);
ah=null;
}function aa(aj){var ah=aj.plugins.lineRenderer.highlightCanvas;
ah._ctx.clearRect(0,0,ah._ctx.canvas.width,ah._ctx.canvas.height);
for(var ai=0;
ai<aj.series.length;
ai++){aj.series[ai]._highlightedPoint=null;
}aj.plugins.lineRenderer.highlightedSeriesIndex=null;
aj.target.trigger("jqplotDataUnhighlight");
ah=null;
}function h(al,ak,ao,an,am){if(an){var aj=[an.seriesIndex,an.pointIndex,an.data];
var ai=jQuery.Event("jqplotDataMouseOver");
ai.pageX=al.pageX;
ai.pageY=al.pageY;
am.target.trigger(ai,aj);
if(am.series[aj[0]].highlightMouseOver&&!(aj[0]==am.plugins.lineRenderer.highlightedSeriesIndex)){var ah=jQuery.Event("jqplotDataHighlight");
ah.which=al.which;
ah.pageX=al.pageX;
ah.pageY=al.pageY;
am.target.trigger(ah,aj);
ac(am,an.seriesIndex,an.pointIndex,an.points);
}}else{if(an==null){aa(am);
}}}function e(ak,aj,an,am,al){if(am){var ai=[am.seriesIndex,am.pointIndex,am.data];
if(al.series[ai[0]].highlightMouseDown&&!(ai[0]==al.plugins.lineRenderer.highlightedSeriesIndex)){var ah=jQuery.Event("jqplotDataHighlight");
ah.which=ak.which;
ah.pageX=ak.pageX;
ah.pageY=ak.pageY;
al.target.trigger(ah,ai);
ac(al,am.seriesIndex,am.pointIndex,am.points);
}}else{if(am==null){aa(al);
}}}function ad(aj,ai,am,al,ak){var ah=ak.plugins.lineRenderer.highlightedSeriesIndex;
if(ah!=null&&ak.series[ah].highlightMouseDown){aa(ak);
}}function g(ak,aj,an,am,al){if(am){var ai=[am.seriesIndex,am.pointIndex,am.data];
var ah=jQuery.Event("jqplotDataClick");
ah.which=ak.which;
ah.pageX=ak.pageX;
ah.pageY=ak.pageY;
al.target.trigger(ah,ai);
}}function s(al,ak,ao,an,am){if(an){var aj=[an.seriesIndex,an.pointIndex,an.data];
var ah=am.plugins.lineRenderer.highlightedSeriesIndex;
if(ah!=null&&am.series[ah].highlightMouseDown){aa(am);
}var ai=jQuery.Event("jqplotDataRightClick");
ai.which=al.which;
ai.pageX=al.pageX;
ai.pageY=al.pageY;
am.target.trigger(ai,aj);
}}L.jqplot.LinearAxisRenderer=function(){};
L.jqplot.LinearAxisRenderer.prototype.init=function(ah){this.breakPoints=null;
this.breakTickLabel="&asymp;";
this.drawBaseline=true;
this.baselineWidth=null;
this.baselineColor=null;
this.forceTickAt0=false;
this.forceTickAt100=false;
this.tickInset=0;
this.minorTicks=0;
this.alignTicks=false;
this._autoFormatString="";
this._overrideFormatString=false;
this._scalefact=1;
L.extend(true,this,ah);
if(this.breakPoints){if(!L.isArray(this.breakPoints)){this.breakPoints=null;
}else{if(this.breakPoints.length<2||this.breakPoints[1]<=this.breakPoints[0]){this.breakPoints=null;
}}}if(this.numberTicks!=null&&this.numberTicks<2){this.numberTicks=2;
}this.resetDataBounds();
};
L.jqplot.LinearAxisRenderer.prototype.draw=function(ah,ao){if(this.show){this.renderer.createTicks.call(this,ao);
var an=0;
var ai;
if(this._elem){this._elem.emptyForce();
this._elem=null;
}this._elem=L(document.createElement("div"));
this._elem.addClass("jqplot-axis jqplot-"+this.name);
this._elem.css("position","absolute");
if(this.name=="xaxis"||this.name=="x2axis"){this._elem.width(this._plotDimensions.width);
}else{this._elem.height(this._plotDimensions.height);
}this.labelOptions.axis=this.name;
this._label=new this.labelRenderer(this.labelOptions);
if(this._label.show){var am=this._label.draw(ah,ao);
am.appendTo(this._elem);
am=null;
}var al=this._ticks;
var ak;
for(var aj=0;
aj<al.length;
aj++){ak=al[aj];
if(ak.show&&ak.showLabel&&(!ak.isMinorTick||this.showMinorTicks)){this._elem.append(ak.draw(ah,ao));
}}ak=null;
al=null;
}return this._elem;
};
L.jqplot.LinearAxisRenderer.prototype.reset=function(){this.min=this._options.min;
this.max=this._options.max;
this.tickInterval=this._options.tickInterval;
this.numberTicks=this._options.numberTicks;
this._autoFormatString="";
if(this._overrideFormatString&&this.tickOptions&&this.tickOptions.formatString){this.tickOptions.formatString="";
}};
L.jqplot.LinearAxisRenderer.prototype.set=function(){var ao=0;
var aj;
var ai=0;
var an=0;
var ah=(this._label==null)?false:this._label.show;
if(this.show){var am=this._ticks;
var al;
for(var ak=0;
ak<am.length;
ak++){al=am[ak];
if(!al._breakTick&&al.show&&al.showLabel&&(!al.isMinorTick||this.showMinorTicks)){if(this.name=="xaxis"||this.name=="x2axis"){aj=al._elem.outerHeight(true);
}else{aj=al._elem.outerWidth(true);
}if(aj>ao){ao=aj;
}}}al=null;
am=null;
if(ah){ai=this._label._elem.outerWidth(true);
an=this._label._elem.outerHeight(true);
}if(this.name=="xaxis"){ao=ao+an;
this._elem.css({height:ao+"px",left:"0px",bottom:"0px"});
}else{if(this.name=="x2axis"){ao=ao+an;
this._elem.css({height:ao+"px",left:"0px",top:"0px"});
}else{if(this.name=="yaxis"){ao=ao+ai;
this._elem.css({width:ao+"px",left:"0px",top:"0px"});
if(ah&&this._label.constructor==L.jqplot.AxisLabelRenderer){this._label._elem.css("width",ai+"px");
}}else{ao=ao+ai;
this._elem.css({width:ao+"px",right:"0px",top:"0px"});
if(ah&&this._label.constructor==L.jqplot.AxisLabelRenderer){this._label._elem.css("width",ai+"px");
}}}}}};
L.jqplot.LinearAxisRenderer.prototype.createTicks=function(aj){var aT=this._ticks;
var aK=this.ticks;
var az=this.name;
var aB=this._dataBounds;
var ah=(this.name.charAt(0)==="x")?this._plotDimensions.width:this._plotDimensions.height;
var an;
var a6,aI;
var ap,ao;
var a4,a0;
var aH=this.min;
var a5=this.max;
var aW=this.numberTicks;
var ba=this.tickInterval;
var am=30;
this._scalefact=(Math.max(ah,am+1)-am)/300;
if(aK.length){for(a0=0;
a0<aK.length;
a0++){var aO=aK[a0];
var aU=new this.tickRenderer(this.tickOptions);
if(L.isArray(aO)){aU.value=aO[0];
if(this.breakPoints){if(aO[0]==this.breakPoints[0]){aU.label=this.breakTickLabel;
aU._breakTick=true;
aU.showGridline=false;
aU.showMark=false;
}else{if(aO[0]>this.breakPoints[0]&&aO[0]<=this.breakPoints[1]){aU.show=false;
aU.showGridline=false;
aU.label=aO[1];
}else{aU.label=aO[1];
}}}else{aU.label=aO[1];
}aU.setTick(aO[0],this.name);
this._ticks.push(aU);
}else{if(L.isPlainObject(aO)){L.extend(true,aU,aO);
aU.axis=this.name;
this._ticks.push(aU);
}else{aU.value=aO;
if(this.breakPoints){if(aO==this.breakPoints[0]){aU.label=this.breakTickLabel;
aU._breakTick=true;
aU.showGridline=false;
aU.showMark=false;
}else{if(aO>this.breakPoints[0]&&aO<=this.breakPoints[1]){aU.show=false;
aU.showGridline=false;
}}}aU.setTick(aO,this.name);
this._ticks.push(aU);
}}}this.numberTicks=aK.length;
this.min=this._ticks[0].value;
this.max=this._ticks[this.numberTicks-1].value;
this.tickInterval=(this.max-this.min)/(this.numberTicks-1);
}else{if(az=="xaxis"||az=="x2axis"){ah=this._plotDimensions.width;
}else{ah=this._plotDimensions.height;
}var ax=this.numberTicks;
if(this.alignTicks){if(this.name==="x2axis"&&aj.axes.xaxis.show){ax=aj.axes.xaxis.numberTicks;
}else{if(this.name.charAt(0)==="y"&&this.name!=="yaxis"&&this.name!=="yMidAxis"&&aj.axes.yaxis.show){ax=aj.axes.yaxis.numberTicks;
}}}a6=((this.min!=null)?this.min:aB.min);
aI=((this.max!=null)?this.max:aB.max);
var av=aI-a6;
var aS,ay;
var at;
if(this.tickOptions==null||!this.tickOptions.formatString){this._overrideFormatString=true;
}if(this.min==null||this.max==null&&this.tickInterval==null&&!this.autoscale){if(this.forceTickAt0){if(a6>0){a6=0;
}if(aI<0){aI=0;
}}if(this.forceTickAt100){if(a6>100){a6=100;
}if(aI<100){aI=100;
}}var aE=false,a1=false;
if(this.min!=null){aE=true;
}else{if(this.max!=null){a1=true;
}}var aP=L.jqplot.LinearTickGenerator(a6,aI,this._scalefact,ax,aE,a1);
var aw=(this.min!=null)?a6:a6+av*(this.padMin-1);
var aQ=(this.max!=null)?aI:aI-av*(this.padMax-1);
if(a6<aw||aI>aQ){aw=(this.min!=null)?a6:a6-av*(this.padMin-1);
aQ=(this.max!=null)?aI:aI+av*(this.padMax-1);
aP=L.jqplot.LinearTickGenerator(aw,aQ,this._scalefact,ax,aE,a1);
}this.min=aP[0];
this.max=aP[1];
this.numberTicks=aP[2];
this._autoFormatString=aP[3];
this.tickInterval=aP[4];
}else{if(a6==aI){var ai=0.05;
if(a6>0){ai=Math.max(Math.log(a6)/Math.LN10,0.05);
}a6-=ai;
aI+=ai;
}if(this.autoscale&&this.min==null&&this.max==null){var ak,al,ar;
var aC=false;
var aN=false;
var aA={min:null,max:null,average:null,stddev:null};
for(var a0=0;
a0<this._series.length;
a0++){var aV=this._series[a0];
var aD=(aV.fillAxis=="x")?aV._xaxis.name:aV._yaxis.name;
if(this.name==aD){var aR=aV._plotValues[aV.fillAxis];
var aG=aR[0];
var a2=aR[0];
for(var aZ=1;
aZ<aR.length;
aZ++){if(aR[aZ]<aG){aG=aR[aZ];
}else{if(aR[aZ]>a2){a2=aR[aZ];
}}}var au=(a2-aG)/a2;
if(aV.renderer.constructor==L.jqplot.BarRenderer){if(aG>=0&&(aV.fillToZero||au>0.1)){aC=true;
}else{aC=false;
if(aV.fill&&aV.fillToZero&&aG<0&&a2>0){aN=true;
}else{aN=false;
}}}else{if(aV.fill){if(aG>=0&&(aV.fillToZero||au>0.1)){aC=true;
}else{if(aG<0&&a2>0&&aV.fillToZero){aC=false;
aN=true;
}else{aC=false;
aN=false;
}}}else{if(aG<0){aC=false;
}}}}}if(aC){this.numberTicks=2+Math.ceil((ah-(this.tickSpacing-1))/this.tickSpacing);
this.min=0;
aH=0;
al=aI/(this.numberTicks-1);
at=Math.pow(10,Math.abs(Math.floor(Math.log(al)/Math.LN10)));
if(al/at==parseInt(al/at,10)){al+=at;
}this.tickInterval=Math.ceil(al/at)*at;
this.max=this.tickInterval*(this.numberTicks-1);
}else{if(aN){this.numberTicks=2+Math.ceil((ah-(this.tickSpacing-1))/this.tickSpacing);
var aJ=Math.ceil(Math.abs(a6)/av*(this.numberTicks-1));
var a9=this.numberTicks-1-aJ;
al=Math.max(Math.abs(a6/aJ),Math.abs(aI/a9));
at=Math.pow(10,Math.abs(Math.floor(Math.log(al)/Math.LN10)));
this.tickInterval=Math.ceil(al/at)*at;
this.max=this.tickInterval*a9;
this.min=-this.tickInterval*aJ;
}else{if(this.numberTicks==null){if(this.tickInterval){this.numberTicks=3+Math.ceil(av/this.tickInterval);
}else{this.numberTicks=2+Math.ceil((ah-(this.tickSpacing-1))/this.tickSpacing);
}}if(this.tickInterval==null){al=av/(this.numberTicks-1);
if(al<1){at=Math.pow(10,Math.abs(Math.floor(Math.log(al)/Math.LN10)));
}else{at=1;
}this.tickInterval=Math.ceil(al*at*this.pad)/at;
}else{at=1/this.tickInterval;
}ak=this.tickInterval*(this.numberTicks-1);
ar=(ak-av)/2;
if(this.min==null){this.min=Math.floor(at*(a6-ar))/at;
}if(this.max==null){this.max=this.min+ak;
}}}var aF=L.jqplot.getSignificantFigures(this.tickInterval);
var aM;
if(aF.digitsLeft>=aF.significantDigits){aM="%d";
}else{var at=Math.max(0,5-aF.digitsLeft);
at=Math.min(at,aF.digitsRight);
aM="%."+at+"f";
}this._autoFormatString=aM;
}else{aS=(this.min!=null)?this.min:a6-av*(this.padMin-1);
ay=(this.max!=null)?this.max:aI+av*(this.padMax-1);
av=ay-aS;
if(this.numberTicks==null){if(this.tickInterval!=null){this.numberTicks=Math.ceil((ay-aS)/this.tickInterval)+1;
}else{if(ah>100){this.numberTicks=parseInt(3+(ah-100)/75,10);
}else{this.numberTicks=2;
}}}if(this.tickInterval==null){this.tickInterval=av/(this.numberTicks-1);
}if(this.max==null){ay=aS+this.tickInterval*(this.numberTicks-1);
}if(this.min==null){aS=ay-this.tickInterval*(this.numberTicks-1);
}var aF=L.jqplot.getSignificantFigures(this.tickInterval);
var aM;
if(aF.digitsLeft>=aF.significantDigits){aM="%d";
}else{var at=Math.max(0,5-aF.digitsLeft);
at=Math.min(at,aF.digitsRight);
aM="%."+at+"f";
}this._autoFormatString=aM;
this.min=aS;
this.max=ay;
}if(this.renderer.constructor==L.jqplot.LinearAxisRenderer&&this._autoFormatString==""){av=this.max-this.min;
var a7=new this.tickRenderer(this.tickOptions);
var aL=a7.formatString||L.jqplot.config.defaultTickFormatString;
var aL=aL.match(L.jqplot.sprintf.regex)[0];
var a3=0;
if(aL){if(aL.search(/[fFeEgGpP]/)>-1){var aY=aL.match(/\%\.(\d{0,})?[eEfFgGpP]/);
if(aY){a3=parseInt(aY[1],10);
}else{a3=6;
}}else{if(aL.search(/[di]/)>-1){a3=0;
}}var aq=Math.pow(10,-a3);
if(this.tickInterval<aq){if(aW==null&&ba==null){this.tickInterval=aq;
if(a5==null&&aH==null){this.min=Math.floor(this._dataBounds.min/aq)*aq;
if(this.min==this._dataBounds.min){this.min=this._dataBounds.min-this.tickInterval;
}this.max=Math.ceil(this._dataBounds.max/aq)*aq;
if(this.max==this._dataBounds.max){this.max=this._dataBounds.max+this.tickInterval;
}var aX=(this.max-this.min)/this.tickInterval;
aX=aX.toFixed(11);
aX=Math.ceil(aX);
this.numberTicks=aX+1;
}else{if(a5==null){var aX=(this._dataBounds.max-this.min)/this.tickInterval;
aX=aX.toFixed(11);
this.numberTicks=Math.ceil(aX)+2;
this.max=this.min+this.tickInterval*(this.numberTicks-1);
}else{if(aH==null){var aX=(this.max-this._dataBounds.min)/this.tickInterval;
aX=aX.toFixed(11);
this.numberTicks=Math.ceil(aX)+2;
this.min=this.max-this.tickInterval*(this.numberTicks-1);
}else{this.numberTicks=Math.ceil((a5-aH)/this.tickInterval)+1;
this.min=Math.floor(aH*Math.pow(10,a3))/Math.pow(10,a3);
this.max=Math.ceil(a5*Math.pow(10,a3))/Math.pow(10,a3);
this.numberTicks=Math.ceil((this.max-this.min)/this.tickInterval)+1;
}}}}}}}}if(this._overrideFormatString&&this._autoFormatString!=""){this.tickOptions=this.tickOptions||{};
this.tickOptions.formatString=this._autoFormatString;
}var aU,a8;
for(var a0=0;
a0<this.numberTicks;
a0++){a4=this.min+a0*this.tickInterval;
aU=new this.tickRenderer(this.tickOptions);
aU.setTick(a4,this.name);
this._ticks.push(aU);
if(a0<this.numberTicks-1){for(var aZ=0;
aZ<this.minorTicks;
aZ++){a4+=this.tickInterval/(this.minorTicks+1);
a8=L.extend(true,{},this.tickOptions,{name:this.name,value:a4,label:"",isMinorTick:true});
aU=new this.tickRenderer(a8);
this._ticks.push(aU);
}}aU=null;
}}if(this.tickInset){this.min=this.min-this.tickInset*this.tickInterval;
this.max=this.max+this.tickInset*this.tickInterval;
}aT=null;
};
L.jqplot.LinearAxisRenderer.prototype.resetTickValues=function(aj){if(L.isArray(aj)&&aj.length==this._ticks.length){var ai;
for(var ah=0;
ah<aj.length;
ah++){ai=this._ticks[ah];
ai.value=aj[ah];
ai.label=ai.formatter(ai.formatString,aj[ah]);
ai.label=ai.prefix+ai.label;
ai._elem.html(ai.label);
}ai=null;
this.min=L.jqplot.arrayMin(aj);
this.max=L.jqplot.arrayMax(aj);
this.pack();
}};
L.jqplot.LinearAxisRenderer.prototype.pack=function(aj,ai){aj=aj||{};
ai=ai||this._offsets;
var ay=this._ticks;
var au=this.max;
var at=this.min;
var ao=ai.max;
var am=ai.min;
var aq=(this._label==null)?false:this._label.show;
for(var ar in aj){this._elem.css(ar,aj[ar]);
}this._offsets=ai;
var ak=ao-am;
var al=au-at;
if(this.breakPoints){al=al-this.breakPoints[1]+this.breakPoints[0];
this.p2u=function(aA){return(aA-am)*al/ak+at;
};
this.u2p=function(aA){if(aA>this.breakPoints[0]&&aA<this.breakPoints[1]){aA=this.breakPoints[0];
}if(aA<=this.breakPoints[0]){return(aA-at)*ak/al+am;
}else{return(aA-this.breakPoints[1]+this.breakPoints[0]-at)*ak/al+am;
}};
if(this.name.charAt(0)=="x"){this.series_u2p=function(aA){if(aA>this.breakPoints[0]&&aA<this.breakPoints[1]){aA=this.breakPoints[0];
}if(aA<=this.breakPoints[0]){return(aA-at)*ak/al;
}else{return(aA-this.breakPoints[1]+this.breakPoints[0]-at)*ak/al;
}};
this.series_p2u=function(aA){return aA*al/ak+at;
};
}else{this.series_u2p=function(aA){if(aA>this.breakPoints[0]&&aA<this.breakPoints[1]){aA=this.breakPoints[0];
}if(aA>=this.breakPoints[1]){return(aA-au)*ak/al;
}else{return(aA+this.breakPoints[1]-this.breakPoints[0]-au)*ak/al;
}};
this.series_p2u=function(aA){return aA*al/ak+au;
};
}}else{this.p2u=function(aA){return(aA-am)*al/ak+at;
};
this.u2p=function(aA){return(aA-at)*ak/al+am;
};
if(this.name=="xaxis"||this.name=="x2axis"){this.series_u2p=function(aA){return(aA-at)*ak/al;
};
this.series_p2u=function(aA){return aA*al/ak+at;
};
}else{this.series_u2p=function(aA){return(aA-au)*ak/al;
};
this.series_p2u=function(aA){return aA*al/ak+au;
};
}}if(this.show){if(this.name=="xaxis"||this.name=="x2axis"){for(var av=0;
av<ay.length;
av++){var ap=ay[av];
if(ap.show&&ap.showLabel){var ah;
if(ap.constructor==L.jqplot.CanvasAxisTickRenderer&&ap.angle){var ax=(this.name=="xaxis")?1:-1;
switch(ap.labelPosition){case"auto":if(ax*ap.angle<0){ah=-ap.getWidth()+ap._textRenderer.height*Math.sin(-ap._textRenderer.angle)/2;
}else{ah=-ap._textRenderer.height*Math.sin(ap._textRenderer.angle)/2;
}break;
case"end":ah=-ap.getWidth()+ap._textRenderer.height*Math.sin(-ap._textRenderer.angle)/2;
break;
case"start":ah=-ap._textRenderer.height*Math.sin(ap._textRenderer.angle)/2;
break;
case"middle":ah=-ap.getWidth()/2+ap._textRenderer.height*Math.sin(-ap._textRenderer.angle)/2;
break;
default:ah=-ap.getWidth()/2+ap._textRenderer.height*Math.sin(-ap._textRenderer.angle)/2;
break;
}}else{ah=-ap.getWidth()/2;
}var az=this.u2p(ap.value)+ah+"px";
ap._elem.css("left",az);
ap.pack();
}}if(aq){var an=this._label._elem.outerWidth(true);
this._label._elem.css("left",am+ak/2-an/2+"px");
if(this.name=="xaxis"){this._label._elem.css("bottom","0px");
}else{this._label._elem.css("top","0px");
}this._label.pack();
}}else{for(var av=0;
av<ay.length;
av++){var ap=ay[av];
if(ap.show&&ap.showLabel){var ah;
if(ap.constructor==L.jqplot.CanvasAxisTickRenderer&&ap.angle){var ax=(this.name=="yaxis")?1:-1;
switch(ap.labelPosition){case"auto":case"end":if(ax*ap.angle<0){ah=-ap._textRenderer.height*Math.cos(-ap._textRenderer.angle)/2;
}else{ah=-ap.getHeight()+ap._textRenderer.height*Math.cos(ap._textRenderer.angle)/2;
}break;
case"start":if(ap.angle>0){ah=-ap._textRenderer.height*Math.cos(-ap._textRenderer.angle)/2;
}else{ah=-ap.getHeight()+ap._textRenderer.height*Math.cos(ap._textRenderer.angle)/2;
}break;
case"middle":ah=-ap.getHeight()/2;
break;
default:ah=-ap.getHeight()/2;
break;
}}else{ah=-ap.getHeight()/2;
}var az=this.u2p(ap.value)+ah+"px";
ap._elem.css("top",az);
ap.pack();
}}if(aq){var aw=this._label._elem.outerHeight(true);
this._label._elem.css("top",ao-ak/2-aw/2+"px");
if(this.name=="yaxis"){this._label._elem.css("left","0px");
}else{this._label._elem.css("right","0px");
}this._label.pack();
}}}ay=null;
};
function i(ai){var ah;
ai=Math.abs(ai);
if(ai>=10){ah="%d";
}else{if(ai>1){if(ai===parseInt(ai,10)){ah="%d";
}else{ah="%.1f";
}}else{var aj=-Math.floor(Math.log(ai)/Math.LN10);
ah="%."+aj+"f";
}}return ah;
}var b=[0.1,0.2,0.3,0.4,0.5,0.8,1,2,3,4,5];
var c=function(ai){var ah=b.indexOf(ai);
if(ah>0){return b[ah-1];
}else{return b[b.length-1]/100;
}};
var k=function(ai){var ah=b.indexOf(ai);
if(ah<b.length-1){return b[ah+1];
}else{return b[0]*100;
}};
function d(al,au,at){var aq=Math.floor(at/2);
var ai=Math.ceil(at*1.5);
var ak=Number.MAX_VALUE;
var ah=(au-al);
var ax;
var ap;
var ar;
var ay=L.jqplot.getSignificantFigures;
var aw;
var an;
var ao;
var av;
for(var am=0,aj=ai-aq+1;
am<aj;
am++){ao=aq+am;
ax=ah/(ao-1);
ap=ay(ax);
ax=Math.abs(at-ao)+ap.digitsRight;
if(ax<ak){ak=ax;
ar=ao;
av=ap.digitsRight;
}else{if(ax===ak){if(ap.digitsRight<av){ar=ao;
av=ap.digitsRight;
}}}}aw=Math.max(av,Math.max(ay(al).digitsRight,ay(au).digitsRight));
if(aw===0){an="%d";
}else{an="%."+aw+"f";
}ax=ah/(ar-1);
return[al,au,ar,an,ax];
}function W(ai,al){al=al||7;
var ak=ai/(al-1);
var aj=Math.pow(10,Math.floor(Math.log(ak)/Math.LN10));
var am=ak/aj;
var ah;
if(aj<1){if(am>5){ah=10*aj;
}else{if(am>2){ah=5*aj;
}else{if(am>1){ah=2*aj;
}else{ah=aj;
}}}}else{if(am>5){ah=10*aj;
}else{if(am>4){ah=5*aj;
}else{if(am>3){ah=4*aj;
}else{if(am>2){ah=3*aj;
}else{if(am>1){ah=2*aj;
}else{ah=aj;
}}}}}}return ah;
}function Q(ai,ah){ah=ah||1;
var ak=Math.floor(Math.log(ai)/Math.LN10);
var am=Math.pow(10,ak);
var al=ai/am;
var aj;
al=al/ah;
if(al<=0.38){aj=0.1;
}else{if(al<=1.6){aj=0.2;
}else{if(al<=4){aj=0.5;
}else{if(al<=8){aj=1;
}else{if(al<=16){aj=2;
}else{aj=5;
}}}}}return aj*am;
}function x(aj,ai){var al=Math.floor(Math.log(aj)/Math.LN10);
var an=Math.pow(10,al);
var am=aj/an;
var ah;
var ak;
am=am/ai;
if(am<=0.38){ak=0.1;
}else{if(am<=1.6){ak=0.2;
}else{if(am<=4){ak=0.5;
}else{if(am<=8){ak=1;
}else{if(am<=16){ak=2;
}else{ak=5;
}}}}}ah=ak*an;
return[ah,ak,an];
}L.jqplot.LinearTickGenerator=function(an,aq,aj,ak,ao,ar){ao=(ao===null)?false:ao;
ar=(ar===null||ao)?false:ar;
if(an===aq){aq=(aq)?0:1;
}aj=aj||1;
if(aq<an){var at=aq;
aq=an;
an=at;
}var ai=[];
var aw=Q(aq-an,aj);
var av=L.jqplot.getSignificantFigures;
if(ak==null){if(!ao&&!ar){ai[0]=Math.floor(an/aw)*aw;
ai[1]=Math.ceil(aq/aw)*aw;
ai[2]=Math.round((ai[1]-ai[0])/aw+1);
ai[3]=i(aw);
ai[4]=aw;
}else{if(ao){ai[0]=an;
ai[2]=Math.ceil((aq-an)/aw+1);
ai[1]=an+(ai[2]-1)*aw;
var au=av(an).digitsRight;
var ap=av(aw).digitsRight;
if(au<ap){ai[3]=i(aw);
}else{ai[3]="%."+au+"f";
}ai[4]=aw;
}else{if(ar){ai[1]=aq;
ai[2]=Math.ceil((aq-an)/aw+1);
ai[0]=aq-(ai[2]-1)*aw;
var al=av(aq).digitsRight;
var ap=av(aw).digitsRight;
if(al<ap){ai[3]=i(aw);
}else{ai[3]="%."+al+"f";
}ai[4]=aw;
}}}}else{var am=[];
am[0]=Math.floor(an/aw)*aw;
am[1]=Math.ceil(aq/aw)*aw;
am[2]=Math.round((am[1]-am[0])/aw+1);
am[3]=i(aw);
am[4]=aw;
if(am[2]===ak){ai=am;
}else{var ah=W(am[1]-am[0],ak);
ai[0]=am[0];
ai[2]=ak;
ai[4]=ah;
ai[3]=i(ah);
ai[1]=ai[0]+(ai[2]-1)*ai[4];
}}return ai;
};
L.jqplot.LinearTickGenerator.bestLinearInterval=Q;
L.jqplot.LinearTickGenerator.bestInterval=W;
L.jqplot.LinearTickGenerator.bestLinearComponents=x;
L.jqplot.LinearTickGenerator.bestConstrainedInterval=d;
L.jqplot.MarkerRenderer=function(ah){this.show=true;
this.style="filledCircle";
this.lineWidth=2;
this.size=9;
this.color="#666666";
this.shadow=true;
this.shadowAngle=45;
this.shadowOffset=1;
this.shadowDepth=3;
this.shadowAlpha="0.07";
this.shadowRenderer=new L.jqplot.ShadowRenderer();
this.shapeRenderer=new L.jqplot.ShapeRenderer();
L.extend(true,this,ah);
};
L.jqplot.MarkerRenderer.prototype.init=function(ah){L.extend(true,this,ah);
var aj={angle:this.shadowAngle,offset:this.shadowOffset,alpha:this.shadowAlpha,lineWidth:this.lineWidth,depth:this.shadowDepth,closePath:true};
if(this.style.indexOf("filled")!=-1){aj.fill=true;
}if(this.style.indexOf("ircle")!=-1){aj.isarc=true;
aj.closePath=false;
}this.shadowRenderer.init(aj);
var ai={fill:false,isarc:false,strokeStyle:this.color,fillStyle:this.color,lineWidth:this.lineWidth,closePath:true};
if(this.style.indexOf("filled")!=-1){ai.fill=true;
}if(this.style.indexOf("ircle")!=-1){ai.isarc=true;
ai.closePath=false;
}this.shapeRenderer.init(ai);
};
L.jqplot.MarkerRenderer.prototype.drawDiamond=function(aj,ai,am,al,ao){var ah=1.2;
var ap=this.size/2/ah;
var an=this.size/2*ah;
var ak=[[aj-ap,ai],[aj,ai+an],[aj+ap,ai],[aj,ai-an]];
if(this.shadow){this.shadowRenderer.draw(am,ak);
}this.shapeRenderer.draw(am,ak,ao);
};
L.jqplot.MarkerRenderer.prototype.drawPlus=function(ak,aj,an,am,aq){var ai=1;
var ar=this.size/2*ai;
var ao=this.size/2*ai;
var ap=[[ak,aj-ao],[ak,aj+ao]];
var al=[[ak+ar,aj],[ak-ar,aj]];
var ah=L.extend(true,{},this.options,{closePath:false});
if(this.shadow){this.shadowRenderer.draw(an,ap,{closePath:false});
this.shadowRenderer.draw(an,al,{closePath:false});
}this.shapeRenderer.draw(an,ap,ah);
this.shapeRenderer.draw(an,al,ah);
};
L.jqplot.MarkerRenderer.prototype.drawX=function(ak,aj,an,am,aq){var ai=1;
var ar=this.size/2*ai;
var ao=this.size/2*ai;
var ah=L.extend(true,{},this.options,{closePath:false});
var ap=[[ak-ar,aj-ao],[ak+ar,aj+ao]];
var al=[[ak-ar,aj+ao],[ak+ar,aj-ao]];
if(this.shadow){this.shadowRenderer.draw(an,ap,{closePath:false});
this.shadowRenderer.draw(an,al,{closePath:false});
}this.shapeRenderer.draw(an,ap,ah);
this.shapeRenderer.draw(an,al,ah);
};
L.jqplot.MarkerRenderer.prototype.drawDash=function(aj,ai,am,al,ao){var ah=1;
var ap=this.size/2*ah;
var an=this.size/2*ah;
var ak=[[aj-ap,ai],[aj+ap,ai]];
if(this.shadow){this.shadowRenderer.draw(am,ak);
}this.shapeRenderer.draw(am,ak,ao);
};
L.jqplot.MarkerRenderer.prototype.drawLine=function(am,al,ah,ak,ai){var aj=[am,al];
if(this.shadow){this.shadowRenderer.draw(ah,aj);
}this.shapeRenderer.draw(ah,aj,ai);
};
L.jqplot.MarkerRenderer.prototype.drawSquare=function(aj,ai,am,al,ao){var ah=1;
var ap=this.size/2/ah;
var an=this.size/2*ah;
var ak=[[aj-ap,ai-an],[aj-ap,ai+an],[aj+ap,ai+an],[aj+ap,ai-an]];
if(this.shadow){this.shadowRenderer.draw(am,ak);
}this.shapeRenderer.draw(am,ak,ao);
};
L.jqplot.MarkerRenderer.prototype.drawCircle=function(ai,ao,ak,an,al){var ah=this.size/2;
var aj=2*Math.PI;
var am=[ai,ao,ah,0,aj,true];
if(this.shadow){this.shadowRenderer.draw(ak,am);
}this.shapeRenderer.draw(ak,am,al);
};
L.jqplot.MarkerRenderer.prototype.draw=function(ah,ak,ai,aj){aj=aj||{};
if(aj.show==null||aj.show!=false){if(aj.color&&!aj.fillStyle){aj.fillStyle=aj.color;
}if(aj.color&&!aj.strokeStyle){aj.strokeStyle=aj.color;
}switch(this.style){case"diamond":this.drawDiamond(ah,ak,ai,false,aj);
break;
case"filledDiamond":this.drawDiamond(ah,ak,ai,true,aj);
break;
case"circle":this.drawCircle(ah,ak,ai,false,aj);
break;
case"filledCircle":this.drawCircle(ah,ak,ai,true,aj);
break;
case"square":this.drawSquare(ah,ak,ai,false,aj);
break;
case"filledSquare":this.drawSquare(ah,ak,ai,true,aj);
break;
case"x":this.drawX(ah,ak,ai,true,aj);
break;
case"plus":this.drawPlus(ah,ak,ai,true,aj);
break;
case"dash":this.drawDash(ah,ak,ai,true,aj);
break;
case"line":this.drawLine(ah,ak,ai,false,aj);
break;
default:this.drawDiamond(ah,ak,ai,false,aj);
break;
}}};
L.jqplot.ShadowRenderer=function(ah){this.angle=45;
this.offset=1;
this.alpha=0.07;
this.lineWidth=1.5;
this.lineJoin="miter";
this.lineCap="round";
this.closePath=false;
this.fill=false;
this.depth=3;
this.strokeStyle="rgba(0,0,0,0.1)";
this.isarc=false;
L.extend(true,this,ah);
};
L.jqplot.ShadowRenderer.prototype.init=function(ah){L.extend(true,this,ah);
};
L.jqplot.ShadowRenderer.prototype.draw=function(av,at,ax){av.save();
var ah=(ax!=null)?ax:{};
var au=(ah.fill!=null)?ah.fill:this.fill;
var ap=(ah.fillRect!=null)?ah.fillRect:this.fillRect;
var ao=(ah.closePath!=null)?ah.closePath:this.closePath;
var al=(ah.offset!=null)?ah.offset:this.offset;
var aj=(ah.alpha!=null)?ah.alpha:this.alpha;
var an=(ah.depth!=null)?ah.depth:this.depth;
var aw=(ah.isarc!=null)?ah.isarc:this.isarc;
var aq=(ah.linePattern!=null)?ah.linePattern:this.linePattern;
av.lineWidth=(ah.lineWidth!=null)?ah.lineWidth:this.lineWidth;
av.lineJoin=(ah.lineJoin!=null)?ah.lineJoin:this.lineJoin;
av.lineCap=(ah.lineCap!=null)?ah.lineCap:this.lineCap;
av.strokeStyle=ah.strokeStyle||this.strokeStyle||"rgba(0,0,0,"+aj+")";
av.fillStyle=ah.fillStyle||this.fillStyle||"rgba(0,0,0,"+aj+")";
for(var ak=0;
ak<an;
ak++){var ar=L.jqplot.LinePattern(av,aq);
av.translate(Math.cos(this.angle*Math.PI/180)*al,Math.sin(this.angle*Math.PI/180)*al);
ar.beginPath();
if(aw){av.arc(at[0],at[1],at[2],at[3],at[4],true);
}else{if(ap){if(ap){av.fillRect(at[0],at[1],at[2],at[3]);
}}else{if(at&&at.length){var ai=true;
for(var am=0;
am<at.length;
am++){if(at[am][0]!=null&&at[am][1]!=null){if(ai){ar.moveTo(at[am][0],at[am][1]);
ai=false;
}else{ar.lineTo(at[am][0],at[am][1]);
}}else{ai=true;
}}}}}if(ao){ar.closePath();
}if(au){av.fill();
}else{av.stroke();
}}av.restore();
};
L.jqplot.ShapeRenderer=function(ah){this.lineWidth=1.5;
this.linePattern="solid";
this.lineJoin="miter";
this.lineCap="round";
this.closePath=false;
this.fill=false;
this.isarc=false;
this.fillRect=false;
this.strokeRect=false;
this.clearRect=false;
this.strokeStyle="#999999";
this.fillStyle="#999999";
L.extend(true,this,ah);
};
L.jqplot.ShapeRenderer.prototype.init=function(ah){L.extend(true,this,ah);
};
L.jqplot.ShapeRenderer.prototype.draw=function(at,aq,av){at.save();
var ah=(av!=null)?av:{};
var ar=(ah.fill!=null)?ah.fill:this.fill;
var am=(ah.closePath!=null)?ah.closePath:this.closePath;
var an=(ah.fillRect!=null)?ah.fillRect:this.fillRect;
var ak=(ah.strokeRect!=null)?ah.strokeRect:this.strokeRect;
var ai=(ah.clearRect!=null)?ah.clearRect:this.clearRect;
var au=(ah.isarc!=null)?ah.isarc:this.isarc;
var ao=(ah.linePattern!=null)?ah.linePattern:this.linePattern;
var ap=L.jqplot.LinePattern(at,ao);
at.lineWidth=ah.lineWidth||this.lineWidth;
at.lineJoin=ah.lineJoin||this.lineJoin;
at.lineCap=ah.lineCap||this.lineCap;
at.strokeStyle=(ah.strokeStyle||ah.color)||this.strokeStyle;
at.fillStyle=ah.fillStyle||this.fillStyle;
at.beginPath();
if(au){at.arc(aq[0],aq[1],aq[2],aq[3],aq[4],true);
if(am){at.closePath();
}if(ar){at.fill();
}else{at.stroke();
}at.restore();
return;
}else{if(ai){at.clearRect(aq[0],aq[1],aq[2],aq[3]);
at.restore();
return;
}else{if(an||ak){if(an){at.fillRect(aq[0],aq[1],aq[2],aq[3]);
}if(ak){at.strokeRect(aq[0],aq[1],aq[2],aq[3]);
at.restore();
return;
}}else{if(aq&&aq.length){var aj=true;
for(var al=0;
al<aq.length;
al++){if(aq[al][0]!=null&&aq[al][1]!=null){if(aj){ap.moveTo(aq[al][0],aq[al][1]);
aj=false;
}else{ap.lineTo(aq[al][0],aq[al][1]);
}}else{aj=true;
}}if(am){ap.closePath();
}if(ar){at.fill();
}else{at.stroke();
}}}}}at.restore();
};
L.jqplot.TableLegendRenderer=function(){};
L.jqplot.TableLegendRenderer.prototype.init=function(ah){L.extend(true,this,ah);
};
L.jqplot.TableLegendRenderer.prototype.addrow=function(aq,ak,ah,ao){var al=(ah)?this.rowSpacing+"px":"0px";
var ap;
var aj;
var ai;
var an;
var am;
ai=document.createElement("tr");
ap=L(ai);
ap.addClass("jqplot-table-legend");
ai=null;
if(ao){ap.prependTo(this._elem);
}else{ap.appendTo(this._elem);
}if(this.showSwatches){aj=L(document.createElement("td"));
aj.addClass("jqplot-table-legend jqplot-table-legend-swatch");
aj.css({textAlign:"center",paddingTop:al});
an=L(document.createElement("div"));
an.addClass("jqplot-table-legend-swatch-outline");
am=L(document.createElement("div"));
am.addClass("jqplot-table-legend-swatch");
am.css({backgroundColor:ak,borderColor:ak});
ap.append(aj.append(an.append(am)));
}if(this.showLabels){aj=L(document.createElement("td"));
aj.addClass("jqplot-table-legend jqplot-table-legend-label");
aj.css("paddingTop",al);
ap.append(aj);
if(this.escapeHtml){aj.text(aq);
}else{aj.html(aq);
}}aj=null;
an=null;
am=null;
ap=null;
ai=null;
};
L.jqplot.TableLegendRenderer.prototype.draw=function(){if(this._elem){this._elem.emptyForce();
this._elem=null;
}if(this.show){var am=this._series;
var ai=document.createElement("table");
this._elem=L(ai);
this._elem.addClass("jqplot-table-legend");
var ar={position:"absolute"};
if(this.background){ar.background=this.background;
}if(this.border){ar.border=this.border;
}if(this.fontSize){ar.fontSize=this.fontSize;
}if(this.fontFamily){ar.fontFamily=this.fontFamily;
}if(this.textColor){ar.textColor=this.textColor;
}if(this.marginTop!=null){ar.marginTop=this.marginTop;
}if(this.marginBottom!=null){ar.marginBottom=this.marginBottom;
}if(this.marginLeft!=null){ar.marginLeft=this.marginLeft;
}if(this.marginRight!=null){ar.marginRight=this.marginRight;
}var ah=false,ao=false,aq;
for(var an=0;
an<am.length;
an++){aq=am[an];
if(aq._stack||aq.renderer.constructor==L.jqplot.BezierCurveRenderer){ao=true;
}if(aq.show&&aq.showLabel){var al=this.labels[an]||aq.label.toString();
if(al){var aj=aq.color;
if(ao&&an<am.length-1){ah=true;
}else{if(ao&&an==am.length-1){ah=false;
}}this.renderer.addrow.call(this,al,aj,ah,ao);
ah=true;
}for(var ak=0;
ak<L.jqplot.addLegendRowHooks.length;
ak++){var ap=L.jqplot.addLegendRowHooks[ak].call(this,aq);
if(ap){this.renderer.addrow.call(this,ap.label,ap.color,ah);
ah=true;
}}al=null;
}}}return this._elem;
};
L.jqplot.TableLegendRenderer.prototype.pack=function(aj){if(this.show){if(this.placement=="insideGrid"){switch(this.location){case"nw":var ai=aj.left;
var ah=aj.top;
this._elem.css("left",ai);
this._elem.css("top",ah);
break;
case"n":var ai=(aj.left+(this._plotDimensions.width-aj.right))/2-this.getWidth()/2;
var ah=aj.top;
this._elem.css("left",ai);
this._elem.css("top",ah);
break;
case"ne":var ai=aj.right;
var ah=aj.top;
this._elem.css({right:ai,top:ah});
break;
case"e":var ai=aj.right;
var ah=(aj.top+(this._plotDimensions.height-aj.bottom))/2-this.getHeight()/2;
this._elem.css({right:ai,top:ah});
break;
case"se":var ai=aj.right;
var ah=aj.bottom;
this._elem.css({right:ai,bottom:ah});
break;
case"s":var ai=(aj.left+(this._plotDimensions.width-aj.right))/2-this.getWidth()/2;
var ah=aj.bottom;
this._elem.css({left:ai,bottom:ah});
break;
case"sw":var ai=aj.left;
var ah=aj.bottom;
this._elem.css({left:ai,bottom:ah});
break;
case"w":var ai=aj.left;
var ah=(aj.top+(this._plotDimensions.height-aj.bottom))/2-this.getHeight()/2;
this._elem.css({left:ai,top:ah});
break;
default:var ai=aj.right;
var ah=aj.bottom;
this._elem.css({right:ai,bottom:ah});
break;
}}else{if(this.placement=="outside"){switch(this.location){case"nw":var ai=this._plotDimensions.width-aj.left;
var ah=aj.top;
this._elem.css("right",ai);
this._elem.css("top",ah);
break;
case"n":var ai=(aj.left+(this._plotDimensions.width-aj.right))/2-this.getWidth()/2;
var ah=this._plotDimensions.height-aj.top;
this._elem.css("left",ai);
this._elem.css("bottom",ah);
break;
case"ne":var ai=this._plotDimensions.width-aj.right;
var ah=aj.top;
this._elem.css({left:ai,top:ah});
break;
case"e":var ai=this._plotDimensions.width-aj.right;
var ah=(aj.top+(this._plotDimensions.height-aj.bottom))/2-this.getHeight()/2;
this._elem.css({left:ai,top:ah});
break;
case"se":var ai=this._plotDimensions.width-aj.right;
var ah=aj.bottom;
this._elem.css({left:ai,bottom:ah});
break;
case"s":var ai=(aj.left+(this._plotDimensions.width-aj.right))/2-this.getWidth()/2;
var ah=this._plotDimensions.height-aj.bottom;
this._elem.css({left:ai,top:ah});
break;
case"sw":var ai=this._plotDimensions.width-aj.left;
var ah=aj.bottom;
this._elem.css({right:ai,bottom:ah});
break;
case"w":var ai=this._plotDimensions.width-aj.left;
var ah=(aj.top+(this._plotDimensions.height-aj.bottom))/2-this.getHeight()/2;
this._elem.css({right:ai,top:ah});
break;
default:var ai=aj.right;
var ah=aj.bottom;
this._elem.css({right:ai,bottom:ah});
break;
}}else{switch(this.location){case"nw":this._elem.css({left:0,top:aj.top});
break;
case"n":var ai=(aj.left+(this._plotDimensions.width-aj.right))/2-this.getWidth()/2;
this._elem.css({left:ai,top:aj.top});
break;
case"ne":this._elem.css({right:0,top:aj.top});
break;
case"e":var ah=(aj.top+(this._plotDimensions.height-aj.bottom))/2-this.getHeight()/2;
this._elem.css({right:aj.right,top:ah});
break;
case"se":this._elem.css({right:aj.right,bottom:aj.bottom});
break;
case"s":var ai=(aj.left+(this._plotDimensions.width-aj.right))/2-this.getWidth()/2;
this._elem.css({left:ai,bottom:aj.bottom});
break;
case"sw":this._elem.css({left:aj.left,bottom:aj.bottom});
break;
case"w":var ah=(aj.top+(this._plotDimensions.height-aj.bottom))/2-this.getHeight()/2;
this._elem.css({left:aj.left,top:ah});
break;
default:this._elem.css({right:aj.right,bottom:aj.bottom});
break;
}}}}};
L.jqplot.ThemeEngine=function(){this.themes={};
this.activeTheme=null;
};
L.jqplot.ThemeEngine.prototype.init=function(){var ak=new L.jqplot.Theme({_name:"Default"});
var an,ai,am;
for(an in ak.target){if(an=="textColor"){ak.target[an]=this.target.css("color");
}else{ak.target[an]=this.target.css(an);
}}if(this.title.show&&this.title._elem){for(an in ak.title){if(an=="textColor"){ak.title[an]=this.title._elem.css("color");
}else{ak.title[an]=this.title._elem.css(an);
}}}for(an in ak.grid){ak.grid[an]=this.grid[an];
}if(ak.grid.backgroundColor==null&&this.grid.background!=null){ak.grid.backgroundColor=this.grid.background;
}if(this.legend.show&&this.legend._elem){for(an in ak.legend){if(an=="textColor"){ak.legend[an]=this.legend._elem.css("color");
}else{ak.legend[an]=this.legend._elem.css(an);
}}}var aj;
for(ai=0;
ai<this.series.length;
ai++){aj=this.series[ai];
if(aj.renderer.constructor==L.jqplot.LineRenderer){ak.series.push(new p());
}else{if(aj.renderer.constructor==L.jqplot.BarRenderer){ak.series.push(new T());
}else{if(aj.renderer.constructor==L.jqplot.PieRenderer){ak.series.push(new f());
}else{if(aj.renderer.constructor==L.jqplot.DonutRenderer){ak.series.push(new G());
}else{if(aj.renderer.constructor==L.jqplot.FunnelRenderer){ak.series.push(new Z());
}else{if(aj.renderer.constructor==L.jqplot.MeterGaugeRenderer){ak.series.push(new D());
}else{ak.series.push({});
}}}}}}for(an in ak.series[ai]){ak.series[ai][an]=aj[an];
}}var ah,al;
for(an in this.axes){al=this.axes[an];
ah=ak.axes[an]=new P();
ah.borderColor=al.borderColor;
ah.borderWidth=al.borderWidth;
if(al._ticks&&al._ticks[0]){for(am in ah.ticks){if(al._ticks[0].hasOwnProperty(am)){ah.ticks[am]=al._ticks[0][am];
}else{if(al._ticks[0]._elem){ah.ticks[am]=al._ticks[0]._elem.css(am);
}}}}if(al._label&&al._label.show){for(am in ah.label){if(al._label[am]){ah.label[am]=al._label[am];
}else{if(al._label._elem){if(am=="textColor"){ah.label[am]=al._label._elem.css("color");
}else{ah.label[am]=al._label._elem.css(am);
}}}}}}this.themeEngine._add(ak);
this.themeEngine.activeTheme=this.themeEngine.themes[ak._name];
};
L.jqplot.ThemeEngine.prototype.get=function(ah){if(!ah){return this.activeTheme;
}else{return this.themes[ah];
}};
function O(ai,ah){return ai-ah;
}L.jqplot.ThemeEngine.prototype.getThemeNames=function(){var ah=[];
for(var ai in this.themes){ah.push(ai);
}return ah.sort(O);
};
L.jqplot.ThemeEngine.prototype.getThemes=function(){var ai=[];
var ah=[];
for(var ak in this.themes){ai.push(ak);
}ai.sort(O);
for(var aj=0;
aj<ai.length;
aj++){ah.push(this.themes[ai[aj]]);
}return ah;
};
L.jqplot.ThemeEngine.prototype.activate=function(av,aB){var ah=false;
if(!aB&&this.activeTheme&&this.activeTheme._name){aB=this.activeTheme._name;
}if(!this.themes.hasOwnProperty(aB)){throw new Error("No theme of that name");
}else{var am=this.themes[aB];
this.activeTheme=am;
var aA,at=false,ar=false;
var ai=["xaxis","x2axis","yaxis","y2axis"];
for(aw=0;
aw<ai.length;
aw++){var an=ai[aw];
if(am.axesStyles.borderColor!=null){av.axes[an].borderColor=am.axesStyles.borderColor;
}if(am.axesStyles.borderWidth!=null){av.axes[an].borderWidth=am.axesStyles.borderWidth;
}}for(var az in av.axes){var ak=av.axes[az];
if(ak.show){var aq=am.axes[az]||{};
var ao=am.axesStyles;
var al=L.jqplot.extend(true,{},aq,ao);
aA=(am.axesStyles.borderColor!=null)?am.axesStyles.borderColor:al.borderColor;
if(al.borderColor!=null){ak.borderColor=al.borderColor;
ah=true;
}aA=(am.axesStyles.borderWidth!=null)?am.axesStyles.borderWidth:al.borderWidth;
if(al.borderWidth!=null){ak.borderWidth=al.borderWidth;
ah=true;
}if(ak._ticks&&ak._ticks[0]){for(var aj in al.ticks){aA=al.ticks[aj];
if(aA!=null){ak.tickOptions[aj]=aA;
ak._ticks=[];
ah=true;
}}}if(ak._label&&ak._label.show){for(var aj in al.label){aA=al.label[aj];
if(aA!=null){ak.labelOptions[aj]=aA;
ah=true;
}}}}}for(var au in am.grid){if(am.grid[au]!=null){av.grid[au]=am.grid[au];
}}if(!ah){av.grid.draw();
}if(av.legend.show){for(au in am.legend){if(am.legend[au]!=null){av.legend[au]=am.legend[au];
}}}if(av.title.show){for(au in am.title){if(am.title[au]!=null){av.title[au]=am.title[au];
}}}var aw;
for(aw=0;
aw<am.series.length;
aw++){var ap={};
var ay=false;
for(au in am.series[aw]){aA=(am.seriesStyles[au]!=null)?am.seriesStyles[au]:am.series[aw][au];
if(aA!=null){ap[au]=aA;
if(au=="color"){av.series[aw].renderer.shapeRenderer.fillStyle=aA;
av.series[aw].renderer.shapeRenderer.strokeStyle=aA;
av.series[aw][au]=aA;
}else{if((au=="lineWidth")||(au=="linePattern")){av.series[aw].renderer.shapeRenderer[au]=aA;
av.series[aw][au]=aA;
}else{if(au=="markerOptions"){V(av.series[aw].markerOptions,aA);
V(av.series[aw].markerRenderer,aA);
}else{av.series[aw][au]=aA;
}}}ah=true;
}}}if(ah){av.target.empty();
av.draw();
}for(au in am.target){if(am.target[au]!=null){av.target.css(au,am.target[au]);
}}}};
L.jqplot.ThemeEngine.prototype._add=function(ai,ah){if(ah){ai._name=ah;
}if(!ai._name){ai._name=Date.parse(new Date());
}if(!this.themes.hasOwnProperty(ai._name)){this.themes[ai._name]=ai;
}else{throw new Error("jqplot.ThemeEngine Error: Theme already in use");
}};
L.jqplot.ThemeEngine.prototype.remove=function(ah){if(ah=="Default"){return false;
}return delete this.themes[ah];
};
L.jqplot.ThemeEngine.prototype.newTheme=function(ah,aj){if(typeof(ah)=="object"){aj=aj||ah;
ah=null;
}if(aj&&aj._name){ah=aj._name;
}else{ah=ah||Date.parse(new Date());
}var ai=this.copy(this.themes.Default._name,ah);
L.jqplot.extend(ai,aj);
return ai;
};
function B(aj){if(aj==null||typeof(aj)!="object"){return aj;
}var ah=new aj.constructor();
for(var ai in aj){ah[ai]=B(aj[ai]);
}return ah;
}L.jqplot.clone=B;
function V(aj,ai){if(ai==null||typeof(ai)!="object"){return;
}for(var ah in ai){if(ah=="highlightColors"){aj[ah]=B(ai[ah]);
}if(ai[ah]!=null&&typeof(ai[ah])=="object"){if(!aj.hasOwnProperty(ah)){aj[ah]={};
}V(aj[ah],ai[ah]);
}else{aj[ah]=ai[ah];
}}}L.jqplot.merge=V;
L.jqplot.extend=function(){var am=arguments[0]||{},ak=1,al=arguments.length,ah=false,aj;
if(typeof am==="boolean"){ah=am;
am=arguments[1]||{};
ak=2;
}if(typeof am!=="object"&&!toString.call(am)==="[object Function]"){am={};
}for(;
ak<al;
ak++){if((aj=arguments[ak])!=null){for(var ai in aj){var an=am[ai],ao=aj[ai];
if(am===ao){continue;
}if(ah&&ao&&typeof ao==="object"&&!ao.nodeType){am[ai]=L.jqplot.extend(ah,an||(ao.length!=null?[]:{}),ao);
}else{if(ao!==u){am[ai]=ao;
}}}}}return am;
};
L.jqplot.ThemeEngine.prototype.rename=function(ai,ah){if(ai=="Default"||ah=="Default"){throw new Error("jqplot.ThemeEngine Error: Cannot rename from/to Default");
}if(this.themes.hasOwnProperty(ah)){throw new Error("jqplot.ThemeEngine Error: New name already in use.");
}else{if(this.themes.hasOwnProperty(ai)){var aj=this.copy(ai,ah);
this.remove(ai);
return aj;
}}throw new Error("jqplot.ThemeEngine Error: Old name or new name invalid");
};
L.jqplot.ThemeEngine.prototype.copy=function(ah,aj,al){if(aj=="Default"){throw new Error("jqplot.ThemeEngine Error: Cannot copy over Default theme");
}if(!this.themes.hasOwnProperty(ah)){var ai="jqplot.ThemeEngine Error: Source name invalid";
throw new Error(ai);
}if(this.themes.hasOwnProperty(aj)){var ai="jqplot.ThemeEngine Error: Target name invalid";
throw new Error(ai);
}else{var ak=B(this.themes[ah]);
ak._name=aj;
L.jqplot.extend(true,ak,al);
this._add(ak);
return ak;
}};
L.jqplot.Theme=function(ah,ai){if(typeof(ah)=="object"){ai=ai||ah;
ah=null;
}ah=ah||Date.parse(new Date());
this._name=ah;
this.target={backgroundColor:null};
this.legend={textColor:null,fontFamily:null,fontSize:null,border:null,background:null};
this.title={textColor:null,fontFamily:null,fontSize:null,textAlign:null};
this.seriesStyles={};
this.series=[];
this.grid={drawGridlines:null,gridLineColor:null,gridLineWidth:null,backgroundColor:null,borderColor:null,borderWidth:null,shadow:null};
this.axesStyles={label:{},ticks:{}};
this.axes={};
if(typeof(ai)=="string"){this._name=ai;
}else{if(typeof(ai)=="object"){L.jqplot.extend(true,this,ai);
}}};
var P=function(){this.borderColor=null;
this.borderWidth=null;
this.ticks=new o();
this.label=new t();
};
var o=function(){this.show=null;
this.showGridline=null;
this.showLabel=null;
this.showMark=null;
this.size=null;
this.textColor=null;
this.whiteSpace=null;
this.fontSize=null;
this.fontFamily=null;
};
var t=function(){this.textColor=null;
this.whiteSpace=null;
this.fontSize=null;
this.fontFamily=null;
this.fontWeight=null;
};
var p=function(){this.color=null;
this.lineWidth=null;
this.linePattern=null;
this.shadow=null;
this.fillColor=null;
this.showMarker=null;
this.markerOptions=new I();
};
var I=function(){this.show=null;
this.style=null;
this.lineWidth=null;
this.size=null;
this.color=null;
this.shadow=null;
};
var T=function(){this.color=null;
this.seriesColors=null;
this.lineWidth=null;
this.shadow=null;
this.barPadding=null;
this.barMargin=null;
this.barWidth=null;
this.highlightColors=null;
};
var f=function(){this.seriesColors=null;
this.padding=null;
this.sliceMargin=null;
this.fill=null;
this.shadow=null;
this.startAngle=null;
this.lineWidth=null;
this.highlightColors=null;
};
var G=function(){this.seriesColors=null;
this.padding=null;
this.sliceMargin=null;
this.fill=null;
this.shadow=null;
this.startAngle=null;
this.lineWidth=null;
this.innerDiameter=null;
this.thickness=null;
this.ringMargin=null;
this.highlightColors=null;
};
var Z=function(){this.color=null;
this.lineWidth=null;
this.shadow=null;
this.padding=null;
this.sectionMargin=null;
this.seriesColors=null;
this.highlightColors=null;
};
var D=function(){this.padding=null;
this.backgroundColor=null;
this.ringColor=null;
this.tickColor=null;
this.ringWidth=null;
this.intervalColors=null;
this.intervalInnerRadius=null;
this.intervalOuterRadius=null;
this.hubRadius=null;
this.needleThickness=null;
this.needlePad=null;
};
L.fn.jqplotChildText=function(){return L(this).contents().filter(function(){return this.nodeType==3;
}).text();
};
L.fn.jqplotGetComputedFontStyle=function(){var ak=window.getComputedStyle?window.getComputedStyle(this[0],""):this[0].currentStyle;
var ai=ak["font-style"]?["font-style","font-weight","font-size","font-family"]:["fontStyle","fontWeight","fontSize","fontFamily"];
var al=[];
for(var aj=0;
aj<ai.length;
++aj){var ah=String(ak[ai[aj]]);
if(ah&&ah!="normal"){al.push(ah);
}}return al.join(" ");
};
L.fn.jqplotToImageCanvas=function(aj){aj=aj||{};
var av=(aj.x_offset==null)?0:aj.x_offset;
var ax=(aj.y_offset==null)?0:aj.y_offset;
var al=(aj.backgroundColor==null)?"rgb(255,255,255)":aj.backgroundColor;
if(L(this).width()==0||L(this).height()==0){return null;
}if(L.jqplot.use_excanvas){return null;
}var an=document.createElement("canvas");
var aA=L(this).outerHeight(true);
var at=L(this).outerWidth(true);
var am=L(this).offset();
var ao=am.left;
var aq=am.top;
var au=0,ar=0;
var ay=["jqplot-table-legend","jqplot-xaxis-tick","jqplot-x2axis-tick","jqplot-yaxis-tick","jqplot-y2axis-tick","jqplot-y3axis-tick","jqplot-y4axis-tick","jqplot-y5axis-tick","jqplot-y6axis-tick","jqplot-y7axis-tick","jqplot-y8axis-tick","jqplot-y9axis-tick","jqplot-xaxis-label","jqplot-x2axis-label","jqplot-yaxis-label","jqplot-y2axis-label","jqplot-y3axis-label","jqplot-y4axis-label","jqplot-y5axis-label","jqplot-y6axis-label","jqplot-y7axis-label","jqplot-y8axis-label","jqplot-y9axis-label"];
var ap,ah,ai,aB;
for(var az=0;
az<ay.length;
az++){L(this).find("."+ay[az]).each(function(){ap=L(this).offset().top-aq;
ah=L(this).offset().left-ao;
aB=ah+L(this).outerWidth(true)+au;
ai=ap+L(this).outerHeight(true)+ar;
if(ah<-au){at=at-au-ah;
au=-ah;
}if(ap<-ar){aA=aA-ar-ap;
ar=-ap;
}if(aB>at){at=aB;
}if(ai>aA){aA=ai;
}});
}an.width=at+Number(av);
an.height=aA+Number(ax);
var ak=an.getContext("2d");
ak.save();
ak.fillStyle=al;
ak.fillRect(0,0,an.width,an.height);
ak.restore();
ak.translate(au,ar);
ak.textAlign="left";
ak.textBaseline="top";
function aC(aE){var aF=parseInt(L(aE).css("line-height"),10);
if(isNaN(aF)){aF=parseInt(L(aE).css("font-size"),10)*1.2;
}return aF;
}function aD(aF,aE,aS,aG,aO,aH){var aQ=aC(aF);
var aK=L(aF).innerWidth();
var aL=L(aF).innerHeight();
var aN=aS.split(/\s+/);
var aR=aN.length;
var aP="";
var aM=[];
var aU=aO;
var aT=aG;
for(var aJ=0;
aJ<aR;
aJ++){aP+=aN[aJ];
if(aE.measureText(aP).width>aK){aM.push(aJ);
aP="";
aJ--;
}}if(aM.length===0){if(L(aF).css("textAlign")==="center"){aT=aG+(aH-aE.measureText(aP).width)/2-au;
}aE.fillText(aS,aT,aO);
}else{aP=aN.slice(0,aM[0]).join(" ");
if(L(aF).css("textAlign")==="center"){aT=aG+(aH-aE.measureText(aP).width)/2-au;
}aE.fillText(aP,aT,aU);
aU+=aQ;
for(var aJ=1,aI=aM.length;
aJ<aI;
aJ++){aP=aN.slice(aM[aJ-1],aM[aJ]).join(" ");
if(L(aF).css("textAlign")==="center"){aT=aG+(aH-aE.measureText(aP).width)/2-au;
}aE.fillText(aP,aT,aU);
aU+=aQ;
}aP=aN.slice(aM[aJ-1],aN.length).join(" ");
if(L(aF).css("textAlign")==="center"){aT=aG+(aH-aE.measureText(aP).width)/2-au;
}aE.fillText(aP,aT,aU);
}}function aw(aG,aJ,aE){var aN=aG.tagName.toLowerCase();
var aF=L(aG).position();
var aK=window.getComputedStyle?window.getComputedStyle(aG,""):aG.currentStyle;
var aI=aJ+aF.left+parseInt(aK.marginLeft,10)+parseInt(aK.borderLeftWidth,10)+parseInt(aK.paddingLeft,10);
var aL=aE+aF.top+parseInt(aK.marginTop,10)+parseInt(aK.borderTopWidth,10)+parseInt(aK.paddingTop,10);
var aM=an.width;
if((aN=="div"||aN=="span")&&!L(aG).hasClass("jqplot-highlighter-tooltip")){L(aG).children().each(function(){aw(this,aI,aL);
});
var aO=L(aG).jqplotChildText();
if(aO){ak.font=L(aG).jqplotGetComputedFontStyle();
ak.fillStyle=L(aG).css("color");
aD(aG,ak,aO,aI,aL,aM);
}}else{if(aN==="table"&&L(aG).hasClass("jqplot-table-legend")){ak.strokeStyle=L(aG).css("border-top-color");
ak.fillStyle=L(aG).css("background-color");
ak.fillRect(aI,aL,L(aG).innerWidth(),L(aG).innerHeight());
if(parseInt(L(aG).css("border-top-width"),10)>0){ak.strokeRect(aI,aL,L(aG).innerWidth(),L(aG).innerHeight());
}L(aG).find("div.jqplot-table-legend-swatch-outline").each(function(){var aU=L(this);
ak.strokeStyle=aU.css("border-top-color");
var aQ=aI+aU.position().left;
var aR=aL+aU.position().top;
ak.strokeRect(aQ,aR,aU.innerWidth(),aU.innerHeight());
aQ+=parseInt(aU.css("padding-left"),10);
aR+=parseInt(aU.css("padding-top"),10);
var aT=aU.innerHeight()-2*parseInt(aU.css("padding-top"),10);
var aP=aU.innerWidth()-2*parseInt(aU.css("padding-left"),10);
var aS=aU.children("div.jqplot-table-legend-swatch");
ak.fillStyle=aS.css("background-color");
ak.fillRect(aQ,aR,aP,aT);
});
L(aG).find("td.jqplot-table-legend-label").each(function(){var aR=L(this);
var aP=aI+aR.position().left;
var aQ=aL+aR.position().top+parseInt(aR.css("padding-top"),10);
ak.font=aR.jqplotGetComputedFontStyle();
ak.fillStyle=aR.css("color");
aD(aR,ak,aR.text(),aP,aQ,aM);
});
var aH=null;
}else{if(aN=="canvas"){ak.drawImage(aG,aI,aL);
}}}}L(this).children().each(function(){aw(this,av,ax);
});
return an;
};
L.fn.jqplotToImageStr=function(ai){var ah=L(this).jqplotToImageCanvas(ai);
if(ah){return ah.toDataURL("image/png");
}else{return null;
}};
L.fn.jqplotToImageElem=function(ah){var ai=document.createElement("img");
var aj=L(this).jqplotToImageStr(ah);
ai.src=aj;
return ai;
};
L.fn.jqplotToImageElemStr=function(ah){var ai="<img src="+L(this).jqplotToImageStr(ah)+" />";
return ai;
};
L.fn.jqplotSaveImage=function(){var ah=L(this).jqplotToImageStr({});
if(ah){window.location.href=ah.replace("image/png","image/octet-stream");
}};
L.fn.jqplotViewImage=function(){var ai=L(this).jqplotToImageElemStr({});
var aj=L(this).jqplotToImageStr({});
if(ai){var ah=window.open("");
ah.document.open("image/png");
ah.document.write(ai);
ah.document.close();
ah=null;
}};
var ag=function(){this.syntax=ag.config.syntax;
this._type="jsDate";
this.proxy=new Date();
this.options={};
this.locale=ag.regional.getLocale();
this.formatString="";
this.defaultCentury=ag.config.defaultCentury;
switch(arguments.length){case 0:break;
case 1:if(l(arguments[0])=="[object Object]"&&arguments[0]._type!="jsDate"){var aj=this.options=arguments[0];
this.syntax=aj.syntax||this.syntax;
this.defaultCentury=aj.defaultCentury||this.defaultCentury;
this.proxy=ag.createDate(aj.date);
}else{this.proxy=ag.createDate(arguments[0]);
}break;
default:var ah=[];
for(var ai=0;
ai<arguments.length;
ai++){ah.push(arguments[ai]);
}this.proxy=new Date();
this.proxy.setFullYear.apply(this.proxy,ah.slice(0,3));
if(ah.slice(3).length){this.proxy.setHours.apply(this.proxy,ah.slice(3));
}break;
}};
ag.config={defaultLocale:"en",syntax:"perl",defaultCentury:1900};
ag.prototype.add=function(aj,ai){var ah=E[ai]||E.day;
if(typeof ah=="number"){this.proxy.setTime(this.proxy.getTime()+(ah*aj));
}else{ah.add(this,aj);
}return this;
};
ag.prototype.clone=function(){return new ag(this.proxy.getTime());
};
ag.prototype.getUtcOffset=function(){return this.proxy.getTimezoneOffset()*60000;
};
ag.prototype.diff=function(ai,al,ah){ai=new ag(ai);
if(ai===null){return null;
}var aj=E[al]||E.day;
if(typeof aj=="number"){var ak=(this.proxy.getTime()-ai.proxy.getTime())/aj;
}else{var ak=aj.diff(this.proxy,ai.proxy);
}return(ah?ak:Math[ak>0?"floor":"ceil"](ak));
};
ag.prototype.getAbbrDayName=function(){return ag.regional[this.locale]["dayNamesShort"][this.proxy.getDay()];
};
ag.prototype.getAbbrMonthName=function(){return ag.regional[this.locale]["monthNamesShort"][this.proxy.getMonth()];
};
ag.prototype.getAMPM=function(){return this.proxy.getHours()>=12?"PM":"AM";
};
ag.prototype.getAmPm=function(){return this.proxy.getHours()>=12?"pm":"am";
};
ag.prototype.getCentury=function(){return parseInt(this.proxy.getFullYear()/100,10);
};
ag.prototype.getDate=function(){return this.proxy.getDate();
};
ag.prototype.getDay=function(){return this.proxy.getDay();
};
ag.prototype.getDayOfWeek=function(){var ah=this.proxy.getDay();
return ah===0?7:ah;
};
ag.prototype.getDayOfYear=function(){var ai=this.proxy;
var ah=ai-new Date(""+ai.getFullYear()+"/1/1 GMT");
ah+=ai.getTimezoneOffset()*60000;
ai=null;
return parseInt(ah/60000/60/24,10)+1;
};
ag.prototype.getDayName=function(){return ag.regional[this.locale]["dayNames"][this.proxy.getDay()];
};
ag.prototype.getFullWeekOfYear=function(){var ak=this.proxy;
var ah=this.getDayOfYear();
var aj=6-ak.getDay();
var ai=parseInt((ah+aj)/7,10);
return ai;
};
ag.prototype.getFullYear=function(){return this.proxy.getFullYear();
};
ag.prototype.getGmtOffset=function(){var ah=this.proxy.getTimezoneOffset()/60;
var ai=ah<0?"+":"-";
ah=Math.abs(ah);
return ai+N(Math.floor(ah),2)+":"+N((ah%1)*60,2);
};
ag.prototype.getHours=function(){return this.proxy.getHours();
};
ag.prototype.getHours12=function(){var ah=this.proxy.getHours();
return ah>12?ah-12:(ah==0?12:ah);
};
ag.prototype.getIsoWeek=function(){var ak=this.proxy;
var aj=this.getWeekOfYear();
var ah=(new Date(""+ak.getFullYear()+"/1/1")).getDay();
var ai=aj+(ah>4||ah<=1?0:1);
if(ai==53&&(new Date(""+ak.getFullYear()+"/12/31")).getDay()<4){ai=1;
}else{if(ai===0){ak=new ag(new Date(""+(ak.getFullYear()-1)+"/12/31"));
ai=ak.getIsoWeek();
}}ak=null;
return ai;
};
ag.prototype.getMilliseconds=function(){return this.proxy.getMilliseconds();
};
ag.prototype.getMinutes=function(){return this.proxy.getMinutes();
};
ag.prototype.getMonth=function(){return this.proxy.getMonth();
};
ag.prototype.getMonthName=function(){return ag.regional[this.locale]["monthNames"][this.proxy.getMonth()];
};
ag.prototype.getMonthNumber=function(){return this.proxy.getMonth()+1;
};
ag.prototype.getSeconds=function(){return this.proxy.getSeconds();
};
ag.prototype.getShortYear=function(){return this.proxy.getYear()%100;
};
ag.prototype.getTime=function(){return this.proxy.getTime();
};
ag.prototype.getTimezoneAbbr=function(){return this.proxy.toString().replace(/^.*\(([^)]+)\)$/,"$1");
};
ag.prototype.getTimezoneName=function(){var ah=/(?:\((.+)\)$| ([A-Z]{3}) )/.exec(this.toString());
return ah[1]||ah[2]||"GMT"+this.getGmtOffset();
};
ag.prototype.getTimezoneOffset=function(){return this.proxy.getTimezoneOffset();
};
ag.prototype.getWeekOfYear=function(){var ah=this.getDayOfYear();
var aj=7-this.getDayOfWeek();
var ai=parseInt((ah+aj)/7,10);
return ai;
};
ag.prototype.getUnix=function(){return Math.round(this.proxy.getTime()/1000,0);
};
ag.prototype.getYear=function(){return this.proxy.getYear();
};
ag.prototype.next=function(ah){ah=ah||"day";
return this.clone().add(1,ah);
};
ag.prototype.set=function(){switch(arguments.length){case 0:this.proxy=new Date();
break;
case 1:if(l(arguments[0])=="[object Object]"&&arguments[0]._type!="jsDate"){var aj=this.options=arguments[0];
this.syntax=aj.syntax||this.syntax;
this.defaultCentury=aj.defaultCentury||this.defaultCentury;
this.proxy=ag.createDate(aj.date);
}else{this.proxy=ag.createDate(arguments[0]);
}break;
default:var ah=[];
for(var ai=0;
ai<arguments.length;
ai++){ah.push(arguments[ai]);
}this.proxy=new Date();
this.proxy.setFullYear.apply(this.proxy,ah.slice(0,3));
if(ah.slice(3).length){this.proxy.setHours.apply(this.proxy,ah.slice(3));
}break;
}return this;
};
ag.prototype.setDate=function(ah){this.proxy.setDate(ah);
return this;
};
ag.prototype.setFullYear=function(){this.proxy.setFullYear.apply(this.proxy,arguments);
return this;
};
ag.prototype.setHours=function(){this.proxy.setHours.apply(this.proxy,arguments);
return this;
};
ag.prototype.setMilliseconds=function(ah){this.proxy.setMilliseconds(ah);
return this;
};
ag.prototype.setMinutes=function(){this.proxy.setMinutes.apply(this.proxy,arguments);
return this;
};
ag.prototype.setMonth=function(){this.proxy.setMonth.apply(this.proxy,arguments);
return this;
};
ag.prototype.setSeconds=function(){this.proxy.setSeconds.apply(this.proxy,arguments);
return this;
};
ag.prototype.setTime=function(ah){this.proxy.setTime(ah);
return this;
};
ag.prototype.setYear=function(){this.proxy.setYear.apply(this.proxy,arguments);
return this;
};
ag.prototype.strftime=function(ah){ah=ah||this.formatString||ag.regional[this.locale]["formatString"];
return ag.strftime(this,ah,this.syntax);
};
ag.prototype.toString=function(){return this.proxy.toString();
};
ag.prototype.toYmdInt=function(){return(this.proxy.getFullYear()*10000)+(this.getMonthNumber()*100)+this.proxy.getDate();
};
ag.regional={en:{monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],formatString:"%Y-%m-%d %H:%M:%S"},fr:{monthNames:["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"],monthNamesShort:["Jan","Fv","Mar","Avr","Mai","Jun","Jul","Ao","Sep","Oct","Nov","Dc"],dayNames:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],dayNamesShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],formatString:"%Y-%m-%d %H:%M:%S"},de:{monthNames:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],formatString:"%Y-%m-%d %H:%M:%S"},es:{monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],dayNames:["Domingo","Lunes","Martes","Mi&eacute;rcoles","Jueves","Viernes","S&aacute;bado"],dayNamesShort:["Dom","Lun","Mar","Mi&eacute;","Juv","Vie","S&aacute;b"],formatString:"%Y-%m-%d %H:%M:%S"},ru:{monthNames:["","","","?","","","","??","?","?","??",""],monthNamesShort:["","","","?","","","","?","","","??",""],dayNames:["??","","","?","","?","?"],dayNamesShort:["?","","","?","","","?"],formatString:"%Y-%m-%d %H:%M:%S"},ar:{monthNames:[" ","","","","","","","",""," "," "," "],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],formatString:"%Y-%m-%d %H:%M:%S"},pt:{monthNames:["Janeiro","Fevereiro","Mar&ccedil;o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Ter&ccedil;a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S&aacute;bado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","S&aacute;b"],formatString:"%Y-%m-%d %H:%M:%S"},"pt-BR":{monthNames:["Janeiro","Fevereiro","Mar&ccedil;o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Ter&ccedil;a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S&aacute;bado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","S&aacute;b"],formatString:"%Y-%m-%d %H:%M:%S"},pl:{monthNames:["Stycze","Luty","Marzec","Kwiecie","Maj","Czerwiec","Lipiec","Sierpie","Wrzesie","Padziernik","Listopad","Grudzie"],monthNamesShort:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Pa","Lis","Gru"],dayNames:["Niedziela","Poniedziaek","Wtorek","roda","Czwartek","Pitek","Sobota"],dayNamesShort:["Ni","Pn","Wt","r","Cz","Pt","Sb"],formatString:"%Y-%m-%d %H:%M:%S"},nl:{monthNames:["Januari","Februari","Maart","April","Mei","Juni","July","Augustus","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNames:","["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"],dayNamesShort:["Zo","Ma","Di","Wo","Do","Vr","Za"],formatString:"%Y-%m-%d %H:%M:%S"},sv:{monthNames:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"],monthNamesShort:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec"],dayNames:["sndag","mndag","tisdag","onsdag","torsdag","fredag","lrdag"],dayNamesShort:["sn","mn","tis","ons","tor","fre","lr"],formatString:"%Y-%m-%d %H:%M:%S"}};
ag.regional["en-US"]=ag.regional["en-GB"]=ag.regional.en;
ag.regional.getLocale=function(){var ah=ag.config.defaultLocale;
if(document&&document.getElementsByTagName("html")&&document.getElementsByTagName("html")[0].lang){ah=document.getElementsByTagName("html")[0].lang;
if(!ag.regional.hasOwnProperty(ah)){ah=ag.config.defaultLocale;
}}return ah;
};
var C=24*60*60*1000;
var N=function(ah,ak){ah=String(ah);
var ai=ak-ah.length;
var aj=String(Math.pow(10,ai)).slice(1);
return aj.concat(ah);
};
var E={millisecond:1,second:1000,minute:60*1000,hour:60*60*1000,day:C,week:7*C,month:{add:function(aj,ah){E.year.add(aj,Math[ah>0?"floor":"ceil"](ah/12));
var ai=aj.getMonth()+(ah%12);
if(ai==12){ai=0;
aj.setYear(aj.getFullYear()+1);
}else{if(ai==-1){ai=11;
aj.setYear(aj.getFullYear()-1);
}}aj.setMonth(ai);
},diff:function(al,aj){var ah=al.getFullYear()-aj.getFullYear();
var ai=al.getMonth()-aj.getMonth()+(ah*12);
var ak=al.getDate()-aj.getDate();
return ai+(ak/30);
}},year:{add:function(ai,ah){ai.setYear(ai.getFullYear()+Math[ah>0?"floor":"ceil"](ah));
},diff:function(ai,ah){return E.month.diff(ai,ah)/12;
}}};
for(var Y in E){if(Y.substring(Y.length-1)!="s"){E[Y+"s"]=E[Y];
}}var H=function(al,ak,ai){if(ag.formats[ai]["shortcuts"][ak]){return ag.strftime(al,ag.formats[ai]["shortcuts"][ak],ai);
}else{var ah=(ag.formats[ai]["codes"][ak]||"").split(".");
var aj=al["get"+ah[0]]?al["get"+ah[0]]():"";
if(ah[1]){aj=N(aj,ah[1]);
}return aj;
}};
ag.strftime=function(an,ak,aj,ao){var ai="perl";
var am=ag.regional.getLocale();
if(aj&&ag.formats.hasOwnProperty(aj)){ai=aj;
}else{if(aj&&ag.regional.hasOwnProperty(aj)){am=aj;
}}if(ao&&ag.formats.hasOwnProperty(ao)){ai=ao;
}else{if(ao&&ag.regional.hasOwnProperty(ao)){am=ao;
}}if(l(an)!="[object Object]"||an._type!="jsDate"){an=new ag(an);
an.locale=am;
}if(!ak){ak=an.formatString||ag.regional[am]["formatString"];
}var ah=ak||"%Y-%m-%d",ap="",al;
while(ah.length>0){if(al=ah.match(ag.formats[ai].codes.matcher)){ap+=ah.slice(0,al.index);
ap+=(al[1]||"")+H(an,al[2],ai);
ah=ah.slice(al.index+al[0].length);
}else{ap+=ah;
ah="";
}}return ap;
};
ag.formats={ISO:"%Y-%m-%dT%H:%M:%S.%N%G",SQL:"%Y-%m-%d %H:%M:%S"};
ag.formats.perl={codes:{matcher:/()%(#?(%|[a-z]))/i,Y:"FullYear",y:"ShortYear.2",m:"MonthNumber.2","#m":"MonthNumber",B:"MonthName",b:"AbbrMonthName",d:"Date.2","#d":"Date",e:"Date",A:"DayName",a:"AbbrDayName",w:"Day",H:"Hours.2","#H":"Hours",I:"Hours12.2","#I":"Hours12",p:"AMPM",M:"Minutes.2","#M":"Minutes",S:"Seconds.2","#S":"Seconds",s:"Unix",N:"Milliseconds.3","#N":"Milliseconds",O:"TimezoneOffset",Z:"TimezoneName",G:"GmtOffset"},shortcuts:{F:"%Y-%m-%d",T:"%H:%M:%S",X:"%H:%M:%S",x:"%m/%d/%y",D:"%m/%d/%y","#c":"%a %b %e %H:%M:%S %Y",v:"%e-%b-%Y",R:"%H:%M",r:"%I:%M:%S %p",t:"\t",n:"\n","%":"%"}};
ag.formats.php={codes:{matcher:/()%((%|[a-z]))/i,a:"AbbrDayName",A:"DayName",d:"Date.2",e:"Date",j:"DayOfYear.3",u:"DayOfWeek",w:"Day",U:"FullWeekOfYear.2",V:"IsoWeek.2",W:"WeekOfYear.2",b:"AbbrMonthName",B:"MonthName",m:"MonthNumber.2",h:"AbbrMonthName",C:"Century.2",y:"ShortYear.2",Y:"FullYear",H:"Hours.2",I:"Hours12.2",l:"Hours12",p:"AMPM",P:"AmPm",M:"Minutes.2",S:"Seconds.2",s:"Unix",O:"TimezoneOffset",z:"GmtOffset",Z:"TimezoneAbbr"},shortcuts:{D:"%m/%d/%y",F:"%Y-%m-%d",T:"%H:%M:%S",X:"%H:%M:%S",x:"%m/%d/%y",R:"%H:%M",r:"%I:%M:%S %p",t:"\t",n:"\n","%":"%"}};
ag.createDate=function(aj){if(aj==null){return new Date();
}if(aj instanceof Date){return aj;
}if(typeof aj=="number"){return new Date(aj);
}var ao=String(aj).replace(/^\s*(.+)\s*$/g,"$1");
ao=ao.replace(/^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,4})/,"$1/$2/$3");
ao=ao.replace(/^(3[01]|[0-2]?\d)[-\/]([a-z]{3,})[-\/](\d{4})/i,"$1 $2 $3");
var an=ao.match(/^(3[01]|[0-2]?\d)[-\/]([a-z]{3,})[-\/](\d{2})\D*/i);
if(an&&an.length>3){var at=parseFloat(an[3]);
var am=ag.config.defaultCentury+at;
am=String(am);
ao=ao.replace(/^(3[01]|[0-2]?\d)[-\/]([a-z]{3,})[-\/](\d{2})\D*/i,an[1]+" "+an[2]+" "+am);
}an=ao.match(/^([0-9]{1,2})[-\/]([0-9]{1,2})[-\/]([0-9]{1,2})[^0-9]/);
function ar(ax,aw){var aC=parseFloat(aw[1]);
var aB=parseFloat(aw[2]);
var aA=parseFloat(aw[3]);
var az=ag.config.defaultCentury;
var av,au,aD,ay;
if(aC>31){au=aA;
aD=aB;
av=az+aC;
}else{au=aB;
aD=aC;
av=az+aA;
}ay=aD+"/"+au+"/"+av;
return ax.replace(/^([0-9]{1,2})[-\/]([0-9]{1,2})[-\/]([0-9]{1,2})/,ay);
}if(an&&an.length>3){ao=ar(ao,an);
}var an=ao.match(/^([0-9]{1,2})[-\/]([0-9]{1,2})[-\/]([0-9]{1,2})$/);
if(an&&an.length>3){ao=ar(ao,an);
}var al=0;
var ai=ag.matchers.length;
var aq,ah,ap=ao,ak;
while(al<ai){ah=Date.parse(ap);
if(!isNaN(ah)){return new Date(ah);
}aq=ag.matchers[al];
if(typeof aq=="function"){ak=aq.call(ag,ap);
if(ak instanceof Date){return ak;
}}else{ap=ao.replace(aq[0],aq[1]);
}al++;
}return NaN;
};
ag.daysInMonth=function(ah,ai){if(ai==2){return new Date(ah,1,29).getDate()==29?29:28;
}return[u,31,u,31,30,31,30,31,31,30,31,30,31][ai];
};
ag.matchers=[[/(3[01]|[0-2]\d)\s*\.\s*(1[0-2]|0\d)\s*\.\s*([1-9]\d{3})/,"$2/$1/$3"],[/([1-9]\d{3})\s*-\s*(1[0-2]|0\d)\s*-\s*(3[01]|[0-2]\d)/,"$2/$3/$1"],function(ak){var ai=ak.match(/^(?:(.+)\s+)?([012]?\d)(?:\s*\:\s*(\d\d))?(?:\s*\:\s*(\d\d(\.\d*)?))?\s*(am|pm)?\s*$/i);
if(ai){if(ai[1]){var aj=this.createDate(ai[1]);
if(isNaN(aj)){return;
}}else{var aj=new Date();
aj.setMilliseconds(0);
}var ah=parseFloat(ai[2]);
if(ai[6]){ah=ai[6].toLowerCase()=="am"?(ah==12?0:ah):(ah==12?12:ah+12);
}aj.setHours(ah,parseInt(ai[3]||0,10),parseInt(ai[4]||0,10),((parseFloat(ai[5]||0))||0)*1000);
return aj;
}else{return ak;
}},function(ak){var ai=ak.match(/^(?:(.+))[T|\s+]([012]\d)(?:\:(\d\d))(?:\:(\d\d))(?:\.\d+)([\+\-]\d\d\:\d\d)$/i);
if(ai){if(ai[1]){var aj=this.createDate(ai[1]);
if(isNaN(aj)){return;
}}else{var aj=new Date();
aj.setMilliseconds(0);
}var ah=parseFloat(ai[2]);
aj.setHours(ah,parseInt(ai[3],10),parseInt(ai[4],10),parseFloat(ai[5])*1000);
return aj;
}else{return ak;
}},function(al){var aj=al.match(/^([0-3]?\d)\s*[-\/.\s]{1}\s*([a-zA-Z]{3,9})\s*[-\/.\s]{1}\s*([0-3]?\d)$/);
if(aj){var ak=new Date();
var am=ag.config.defaultCentury;
var ao=parseFloat(aj[1]);
var an=parseFloat(aj[3]);
var ai,ah,ap;
if(ao>31){ah=an;
ai=am+ao;
}else{ah=ao;
ai=am+an;
}var ap=ab(aj[2],ag.regional[ag.regional.getLocale()]["monthNamesShort"]);
if(ap==-1){ap=ab(aj[2],ag.regional[ag.regional.getLocale()]["monthNames"]);
}ak.setFullYear(ai,ap,ah);
ak.setHours(0,0,0,0);
return ak;
}else{return al;
}}];
function ab(aj,ak){if(ak.indexOf){return ak.indexOf(aj);
}for(var ah=0,ai=ak.length;
ah<ai;
ah++){if(ak[ah]===aj){return ah;
}}return -1;
}function l(ah){if(ah===null){return"[object Null]";
}return Object.prototype.toString.call(ah);
}L.jsDate=ag;
L.jqplot.sprintf=function(){function an(au,ap,aq,at){var ar=(au.length>=ap)?"":Array(1+ap-au.length>>>0).join(aq);
return at?au+ar:ar+au;
}function ak(ar){var aq=new String(ar);
for(var ap=10;
ap>0;
ap--){if(aq==(aq=aq.replace(/^(\d+)(\d{3})/,"$1"+L.jqplot.sprintf.thousandsSeparator+"$2"))){break;
}}return aq;
}function aj(av,au,ax,ar,at,aq){var aw=ar-av.length;
if(aw>0){var ap=" ";
if(aq){ap="&nbsp;";
}if(ax||!at){av=an(av,ar,ap,ax);
}else{av=av.slice(0,au.length)+an("",aw,"0",true)+av.slice(au.length);
}}return av;
}function ao(ay,aq,aw,ar,ap,av,ax,au){var at=ay>>>0;
aw=aw&&at&&{"2":"0b","8":"0","16":"0x"}[aq]||"";
ay=aw+an(at.toString(aq),av||0,"0",false);
return aj(ay,aw,ar,ap,ax,au);
}function ah(au,av,ar,ap,at,aq){if(ap!=null){au=au.slice(0,ap);
}return aj(au,"",av,ar,at,aq);
}var ai=arguments,al=0,am=ai[al++];
return am.replace(L.jqplot.sprintf.regex,function(aM,ax,ay,aB,aO,aJ,av){if(aM=="%%"){return"%";
}var aD=false,az="",aA=false,aL=false,aw=false,au=false;
for(var aI=0;
ay&&aI<ay.length;
aI++){switch(ay.charAt(aI)){case" ":az=" ";
break;
case"+":az="+";
break;
case"-":aD=true;
break;
case"0":aA=true;
break;
case"#":aL=true;
break;
case"&":aw=true;
break;
case"'":au=true;
break;
}}if(!aB){aB=0;
}else{if(aB=="*"){aB=+ai[al++];
}else{if(aB.charAt(0)=="*"){aB=+ai[aB.slice(1,-1)];
}else{aB=+aB;
}}}if(aB<0){aB=-aB;
aD=true;
}if(!isFinite(aB)){throw new Error("$.jqplot.sprintf: (minimum-)width must be finite");
}if(!aJ){aJ="fFeE".indexOf(av)>-1?6:(av=="d")?0:void (0);
}else{if(aJ=="*"){aJ=+ai[al++];
}else{if(aJ.charAt(0)=="*"){aJ=+ai[aJ.slice(1,-1)];
}else{aJ=+aJ;
}}}var aF=ax?ai[ax.slice(0,-1)]:ai[al++];
switch(av){case"s":if(aF==null){return"";
}return ah(String(aF),aD,aB,aJ,aA,aw);
case"c":return ah(String.fromCharCode(+aF),aD,aB,aJ,aA,aw);
case"b":return ao(aF,2,aL,aD,aB,aJ,aA,aw);
case"o":return ao(aF,8,aL,aD,aB,aJ,aA,aw);
case"x":return ao(aF,16,aL,aD,aB,aJ,aA,aw);
case"X":return ao(aF,16,aL,aD,aB,aJ,aA,aw).toUpperCase();
case"u":return ao(aF,10,aL,aD,aB,aJ,aA,aw);
case"i":var ar=parseInt(+aF,10);
if(isNaN(ar)){return"";
}var aH=ar<0?"-":az;
var aK=au?ak(String(Math.abs(ar))):String(Math.abs(ar));
aF=aH+an(aK,aJ,"0",false);
return aj(aF,aH,aD,aB,aA,aw);
case"d":var ar=Math.round(+aF);
if(isNaN(ar)){return"";
}var aH=ar<0?"-":az;
var aK=au?ak(String(Math.abs(ar))):String(Math.abs(ar));
aF=aH+an(aK,aJ,"0",false);
return aj(aF,aH,aD,aB,aA,aw);
case"e":case"E":case"f":case"F":case"g":case"G":var ar=+aF;
if(isNaN(ar)){return"";
}var aH=ar<0?"-":az;
var at=["toExponential","toFixed","toPrecision"]["efg".indexOf(av.toLowerCase())];
var aN=["toString","toUpperCase"]["eEfFgG".indexOf(av)%2];
var aK=Math.abs(ar)[at](aJ);
var aE=aK.toString().split(".");
aE[0]=au?ak(aE[0]):aE[0];
aK=aE.join(L.jqplot.sprintf.decimalMark);
aF=aH+aK;
var aC=aj(aF,aH,aD,aB,aA,aw)[aN]();
return aC;
case"p":case"P":var ar=+aF;
if(isNaN(ar)){return"";
}var aH=ar<0?"-":az;
var aE=String(Number(Math.abs(ar)).toExponential()).split(/e|E/);
var aq=(aE[0].indexOf(".")!=-1)?aE[0].length-1:String(ar).length;
var aG=(aE[1]<0)?-aE[1]-1:0;
if(Math.abs(ar)<1){if(aq+aG<=aJ){aF=aH+Math.abs(ar).toPrecision(aq);
}else{if(aq<=aJ-1){aF=aH+Math.abs(ar).toExponential(aq-1);
}else{aF=aH+Math.abs(ar).toExponential(aJ-1);
}}}else{var ap=(aq<=aJ)?aq:aJ;
aF=aH+Math.abs(ar).toPrecision(ap);
}var aN=["toString","toUpperCase"]["pP".indexOf(av)%2];
return aj(aF,aH,aD,aB,aA,aw)[aN]();
case"n":return"";
default:return aM;
}});
};
L.jqplot.sprintf.thousandsSeparator=",";
L.jqplot.sprintf.decimalMark=".";
L.jqplot.sprintf.regex=/%%|%(\d+\$)?([-+#0&\' ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([nAscboxXuidfegpEGP])/g;
L.jqplot.getSignificantFigures=function(al){var an=String(Number(Math.abs(al)).toExponential()).split(/e|E/);
var am=(an[0].indexOf(".")!=-1)?an[0].length-1:an[0].length;
var ai=(an[1]<0)?-an[1]-1:0;
var ah=parseInt(an[1],10);
var aj=(ah+1>0)?ah+1:0;
var ak=(am<=aj)?0:am-ah-1;
return{significantDigits:am,digitsLeft:aj,digitsRight:ak,zeros:ai,exponent:ah};
};
L.jqplot.getPrecision=function(ah){return L.jqplot.getSignificantFigures(ah).digitsRight;
};
var X=L.uiBackCompat!==false;
L.jqplot.effects={effect:{}};
var m="jqplot.storage.";
L.extend(L.jqplot.effects,{version:"1.9pre",save:function(ai,aj){for(var ah=0;
ah<aj.length;
ah++){if(aj[ah]!==null){ai.data(m+aj[ah],ai[0].style[aj[ah]]);
}}},restore:function(ai,aj){for(var ah=0;
ah<aj.length;
ah++){if(aj[ah]!==null){ai.css(aj[ah],ai.data(m+aj[ah]));
}}},setMode:function(ah,ai){if(ai==="toggle"){ai=ah.is(":hidden")?"show":"hide";
}return ai;
},createWrapper:function(ai){if(ai.parent().is(".ui-effects-wrapper")){return ai.parent();
}var aj={width:ai.outerWidth(true),height:ai.outerHeight(true),"float":ai.css("float")},al=L("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),ah={width:ai.width(),height:ai.height()},ak=document.activeElement;
ai.wrap(al);
if(ai[0]===ak||L.contains(ai[0],ak)){L(ak).focus();
}al=ai.parent();
if(ai.css("position")==="static"){al.css({position:"relative"});
ai.css({position:"relative"});
}else{L.extend(aj,{position:ai.css("position"),zIndex:ai.css("z-index")});
L.each(["top","left","bottom","right"],function(am,an){aj[an]=ai.css(an);
if(isNaN(parseInt(aj[an],10))){aj[an]="auto";
}});
ai.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"});
}ai.css(ah);
return al.css(aj).show();
},removeWrapper:function(ah){var ai=document.activeElement;
if(ah.parent().is(".ui-effects-wrapper")){ah.parent().replaceWith(ah);
if(ah[0]===ai||L.contains(ah[0],ai)){L(ai).focus();
}}return ah;
}});
function j(ai,ah,aj,ak){if(L.isPlainObject(ai)){return ai;
}ai={effect:ai};
if(ah===u){ah={};
}if(L.isFunction(ah)){ak=ah;
aj=null;
ah={};
}if(L.type(ah)==="number"||L.fx.speeds[ah]){ak=aj;
aj=ah;
ah={};
}if(L.isFunction(aj)){ak=aj;
aj=null;
}if(ah){L.extend(ai,ah);
}aj=aj||ah.duration;
ai.duration=L.fx.off?0:typeof aj==="number"?aj:aj in L.fx.speeds?L.fx.speeds[aj]:L.fx.speeds._default;
ai.complete=ak||ah.complete;
return ai;
}function ae(ah){if(!ah||typeof ah==="number"||L.fx.speeds[ah]){return true;
}if(typeof ah==="string"&&!L.jqplot.effects.effect[ah]){if(X&&L.jqplot.effects[ah]){return false;
}return true;
}return false;
}L.fn.extend({jqplotEffect:function(ap,aq,ai,ao){var an=j.apply(this,arguments),ak=an.mode,al=an.queue,am=L.jqplot.effects.effect[an.effect],ah=!am&&X&&L.jqplot.effects[an.effect];
if(L.fx.off||!(am||ah)){if(ak){return this[ak](an.duration,an.complete);
}else{return this.each(function(){if(an.complete){an.complete.call(this);
}});
}}function aj(au){var av=L(this),at=an.complete,aw=an.mode;
function ar(){if(L.isFunction(at)){at.call(av[0]);
}if(L.isFunction(au)){au();
}}if(av.is(":hidden")?aw==="hide":aw==="show"){ar();
}else{am.call(av[0],an,ar);
}}if(am){return al===false?this.each(aj):this.queue(al||"fx",aj);
}else{return ah.call(this,{options:an,duration:an.duration,callback:an.complete,mode:an.mode});
}}});
var a=/up|down|vertical/,v=/up|left|vertical|horizontal/;
L.jqplot.effects.effect.blind=function(aj,ao){var ak=L(this),ar=["position","top","bottom","left","right","height","width"],ap=L.jqplot.effects.setMode(ak,aj.mode||"hide"),au=aj.direction||"up",am=a.test(au),al=am?"height":"width",aq=am?"top":"left",aw=v.test(au),an={},av=ap==="show",ai,ah,at;
if(ak.parent().is(".ui-effects-wrapper")){L.jqplot.effects.save(ak.parent(),ar);
}else{L.jqplot.effects.save(ak,ar);
}ak.show();
at=parseInt(ak.css("top"),10);
ai=L.jqplot.effects.createWrapper(ak).css({overflow:"hidden"});
ah=am?ai[al]()+at:ai[al]();
an[al]=av?String(ah):"0";
if(!aw){ak.css(am?"bottom":"right",0).css(am?"top":"left","").css({position:"absolute"});
an[aq]=av?"0":String(ah);
}if(av){ai.css(al,0);
if(!aw){ai.css(aq,ah);
}}ai.animate(an,{duration:aj.duration,easing:aj.easing,queue:false,complete:function(){if(ap==="hide"){ak.hide();
}L.jqplot.effects.restore(ak,ar);
L.jqplot.effects.removeWrapper(ak);
ao();
}});
};
})(jQuery);
(function(a){a.jqplot.CanvasAxisTickRenderer=function(b){this.mark="outside";
this.showMark=true;
this.showGridline=true;
this.isMinorTick=false;
this.angle=0;
this.markSize=4;
this.show=true;
this.showLabel=true;
this.labelPosition="auto";
this.label="";
this.value=null;
this._styles={};
this.formatter=a.jqplot.DefaultTickFormatter;
this.formatString="";
this.prefix="";
this.fontFamily='"Trebuchet MS", Arial, Helvetica, sans-serif';
this.fontSize="10pt";
this.fontWeight="normal";
this.fontStretch=1;
this.textColor="#666666";
this.enableFontSupport=true;
this.pt2px=null;
this._elem;
this._ctx;
this._plotWidth;
this._plotHeight;
this._plotDimensions={height:null,width:null};
a.extend(true,this,b);
var c={fontSize:this.fontSize,fontWeight:this.fontWeight,fontStretch:this.fontStretch,fillStyle:this.textColor,angle:this.getAngleRad(),fontFamily:this.fontFamily};
if(this.pt2px){c.pt2px=this.pt2px;
}if(this.enableFontSupport){if(a.jqplot.support_canvas_text()){this._textRenderer=new a.jqplot.CanvasFontRenderer(c);
}else{this._textRenderer=new a.jqplot.CanvasTextRenderer(c);
}}else{this._textRenderer=new a.jqplot.CanvasTextRenderer(c);
}};
a.jqplot.CanvasAxisTickRenderer.prototype.init=function(b){a.extend(true,this,b);
this._textRenderer.init({fontSize:this.fontSize,fontWeight:this.fontWeight,fontStretch:this.fontStretch,fillStyle:this.textColor,angle:this.getAngleRad(),fontFamily:this.fontFamily});
};
a.jqplot.CanvasAxisTickRenderer.prototype.getWidth=function(d){if(this._elem){return this._elem.outerWidth(true);
}else{var f=this._textRenderer;
var c=f.getWidth(d);
var e=f.getHeight(d);
var b=Math.abs(Math.sin(f.angle)*e)+Math.abs(Math.cos(f.angle)*c);
return b;
}};
a.jqplot.CanvasAxisTickRenderer.prototype.getHeight=function(d){if(this._elem){return this._elem.outerHeight(true);
}else{var f=this._textRenderer;
var c=f.getWidth(d);
var e=f.getHeight(d);
var b=Math.abs(Math.cos(f.angle)*e)+Math.abs(Math.sin(f.angle)*c);
return b;
}};
a.jqplot.CanvasAxisTickRenderer.prototype.getTop=function(b){if(this._elem){return this._elem.position().top;
}else{return null;
}};
a.jqplot.CanvasAxisTickRenderer.prototype.getAngleRad=function(){var b=this.angle*Math.PI/180;
return b;
};
a.jqplot.CanvasAxisTickRenderer.prototype.setTick=function(b,d,c){this.value=b;
if(c){this.isMinorTick=true;
}return this;
};
a.jqplot.CanvasAxisTickRenderer.prototype.draw=function(c,f){if(!this.label){this.label=this.prefix+this.formatter(this.formatString,this.value);
}if(this._elem){if(a.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==undefined){window.G_vmlCanvasManager.uninitElement(this._elem.get(0));
}this._elem.emptyForce();
this._elem=null;
}var e=f.canvasManager.getCanvas();
this._textRenderer.setText(this.label,c);
var b=this.getWidth(c);
var d=this.getHeight(c);
e.width=b;
e.height=d;
e.style.width=b;
e.style.height=d;
e.style.textAlign="left";
e.style.position="absolute";
e=f.canvasManager.initCanvas(e);
this._elem=a(e);
this._elem.css(this._styles);
this._elem.addClass("jqplot-"+this.axis+"-tick");
e=null;
return this._elem;
};
a.jqplot.CanvasAxisTickRenderer.prototype.pack=function(){this._textRenderer.draw(this._elem.get(0).getContext("2d"),this.label);
};
})(jQuery);
(function(a){a.jqplot.CanvasTextRenderer=function(b){this.fontStyle="normal";
this.fontVariant="normal";
this.fontWeight="normal";
this.fontSize="10px";
this.fontFamily="sans-serif";
this.fontStretch=1;
this.fillStyle="#666666";
this.angle=0;
this.textAlign="start";
this.textBaseline="alphabetic";
this.text;
this.width;
this.height;
this.pt2px=1.28;
a.extend(true,this,b);
this.normalizedFontSize=this.normalizeFontSize(this.fontSize);
this.setHeight();
};
a.jqplot.CanvasTextRenderer.prototype.init=function(b){a.extend(true,this,b);
this.normalizedFontSize=this.normalizeFontSize(this.fontSize);
this.setHeight();
};
a.jqplot.CanvasTextRenderer.prototype.normalizeFontSize=function(b){b=String(b);
var c=parseFloat(b);
if(b.indexOf("px")>-1){return c/this.pt2px;
}else{if(b.indexOf("pt")>-1){return c;
}else{if(b.indexOf("em")>-1){return c*12;
}else{if(b.indexOf("%")>-1){return c*12/100;
}else{return c/this.pt2px;
}}}}};
a.jqplot.CanvasTextRenderer.prototype.fontWeight2Float=function(b){if(Number(b)){return b/400;
}else{switch(b){case"normal":return 1;
break;
case"bold":return 1.75;
break;
case"bolder":return 2.25;
break;
case"lighter":return 0.75;
break;
default:return 1;
break;
}}};
a.jqplot.CanvasTextRenderer.prototype.getText=function(){return this.text;
};
a.jqplot.CanvasTextRenderer.prototype.setText=function(c,b){this.text=c;
this.setWidth(b);
return this;
};
a.jqplot.CanvasTextRenderer.prototype.getWidth=function(b){return this.width;
};
a.jqplot.CanvasTextRenderer.prototype.setWidth=function(c,b){if(!b){this.width=this.measure(c,this.text);
}else{this.width=b;
}return this;
};
a.jqplot.CanvasTextRenderer.prototype.getHeight=function(b){return this.height;
};
a.jqplot.CanvasTextRenderer.prototype.setHeight=function(b){if(!b){this.height=this.normalizedFontSize*this.pt2px;
}else{this.height=b;
}return this;
};
a.jqplot.CanvasTextRenderer.prototype.letter=function(b){return this.letters[b];
};
a.jqplot.CanvasTextRenderer.prototype.ascent=function(){return this.normalizedFontSize;
};
a.jqplot.CanvasTextRenderer.prototype.descent=function(){return 7*this.normalizedFontSize/25;
};
a.jqplot.CanvasTextRenderer.prototype.measure=function(d,g){var f=0;
var b=g.length;
for(var e=0;
e<b;
e++){var h=this.letter(g.charAt(e));
if(h){f+=h.width*this.normalizedFontSize/25*this.fontStretch;
}}return f;
};
a.jqplot.CanvasTextRenderer.prototype.draw=function(s,n){var r=0;
var o=this.height*0.72;
var p=0;
var l=n.length;
var k=this.normalizedFontSize/25;
s.save();
var h,f;
if((-Math.PI/2<=this.angle&&this.angle<=0)||(Math.PI*3/2<=this.angle&&this.angle<=Math.PI*2)){h=0;
f=-Math.sin(this.angle)*this.width;
}else{if((0<this.angle&&this.angle<=Math.PI/2)||(-Math.PI*2<=this.angle&&this.angle<=-Math.PI*3/2)){h=Math.sin(this.angle)*this.height;
f=0;
}else{if((-Math.PI<this.angle&&this.angle<-Math.PI/2)||(Math.PI<=this.angle&&this.angle<=Math.PI*3/2)){h=-Math.cos(this.angle)*this.width;
f=-Math.sin(this.angle)*this.width-Math.cos(this.angle)*this.height;
}else{if((-Math.PI*3/2<this.angle&&this.angle<Math.PI)||(Math.PI/2<this.angle&&this.angle<Math.PI)){h=Math.sin(this.angle)*this.height-Math.cos(this.angle)*this.width;
f=-Math.cos(this.angle)*this.height;
}}}}s.strokeStyle=this.fillStyle;
s.fillStyle=this.fillStyle;
s.translate(h,f);
s.rotate(this.angle);
s.lineCap="round";
var t=(this.normalizedFontSize>30)?2:2+(30-this.normalizedFontSize)/20;
s.lineWidth=t*k*this.fontWeight2Float(this.fontWeight);
for(var g=0;
g<l;
g++){var m=this.letter(n.charAt(g));
if(!m){continue;
}s.beginPath();
var e=1;
var b=0;
for(var d=0;
d<m.points.length;
d++){var q=m.points[d];
if(q[0]==-1&&q[1]==-1){e=1;
continue;
}if(e){s.moveTo(r+q[0]*k*this.fontStretch,o-q[1]*k);
e=false;
}else{s.lineTo(r+q[0]*k*this.fontStretch,o-q[1]*k);
}}s.stroke();
r+=m.width*k*this.fontStretch;
}s.restore();
return p;
};
a.jqplot.CanvasTextRenderer.prototype.letters={" ":{width:16,points:[]},"!":{width:10,points:[[5,21],[5,7],[-1,-1],[5,2],[4,1],[5,0],[6,1],[5,2]]},'"':{width:16,points:[[4,21],[4,14],[-1,-1],[12,21],[12,14]]},"#":{width:21,points:[[11,25],[4,-7],[-1,-1],[17,25],[10,-7],[-1,-1],[4,12],[18,12],[-1,-1],[3,6],[17,6]]},"$":{width:20,points:[[8,25],[8,-4],[-1,-1],[12,25],[12,-4],[-1,-1],[17,18],[15,20],[12,21],[8,21],[5,20],[3,18],[3,16],[4,14],[5,13],[7,12],[13,10],[15,9],[16,8],[17,6],[17,3],[15,1],[12,0],[8,0],[5,1],[3,3]]},"%":{width:24,points:[[21,21],[3,0],[-1,-1],[8,21],[10,19],[10,17],[9,15],[7,14],[5,14],[3,16],[3,18],[4,20],[6,21],[8,21],[10,20],[13,19],[16,19],[19,20],[21,21],[-1,-1],[17,7],[15,6],[14,4],[14,2],[16,0],[18,0],[20,1],[21,3],[21,5],[19,7],[17,7]]},"&":{width:26,points:[[23,12],[23,13],[22,14],[21,14],[20,13],[19,11],[17,6],[15,3],[13,1],[11,0],[7,0],[5,1],[4,2],[3,4],[3,6],[4,8],[5,9],[12,13],[13,14],[14,16],[14,18],[13,20],[11,21],[9,20],[8,18],[8,16],[9,13],[11,10],[16,3],[18,1],[20,0],[22,0],[23,1],[23,2]]},"'":{width:10,points:[[5,19],[4,20],[5,21],[6,20],[6,18],[5,16],[4,15]]},"(":{width:14,points:[[11,25],[9,23],[7,20],[5,16],[4,11],[4,7],[5,2],[7,-2],[9,-5],[11,-7]]},")":{width:14,points:[[3,25],[5,23],[7,20],[9,16],[10,11],[10,7],[9,2],[7,-2],[5,-5],[3,-7]]},"*":{width:16,points:[[8,21],[8,9],[-1,-1],[3,18],[13,12],[-1,-1],[13,18],[3,12]]},"+":{width:26,points:[[13,18],[13,0],[-1,-1],[4,9],[22,9]]},",":{width:10,points:[[6,1],[5,0],[4,1],[5,2],[6,1],[6,-1],[5,-3],[4,-4]]},"-":{width:18,points:[[6,9],[12,9]]},".":{width:10,points:[[5,2],[4,1],[5,0],[6,1],[5,2]]},"/":{width:22,points:[[20,25],[2,-7]]},"0":{width:20,points:[[9,21],[6,20],[4,17],[3,12],[3,9],[4,4],[6,1],[9,0],[11,0],[14,1],[16,4],[17,9],[17,12],[16,17],[14,20],[11,21],[9,21]]},"1":{width:20,points:[[6,17],[8,18],[11,21],[11,0]]},"2":{width:20,points:[[4,16],[4,17],[5,19],[6,20],[8,21],[12,21],[14,20],[15,19],[16,17],[16,15],[15,13],[13,10],[3,0],[17,0]]},"3":{width:20,points:[[5,21],[16,21],[10,13],[13,13],[15,12],[16,11],[17,8],[17,6],[16,3],[14,1],[11,0],[8,0],[5,1],[4,2],[3,4]]},"4":{width:20,points:[[13,21],[3,7],[18,7],[-1,-1],[13,21],[13,0]]},"5":{width:20,points:[[15,21],[5,21],[4,12],[5,13],[8,14],[11,14],[14,13],[16,11],[17,8],[17,6],[16,3],[14,1],[11,0],[8,0],[5,1],[4,2],[3,4]]},"6":{width:20,points:[[16,18],[15,20],[12,21],[10,21],[7,20],[5,17],[4,12],[4,7],[5,3],[7,1],[10,0],[11,0],[14,1],[16,3],[17,6],[17,7],[16,10],[14,12],[11,13],[10,13],[7,12],[5,10],[4,7]]},"7":{width:20,points:[[17,21],[7,0],[-1,-1],[3,21],[17,21]]},"8":{width:20,points:[[8,21],[5,20],[4,18],[4,16],[5,14],[7,13],[11,12],[14,11],[16,9],[17,7],[17,4],[16,2],[15,1],[12,0],[8,0],[5,1],[4,2],[3,4],[3,7],[4,9],[6,11],[9,12],[13,13],[15,14],[16,16],[16,18],[15,20],[12,21],[8,21]]},"9":{width:20,points:[[16,14],[15,11],[13,9],[10,8],[9,8],[6,9],[4,11],[3,14],[3,15],[4,18],[6,20],[9,21],[10,21],[13,20],[15,18],[16,14],[16,9],[15,4],[13,1],[10,0],[8,0],[5,1],[4,3]]},":":{width:10,points:[[5,14],[4,13],[5,12],[6,13],[5,14],[-1,-1],[5,2],[4,1],[5,0],[6,1],[5,2]]},";":{width:10,points:[[5,14],[4,13],[5,12],[6,13],[5,14],[-1,-1],[6,1],[5,0],[4,1],[5,2],[6,1],[6,-1],[5,-3],[4,-4]]},"<":{width:24,points:[[20,18],[4,9],[20,0]]},"=":{width:26,points:[[4,12],[22,12],[-1,-1],[4,6],[22,6]]},">":{width:24,points:[[4,18],[20,9],[4,0]]},"?":{width:18,points:[[3,16],[3,17],[4,19],[5,20],[7,21],[11,21],[13,20],[14,19],[15,17],[15,15],[14,13],[13,12],[9,10],[9,7],[-1,-1],[9,2],[8,1],[9,0],[10,1],[9,2]]},"@":{width:27,points:[[18,13],[17,15],[15,16],[12,16],[10,15],[9,14],[8,11],[8,8],[9,6],[11,5],[14,5],[16,6],[17,8],[-1,-1],[12,16],[10,14],[9,11],[9,8],[10,6],[11,5],[-1,-1],[18,16],[17,8],[17,6],[19,5],[21,5],[23,7],[24,10],[24,12],[23,15],[22,17],[20,19],[18,20],[15,21],[12,21],[9,20],[7,19],[5,17],[4,15],[3,12],[3,9],[4,6],[5,4],[7,2],[9,1],[12,0],[15,0],[18,1],[20,2],[21,3],[-1,-1],[19,16],[18,8],[18,6],[19,5]]},A:{width:18,points:[[9,21],[1,0],[-1,-1],[9,21],[17,0],[-1,-1],[4,7],[14,7]]},B:{width:21,points:[[4,21],[4,0],[-1,-1],[4,21],[13,21],[16,20],[17,19],[18,17],[18,15],[17,13],[16,12],[13,11],[-1,-1],[4,11],[13,11],[16,10],[17,9],[18,7],[18,4],[17,2],[16,1],[13,0],[4,0]]},C:{width:21,points:[[18,16],[17,18],[15,20],[13,21],[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,5],[5,3],[7,1],[9,0],[13,0],[15,1],[17,3],[18,5]]},D:{width:21,points:[[4,21],[4,0],[-1,-1],[4,21],[11,21],[14,20],[16,18],[17,16],[18,13],[18,8],[17,5],[16,3],[14,1],[11,0],[4,0]]},E:{width:19,points:[[4,21],[4,0],[-1,-1],[4,21],[17,21],[-1,-1],[4,11],[12,11],[-1,-1],[4,0],[17,0]]},F:{width:18,points:[[4,21],[4,0],[-1,-1],[4,21],[17,21],[-1,-1],[4,11],[12,11]]},G:{width:21,points:[[18,16],[17,18],[15,20],[13,21],[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,5],[5,3],[7,1],[9,0],[13,0],[15,1],[17,3],[18,5],[18,8],[-1,-1],[13,8],[18,8]]},H:{width:22,points:[[4,21],[4,0],[-1,-1],[18,21],[18,0],[-1,-1],[4,11],[18,11]]},I:{width:8,points:[[4,21],[4,0]]},J:{width:16,points:[[12,21],[12,5],[11,2],[10,1],[8,0],[6,0],[4,1],[3,2],[2,5],[2,7]]},K:{width:21,points:[[4,21],[4,0],[-1,-1],[18,21],[4,7],[-1,-1],[9,12],[18,0]]},L:{width:17,points:[[4,21],[4,0],[-1,-1],[4,0],[16,0]]},M:{width:24,points:[[4,21],[4,0],[-1,-1],[4,21],[12,0],[-1,-1],[20,21],[12,0],[-1,-1],[20,21],[20,0]]},N:{width:22,points:[[4,21],[4,0],[-1,-1],[4,21],[18,0],[-1,-1],[18,21],[18,0]]},O:{width:22,points:[[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,5],[5,3],[7,1],[9,0],[13,0],[15,1],[17,3],[18,5],[19,8],[19,13],[18,16],[17,18],[15,20],[13,21],[9,21]]},P:{width:21,points:[[4,21],[4,0],[-1,-1],[4,21],[13,21],[16,20],[17,19],[18,17],[18,14],[17,12],[16,11],[13,10],[4,10]]},Q:{width:22,points:[[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,5],[5,3],[7,1],[9,0],[13,0],[15,1],[17,3],[18,5],[19,8],[19,13],[18,16],[17,18],[15,20],[13,21],[9,21],[-1,-1],[12,4],[18,-2]]},R:{width:21,points:[[4,21],[4,0],[-1,-1],[4,21],[13,21],[16,20],[17,19],[18,17],[18,15],[17,13],[16,12],[13,11],[4,11],[-1,-1],[11,11],[18,0]]},S:{width:20,points:[[17,18],[15,20],[12,21],[8,21],[5,20],[3,18],[3,16],[4,14],[5,13],[7,12],[13,10],[15,9],[16,8],[17,6],[17,3],[15,1],[12,0],[8,0],[5,1],[3,3]]},T:{width:16,points:[[8,21],[8,0],[-1,-1],[1,21],[15,21]]},U:{width:22,points:[[4,21],[4,6],[5,3],[7,1],[10,0],[12,0],[15,1],[17,3],[18,6],[18,21]]},V:{width:18,points:[[1,21],[9,0],[-1,-1],[17,21],[9,0]]},W:{width:24,points:[[2,21],[7,0],[-1,-1],[12,21],[7,0],[-1,-1],[12,21],[17,0],[-1,-1],[22,21],[17,0]]},X:{width:20,points:[[3,21],[17,0],[-1,-1],[17,21],[3,0]]},Y:{width:18,points:[[1,21],[9,11],[9,0],[-1,-1],[17,21],[9,11]]},Z:{width:20,points:[[17,21],[3,0],[-1,-1],[3,21],[17,21],[-1,-1],[3,0],[17,0]]},"[":{width:14,points:[[4,25],[4,-7],[-1,-1],[5,25],[5,-7],[-1,-1],[4,25],[11,25],[-1,-1],[4,-7],[11,-7]]},"\\":{width:14,points:[[0,21],[14,-3]]},"]":{width:14,points:[[9,25],[9,-7],[-1,-1],[10,25],[10,-7],[-1,-1],[3,25],[10,25],[-1,-1],[3,-7],[10,-7]]},"^":{width:16,points:[[6,15],[8,18],[10,15],[-1,-1],[3,12],[8,17],[13,12],[-1,-1],[8,17],[8,0]]},_:{width:16,points:[[0,-2],[16,-2]]},"`":{width:10,points:[[6,21],[5,20],[4,18],[4,16],[5,15],[6,16],[5,17]]},a:{width:19,points:[[15,14],[15,0],[-1,-1],[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},b:{width:19,points:[[4,21],[4,0],[-1,-1],[4,11],[6,13],[8,14],[11,14],[13,13],[15,11],[16,8],[16,6],[15,3],[13,1],[11,0],[8,0],[6,1],[4,3]]},c:{width:18,points:[[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},d:{width:19,points:[[15,21],[15,0],[-1,-1],[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},e:{width:18,points:[[3,8],[15,8],[15,10],[14,12],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},f:{width:12,points:[[10,21],[8,21],[6,20],[5,17],[5,0],[-1,-1],[2,14],[9,14]]},g:{width:19,points:[[15,14],[15,-2],[14,-5],[13,-6],[11,-7],[8,-7],[6,-6],[-1,-1],[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},h:{width:19,points:[[4,21],[4,0],[-1,-1],[4,10],[7,13],[9,14],[12,14],[14,13],[15,10],[15,0]]},i:{width:8,points:[[3,21],[4,20],[5,21],[4,22],[3,21],[-1,-1],[4,14],[4,0]]},j:{width:10,points:[[5,21],[6,20],[7,21],[6,22],[5,21],[-1,-1],[6,14],[6,-3],[5,-6],[3,-7],[1,-7]]},k:{width:17,points:[[4,21],[4,0],[-1,-1],[14,14],[4,4],[-1,-1],[8,8],[15,0]]},l:{width:8,points:[[4,21],[4,0]]},m:{width:30,points:[[4,14],[4,0],[-1,-1],[4,10],[7,13],[9,14],[12,14],[14,13],[15,10],[15,0],[-1,-1],[15,10],[18,13],[20,14],[23,14],[25,13],[26,10],[26,0]]},n:{width:19,points:[[4,14],[4,0],[-1,-1],[4,10],[7,13],[9,14],[12,14],[14,13],[15,10],[15,0]]},o:{width:19,points:[[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3],[16,6],[16,8],[15,11],[13,13],[11,14],[8,14]]},p:{width:19,points:[[4,14],[4,-7],[-1,-1],[4,11],[6,13],[8,14],[11,14],[13,13],[15,11],[16,8],[16,6],[15,3],[13,1],[11,0],[8,0],[6,1],[4,3]]},q:{width:19,points:[[15,14],[15,-7],[-1,-1],[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},r:{width:13,points:[[4,14],[4,0],[-1,-1],[4,8],[5,11],[7,13],[9,14],[12,14]]},s:{width:17,points:[[14,11],[13,13],[10,14],[7,14],[4,13],[3,11],[4,9],[6,8],[11,7],[13,6],[14,4],[14,3],[13,1],[10,0],[7,0],[4,1],[3,3]]},t:{width:12,points:[[5,21],[5,4],[6,1],[8,0],[10,0],[-1,-1],[2,14],[9,14]]},u:{width:19,points:[[4,14],[4,4],[5,1],[7,0],[10,0],[12,1],[15,4],[-1,-1],[15,14],[15,0]]},v:{width:16,points:[[2,14],[8,0],[-1,-1],[14,14],[8,0]]},w:{width:22,points:[[3,14],[7,0],[-1,-1],[11,14],[7,0],[-1,-1],[11,14],[15,0],[-1,-1],[19,14],[15,0]]},x:{width:17,points:[[3,14],[14,0],[-1,-1],[14,14],[3,0]]},y:{width:16,points:[[2,14],[8,0],[-1,-1],[14,14],[8,0],[6,-4],[4,-6],[2,-7],[1,-7]]},z:{width:17,points:[[14,14],[3,0],[-1,-1],[3,14],[14,14],[-1,-1],[3,0],[14,0]]},"{":{width:14,points:[[9,25],[7,24],[6,23],[5,21],[5,19],[6,17],[7,16],[8,14],[8,12],[6,10],[-1,-1],[7,24],[6,22],[6,20],[7,18],[8,17],[9,15],[9,13],[8,11],[4,9],[8,7],[9,5],[9,3],[8,1],[7,0],[6,-2],[6,-4],[7,-6],[-1,-1],[6,8],[8,6],[8,4],[7,2],[6,1],[5,-1],[5,-3],[6,-5],[7,-6],[9,-7]]},"|":{width:8,points:[[4,25],[4,-7]]},"}":{width:14,points:[[5,25],[7,24],[8,23],[9,21],[9,19],[8,17],[7,16],[6,14],[6,12],[8,10],[-1,-1],[7,24],[8,22],[8,20],[7,18],[6,17],[5,15],[5,13],[6,11],[10,9],[6,7],[5,5],[5,3],[6,1],[7,0],[8,-2],[8,-4],[7,-6],[-1,-1],[8,8],[6,6],[6,4],[7,2],[8,1],[9,-1],[9,-3],[8,-5],[7,-6],[5,-7]]},"~":{width:24,points:[[3,6],[3,8],[4,11],[6,12],[8,12],[10,11],[14,8],[16,7],[18,7],[20,8],[21,10],[-1,-1],[3,8],[4,10],[6,11],[8,11],[10,10],[14,7],[16,6],[18,6],[20,7],[21,10],[21,12]]}};
a.jqplot.CanvasFontRenderer=function(b){b=b||{};
if(!b.pt2px){b.pt2px=1.5;
}a.jqplot.CanvasTextRenderer.call(this,b);
};
a.jqplot.CanvasFontRenderer.prototype=new a.jqplot.CanvasTextRenderer({});
a.jqplot.CanvasFontRenderer.prototype.constructor=a.jqplot.CanvasFontRenderer;
a.jqplot.CanvasFontRenderer.prototype.measure=function(c,e){var d=this.fontSize+" "+this.fontFamily;
c.save();
c.font=d;
var b=c.measureText(e).width;
c.restore();
return b;
};
a.jqplot.CanvasFontRenderer.prototype.draw=function(e,g){var c=0;
var h=this.height*0.72;
e.save();
var d,b;
if((-Math.PI/2<=this.angle&&this.angle<=0)||(Math.PI*3/2<=this.angle&&this.angle<=Math.PI*2)){d=0;
b=-Math.sin(this.angle)*this.width;
}else{if((0<this.angle&&this.angle<=Math.PI/2)||(-Math.PI*2<=this.angle&&this.angle<=-Math.PI*3/2)){d=Math.sin(this.angle)*this.height;
b=0;
}else{if((-Math.PI<this.angle&&this.angle<-Math.PI/2)||(Math.PI<=this.angle&&this.angle<=Math.PI*3/2)){d=-Math.cos(this.angle)*this.width;
b=-Math.sin(this.angle)*this.width-Math.cos(this.angle)*this.height;
}else{if((-Math.PI*3/2<this.angle&&this.angle<Math.PI)||(Math.PI/2<this.angle&&this.angle<Math.PI)){d=Math.sin(this.angle)*this.height-Math.cos(this.angle)*this.width;
b=-Math.cos(this.angle)*this.height;
}}}}e.strokeStyle=this.fillStyle;
e.fillStyle=this.fillStyle;
var f=this.fontSize+" "+this.fontFamily;
e.font=f;
e.translate(d,b);
e.rotate(this.angle);
e.fillText(g,c,h);
e.restore();
};
})(jQuery);
(function(j){j.jqplot.Cursor=function(q){this.style="crosshair";
this.previousCursor="auto";
this.show=j.jqplot.config.enablePlugins;
this.showTooltip=true;
this.followMouse=false;
this.tooltipLocation="se";
this.tooltipOffset=6;
this.showTooltipGridPosition=false;
this.showTooltipUnitPosition=true;
this.showTooltipDataPosition=false;
this.tooltipFormatString="%.4P, %.4P";
this.useAxesFormatters=true;
this.tooltipAxisGroups=[];
this.zoom=false;
this.zoomProxy=false;
this.zoomTarget=false;
this.looseZoom=true;
this.clickReset=false;
this.dblClickReset=true;
this.showVerticalLine=false;
this.showHorizontalLine=false;
this.constrainZoomTo="none";
this.shapeRenderer=new j.jqplot.ShapeRenderer();
this._zoom={start:[],end:[],started:false,zooming:false,isZoomed:false,axes:{start:{},end:{}},gridpos:{},datapos:{}};
this._tooltipElem;
this.zoomCanvas;
this.cursorCanvas;
this.intersectionThreshold=2;
this.showCursorLegend=false;
this.cursorLegendFormatString=j.jqplot.Cursor.cursorLegendFormatString;
this._oldHandlers={onselectstart:null,ondrag:null,onmousedown:null};
this.constrainOutsideZoom=true;
this.showTooltipOutsideZoom=false;
this.onGrid=false;
j.extend(true,this,q);
};
j.jqplot.Cursor.cursorLegendFormatString="%s x:%s, y:%s";
j.jqplot.Cursor.init=function(t,s,r){var q=r||{};
this.plugins.cursor=new j.jqplot.Cursor(q.cursor);
var u=this.plugins.cursor;
if(u.show){j.jqplot.eventListenerHooks.push(["jqplotMouseEnter",b]);
j.jqplot.eventListenerHooks.push(["jqplotMouseLeave",f]);
j.jqplot.eventListenerHooks.push(["jqplotMouseMove",i]);
if(u.showCursorLegend){r.legend=r.legend||{};
r.legend.renderer=j.jqplot.CursorLegendRenderer;
r.legend.formatString=this.plugins.cursor.cursorLegendFormatString;
r.legend.show=true;
}if(u.zoom){j.jqplot.eventListenerHooks.push(["jqplotMouseDown",a]);
if(u.clickReset){j.jqplot.eventListenerHooks.push(["jqplotClick",k]);
}if(u.dblClickReset){j.jqplot.eventListenerHooks.push(["jqplotDblClick",c]);
}}this.resetZoom=function(){var x=this.axes;
if(!u.zoomProxy){for(var w in x){x[w].reset();
x[w]._ticks=[];
if(u._zoom.axes[w]!==undefined){x[w]._autoFormatString=u._zoom.axes[w].tickFormatString;
}}this.redraw();
}else{var v=this.plugins.cursor.zoomCanvas._ctx;
v.clearRect(0,0,v.canvas.width,v.canvas.height);
v=null;
}this.plugins.cursor._zoom.isZoomed=false;
this.target.trigger("jqplotResetZoom",[this,this.plugins.cursor]);
};
if(u.showTooltipDataPosition){u.showTooltipUnitPosition=false;
u.showTooltipGridPosition=false;
if(q.cursor.tooltipFormatString==undefined){u.tooltipFormatString=j.jqplot.Cursor.cursorLegendFormatString;
}}}};
j.jqplot.Cursor.postDraw=function(){var x=this.plugins.cursor;
if(x.zoomCanvas){x.zoomCanvas.resetCanvas();
x.zoomCanvas=null;
}if(x.cursorCanvas){x.cursorCanvas.resetCanvas();
x.cursorCanvas=null;
}if(x._tooltipElem){x._tooltipElem.emptyForce();
x._tooltipElem=null;
}if(x.zoom){x.zoomCanvas=new j.jqplot.GenericCanvas();
this.eventCanvas._elem.before(x.zoomCanvas.createElement(this._gridPadding,"jqplot-zoom-canvas",this._plotDimensions,this));
x.zoomCanvas.setContext();
}var v=document.createElement("div");
x._tooltipElem=j(v);
v=null;
x._tooltipElem.addClass("jqplot-cursor-tooltip");
x._tooltipElem.css({position:"absolute",display:"none"});
if(x.zoomCanvas){x.zoomCanvas._elem.before(x._tooltipElem);
}else{this.eventCanvas._elem.before(x._tooltipElem);
}if(x.showVerticalLine||x.showHorizontalLine){x.cursorCanvas=new j.jqplot.GenericCanvas();
this.eventCanvas._elem.before(x.cursorCanvas.createElement(this._gridPadding,"jqplot-cursor-canvas",this._plotDimensions,this));
x.cursorCanvas.setContext();
}if(x.showTooltipUnitPosition){if(x.tooltipAxisGroups.length===0){var t=this.series;
var u;
var q=[];
for(var r=0;
r<t.length;
r++){u=t[r];
var w=u.xaxis+","+u.yaxis;
if(j.inArray(w,q)==-1){q.push(w);
}}for(var r=0;
r<q.length;
r++){x.tooltipAxisGroups.push(q[r].split(","));
}}}};
j.jqplot.Cursor.zoomProxy=function(v,r){var q=v.plugins.cursor;
var u=r.plugins.cursor;
q.zoomTarget=true;
q.zoom=true;
q.style="auto";
q.dblClickReset=false;
u.zoom=true;
u.zoomProxy=true;
r.target.bind("jqplotZoom",t);
r.target.bind("jqplotResetZoom",s);
function t(x,w,z,y,A){q.doZoom(w,z,v,A);
}function s(w,x,y){v.resetZoom();
}};
j.jqplot.Cursor.prototype.resetZoom=function(u,v){var t=u.axes;
var s=v._zoom.axes;
if(!u.plugins.cursor.zoomProxy&&v._zoom.isZoomed){for(var r in t){t[r].reset();
t[r]._ticks=[];
t[r]._autoFormatString=s[r].tickFormatString;
}u.redraw();
v._zoom.isZoomed=false;
}else{var q=v.zoomCanvas._ctx;
q.clearRect(0,0,q.canvas.width,q.canvas.height);
q=null;
}u.target.trigger("jqplotResetZoom",[u,v]);
};
j.jqplot.Cursor.resetZoom=function(q){q.resetZoom();
};
j.jqplot.Cursor.prototype.doZoom=function(G,t,C,u){var I=u;
var F=C.axes;
var r=I._zoom.axes;
var w=r.start;
var s=r.end;
var B,E,z,D,v,x,q,H,J;
var A=C.plugins.cursor.zoomCanvas._ctx;
if((I.constrainZoomTo=="none"&&Math.abs(G.x-I._zoom.start[0])>6&&Math.abs(G.y-I._zoom.start[1])>6)||(I.constrainZoomTo=="x"&&Math.abs(G.x-I._zoom.start[0])>6)||(I.constrainZoomTo=="y"&&Math.abs(G.y-I._zoom.start[1])>6)){if(!C.plugins.cursor.zoomProxy){for(var y in t){if(I._zoom.axes[y]==undefined){I._zoom.axes[y]={};
I._zoom.axes[y].numberTicks=F[y].numberTicks;
I._zoom.axes[y].tickInterval=F[y].tickInterval;
I._zoom.axes[y].daTickInterval=F[y].daTickInterval;
I._zoom.axes[y].min=F[y].min;
I._zoom.axes[y].max=F[y].max;
I._zoom.axes[y].tickFormatString=(F[y].tickOptions!=null)?F[y].tickOptions.formatString:"";
}if((I.constrainZoomTo=="none")||(I.constrainZoomTo=="x"&&y.charAt(0)=="x")||(I.constrainZoomTo=="y"&&y.charAt(0)=="y")){z=t[y];
if(z!=null){if(z>w[y]){v=w[y];
x=z;
}else{D=w[y]-z;
v=z;
x=w[y];
}q=F[y];
H=null;
if(q.alignTicks){if(q.name==="x2axis"&&C.axes.xaxis.show){H=C.axes.xaxis.numberTicks;
}else{if(q.name.charAt(0)==="y"&&q.name!=="yaxis"&&q.name!=="yMidAxis"&&C.axes.yaxis.show){H=C.axes.yaxis.numberTicks;
}}}if(this.looseZoom&&(F[y].renderer.constructor===j.jqplot.LinearAxisRenderer||F[y].renderer.constructor===j.jqplot.LogAxisRenderer)){J=j.jqplot.LinearTickGenerator(v,x,q._scalefact,H);
if(F[y].tickInset&&J[0]<F[y].min+F[y].tickInset*F[y].tickInterval){J[0]+=J[4];
J[2]-=1;
}if(F[y].tickInset&&J[1]>F[y].max-F[y].tickInset*F[y].tickInterval){J[1]-=J[4];
J[2]-=1;
}if(F[y].renderer.constructor===j.jqplot.LogAxisRenderer&&J[0]<F[y].min){J[0]+=J[4];
J[2]-=1;
}F[y].min=J[0];
F[y].max=J[1];
F[y]._autoFormatString=J[3];
F[y].numberTicks=J[2];
F[y].tickInterval=J[4];
F[y].daTickInterval=[J[4]/1000,"seconds"];
}else{F[y].min=v;
F[y].max=x;
F[y].tickInterval=null;
F[y].numberTicks=null;
F[y].daTickInterval=null;
}F[y]._ticks=[];
}}}A.clearRect(0,0,A.canvas.width,A.canvas.height);
C.redraw();
I._zoom.isZoomed=true;
A=null;
}C.target.trigger("jqplotZoom",[G,t,C,u]);
}};
j.jqplot.preInitHooks.push(j.jqplot.Cursor.init);
j.jqplot.postDrawHooks.push(j.jqplot.Cursor.postDraw);
function e(G,r,C){var J=C.plugins.cursor;
var w="";
var N=false;
if(J.showTooltipGridPosition){w=G.x+", "+G.y;
N=true;
}if(J.showTooltipUnitPosition){var F;
for(var E=0;
E<J.tooltipAxisGroups.length;
E++){F=J.tooltipAxisGroups[E];
if(N){w+="<br />";
}if(J.useAxesFormatters){for(var D=0;
D<F.length;
D++){if(D){w+=", ";
}var H=C.axes[F[D]]._ticks[0].formatter;
var B=C.axes[F[D]]._ticks[0].formatString;
w+=H(B,r[F[D]]);
}}else{w+=j.jqplot.sprintf(J.tooltipFormatString,r[F[0]],r[F[1]]);
}N=true;
}}if(J.showTooltipDataPosition){var u=C.series;
var M=d(C,G.x,G.y);
var N=false;
for(var E=0;
E<u.length;
E++){if(u[E].show){var y=u[E].index;
var t=u[E].label.toString();
var I=j.inArray(y,M.indices);
var z=undefined;
var x=undefined;
if(I!=-1){var L=M.data[I].data;
if(J.useAxesFormatters){var A=u[E]._xaxis._ticks[0].formatter;
var q=u[E]._yaxis._ticks[0].formatter;
var K=u[E]._xaxis._ticks[0].formatString;
var v=u[E]._yaxis._ticks[0].formatString;
z=A(K,L[0]);
x=q(v,L[1]);
}else{z=L[0];
x=L[1];
}if(N){w+="<br />";
}w+=j.jqplot.sprintf(J.tooltipFormatString,t,z,x);
N=true;
}}}}J._tooltipElem.html(w);
}function g(C,A){var E=A.plugins.cursor;
var z=E.cursorCanvas._ctx;
z.clearRect(0,0,z.canvas.width,z.canvas.height);
if(E.showVerticalLine){E.shapeRenderer.draw(z,[[C.x,0],[C.x,z.canvas.height]]);
}if(E.showHorizontalLine){E.shapeRenderer.draw(z,[[0,C.y],[z.canvas.width,C.y]]);
}var G=d(A,C.x,C.y);
if(E.showCursorLegend){var r=j(A.targetId+" td.jqplot-cursor-legend-label");
for(var B=0;
B<r.length;
B++){var v=j(r[B]).data("seriesIndex");
var t=A.series[v];
var s=t.label.toString();
var D=j.inArray(v,G.indices);
var x=undefined;
var w=undefined;
if(D!=-1){var H=G.data[D].data;
if(E.useAxesFormatters){var y=t._xaxis._ticks[0].formatter;
var q=t._yaxis._ticks[0].formatter;
var F=t._xaxis._ticks[0].formatString;
var u=t._yaxis._ticks[0].formatString;
x=y(F,H[0]);
w=q(u,H[1]);
}else{x=H[0];
w=H[1];
}}if(A.legend.escapeHtml){j(r[B]).text(j.jqplot.sprintf(E.cursorLegendFormatString,s,x,w));
}else{j(r[B]).html(j.jqplot.sprintf(E.cursorLegendFormatString,s,x,w));
}}}z=null;
}function d(A,F,E){var B={indices:[],data:[]};
var G,w,u,C,v,q,t;
var z;
var D=A.plugins.cursor;
for(var w=0;
w<A.series.length;
w++){G=A.series[w];
q=G.renderer;
if(G.show){z=D.intersectionThreshold;
if(G.showMarker){z+=G.markerRenderer.size/2;
}for(var v=0;
v<G.gridData.length;
v++){t=G.gridData[v];
if(D.showVerticalLine){if(Math.abs(F-t[0])<=z){B.indices.push(w);
B.data.push({seriesIndex:w,pointIndex:v,gridData:t,data:G.data[v]});
}}}}}return B;
}function n(r,t){var v=t.plugins.cursor;
var s=v._tooltipElem;
switch(v.tooltipLocation){case"nw":var q=r.x+t._gridPadding.left-s.outerWidth(true)-v.tooltipOffset;
var u=r.y+t._gridPadding.top-v.tooltipOffset-s.outerHeight(true);
break;
case"n":var q=r.x+t._gridPadding.left-s.outerWidth(true)/2;
var u=r.y+t._gridPadding.top-v.tooltipOffset-s.outerHeight(true);
break;
case"ne":var q=r.x+t._gridPadding.left+v.tooltipOffset;
var u=r.y+t._gridPadding.top-v.tooltipOffset-s.outerHeight(true);
break;
case"e":var q=r.x+t._gridPadding.left+v.tooltipOffset;
var u=r.y+t._gridPadding.top-s.outerHeight(true)/2;
break;
case"se":var q=r.x+t._gridPadding.left+v.tooltipOffset;
var u=r.y+t._gridPadding.top+v.tooltipOffset;
break;
case"s":var q=r.x+t._gridPadding.left-s.outerWidth(true)/2;
var u=r.y+t._gridPadding.top+v.tooltipOffset;
break;
case"sw":var q=r.x+t._gridPadding.left-s.outerWidth(true)-v.tooltipOffset;
var u=r.y+t._gridPadding.top+v.tooltipOffset;
break;
case"w":var q=r.x+t._gridPadding.left-s.outerWidth(true)-v.tooltipOffset;
var u=r.y+t._gridPadding.top-s.outerHeight(true)/2;
break;
default:var q=r.x+t._gridPadding.left+v.tooltipOffset;
var u=r.y+t._gridPadding.top+v.tooltipOffset;
break;
}s.css("left",q);
s.css("top",u);
s=null;
}function m(u){var s=u._gridPadding;
var v=u.plugins.cursor;
var t=v._tooltipElem;
switch(v.tooltipLocation){case"nw":var r=s.left+v.tooltipOffset;
var q=s.top+v.tooltipOffset;
t.css("left",r);
t.css("top",q);
break;
case"n":var r=(s.left+(u._plotDimensions.width-s.right))/2-t.outerWidth(true)/2;
var q=s.top+v.tooltipOffset;
t.css("left",r);
t.css("top",q);
break;
case"ne":var r=s.right+v.tooltipOffset;
var q=s.top+v.tooltipOffset;
t.css({right:r,top:q});
break;
case"e":var r=s.right+v.tooltipOffset;
var q=(s.top+(u._plotDimensions.height-s.bottom))/2-t.outerHeight(true)/2;
t.css({right:r,top:q});
break;
case"se":var r=s.right+v.tooltipOffset;
var q=s.bottom+v.tooltipOffset;
t.css({right:r,bottom:q});
break;
case"s":var r=(s.left+(u._plotDimensions.width-s.right))/2-t.outerWidth(true)/2;
var q=s.bottom+v.tooltipOffset;
t.css({left:r,bottom:q});
break;
case"sw":var r=s.left+v.tooltipOffset;
var q=s.bottom+v.tooltipOffset;
t.css({left:r,bottom:q});
break;
case"w":var r=s.left+v.tooltipOffset;
var q=(s.top+(u._plotDimensions.height-s.bottom))/2-t.outerHeight(true)/2;
t.css({left:r,top:q});
break;
default:var r=s.right-v.tooltipOffset;
var q=s.bottom+v.tooltipOffset;
t.css({right:r,bottom:q});
break;
}t=null;
}function k(r,q,v,u,t){r.preventDefault();
r.stopImmediatePropagation();
var w=t.plugins.cursor;
if(w.clickReset){w.resetZoom(t,w);
}var s=window.getSelection;
if(document.selection&&document.selection.empty){document.selection.empty();
}else{if(s&&!s().isCollapsed){s().collapse();
}}return false;
}function c(r,q,v,u,t){r.preventDefault();
r.stopImmediatePropagation();
var w=t.plugins.cursor;
if(w.dblClickReset){w.resetZoom(t,w);
}var s=window.getSelection;
if(document.selection&&document.selection.empty){document.selection.empty();
}else{if(s&&!s().isCollapsed){s().collapse();
}}return false;
}function f(w,t,q,z,u){var v=u.plugins.cursor;
v.onGrid=false;
if(v.show){j(w.target).css("cursor",v.previousCursor);
if(v.showTooltip&&!(v._zoom.zooming&&v.showTooltipOutsideZoom&&!v.constrainOutsideZoom)){v._tooltipElem.empty();
v._tooltipElem.hide();
}if(v.zoom){v._zoom.gridpos=t;
v._zoom.datapos=q;
}if(v.showVerticalLine||v.showHorizontalLine){var B=v.cursorCanvas._ctx;
B.clearRect(0,0,B.canvas.width,B.canvas.height);
B=null;
}if(v.showCursorLegend){var A=j(u.targetId+" td.jqplot-cursor-legend-label");
for(var s=0;
s<A.length;
s++){var y=j(A[s]).data("seriesIndex");
var r=u.series[y];
var x=r.label.toString();
if(u.legend.escapeHtml){j(A[s]).text(j.jqplot.sprintf(v.cursorLegendFormatString,x,undefined,undefined));
}else{j(A[s]).html(j.jqplot.sprintf(v.cursorLegendFormatString,x,undefined,undefined));
}}}}}function b(r,q,u,t,s){var v=s.plugins.cursor;
v.onGrid=true;
if(v.show){v.previousCursor=r.target.style.cursor;
r.target.style.cursor=v.style;
if(v.showTooltip){e(q,u,s);
if(v.followMouse){n(q,s);
}else{m(s);
}v._tooltipElem.show();
}if(v.showVerticalLine||v.showHorizontalLine){g(q,s);
}}}function i(r,q,u,t,s){var v=s.plugins.cursor;
if(v.show){if(v.showTooltip){e(q,u,s);
if(v.followMouse){n(q,s);
}}if(v.showVerticalLine||v.showHorizontalLine){g(q,s);
}}}function o(y){var x=y.data.plot;
var t=x.eventCanvas._elem.offset();
var w={x:y.pageX-t.left,y:y.pageY-t.top};
var u={xaxis:null,yaxis:null,x2axis:null,y2axis:null,y3axis:null,y4axis:null,y5axis:null,y6axis:null,y7axis:null,y8axis:null,y9axis:null,yMidAxis:null};
var v=["xaxis","yaxis","x2axis","y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis","yMidAxis"];
var q=x.axes;
var r,s;
for(r=11;
r>0;
r--){s=v[r-1];
if(q[s].show){u[s]=q[s].series_p2u(w[s.charAt(0)]);
}}return{offsets:t,gridPos:w,dataPos:u};
}function h(z){var x=z.data.plot;
var y=x.plugins.cursor;
if(y.show&&y.zoom&&y._zoom.started&&!y.zoomTarget){z.preventDefault();
var B=y.zoomCanvas._ctx;
var v=o(z);
var w=v.gridPos;
var t=v.dataPos;
y._zoom.gridpos=w;
y._zoom.datapos=t;
y._zoom.zooming=true;
var u=w.x;
var s=w.y;
var A=B.canvas.height;
var q=B.canvas.width;
if(y.showTooltip&&!y.onGrid&&y.showTooltipOutsideZoom){e(w,t,x);
if(y.followMouse){n(w,x);
}}if(y.constrainZoomTo=="x"){y._zoom.end=[u,A];
}else{if(y.constrainZoomTo=="y"){y._zoom.end=[q,s];
}else{y._zoom.end=[u,s];
}}var r=window.getSelection;
if(document.selection&&document.selection.empty){document.selection.empty();
}else{if(r&&!r().isCollapsed){r().collapse();
}}l.call(y);
B=null;
}}function a(w,s,r,x,t){var v=t.plugins.cursor;
if(t.plugins.mobile){j(document).one("vmouseup.jqplot_cursor",{plot:t},p);
}else{j(document).one("mouseup.jqplot_cursor",{plot:t},p);
}var u=t.axes;
if(document.onselectstart!=undefined){v._oldHandlers.onselectstart=document.onselectstart;
document.onselectstart=function(){return false;
};
}if(document.ondrag!=undefined){v._oldHandlers.ondrag=document.ondrag;
document.ondrag=function(){return false;
};
}if(document.onmousedown!=undefined){v._oldHandlers.onmousedown=document.onmousedown;
document.onmousedown=function(){return false;
};
}if(v.zoom){if(!v.zoomProxy){var y=v.zoomCanvas._ctx;
y.clearRect(0,0,y.canvas.width,y.canvas.height);
y=null;
}if(v.constrainZoomTo=="x"){v._zoom.start=[s.x,0];
}else{if(v.constrainZoomTo=="y"){v._zoom.start=[0,s.y];
}else{v._zoom.start=[s.x,s.y];
}}v._zoom.started=true;
for(var q in r){v._zoom.axes.start[q]=r[q];
}if(t.plugins.mobile){j(document).bind("vmousemove.jqplotCursor",{plot:t},h);
}else{j(document).bind("mousemove.jqplotCursor",{plot:t},h);
}}}function p(y){var v=y.data.plot;
var x=v.plugins.cursor;
if(x.zoom&&x._zoom.zooming&&!x.zoomTarget){var u=x._zoom.gridpos.x;
var r=x._zoom.gridpos.y;
var t=x._zoom.datapos;
var z=x.zoomCanvas._ctx.canvas.height;
var q=x.zoomCanvas._ctx.canvas.width;
var w=v.axes;
if(x.constrainOutsideZoom&&!x.onGrid){if(u<0){u=0;
}else{if(u>q){u=q;
}}if(r<0){r=0;
}else{if(r>z){r=z;
}}for(var s in t){if(t[s]){if(s.charAt(0)=="x"){t[s]=w[s].series_p2u(u);
}else{t[s]=w[s].series_p2u(r);
}}}}if(x.constrainZoomTo=="x"){r=z;
}else{if(x.constrainZoomTo=="y"){u=q;
}}x._zoom.end=[u,r];
x._zoom.gridpos={x:u,y:r};
x.doZoom(x._zoom.gridpos,t,v,x);
}x._zoom.started=false;
x._zoom.zooming=false;
j(document).unbind("mousemove.jqplotCursor",h);
if(document.onselectstart!=undefined&&x._oldHandlers.onselectstart!=null){document.onselectstart=x._oldHandlers.onselectstart;
x._oldHandlers.onselectstart=null;
}if(document.ondrag!=undefined&&x._oldHandlers.ondrag!=null){document.ondrag=x._oldHandlers.ondrag;
x._oldHandlers.ondrag=null;
}if(document.onmousedown!=undefined&&x._oldHandlers.onmousedown!=null){document.onmousedown=x._oldHandlers.onmousedown;
x._oldHandlers.onmousedown=null;
}}function l(){var y=this._zoom.start;
var u=this._zoom.end;
var s=this.zoomCanvas._ctx;
var r,v,x,q;
if(u[0]>y[0]){r=y[0];
q=u[0]-y[0];
}else{r=u[0];
q=y[0]-u[0];
}if(u[1]>y[1]){v=y[1];
x=u[1]-y[1];
}else{v=u[1];
x=y[1]-u[1];
}s.fillStyle="rgba(0,0,0,0.2)";
s.strokeStyle="#999999";
s.lineWidth=1;
s.clearRect(0,0,s.canvas.width,s.canvas.height);
s.fillRect(0,0,s.canvas.width,s.canvas.height);
s.clearRect(r,v,q,x);
s.strokeRect(r,v,q,x);
s=null;
}j.jqplot.CursorLegendRenderer=function(q){j.jqplot.TableLegendRenderer.call(this,q);
this.formatString="%s";
};
j.jqplot.CursorLegendRenderer.prototype=new j.jqplot.TableLegendRenderer();
j.jqplot.CursorLegendRenderer.prototype.constructor=j.jqplot.CursorLegendRenderer;
j.jqplot.CursorLegendRenderer.prototype.draw=function(){if(this._elem){this._elem.emptyForce();
this._elem=null;
}if(this.show){var w=this._series,A;
var r=document.createElement("table");
this._elem=j(r);
r=null;
this._elem.addClass("jqplot-legend jqplot-cursor-legend");
this._elem.css("position","absolute");
var q=false;
for(var x=0;
x<w.length;
x++){A=w[x];
if(A.show&&A.showLabel){var v=j.jqplot.sprintf(this.formatString,A.label.toString());
if(v){var t=A.color;
if(A._stack&&!A.fill){t="";
}z.call(this,v,t,q,x);
q=true;
}for(var u=0;
u<j.jqplot.addLegendRowHooks.length;
u++){var y=j.jqplot.addLegendRowHooks[u].call(this,A);
if(y){z.call(this,y.label,y.color,q);
q=true;
}}}}w=A=null;
delete w;
delete A;
}function z(D,C,F,s){var B=(F)?this.rowSpacing:"0";
var E=j('<tr class="jqplot-legend jqplot-cursor-legend"></tr>').appendTo(this._elem);
E.data("seriesIndex",s);
j('<td class="jqplot-legend jqplot-cursor-legend-swatch" style="padding-top:'+B+';"><div style="border:1px solid #cccccc;padding:0.2em;"><div class="jqplot-cursor-legend-swatch" style="background-color:'+C+';"></div></div></td>').appendTo(E);
var G=j('<td class="jqplot-legend jqplot-cursor-legend-label" style="vertical-align:middle;padding-top:'+B+';"></td>');
G.appendTo(E);
G.data("seriesIndex",s);
if(this.escapeHtml){G.text(D);
}else{G.html(D);
}E=null;
G=null;
}return this._elem;
};
})(jQuery);
(function(h){h.jqplot.DateAxisRenderer=function(){h.jqplot.LinearAxisRenderer.call(this);
this.date=new h.jsDate();
};
var c=1000;
var e=60*c;
var f=60*e;
var l=24*f;
var b=7*l;
var j=30.4368499*l;
var k=365.242199*l;
var g=[31,28,31,30,31,30,31,30,31,30,31,30];
var i=["%M:%S.%#N","%M:%S.%#N","%M:%S.%#N","%M:%S","%M:%S","%M:%S","%M:%S","%H:%M:%S","%H:%M:%S","%H:%M","%H:%M","%H:%M","%H:%M","%H:%M","%H:%M","%a %H:%M","%a %H:%M","%b %e %H:%M","%b %e %H:%M","%b %e %H:%M","%b %e %H:%M","%v","%v","%v","%v","%v","%v","%v"];
var m=[0.1*c,0.2*c,0.5*c,c,2*c,5*c,10*c,15*c,30*c,e,2*e,5*e,10*e,15*e,30*e,f,2*f,4*f,6*f,8*f,12*f,l,2*l,3*l,4*l,5*l,b,2*b];
var d=[];
function a(p,s,t){var o=Number.MAX_VALUE;
var u,r,v;
for(var q=0,n=m.length;
q<n;
q++){u=Math.abs(t-m[q]);
if(u<o){o=u;
r=m[q];
v=i[q];
}}return[r,v];
}h.jqplot.DateAxisRenderer.prototype=new h.jqplot.LinearAxisRenderer();
h.jqplot.DateAxisRenderer.prototype.constructor=h.jqplot.DateAxisRenderer;
h.jqplot.DateTickFormatter=function(n,o){if(!n){n="%Y/%m/%d";
}return h.jsDate.strftime(o,n);
};
h.jqplot.DateAxisRenderer.prototype.init=function(E){this.tickOptions.formatter=h.jqplot.DateTickFormatter;
this.tickInset=0;
this.drawBaseline=true;
this.baselineWidth=null;
this.baselineColor=null;
this.daTickInterval=null;
this._daTickInterval=null;
h.extend(true,this,E);
var C=this._dataBounds,u,x,D,y,A,z,o;
for(var t=0;
t<this._series.length;
t++){u={intervals:[],frequencies:{},sortedIntervals:[],min:null,max:null,mean:null};
x=0;
D=this._series[t];
y=D.data;
A=D._plotData;
z=D._stackData;
o=0;
for(var r=0;
r<y.length;
r++){if(this.name=="xaxis"||this.name=="x2axis"){y[r][0]=new h.jsDate(y[r][0]).getTime();
A[r][0]=new h.jsDate(y[r][0]).getTime();
z[r][0]=new h.jsDate(y[r][0]).getTime();
if((y[r][0]!=null&&y[r][0]<C.min)||C.min==null){C.min=y[r][0];
}if((y[r][0]!=null&&y[r][0]>C.max)||C.max==null){C.max=y[r][0];
}if(r>0){o=Math.abs(y[r][0]-y[r-1][0]);
u.intervals.push(o);
if(u.frequencies.hasOwnProperty(o)){u.frequencies[o]+=1;
}else{u.frequencies[o]=1;
}}x+=o;
}else{y[r][1]=new h.jsDate(y[r][1]).getTime();
A[r][1]=new h.jsDate(y[r][1]).getTime();
z[r][1]=new h.jsDate(y[r][1]).getTime();
if((y[r][1]!=null&&y[r][1]<C.min)||C.min==null){C.min=y[r][1];
}if((y[r][1]!=null&&y[r][1]>C.max)||C.max==null){C.max=y[r][1];
}if(r>0){o=Math.abs(y[r][1]-y[r-1][1]);
u.intervals.push(o);
if(u.frequencies.hasOwnProperty(o)){u.frequencies[o]+=1;
}else{u.frequencies[o]=1;
}}}x+=o;
}if(D.renderer.bands){if(D.renderer.bands.hiData.length){var w=D.renderer.bands.hiData;
for(var r=0,q=w.length;
r<q;
r++){if(this.name==="xaxis"||this.name==="x2axis"){w[r][0]=new h.jsDate(w[r][0]).getTime();
if((w[r][0]!=null&&w[r][0]>C.max)||C.max==null){C.max=w[r][0];
}}else{w[r][1]=new h.jsDate(w[r][1]).getTime();
if((w[r][1]!=null&&w[r][1]>C.max)||C.max==null){C.max=w[r][1];
}}}}if(D.renderer.bands.lowData.length){var w=D.renderer.bands.lowData;
for(var r=0,q=w.length;
r<q;
r++){if(this.name==="xaxis"||this.name==="x2axis"){w[r][0]=new h.jsDate(w[r][0]).getTime();
if((w[r][0]!=null&&w[r][0]<C.min)||C.min==null){C.min=w[r][0];
}}else{w[r][1]=new h.jsDate(w[r][1]).getTime();
if((w[r][1]!=null&&w[r][1]<C.min)||C.min==null){C.min=w[r][1];
}}}}}var B=0,v=0;
for(var p in u.frequencies){u.sortedIntervals.push({interval:p,frequency:u.frequencies[p]});
}u.sortedIntervals.sort(function(s,n){return n.frequency-s.frequency;
});
u.min=h.jqplot.arrayMin(u.intervals);
u.max=h.jqplot.arrayMax(u.intervals);
u.mean=x/y.length;
this._intervalStats.push(u);
u=x=D=y=A=z=null;
}C=null;
};
h.jqplot.DateAxisRenderer.prototype.reset=function(){this.min=this._options.min;
this.max=this._options.max;
this.tickInterval=this._options.tickInterval;
this.numberTicks=this._options.numberTicks;
this._autoFormatString="";
if(this._overrideFormatString&&this.tickOptions&&this.tickOptions.formatString){this.tickOptions.formatString="";
}this.daTickInterval=this._daTickInterval;
};
h.jqplot.DateAxisRenderer.prototype.createTicks=function(p){var X=this._ticks;
var L=this.ticks;
var F=this.name;
var H=this._dataBounds;
var M=this._intervalStats;
var n=(this.name.charAt(0)==="x")?this._plotDimensions.width:this._plotDimensions.height;
var w;
var ae,J;
var y,x;
var ad,aa;
var s=30;
var O=1;
var U=null;
if(this.tickInterval!=null){if(Number(this.tickInterval)){U=[Number(this.tickInterval),"seconds"];
}else{if(typeof this.tickInterval=="string"){var ac=this.tickInterval.split(" ");
if(ac.length==1){U=[1,ac[0]];
}else{if(ac.length==2){U=[ac[0],ac[1]];
}}}}}var v=this.tickInterval;
ae=new h.jsDate((this.min!=null)?this.min:H.min).getTime();
J=new h.jsDate((this.max!=null)?this.max:H.max).getTime();
var A=p.plugins.cursor;
if(A&&A._zoom&&A._zoom.zooming){this.min=null;
this.max=null;
}var B=J-ae;
if(this.tickOptions==null||!this.tickOptions.formatString){this._overrideFormatString=true;
}if(L.length){for(aa=0;
aa<L.length;
aa++){var P=L[aa];
var Y=new this.tickRenderer(this.tickOptions);
if(P.constructor==Array){Y.value=new h.jsDate(P[0]).getTime();
Y.label=P[1];
if(!this.showTicks){Y.showLabel=false;
Y.showMark=false;
}else{if(!this.showTickMarks){Y.showMark=false;
}}Y.setTick(Y.value,this.name);
this._ticks.push(Y);
}else{Y.value=new h.jsDate(P).getTime();
if(!this.showTicks){Y.showLabel=false;
Y.showMark=false;
}else{if(!this.showTickMarks){Y.showMark=false;
}}Y.setTick(Y.value,this.name);
this._ticks.push(Y);
}}this.numberTicks=L.length;
this.min=this._ticks[0].value;
this.max=this._ticks[this.numberTicks-1].value;
this.daTickInterval=[(this.max-this.min)/(this.numberTicks-1)/1000,"seconds"];
}else{if(this.min==null&&this.max==null&&H.min==H.max){var E=h.extend(true,{},this.tickOptions,{name:this.name,value:null});
var T=300000;
this.min=H.min-T;
this.max=H.max+T;
this.numberTicks=3;
for(var aa=this.min;
aa<=this.max;
aa+=T){E.value=aa;
var Y=new this.tickRenderer(E);
if(this._overrideFormatString&&this._autoFormatString!=""){Y.formatString=this._autoFormatString;
}Y.showLabel=false;
Y.showMark=false;
this._ticks.push(Y);
}if(this.showTicks){this._ticks[1].showLabel=true;
}if(this.showTickMarks){this._ticks[1].showTickMarks=true;
}}else{if(this.min==null&&this.max==null){var N=h.extend(true,{},this.tickOptions,{name:this.name,value:null});
var ab,I;
if(!this.tickInterval&&!this.numberTicks){var R=Math.max(n,s+1);
var Z=115;
if(this.tickRenderer===h.jqplot.CanvasAxisTickRenderer&&this.tickOptions.angle){Z=115-40*Math.abs(Math.sin(this.tickOptions.angle/180*Math.PI));
}ab=Math.ceil((R-s)/Z+1);
I=(J-ae)/(ab-1);
}else{if(this.tickInterval){I=new h.jsDate(0).add(U[0],U[1]).getTime();
}else{if(this.numberTicks){ab=this.numberTicks;
I=(J-ae)/(ab-1);
}}}if(I<=19*l){var Q=a(ae,J,I);
var r=Q[0];
this._autoFormatString=Q[1];
ae=new h.jsDate(ae);
ae=Math.floor((ae.getTime()-ae.getUtcOffset())/r)*r+ae.getUtcOffset();
ab=Math.ceil((J-ae)/r)+1;
this.min=ae;
this.max=ae+(ab-1)*r;
if(this.max<J){this.max+=r;
ab+=1;
}this.tickInterval=r;
this.numberTicks=ab;
for(var aa=0;
aa<ab;
aa++){N.value=this.min+aa*r;
Y=new this.tickRenderer(N);
if(this._overrideFormatString&&this._autoFormatString!=""){Y.formatString=this._autoFormatString;
}if(!this.showTicks){Y.showLabel=false;
Y.showMark=false;
}else{if(!this.showTickMarks){Y.showMark=false;
}}this._ticks.push(Y);
}O=this.tickInterval;
}else{if(I<=9*j){this._autoFormatString="%v";
var D=Math.round(I/j);
if(D<1){D=1;
}else{if(D>6){D=6;
}}var V=new h.jsDate(ae).setDate(1).setHours(0,0,0,0);
var q=new h.jsDate(J);
var z=new h.jsDate(J).setDate(1).setHours(0,0,0,0);
if(q.getTime()!==z.getTime()){z=z.add(1,"month");
}var S=z.diff(V,"month");
ab=Math.ceil(S/D)+1;
this.min=V.getTime();
this.max=V.clone().add((ab-1)*D,"month").getTime();
this.numberTicks=ab;
for(var aa=0;
aa<ab;
aa++){if(aa===0){N.value=V.getTime();
}else{N.value=V.add(D,"month").getTime();
}Y=new this.tickRenderer(N);
if(this._overrideFormatString&&this._autoFormatString!=""){Y.formatString=this._autoFormatString;
}if(!this.showTicks){Y.showLabel=false;
Y.showMark=false;
}else{if(!this.showTickMarks){Y.showMark=false;
}}this._ticks.push(Y);
}O=D*j;
}else{this._autoFormatString="%v";
var D=Math.round(I/k);
if(D<1){D=1;
}var V=new h.jsDate(ae).setMonth(0,1).setHours(0,0,0,0);
var z=new h.jsDate(J).add(1,"year").setMonth(0,1).setHours(0,0,0,0);
var K=z.diff(V,"year");
ab=Math.ceil(K/D)+1;
this.min=V.getTime();
this.max=V.clone().add((ab-1)*D,"year").getTime();
this.numberTicks=ab;
for(var aa=0;
aa<ab;
aa++){if(aa===0){N.value=V.getTime();
}else{N.value=V.add(D,"year").getTime();
}Y=new this.tickRenderer(N);
if(this._overrideFormatString&&this._autoFormatString!=""){Y.formatString=this._autoFormatString;
}if(!this.showTicks){Y.showLabel=false;
Y.showMark=false;
}else{if(!this.showTickMarks){Y.showMark=false;
}}this._ticks.push(Y);
}O=D*k;
}}}else{if(F=="xaxis"||F=="x2axis"){n=this._plotDimensions.width;
}else{n=this._plotDimensions.height;
}if(this.min!=null&&this.max!=null&&this.numberTicks!=null){this.tickInterval=null;
}if(this.tickInterval!=null&&U!=null){this.daTickInterval=U;
}if(ae==J){var o=24*60*60*500;
ae-=o;
J+=o;
}B=J-ae;
var G=2+parseInt(Math.max(0,n-100)/100,10);
var W,C;
W=(this.min!=null)?new h.jsDate(this.min).getTime():ae-B/2*(this.padMin-1);
C=(this.max!=null)?new h.jsDate(this.max).getTime():J+B/2*(this.padMax-1);
this.min=W;
this.max=C;
B=this.max-this.min;
if(this.numberTicks==null){if(this.daTickInterval!=null){var u=new h.jsDate(this.max).diff(this.min,this.daTickInterval[1],true);
this.numberTicks=Math.ceil(u/this.daTickInterval[0])+1;
this.max=new h.jsDate(this.min).add((this.numberTicks-1)*this.daTickInterval[0],this.daTickInterval[1]).getTime();
}else{if(n>200){this.numberTicks=parseInt(3+(n-200)/100,10);
}else{this.numberTicks=2;
}}}O=B/(this.numberTicks-1)/1000;
if(this.daTickInterval==null){this.daTickInterval=[O,"seconds"];
}for(var aa=0;
aa<this.numberTicks;
aa++){var ae=new h.jsDate(this.min);
ad=ae.add(aa*this.daTickInterval[0],this.daTickInterval[1]).getTime();
var Y=new this.tickRenderer(this.tickOptions);
if(!this.showTicks){Y.showLabel=false;
Y.showMark=false;
}else{if(!this.showTickMarks){Y.showMark=false;
}}Y.setTick(ad,this.name);
this._ticks.push(Y);
}}}}if(this.tickInset){this.min=this.min-this.tickInset*O;
this.max=this.max+this.tickInset*O;
}if(this._daTickInterval==null){this._daTickInterval=this.daTickInterval;
}X=null;
};
})(jQuery);
(function(d){d.jqplot.eventListenerHooks.push(["jqplotMouseMove",f]);
d.jqplot.Highlighter=function(h){this.show=d.jqplot.config.enablePlugins;
this.markerRenderer=new d.jqplot.MarkerRenderer({shadow:false});
this.showMarker=true;
this.lineWidthAdjust=2.5;
this.sizeAdjust=5;
this.showTooltip=true;
this.tooltipLocation="nw";
this.fadeTooltip=true;
this.tooltipFadeSpeed="fast";
this.tooltipOffset=2;
this.tooltipAxes="both";
this.tooltipSeparator=", ";
this.tooltipContentEditor=null;
this.useAxesFormatters=true;
this.tooltipFormatString="%.5P";
this.formatString=null;
this.yvalues=1;
this.bringSeriesToFront=false;
this._tooltipElem;
this.isHighlighting=false;
this.currentNeighbor=null;
d.extend(true,this,h);
};
var b=["nw","n","ne","e","se","s","sw","w"];
var e={nw:0,n:1,ne:2,e:3,se:4,s:5,sw:6,w:7};
var c=["se","s","sw","w","nw","n","ne","e"];
d.jqplot.Highlighter.init=function(k,j,i){var h=i||{};
this.plugins.highlighter=new d.jqplot.Highlighter(h.highlighter);
};
d.jqplot.Highlighter.parseOptions=function(i,h){this.showHighlight=true;
};
d.jqplot.Highlighter.postPlotDraw=function(){if(this.plugins.highlighter&&this.plugins.highlighter.highlightCanvas){this.plugins.highlighter.highlightCanvas.resetCanvas();
this.plugins.highlighter.highlightCanvas=null;
}if(this.plugins.highlighter&&this.plugins.highlighter._tooltipElem){this.plugins.highlighter._tooltipElem.emptyForce();
this.plugins.highlighter._tooltipElem=null;
}this.plugins.highlighter.highlightCanvas=new d.jqplot.GenericCanvas();
this.eventCanvas._elem.before(this.plugins.highlighter.highlightCanvas.createElement(this._gridPadding,"jqplot-highlight-canvas",this._plotDimensions,this));
this.plugins.highlighter.highlightCanvas.setContext();
var h=document.createElement("div");
this.plugins.highlighter._tooltipElem=d(h);
h=null;
this.plugins.highlighter._tooltipElem.addClass("jqplot-highlighter-tooltip");
this.plugins.highlighter._tooltipElem.css({position:"absolute",display:"none"});
this.eventCanvas._elem.before(this.plugins.highlighter._tooltipElem);
};
d.jqplot.preInitHooks.push(d.jqplot.Highlighter.init);
d.jqplot.preParseSeriesOptionsHooks.push(d.jqplot.Highlighter.parseOptions);
d.jqplot.postDrawHooks.push(d.jqplot.Highlighter.postPlotDraw);
function a(m,o){var j=m.plugins.highlighter;
var p=m.series[o.seriesIndex];
var h=p.markerRenderer;
var i=j.markerRenderer;
i.style=h.style;
i.lineWidth=h.lineWidth+j.lineWidthAdjust;
i.size=h.size+j.sizeAdjust;
var l=d.jqplot.getColorComponents(h.color);
var n=[l[0],l[1],l[2]];
var k=(l[3]>=0.6)?l[3]*0.6:l[3]*(2-l[3]);
i.color="rgba("+n[0]+","+n[1]+","+n[2]+","+k+")";
i.init();
i.draw(p.gridData[o.pointIndex][0],p.gridData[o.pointIndex][1],j.highlightCanvas._ctx);
}function g(A,q,m){var k=A.plugins.highlighter;
var D=k._tooltipElem;
var r=q.highlighter||{};
var t=d.extend(true,{},k,r);
if(t.useAxesFormatters){var w=q._xaxis._ticks[0].formatter;
var h=q._yaxis._ticks[0].formatter;
var E=q._xaxis._ticks[0].formatString;
var s=q._yaxis._ticks[0].formatString;
var z;
var u=w(E,m.data[0]);
var l=[];
for(var B=1;
B<t.yvalues+1;
B++){l.push(h(s,m.data[B]));
}if(typeof t.formatString==="string"){switch(t.tooltipAxes){case"both":case"xy":l.unshift(u);
l.unshift(t.formatString);
z=d.jqplot.sprintf.apply(d.jqplot.sprintf,l);
break;
case"yx":l.push(u);
l.unshift(t.formatString);
z=d.jqplot.sprintf.apply(d.jqplot.sprintf,l);
break;
case"x":z=d.jqplot.sprintf.apply(d.jqplot.sprintf,[t.formatString,u]);
break;
case"y":l.unshift(t.formatString);
z=d.jqplot.sprintf.apply(d.jqplot.sprintf,l);
break;
default:l.unshift(u);
l.unshift(t.formatString);
z=d.jqplot.sprintf.apply(d.jqplot.sprintf,l);
break;
}}else{switch(t.tooltipAxes){case"both":case"xy":z=u;
for(var B=0;
B<l.length;
B++){z+=t.tooltipSeparator+l[B];
}break;
case"yx":z="";
for(var B=0;
B<l.length;
B++){z+=l[B]+t.tooltipSeparator;
}z+=u;
break;
case"x":z=u;
break;
case"y":z=l.join(t.tooltipSeparator);
break;
default:z=u;
for(var B=0;
B<l.length;
B++){z+=t.tooltipSeparator+l[B];
}break;
}}}else{var z;
if(typeof t.formatString==="string"){z=d.jqplot.sprintf.apply(d.jqplot.sprintf,[t.formatString].concat(m.data));
}else{if(t.tooltipAxes=="both"||t.tooltipAxes=="xy"){z=d.jqplot.sprintf(t.tooltipFormatString,m.data[0])+t.tooltipSeparator+d.jqplot.sprintf(t.tooltipFormatString,m.data[1]);
}else{if(t.tooltipAxes=="yx"){z=d.jqplot.sprintf(t.tooltipFormatString,m.data[1])+t.tooltipSeparator+d.jqplot.sprintf(t.tooltipFormatString,m.data[0]);
}else{if(t.tooltipAxes=="x"){z=d.jqplot.sprintf(t.tooltipFormatString,m.data[0]);
}else{if(t.tooltipAxes=="y"){z=d.jqplot.sprintf(t.tooltipFormatString,m.data[1]);
}}}}}}if(d.isFunction(t.tooltipContentEditor)){z=t.tooltipContentEditor(z,m.seriesIndex,m.pointIndex,A);
}D.html(z);
var C={x:m.gridData[0],y:m.gridData[1]};
var v=0;
var j=0.707;
if(q.markerRenderer.show==true){v=(q.markerRenderer.size+t.sizeAdjust)/2;
}var o=b;
if(q.fillToZero&&q.fill&&m.data[1]<0){o=c;
}switch(o[e[t.tooltipLocation]]){case"nw":var p=C.x+A._gridPadding.left-D.outerWidth(true)-t.tooltipOffset-j*v;
var n=C.y+A._gridPadding.top-t.tooltipOffset-D.outerHeight(true)-j*v;
break;
case"n":var p=C.x+A._gridPadding.left-D.outerWidth(true)/2;
var n=C.y+A._gridPadding.top-t.tooltipOffset-D.outerHeight(true)-v;
break;
case"ne":var p=C.x+A._gridPadding.left+t.tooltipOffset+j*v;
var n=C.y+A._gridPadding.top-t.tooltipOffset-D.outerHeight(true)-j*v;
break;
case"e":var p=C.x+A._gridPadding.left+t.tooltipOffset+v;
var n=C.y+A._gridPadding.top-D.outerHeight(true)/2;
break;
case"se":var p=C.x+A._gridPadding.left+t.tooltipOffset+j*v;
var n=C.y+A._gridPadding.top+t.tooltipOffset+j*v;
break;
case"s":var p=C.x+A._gridPadding.left-D.outerWidth(true)/2;
var n=C.y+A._gridPadding.top+t.tooltipOffset+v;
break;
case"sw":var p=C.x+A._gridPadding.left-D.outerWidth(true)-t.tooltipOffset-j*v;
var n=C.y+A._gridPadding.top+t.tooltipOffset+j*v;
break;
case"w":var p=C.x+A._gridPadding.left-D.outerWidth(true)-t.tooltipOffset-v;
var n=C.y+A._gridPadding.top-D.outerHeight(true)/2;
break;
default:var p=C.x+A._gridPadding.left-D.outerWidth(true)-t.tooltipOffset-j*v;
var n=C.y+A._gridPadding.top-t.tooltipOffset-D.outerHeight(true)-j*v;
break;
}D.css("left",p);
D.css("top",n);
if(t.fadeTooltip){D.stop(true,true).fadeIn(t.tooltipFadeSpeed);
}else{D.show();
}D=null;
}function f(n,j,i,p,l){var h=l.plugins.highlighter;
var m=l.plugins.cursor;
if(h.show){if(p==null&&h.isHighlighting){var o=jQuery.Event("jqplotHighlighterUnhighlight");
l.target.trigger(o);
var q=h.highlightCanvas._ctx;
q.clearRect(0,0,q.canvas.width,q.canvas.height);
if(h.fadeTooltip){h._tooltipElem.fadeOut(h.tooltipFadeSpeed);
}else{h._tooltipElem.hide();
}if(h.bringSeriesToFront){l.restorePreviousSeriesOrder();
}h.isHighlighting=false;
h.currentNeighbor=null;
q=null;
}else{if(p!=null&&l.series[p.seriesIndex].showHighlight&&!h.isHighlighting){var o=jQuery.Event("jqplotHighlighterHighlight");
o.which=n.which;
o.pageX=n.pageX;
o.pageY=n.pageY;
var k=[p.seriesIndex,p.pointIndex,p.data,l];
l.target.trigger(o,k);
h.isHighlighting=true;
h.currentNeighbor=p;
if(h.showMarker){a(l,p);
}if(l.series[p.seriesIndex].show&&h.showTooltip&&(!m||!m._zoom.started)){g(l,l.series[p.seriesIndex],p);
}if(h.bringSeriesToFront){l.moveSeriesToFront(p.seriesIndex);
}}else{if(p!=null&&h.isHighlighting&&h.currentNeighbor!=p){if(l.series[p.seriesIndex].showHighlight){var q=h.highlightCanvas._ctx;
q.clearRect(0,0,q.canvas.width,q.canvas.height);
h.isHighlighting=true;
h.currentNeighbor=p;
if(h.showMarker){a(l,p);
}if(l.series[p.seriesIndex].show&&h.showTooltip&&(!m||!m._zoom.started)){g(l,l.series[p.seriesIndex],p);
}if(h.bringSeriesToFront){l.moveSeriesToFront(p.seriesIndex);
}}}}}}}})(jQuery);
/* qTip2 - Pretty powerful tooltips - v2.0.0 - 2012-09-10
* http://craigsworks.com/projects/qtip2/
* Copyright (c) 2012 Craig Michael Thompson; Licensed MIT, GPL */
(function(window,document,undefined){(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory);
}else{if(jQuery&&!jQuery.fn.qtip){factory(jQuery);
}}}(function($){var TRUE=true,FALSE=false,NULL=null,X="x",Y="y",WIDTH="width",HEIGHT="height",TOP="top",LEFT="left",BOTTOM="bottom",RIGHT="right",CENTER="center",FLIP="flip",FLIPINVERT="flipinvert",SHIFT="shift",QTIP,PLUGINS,MOUSE,usedIDs={},uitooltip="ui-tooltip",widget="ui-widget",disabled="ui-state-disabled",selector="div.qtip."+uitooltip,defaultClass=uitooltip+"-default",focusClass=uitooltip+"-focus",hoverClass=uitooltip+"-hover",replaceSuffix="_replacedByqTip",oldtitle="oldtitle",trackingBound,redrawContainer;
redrawContainer=$("<div/>",{id:"qtip-rcontainer"});
$(function(){redrawContainer.appendTo(document.body);
});
function sanitizeOptions(opts){var invalid=function(a){return a===NULL||"object"!==typeof a;
},invalidContent=function(c){return !$.isFunction(c)&&((!c&&!c.attr)||c.length<1||("object"===typeof c&&!c.jquery));
};
if(!opts||"object"!==typeof opts){return FALSE;
}if(invalid(opts.metadata)){opts.metadata={type:opts.metadata};
}if("content" in opts){if(invalid(opts.content)||opts.content.jquery){opts.content={text:opts.content};
}if(invalidContent(opts.content.text||FALSE)){opts.content.text=FALSE;
}if("title" in opts.content){if(invalid(opts.content.title)){opts.content.title={text:opts.content.title};
}if(invalidContent(opts.content.title.text||FALSE)){opts.content.title.text=FALSE;
}}}if("position" in opts&&invalid(opts.position)){opts.position={my:opts.position,at:opts.position};
}if("show" in opts&&invalid(opts.show)){opts.show=opts.show.jquery?{target:opts.show}:{event:opts.show};
}if("hide" in opts&&invalid(opts.hide)){opts.hide=opts.hide.jquery?{target:opts.hide}:{event:opts.hide};
}if("style" in opts&&invalid(opts.style)){opts.style={classes:opts.style};
}$.each(PLUGINS,function(){if(this.sanitize){this.sanitize(opts);
}});
return opts;
}function QTip(target,options,id,attr){var self=this,docBody=document.body,tooltipID=uitooltip+"-"+id,isPositioning=0,isDrawing=0,tooltip=$(),namespace=".qtip-"+id,elements,cache;
self.id=id;
self.rendered=FALSE;
self.destroyed=FALSE;
self.elements=elements={target:target};
self.timers={img:{}};
self.options=options;
self.checks={};
self.plugins={};
self.cache=cache={event:{},target:$(),disabled:FALSE,attr:attr,onTarget:FALSE,lastClass:""};
function convertNotation(notation){var i=0,obj,option=options,levels=notation.split(".");
while(option=option[levels[i++]]){if(i<levels.length){obj=option;
}}return[obj||options,levels.pop()];
}function triggerEvent(type,args,event){var callback=$.Event("tooltip"+type);
callback.originalEvent=(event?$.extend({},event):NULL)||cache.event||NULL;
tooltip.trigger(callback,[self].concat(args||[]));
return !callback.isDefaultPrevented();
}function setWidget(){var on=options.style.widget;
tooltip.toggleClass("ui-helper-reset "+widget,on).toggleClass(defaultClass,options.style.def&&!on);
if(elements.content){elements.content.toggleClass(widget+"-content",on);
}if(elements.titlebar){elements.titlebar.toggleClass(widget+"-header",on);
}if(elements.button){elements.button.toggleClass(uitooltip+"-icon",!on);
}}function removeTitle(reposition){if(elements.title){elements.titlebar.remove();
elements.titlebar=elements.title=elements.button=NULL;
if(reposition!==FALSE){self.reposition();
}}}function createButton(){var button=options.content.title.button,isString=typeof button==="string",close=isString?button:"Close tooltip";
if(elements.button){elements.button.remove();
}if(button.jquery){elements.button=button;
}else{elements.button=$("<a />",{"class":"ui-state-default ui-tooltip-close "+(options.style.widget?"":uitooltip+"-icon"),title:close,"aria-label":close}).prepend($("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"}));
}elements.button.appendTo(elements.titlebar).attr("role","button").click(function(event){if(!tooltip.hasClass(disabled)){self.hide(event);
}return FALSE;
});
self.redraw();
}function createTitle(){var id=tooltipID+"-title";
if(elements.titlebar){removeTitle();
}elements.titlebar=$("<div />",{"class":uitooltip+"-titlebar "+(options.style.widget?"ui-widget-header":"")}).append(elements.title=$("<div />",{id:id,"class":uitooltip+"-title","aria-atomic":TRUE})).insertBefore(elements.content).delegate(".ui-tooltip-close","mousedown keydown mouseup keyup mouseout",function(event){$(this).toggleClass("ui-state-active ui-state-focus",event.type.substr(-4)==="down");
}).delegate(".ui-tooltip-close","mouseover mouseout",function(event){$(this).toggleClass("ui-state-hover",event.type==="mouseover");
});
if(options.content.title.button){createButton();
}else{if(self.rendered){self.redraw();
}}}function updateButton(button){var elem=elements.button,title=elements.title;
if(!self.rendered){return FALSE;
}if(!button){elem.remove();
}else{if(!title){createTitle();
}createButton();
}}function updateTitle(content,reposition){var elem=elements.title;
if(!self.rendered||!content){return FALSE;
}if($.isFunction(content)){content=content.call(target,cache.event,self);
}if(content===FALSE||(!content&&content!=="")){return removeTitle(FALSE);
}else{if(content.jquery&&content.length>0){elem.empty().append(content.css({display:"block"}));
}else{elem.html(content);
}}self.redraw();
if(reposition!==FALSE&&self.rendered&&tooltip[0].offsetWidth>0){self.reposition(cache.event);
}}function updateContent(content,reposition){var elem=elements.content;
if(!self.rendered||!content){return FALSE;
}if($.isFunction(content)){content=content.call(target,cache.event,self)||"";
}if(content.jquery&&content.length>0){elem.empty().append(content.css({display:"block"}));
}else{elem.html(content);
}function detectImages(next){var images,srcs={};
function imageLoad(image){if(image){delete srcs[image.src];
clearTimeout(self.timers.img[image.src]);
$(image).unbind(namespace);
}if($.isEmptyObject(srcs)){self.redraw();
if(reposition!==FALSE){self.reposition(cache.event);
}next();
}}if((images=elem.find("img[src]:not([height]):not([width])")).length===0){return imageLoad();
}images.each(function(i,elem){if(srcs[elem.src]!==undefined){return;
}var iterations=0,maxIterations=3;
(function timer(){if(elem.height||elem.width||(iterations>maxIterations)){return imageLoad(elem);
}iterations+=1;
self.timers.img[elem.src]=setTimeout(timer,700);
}());
$(elem).bind("error"+namespace+" load"+namespace,function(){imageLoad(this);
});
srcs[elem.src]=elem;
});
}if(self.rendered<0){tooltip.queue("fx",detectImages);
}else{isDrawing=0;
detectImages($.noop);
}return self;
}function assignEvents(){var posOptions=options.position,targets={show:options.show.target,hide:options.hide.target,viewport:$(posOptions.viewport),document:$(document),body:$(document.body),window:$(window)},events={show:$.trim(""+options.show.event).split(" "),hide:$.trim(""+options.hide.event).split(" ")},IE6=$.browser.msie&&parseInt($.browser.version,10)===6;
function showMethod(event){if(tooltip.hasClass(disabled)){return FALSE;
}clearTimeout(self.timers.show);
clearTimeout(self.timers.hide);
var callback=function(){self.toggle(TRUE,event);
};
if(options.show.delay>0){self.timers.show=setTimeout(callback,options.show.delay);
}else{callback();
}}function hideMethod(event){if(tooltip.hasClass(disabled)||isPositioning||isDrawing){return FALSE;
}var relatedTarget=$(event.relatedTarget||event.target),ontoTooltip=relatedTarget.closest(selector)[0]===tooltip[0],ontoTarget=relatedTarget[0]===targets.show[0];
clearTimeout(self.timers.show);
clearTimeout(self.timers.hide);
if((posOptions.target==="mouse"&&ontoTooltip)||(options.hide.fixed&&((/mouse(out|leave|move)/).test(event.type)&&(ontoTooltip||ontoTarget)))){try{event.preventDefault();
event.stopImmediatePropagation();
}catch(e){}return;
}if(options.hide.delay>0){self.timers.hide=setTimeout(function(){self.hide(event);
},options.hide.delay);
}else{self.hide(event);
}}function inactiveMethod(event){if(tooltip.hasClass(disabled)){return FALSE;
}clearTimeout(self.timers.inactive);
self.timers.inactive=setTimeout(function(){self.hide(event);
},options.hide.inactive);
}function repositionMethod(event){if(self.rendered&&tooltip[0].offsetWidth>0){self.reposition(event);
}}tooltip.bind("mouseenter"+namespace+" mouseleave"+namespace,function(event){var state=event.type==="mouseenter";
if(state){self.focus(event);
}tooltip.toggleClass(hoverClass,state);
});
if(/mouse(out|leave)/i.test(options.hide.event)){if(options.hide.leave==="window"){targets.window.bind("mouseout"+namespace+" blur"+namespace,function(event){if(!/select|option/.test(event.target.nodeName)&&!event.relatedTarget){self.hide(event);
}});
}}if(options.hide.fixed){targets.hide=targets.hide.add(tooltip);
tooltip.bind("mouseover"+namespace,function(){if(!tooltip.hasClass(disabled)){clearTimeout(self.timers.hide);
}});
}else{if(/mouse(over|enter)/i.test(options.show.event)){targets.hide.bind("mouseleave"+namespace,function(event){clearTimeout(self.timers.show);
});
}}if((""+options.hide.event).indexOf("unfocus")>-1){posOptions.container.closest("html").bind("mousedown"+namespace,function(event){var elem=$(event.target),enabled=self.rendered&&!tooltip.hasClass(disabled)&&tooltip[0].offsetWidth>0,isAncestor=elem.parents(selector).filter(tooltip[0]).length>0;
if(elem[0]!==target[0]&&elem[0]!==tooltip[0]&&!isAncestor&&!target.has(elem[0]).length&&!elem.attr("disabled")){self.hide(event);
}});
}if("number"===typeof options.hide.inactive){targets.show.bind("qtip-"+id+"-inactive",inactiveMethod);
$.each(QTIP.inactiveEvents,function(index,type){targets.hide.add(elements.tooltip).bind(type+namespace+"-inactive",inactiveMethod);
});
}$.each(events.hide,function(index,type){var showIndex=$.inArray(type,events.show),targetHide=$(targets.hide);
if((showIndex>-1&&targetHide.add(targets.show).length===targetHide.length)||type==="unfocus"){targets.show.bind(type+namespace,function(event){if(tooltip[0].offsetWidth>0){hideMethod(event);
}else{showMethod(event);
}});
delete events.show[showIndex];
}else{targets.hide.bind(type+namespace,hideMethod);
}});
$.each(events.show,function(index,type){targets.show.bind(type+namespace,showMethod);
});
if("number"===typeof options.hide.distance){targets.show.add(tooltip).bind("mousemove"+namespace,function(event){var origin=cache.origin||{},limit=options.hide.distance,abs=Math.abs;
if(abs(event.pageX-origin.pageX)>=limit||abs(event.pageY-origin.pageY)>=limit){self.hide(event);
}});
}if(posOptions.target==="mouse"){targets.show.bind("mousemove"+namespace,function(event){MOUSE={pageX:event.pageX,pageY:event.pageY,type:"mousemove"};
});
if(posOptions.adjust.mouse){if(options.hide.event){tooltip.bind("mouseleave"+namespace,function(event){if((event.relatedTarget||event.target)!==targets.show[0]){self.hide(event);
}});
elements.target.bind("mouseenter"+namespace+" mouseleave"+namespace,function(event){cache.onTarget=event.type==="mouseenter";
});
}targets.document.bind("mousemove"+namespace,function(event){if(self.rendered&&cache.onTarget&&!tooltip.hasClass(disabled)&&tooltip[0].offsetWidth>0){self.reposition(event||MOUSE);
}});
}}if(posOptions.adjust.resize||targets.viewport.length){($.event.special.resize?targets.viewport:targets.window).bind("resize"+namespace,repositionMethod);
}if(targets.viewport.length||(IE6&&tooltip.css("position")==="fixed")){targets.viewport.bind("scroll"+namespace,repositionMethod);
}}function unassignEvents(){var targets=[options.show.target[0],options.hide.target[0],self.rendered&&elements.tooltip[0],options.position.container[0],options.position.viewport[0],options.position.container.closest("html")[0],window,document];
if(self.rendered){$([]).pushStack($.grep(targets,function(i){return typeof i==="object";
})).unbind(namespace);
}else{options.show.target.unbind(namespace+"-create");
}}self.checks.builtin={"^id$":function(obj,o,v){var id=v===TRUE?QTIP.nextid:v,tooltipID=uitooltip+"-"+id;
if(id!==FALSE&&id.length>0&&!$("#"+tooltipID).length){tooltip[0].id=tooltipID;
elements.content[0].id=tooltipID+"-content";
elements.title[0].id=tooltipID+"-title";
}},"^content.text$":function(obj,o,v){updateContent(v);
},"^content.title.text$":function(obj,o,v){if(!v){return removeTitle();
}if(!elements.title&&v){createTitle();
}updateTitle(v);
},"^content.title.button$":function(obj,o,v){updateButton(v);
},"^position.(my|at)$":function(obj,o,v){if("string"===typeof v){obj[o]=new PLUGINS.Corner(v);
}},"^position.container$":function(obj,o,v){if(self.rendered){tooltip.appendTo(v);
}},"^show.ready$":function(){if(!self.rendered){self.render(1);
}else{self.toggle(TRUE);
}},"^style.classes$":function(obj,o,v){tooltip.attr("class",uitooltip+" qtip "+v);
},"^style.widget|content.title":setWidget,"^events.(render|show|move|hide|focus|blur)$":function(obj,o,v){tooltip[($.isFunction(v)?"":"un")+"bind"]("tooltip"+o,v);
},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){var posOptions=options.position;
tooltip.attr("tracking",posOptions.target==="mouse"&&posOptions.adjust.mouse);
unassignEvents();
assignEvents();
}};
$.extend(self,{render:function(show){if(self.rendered){return self;
}var text=options.content.text,title=options.content.title.text,posOptions=options.position;
$.attr(target[0],"aria-describedby",tooltipID);
tooltip=elements.tooltip=$("<div/>",{id:tooltipID,"class":uitooltip+" qtip "+defaultClass+" "+options.style.classes+" "+uitooltip+"-pos-"+options.position.my.abbrev(),width:options.style.width||"",height:options.style.height||"",tracking:posOptions.target==="mouse"&&posOptions.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":FALSE,"aria-describedby":tooltipID+"-content","aria-hidden":TRUE}).toggleClass(disabled,cache.disabled).data("qtip",self).appendTo(options.position.container).append(elements.content=$("<div />",{"class":uitooltip+"-content",id:tooltipID+"-content","aria-atomic":TRUE}));
self.rendered=-1;
isDrawing=1;
isPositioning=1;
if(title){createTitle();
if(!$.isFunction(title)){updateTitle(title,FALSE);
}}if(!$.isFunction(text)){updateContent(text,FALSE);
}self.rendered=TRUE;
setWidget();
$.each(options.events,function(name,callback){if($.isFunction(callback)){tooltip.bind(name==="toggle"?"tooltipshow tooltiphide":"tooltip"+name,callback);
}});
$.each(PLUGINS,function(){if(this.initialize==="render"){this(self);
}});
assignEvents();
tooltip.queue("fx",function(next){triggerEvent("render");
isDrawing=0;
isPositioning=0;
self.redraw();
if(options.show.ready||show){self.toggle(TRUE,cache.event,FALSE);
}next();
});
return self;
},get:function(notation){var result,o;
switch(notation.toLowerCase()){case"dimensions":result={height:tooltip.outerHeight(),width:tooltip.outerWidth()};
break;
case"offset":result=PLUGINS.offset(tooltip,options.position.container);
break;
default:o=convertNotation(notation.toLowerCase());
result=o[0][o[1]];
result=result.precedance?result.string():result;
break;
}return result;
},set:function(option,value){var rmove=/^position\.(my|at|adjust|target|container)|style|content|show\.ready/i,rdraw=/^content\.(title|attr)|style/i,reposition=FALSE,redraw=FALSE,checks=self.checks,name;
function callback(notation,args){var category,rule,match;
for(category in checks){for(rule in checks[category]){if(match=(new RegExp(rule,"i")).exec(notation)){args.push(match);
checks[category][rule].apply(self,args);
}}}}if("string"===typeof option){name=option;
option={};
option[name]=value;
}else{option=$.extend(TRUE,{},option);
}$.each(option,function(notation,value){var obj=convertNotation(notation.toLowerCase()),previous;
previous=obj[0][obj[1]];
obj[0][obj[1]]="object"===typeof value&&value.nodeType?$(value):value;
option[notation]=[obj[0],obj[1],value,previous];
reposition=rmove.test(notation)||reposition;
redraw=rdraw.test(notation)||redraw;
});
sanitizeOptions(options);
isPositioning=isDrawing=1;
$.each(option,callback);
isPositioning=isDrawing=0;
if(self.rendered&&tooltip[0].offsetWidth>0){if(reposition){self.reposition(options.position.target==="mouse"?NULL:cache.event);
}if(redraw){self.redraw();
}}return self;
},toggle:function(state,event){if(!self.rendered){return state?self.render(1):self;
}var type=state?"show":"hide",opts=options[type],otherOpts=options[!state?"show":"hide"],posOptions=options.position,contentOptions=options.content,visible=tooltip[0].offsetWidth>0,animate=state||opts.target.length===1,sameTarget=!event||opts.target.length<2||cache.target[0]===event.target,showEvent,delay;
if((typeof state).search("boolean|number")){state=!visible;
}if(!tooltip.is(":animated")&&visible===state&&sameTarget){return self;
}if(event){if((/over|enter/).test(event.type)&&(/out|leave/).test(cache.event.type)&&options.show.target.add(event.target).length===options.show.target.length&&tooltip.has(event.relatedTarget).length){return self;
}cache.event=$.extend({},event);
}if(!triggerEvent(type,[90])){return self;
}$.attr(tooltip[0],"aria-hidden",!!!state);
if(state){cache.origin=$.extend({},MOUSE);
self.focus(event);
if($.isFunction(contentOptions.text)){updateContent(contentOptions.text,FALSE);
}if($.isFunction(contentOptions.title.text)){updateTitle(contentOptions.title.text,FALSE);
}if(!trackingBound&&posOptions.target==="mouse"&&posOptions.adjust.mouse){$(document).bind("mousemove.qtip",function(event){MOUSE={pageX:event.pageX,pageY:event.pageY,type:"mousemove"};
});
trackingBound=TRUE;
}self.reposition(event,arguments[2]);
if(!!opts.solo){$(selector,opts.solo).not(tooltip).qtip("hide",$.Event("tooltipsolo"));
}}else{clearTimeout(self.timers.show);
delete cache.origin;
if(trackingBound&&!$(selector+'[tracking="true"]:visible',opts.solo).not(tooltip).length){$(document).unbind("mousemove.qtip");
trackingBound=FALSE;
}self.blur(event);
}function after(){if(state){if($.browser.msie){tooltip[0].style.removeAttribute("filter");
}tooltip.css("overflow","");
if("string"===typeof opts.autofocus){$(opts.autofocus,tooltip).focus();
}opts.target.trigger("qtip-"+id+"-inactive");
}else{tooltip.css({display:"",visibility:"",opacity:"",left:"",top:""});
}triggerEvent(state?"visible":"hidden");
}if(opts.effect===FALSE||animate===FALSE){tooltip[type]();
after.call(tooltip);
}else{if($.isFunction(opts.effect)){tooltip.stop(1,1);
opts.effect.call(tooltip,self);
tooltip.queue("fx",function(n){after();
n();
});
}else{tooltip.fadeTo(90,state?1:0,after);
}}if(state){opts.target.trigger("qtip-"+id+"-inactive");
}return self;
},show:function(event){return self.toggle(TRUE,event);
},hide:function(event){return self.toggle(FALSE,event);
},focus:function(event){if(!self.rendered){return self;
}var qtips=$(selector),curIndex=parseInt(tooltip[0].style.zIndex,10),newIndex=QTIP.zindex+qtips.length,cachedEvent=$.extend({},event),focusedElem;
if(!tooltip.hasClass(focusClass)){if(triggerEvent("focus",[newIndex],cachedEvent)){if(curIndex!==newIndex){qtips.each(function(){if(this.style.zIndex>curIndex){this.style.zIndex=this.style.zIndex-1;
}});
qtips.filter("."+focusClass).qtip("blur",cachedEvent);
}tooltip.addClass(focusClass)[0].style.zIndex=newIndex;
}}return self;
},blur:function(event){tooltip.removeClass(focusClass);
triggerEvent("blur",[tooltip.css("zIndex")],event);
return self;
},reposition:function(event,effect){if(!self.rendered||isPositioning){return self;
}isPositioning=1;
var target=options.position.target,posOptions=options.position,my=posOptions.my,at=posOptions.at,adjust=posOptions.adjust,method=adjust.method.split(" "),elemWidth=tooltip.outerWidth(),elemHeight=tooltip.outerHeight(),targetWidth=0,targetHeight=0,fixed=tooltip.css("position")==="fixed",viewport=posOptions.viewport,position={left:0,top:0},container=posOptions.container,visible=tooltip[0].offsetWidth>0,adjusted,offset,win;
if($.isArray(target)&&target.length===2){at={x:LEFT,y:TOP};
position={left:target[0],top:target[1]};
}else{if(target==="mouse"&&((event&&event.pageX)||cache.event.pageX)){at={x:LEFT,y:TOP};
event=(event&&(event.type==="resize"||event.type==="scroll")?cache.event:event&&event.pageX&&event.type==="mousemove"?event:MOUSE&&MOUSE.pageX&&(adjust.mouse||!event||!event.pageX)?{pageX:MOUSE.pageX,pageY:MOUSE.pageY}:!adjust.mouse&&cache.origin&&cache.origin.pageX&&options.show.distance?cache.origin:event)||event||cache.event||MOUSE||{};
position={top:event.pageY,left:event.pageX};
}else{if(target==="event"&&event&&event.target&&event.type!=="scroll"&&event.type!=="resize"){cache.target=$(event.target);
}else{if(target!=="event"){cache.target=$(target.jquery?target:elements.target);
}}target=cache.target;
target=$(target).eq(0);
if(target.length===0){return self;
}else{if(target[0]===document||target[0]===window){targetWidth=PLUGINS.iOS?window.innerWidth:target.width();
targetHeight=PLUGINS.iOS?window.innerHeight:target.height();
if(target[0]===window){position={top:(viewport||target).scrollTop(),left:(viewport||target).scrollLeft()};
}}else{if(PLUGINS.imagemap&&target.is("area")){adjusted=PLUGINS.imagemap(self,target,at,PLUGINS.viewport?method:FALSE);
}else{if(PLUGINS.svg&&typeof target[0].xmlbase==="string"){adjusted=PLUGINS.svg(self,target,at,PLUGINS.viewport?method:FALSE);
}else{targetWidth=target.outerWidth();
targetHeight=target.outerHeight();
position=PLUGINS.offset(target,container);
}}}}if(adjusted){targetWidth=adjusted.width;
targetHeight=adjusted.height;
offset=adjusted.offset;
position=adjusted.position;
}if((PLUGINS.iOS>3.1&&PLUGINS.iOS<4.1)||(PLUGINS.iOS>=4.3&&PLUGINS.iOS<4.33)||(!PLUGINS.iOS&&fixed)){win=$(window);
position.left-=win.scrollLeft();
position.top-=win.scrollTop();
}position.left+=at.x===RIGHT?targetWidth:at.x===CENTER?targetWidth/2:0;
position.top+=at.y===BOTTOM?targetHeight:at.y===CENTER?targetHeight/2:0;
}}position.left+=adjust.x+(my.x===RIGHT?-elemWidth:my.x===CENTER?-elemWidth/2:0);
position.top+=adjust.y+(my.y===BOTTOM?-elemHeight:my.y===CENTER?-elemHeight/2:0);
if(PLUGINS.viewport){position.adjusted=PLUGINS.viewport(self,position,posOptions,targetWidth,targetHeight,elemWidth,elemHeight);
if(offset&&position.adjusted.left){position.left+=offset.left;
}if(offset&&position.adjusted.top){position.top+=offset.top;
}}else{position.adjusted={left:0,top:0};
}if(!triggerEvent("move",[position,viewport.elem||viewport],event)){return self;
}delete position.adjusted;
if(effect===FALSE||!visible||isNaN(position.left)||isNaN(position.top)||target==="mouse"||!$.isFunction(posOptions.effect)){tooltip.css(position);
}else{if($.isFunction(posOptions.effect)){posOptions.effect.call(tooltip,self,$.extend({},position));
tooltip.queue(function(next){$(this).css({opacity:"",height:""});
if($.browser.msie){this.style.removeAttribute("filter");
}next();
});
}}isPositioning=0;
return self;
},redraw:function(){if(self.rendered<1||isDrawing){return self;
}var style=options.style,container=options.position.container,perc,width,max,min;
isDrawing=1;
triggerEvent("redraw");
if(style.height){tooltip.css(HEIGHT,style.height);
}if(style.width){tooltip.css(WIDTH,style.width);
}else{tooltip.css(WIDTH,"").appendTo(redrawContainer);
width=tooltip.width();
if(width%2<1){width+=1;
}max=tooltip.css("max-width")||"";
min=tooltip.css("min-width")||"";
perc=(max+min).indexOf("%")>-1?container.width()/100:0;
max=((max.indexOf("%")>-1?perc:1)*parseInt(max,10))||width;
min=((min.indexOf("%")>-1?perc:1)*parseInt(min,10))||0;
width=max+min?Math.min(Math.max(width,min),max):width;
tooltip.css(WIDTH,Math.round(width)).appendTo(container);
}triggerEvent("redrawn");
isDrawing=0;
return self;
},disable:function(state){if("boolean"!==typeof state){state=!(tooltip.hasClass(disabled)||cache.disabled);
}if(self.rendered){tooltip.toggleClass(disabled,state);
$.attr(tooltip[0],"aria-disabled",state);
}else{cache.disabled=!!state;
}return self;
},enable:function(){return self.disable(FALSE);
},destroy:function(){var t=target[0],title=$.attr(t,oldtitle),elemAPI=target.data("qtip");
self.destroyed=TRUE;
if(self.rendered){tooltip.stop(1,0).remove();
$.each(self.plugins,function(){if(this.destroy){this.destroy();
}});
}clearTimeout(self.timers.show);
clearTimeout(self.timers.hide);
unassignEvents();
if(!elemAPI||self===elemAPI){$.removeData(t,"qtip");
if(options.suppress&&title){$.attr(t,"title",title);
target.removeAttr(oldtitle);
}target.removeAttr("aria-describedby");
}target.unbind(".qtip-"+id);
delete usedIDs[self.id];
return target;
}});
}function init(id,opts){var obj,posOptions,attr,config,title,elem=$(this),docBody=$(document.body),newTarget=this===document?docBody:elem,metadata=(elem.metadata)?elem.metadata(opts.metadata):NULL,metadata5=opts.metadata.type==="html5"&&metadata?metadata[opts.metadata.name]:NULL,html5=elem.data(opts.metadata.name||"qtipopts");
try{html5=typeof html5==="string"?$.parseJSON(html5):html5;
}catch(e){}config=$.extend(TRUE,{},QTIP.defaults,opts,typeof html5==="object"?sanitizeOptions(html5):NULL,sanitizeOptions(metadata5||metadata));
posOptions=config.position;
config.id=id;
if("boolean"===typeof config.content.text){attr=elem.attr(config.content.attr);
if(config.content.attr!==FALSE&&attr){config.content.text=attr;
}else{return FALSE;
}}if(!posOptions.container.length){posOptions.container=docBody;
}if(posOptions.target===FALSE){posOptions.target=newTarget;
}if(config.show.target===FALSE){config.show.target=newTarget;
}if(config.show.solo===TRUE){config.show.solo=posOptions.container.closest("body");
}if(config.hide.target===FALSE){config.hide.target=newTarget;
}if(config.position.viewport===TRUE){config.position.viewport=posOptions.container;
}posOptions.container=posOptions.container.eq(0);
posOptions.at=new PLUGINS.Corner(posOptions.at);
posOptions.my=new PLUGINS.Corner(posOptions.my);
if($.data(this,"qtip")){if(config.overwrite){elem.qtip("destroy");
}else{if(config.overwrite===FALSE){return FALSE;
}}}if(config.suppress&&(title=$.attr(this,"title"))){$(this).removeAttr("title").attr(oldtitle,title).attr("title","");
}obj=new QTip(elem,config,id,!!attr);
$.data(this,"qtip",obj);
elem.bind("remove.qtip-"+id+" removeqtip.qtip-"+id,function(){obj.destroy();
});
return obj;
}QTIP=$.fn.qtip=function(options,notation,newValue){var command=(""+options).toLowerCase(),returned=NULL,args=$.makeArray(arguments).slice(1),event=args[args.length-1],opts=this[0]?$.data(this[0],"qtip"):NULL;
if((!arguments.length&&opts)||command==="api"){return opts;
}else{if("string"===typeof options){this.each(function(){var api=$.data(this,"qtip");
if(!api){return TRUE;
}if(event&&event.timeStamp){api.cache.event=event;
}if((command==="option"||command==="options")&&notation){if($.isPlainObject(notation)||newValue!==undefined){api.set(notation,newValue);
}else{returned=api.get(notation);
return FALSE;
}}else{if(api[command]){api[command].apply(api[command],args);
}}});
return returned!==NULL?returned:this;
}else{if("object"===typeof options||!arguments.length){opts=sanitizeOptions($.extend(TRUE,{},options));
return QTIP.bind.call(this,opts,event);
}}}};
QTIP.bind=function(opts,event){return this.each(function(i){var options,targets,events,namespace,api,id;
id=$.isArray(opts.id)?opts.id[i]:opts.id;
id=!id||id===FALSE||id.length<1||usedIDs[id]?QTIP.nextid++:(usedIDs[id]=id);
namespace=".qtip-"+id+"-create";
api=init.call(this,id,opts);
if(api===FALSE){return TRUE;
}options=api.options;
$.each(PLUGINS,function(){if(this.initialize==="initialize"){this(api);
}});
targets={show:options.show.target,hide:options.hide.target};
events={show:$.trim(""+options.show.event).replace(/ /g,namespace+" ")+namespace,hide:$.trim(""+options.hide.event).replace(/ /g,namespace+" ")+namespace};
if(/mouse(over|enter)/i.test(events.show)&&!/mouse(out|leave)/i.test(events.hide)){events.hide+=" mouseleave"+namespace;
}targets.show.bind("mousemove"+namespace,function(event){MOUSE={pageX:event.pageX,pageY:event.pageY,type:"mousemove"};
api.cache.onTarget=TRUE;
});
function hoverIntent(event){function render(){api.render(typeof event==="object"||options.show.ready);
targets.show.add(targets.hide).unbind(namespace);
}if(api.cache.disabled){return FALSE;
}api.cache.event=$.extend({},event);
api.cache.target=event?$(event.target):[undefined];
if(options.show.delay>0){clearTimeout(api.timers.show);
api.timers.show=setTimeout(render,options.show.delay);
if(events.show!==events.hide){targets.hide.bind(events.hide,function(){clearTimeout(api.timers.show);
});
}}else{render();
}}targets.show.bind(events.show,hoverIntent);
if(options.show.ready||options.prerender){hoverIntent(event);
}});
};
PLUGINS=QTIP.plugins={Corner:function(corner){corner=(""+corner).replace(/([A-Z])/," $1").replace(/middle/gi,CENTER).toLowerCase();
this.x=(corner.match(/left|right/i)||corner.match(/center/)||["inherit"])[0].toLowerCase();
this.y=(corner.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();
var f=corner.charAt(0);
this.precedance=(f==="t"||f==="b"?Y:X);
this.string=function(){return this.precedance===Y?this.y+this.x:this.x+this.y;
};
this.abbrev=function(){var x=this.x.substr(0,1),y=this.y.substr(0,1);
return x===y?x:this.precedance===Y?y+x:x+y;
};
this.invertx=function(center){this.x=this.x===LEFT?RIGHT:this.x===RIGHT?LEFT:center||this.x;
};
this.inverty=function(center){this.y=this.y===TOP?BOTTOM:this.y===BOTTOM?TOP:center||this.y;
};
this.clone=function(){return{x:this.x,y:this.y,precedance:this.precedance,string:this.string,abbrev:this.abbrev,clone:this.clone,invertx:this.invertx,inverty:this.inverty};
};
},offset:function(elem,container){var pos=elem.offset(),docBody=elem.closest("body")[0],parent=container,scrolled,coffset,overflow;
function scroll(e,i){pos.left+=i*e.scrollLeft();
pos.top+=i*e.scrollTop();
}if(parent){do{if(parent.css("position")!=="static"){coffset=parent.position();
pos.left-=coffset.left+(parseInt(parent.css("borderLeftWidth"),10)||0)+(parseInt(parent.css("marginLeft"),10)||0);
pos.top-=coffset.top+(parseInt(parent.css("borderTopWidth"),10)||0)+(parseInt(parent.css("marginTop"),10)||0);
if(!scrolled&&(overflow=parent.css("overflow"))!=="hidden"&&overflow!=="visible"){scrolled=parent;
}}}while((parent=$(parent[0].offsetParent)).length);
if(scrolled&&scrolled[0]!==docBody){scroll(scrolled,1);
}}return pos;
},iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||FALSE,fn:{attr:function(attr,val){if(this.length){var self=this[0],title="title",api=$.data(self,"qtip");
if(attr===title&&api&&"object"===typeof api&&api.options.suppress){if(arguments.length<2){return $.attr(self,oldtitle);
}if(api&&api.options.content.attr===title&&api.cache.attr){api.set("content.text",val);
}return this.attr(oldtitle,val);
}}return $.fn["attr"+replaceSuffix].apply(this,arguments);
},clone:function(keepData){var titles=$([]),title="title",elems=$.fn["clone"+replaceSuffix].apply(this,arguments);
if(!keepData){elems.filter("["+oldtitle+"]").attr("title",function(){return $.attr(this,oldtitle);
}).removeAttr(oldtitle);
}return elems;
}}};
$.each(PLUGINS.fn,function(name,func){if(!func||$.fn[name+replaceSuffix]){return TRUE;
}var old=$.fn[name+replaceSuffix]=$.fn[name];
$.fn[name]=function(){return func.apply(this,arguments)||old.apply(this,arguments);
};
});
if(!$.ui){$["cleanData"+replaceSuffix]=$.cleanData;
$.cleanData=function(elems){for(var i=0,elem;
(elem=elems[i])!==undefined;
i++){try{$(elem).triggerHandler("removeqtip");
}catch(e){}}$["cleanData"+replaceSuffix](elems);
};
}QTIP.version="@VERSION";
QTIP.nextid=0;
QTIP.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");
QTIP.zindex=15000;
QTIP.defaults={prerender:FALSE,id:FALSE,overwrite:TRUE,suppress:TRUE,content:{text:TRUE,attr:"title",title:{text:FALSE,button:FALSE}},position:{my:"top left",at:"bottom right",target:FALSE,container:FALSE,viewport:FALSE,adjust:{x:0,y:0,mouse:TRUE,resize:TRUE,method:"flip flip"},effect:function(api,pos,viewport){$(this).animate(pos,{duration:200,queue:FALSE});
}},show:{target:FALSE,event:"mouseenter",effect:TRUE,delay:90,solo:FALSE,ready:FALSE,autofocus:FALSE},hide:{target:FALSE,event:"mouseleave",effect:TRUE,delay:0,fixed:FALSE,inactive:FALSE,leave:"window",distance:FALSE},style:{classes:"",widget:FALSE,width:FALSE,height:FALSE,def:TRUE},events:{render:NULL,move:NULL,show:NULL,hide:NULL,toggle:NULL,visible:NULL,hidden:NULL,focus:NULL,blur:NULL}};
PLUGINS.svg=function(api,svg,corner,adjustMethod){var doc=$(document),elem=svg[0],result={width:0,height:0,position:{top:10000000000,left:10000000000}},box,mtx,root,point,tPoint;
while(!elem.getBBox){elem=elem.parentNode;
}if(elem.getBBox&&elem.parentNode){box=elem.getBBox();
mtx=elem.getScreenCTM();
root=elem.farthestViewportElement||elem;
if(!root.createSVGPoint){return result;
}point=root.createSVGPoint();
point.x=box.x;
point.y=box.y;
tPoint=point.matrixTransform(mtx);
result.position.left=tPoint.x;
result.position.top=tPoint.y;
point.x+=box.width;
point.y+=box.height;
tPoint=point.matrixTransform(mtx);
result.width=tPoint.x-result.position.left;
result.height=tPoint.y-result.position.top;
result.position.left+=doc.scrollLeft();
result.position.top+=doc.scrollTop();
}return result;
};
function Ajax(api){var self=this,tooltip=api.elements.tooltip,opts=api.options.content.ajax,defaults=QTIP.defaults.content.ajax,namespace=".qtip-ajax",rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,first=TRUE,stop=FALSE,xhr;
api.checks.ajax={"^content.ajax":function(obj,name,v){if(name==="ajax"){opts=v;
}if(name==="once"){self.init();
}else{if(opts&&opts.url){self.load();
}else{tooltip.unbind(namespace);
}}}};
$.extend(self,{init:function(){if(opts&&opts.url){tooltip.unbind(namespace)[opts.once?"one":"bind"]("tooltipshow"+namespace,self.load);
}return self;
},load:function(event){if(stop){stop=FALSE;
return;
}var hasSelector=opts.url.lastIndexOf(" "),url=opts.url,selector,hideFirst=!opts.loading&&first;
if(hideFirst){try{event.preventDefault();
}catch(e){}}else{if(event&&event.isDefaultPrevented()){return self;
}}if(xhr&&xhr.abort){xhr.abort();
}if(hasSelector>-1){selector=url.substr(hasSelector);
url=url.substr(0,hasSelector);
}function after(){var complete;
if(api.destroyed){return;
}first=FALSE;
if(hideFirst){stop=TRUE;
api.show(event.originalEvent);
}if((complete=defaults.complete||opts.complete)&&$.isFunction(complete)){complete.apply(opts.context||api,arguments);
}}function successHandler(content,status,jqXHR){var success;
if(api.destroyed){return;
}if(selector&&"string"===typeof content){content=$("<div/>").append(content.replace(rscript,"")).find(selector);
}if((success=defaults.success||opts.success)&&$.isFunction(success)){success.call(opts.context||api,content,status,jqXHR);
}else{api.set("content.text",content);
}}function errorHandler(xhr,status,error){if(api.destroyed||xhr.status===0){return;
}api.set("content.text",status+": "+error);
}xhr=$.ajax($.extend({error:defaults.error||errorHandler,context:api},opts,{url:url,success:successHandler,complete:after}));
},destroy:function(){if(xhr&&xhr.abort){xhr.abort();
}api.destroyed=TRUE;
}});
self.init();
}PLUGINS.ajax=function(api){var self=api.plugins.ajax;
return"object"===typeof self?self:(api.plugins.ajax=new Ajax(api));
};
PLUGINS.ajax.initialize="render";
PLUGINS.ajax.sanitize=function(options){var content=options.content,opts;
if(content&&"ajax" in content){opts=content.ajax;
if(typeof opts!=="object"){opts=options.content.ajax={url:opts};
}if("boolean"!==typeof opts.once&&opts.once){opts.once=!!opts.once;
}}};
$.extend(TRUE,QTIP.defaults,{content:{ajax:{loading:TRUE,once:TRUE}}});
function calculateTip(corner,width,height){var width2=Math.ceil(width/2),height2=Math.ceil(height/2),tips={bottomright:[[0,0],[width,height],[width,0]],bottomleft:[[0,0],[width,0],[0,height]],topright:[[0,height],[width,0],[width,height]],topleft:[[0,0],[0,height],[width,height]],topcenter:[[0,height],[width2,0],[width,height]],bottomcenter:[[0,0],[width,0],[width2,height]],rightcenter:[[0,0],[width,height2],[0,height]],leftcenter:[[width,0],[width,height],[0,height2]]};
tips.lefttop=tips.bottomright;
tips.righttop=tips.bottomleft;
tips.leftbottom=tips.topright;
tips.rightbottom=tips.topleft;
return tips[corner.string()];
}function Tip(qTip,command){var self=this,opts=qTip.options.style.tip,elems=qTip.elements,tooltip=elems.tooltip,cache={top:0,left:0},size={width:opts.width,height:opts.height},color={},border=opts.border||0,namespace=".qtip-tip",hasCanvas=!!($("<canvas />")[0]||{}).getContext,tiphtml;
self.corner=NULL;
self.mimic=NULL;
self.border=border;
self.offset=opts.offset;
self.size=size;
qTip.checks.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){if(!self.init()){self.destroy();
}qTip.reposition();
},"^style.tip.(height|width)$":function(){size={width:opts.width,height:opts.height};
self.create();
self.update();
qTip.reposition();
},"^content.title.text|style.(classes|widget)$":function(){if(elems.tip&&elems.tip.length){self.update();
}}};
function whileVisible(callback){var visible=tooltip.is(":visible");
tooltip.show();
callback();
tooltip.toggle(visible);
}function swapDimensions(){size.width=opts.height;
size.height=opts.width;
}function resetDimensions(){size.width=opts.width;
size.height=opts.height;
}function reposition(event,api,pos,viewport){if(!elems.tip){return;
}var newCorner=self.corner.clone(),adjust=pos.adjusted,method=qTip.options.position.adjust.method.split(" "),horizontal=method[0],vertical=method[1]||method[0],shift={left:FALSE,top:FALSE,x:0,y:0},offset,css={},props;
if(self.corner.fixed!==TRUE){if(horizontal===SHIFT&&newCorner.precedance===X&&adjust.left&&newCorner.y!==CENTER){newCorner.precedance=newCorner.precedance===X?Y:X;
}else{if(horizontal!==SHIFT&&adjust.left){newCorner.x=newCorner.x===CENTER?(adjust.left>0?LEFT:RIGHT):(newCorner.x===LEFT?RIGHT:LEFT);
}}if(vertical===SHIFT&&newCorner.precedance===Y&&adjust.top&&newCorner.x!==CENTER){newCorner.precedance=newCorner.precedance===Y?X:Y;
}else{if(vertical!==SHIFT&&adjust.top){newCorner.y=newCorner.y===CENTER?(adjust.top>0?TOP:BOTTOM):(newCorner.y===TOP?BOTTOM:TOP);
}}if(newCorner.string()!==cache.corner.string()&&(cache.top!==adjust.top||cache.left!==adjust.left)){self.update(newCorner,FALSE);
}}offset=self.position(newCorner,adjust);
offset[newCorner.x]+=parseWidth(newCorner,newCorner.x);
offset[newCorner.y]+=parseWidth(newCorner,newCorner.y);
if(offset.right!==undefined){offset.left=-offset.right;
}if(offset.bottom!==undefined){offset.top=-offset.bottom;
}offset.user=Math.max(0,opts.offset);
if(shift.left=(horizontal===SHIFT&&!!adjust.left)){if(newCorner.x===CENTER){css["margin-left"]=shift.x=offset["margin-left"]-adjust.left;
}else{props=offset.right!==undefined?[adjust.left,-offset.left]:[-adjust.left,offset.left];
if((shift.x=Math.max(props[0],props[1]))>props[0]){pos.left-=adjust.left;
shift.left=FALSE;
}css[offset.right!==undefined?RIGHT:LEFT]=shift.x;
}}if(shift.top=(vertical===SHIFT&&!!adjust.top)){if(newCorner.y===CENTER){css["margin-top"]=shift.y=offset["margin-top"]-adjust.top;
}else{props=offset.bottom!==undefined?[adjust.top,-offset.top]:[-adjust.top,offset.top];
if((shift.y=Math.max(props[0],props[1]))>props[0]){pos.top-=adjust.top;
shift.top=FALSE;
}css[offset.bottom!==undefined?BOTTOM:TOP]=shift.y;
}}elems.tip.css(css).toggle(!((shift.x&&shift.y)||(newCorner.x===CENTER&&shift.y)||(newCorner.y===CENTER&&shift.x)));
pos.left-=offset.left.charAt?offset.user:horizontal!==SHIFT||shift.top||!shift.left&&!shift.top?offset.left:0;
pos.top-=offset.top.charAt?offset.user:vertical!==SHIFT||shift.left||!shift.left&&!shift.top?offset.top:0;
cache.left=adjust.left;
cache.top=adjust.top;
cache.corner=newCorner.clone();
}function parseCorner(){var corner=opts.corner,posOptions=qTip.options.position,at=posOptions.at,my=posOptions.my.string?posOptions.my.string():posOptions.my;
if(corner===FALSE||(my===FALSE&&at===FALSE)){return FALSE;
}else{if(corner===TRUE){self.corner=new PLUGINS.Corner(my);
}else{if(!corner.string){self.corner=new PLUGINS.Corner(corner);
self.corner.fixed=TRUE;
}}}cache.corner=new PLUGINS.Corner(self.corner.string());
return self.corner.string()!=="centercenter";
}function parseWidth(corner,side,use){side=!side?corner[corner.precedance]:side;
var isTitleTop=elems.titlebar&&corner.y===TOP,elem=isTitleTop?elems.titlebar:tooltip,borderSide="border-"+side+"-width",css=function(elem){return parseInt(elem.css(borderSide),10);
},val;
whileVisible(function(){val=(use?css(use):(css(elems.content)||css(elem)||css(tooltip)))||0;
});
return val;
}function parseRadius(corner){var isTitleTop=elems.titlebar&&corner.y===TOP,elem=isTitleTop?elems.titlebar:elems.content,moz=$.browser.mozilla,prefix=moz?"-moz-":$.browser.webkit?"-webkit-":"",nonStandard="border-radius-"+corner.y+corner.x,standard="border-"+corner.y+"-"+corner.x+"-radius",css=function(c){return parseInt(elem.css(c),10)||parseInt(tooltip.css(c),10);
},val;
whileVisible(function(){val=css(standard)||css(prefix+standard)||css(prefix+nonStandard)||css(nonStandard)||0;
});
return val;
}function parseColours(actual){var i,fill,border,tip=elems.tip.css("cssText",""),corner=actual||self.corner,invalid=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,borderSide="border-"+corner[corner.precedance]+"-color",bgColor="background-color",transparent="transparent",important=" !important",titlebar=elems.titlebar,useTitle=titlebar&&(corner.y===TOP||(corner.y===CENTER&&tip.position().top+(size.height/2)+opts.offset<titlebar.outerHeight(TRUE))),colorElem=useTitle?titlebar:elems.content;
function css(elem,prop,compare){var val=elem.css(prop)||transparent;
if(compare&&val===elem.css(compare)){return FALSE;
}else{return invalid.test(val)?FALSE:val;
}}whileVisible(function(){color.fill=css(tip,bgColor)||css(colorElem,bgColor)||css(elems.content,bgColor)||css(tooltip,bgColor)||tip.css(bgColor);
color.border=css(tip,borderSide,"color")||css(colorElem,borderSide,"color")||css(elems.content,borderSide,"color")||css(tooltip,borderSide,"color")||tooltip.css(borderSide);
$("*",tip).add(tip).css("cssText",bgColor+":"+transparent+important+";border:0"+important+";");
});
}function calculateSize(corner){var y=corner.precedance===Y,width=size[y?WIDTH:HEIGHT],height=size[y?HEIGHT:WIDTH],isCenter=corner.string().indexOf(CENTER)>-1,base=width*(isCenter?0.5:1),pow=Math.pow,round=Math.round,bigHyp,ratio,result,smallHyp=Math.sqrt(pow(base,2)+pow(height,2)),hyp=[(border/base)*smallHyp,(border/height)*smallHyp];
hyp[2]=Math.sqrt(pow(hyp[0],2)-pow(border,2));
hyp[3]=Math.sqrt(pow(hyp[1],2)-pow(border,2));
bigHyp=smallHyp+hyp[2]+hyp[3]+(isCenter?0:hyp[0]);
ratio=bigHyp/smallHyp;
result=[round(ratio*height),round(ratio*width)];
return{height:result[y?0:1],width:result[y?1:0]};
}function createVML(tag,props,style){return"<qvml:"+tag+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(props||"")+' style="behavior: url(#default#VML); '+(style||"")+'" />';
}$.extend(self,{init:function(){var enabled=parseCorner()&&(hasCanvas||$.browser.msie);
if(enabled){self.create();
self.update();
tooltip.unbind(namespace).bind("tooltipmove"+namespace,reposition);
if(!hasCanvas){tooltip.bind("tooltipredraw tooltipredrawn",function(event){if(event.type==="tooltipredraw"){tiphtml=elems.tip.html();
elems.tip.html("");
}else{elems.tip.html(tiphtml);
}});
}}return enabled;
},create:function(){var width=size.width,height=size.height,vml;
if(elems.tip){elems.tip.remove();
}elems.tip=$("<div />",{"class":"ui-tooltip-tip"}).css({width:width,height:height}).prependTo(tooltip);
if(hasCanvas){$("<canvas />").appendTo(elems.tip)[0].getContext("2d").save();
}else{vml=createVML("shape",'coordorigin="0,0"',"position:absolute;");
elems.tip.html(vml+vml);
$("*",elems.tip).bind("click mousedown",function(event){event.stopPropagation();
});
}},update:function(corner,position){var tip=elems.tip,inner=tip.children(),width=size.width,height=size.height,mimic=opts.mimic,round=Math.round,precedance,context,coords,translate,newSize;
if(!corner){corner=cache.corner||self.corner;
}if(mimic===FALSE){mimic=corner;
}else{mimic=new PLUGINS.Corner(mimic);
mimic.precedance=corner.precedance;
if(mimic.x==="inherit"){mimic.x=corner.x;
}else{if(mimic.y==="inherit"){mimic.y=corner.y;
}else{if(mimic.x===mimic.y){mimic[corner.precedance]=corner[corner.precedance];
}}}}precedance=mimic.precedance;
if(corner.precedance===X){swapDimensions();
}else{resetDimensions();
}elems.tip.css({width:(width=size.width),height:(height=size.height)});
parseColours(corner);
if(color.border!=="transparent"){border=parseWidth(corner,NULL);
if(opts.border===0&&border>0){color.fill=color.border;
}self.border=border=opts.border!==TRUE?opts.border:border;
}else{self.border=border=0;
}coords=calculateTip(mimic,width,height);
self.size=newSize=calculateSize(corner);
tip.css(newSize);
if(corner.precedance===Y){translate=[round(mimic.x===LEFT?border:mimic.x===RIGHT?newSize.width-width-border:(newSize.width-width)/2),round(mimic.y===TOP?newSize.height-height:0)];
}else{translate=[round(mimic.x===LEFT?newSize.width-width:0),round(mimic.y===TOP?border:mimic.y===BOTTOM?newSize.height-height-border:(newSize.height-height)/2)];
}if(hasCanvas){inner.attr(newSize);
context=inner[0].getContext("2d");
context.restore();
context.save();
context.clearRect(0,0,3000,3000);
context.fillStyle=color.fill;
context.strokeStyle=color.border;
context.lineWidth=border*2;
context.lineJoin="miter";
context.miterLimit=100;
context.translate(translate[0],translate[1]);
context.beginPath();
context.moveTo(coords[0][0],coords[0][1]);
context.lineTo(coords[1][0],coords[1][1]);
context.lineTo(coords[2][0],coords[2][1]);
context.closePath();
if(border){if(tooltip.css("background-clip")==="border-box"){context.strokeStyle=color.fill;
context.stroke();
}context.strokeStyle=color.border;
context.stroke();
}context.fill();
}else{coords="m"+coords[0][0]+","+coords[0][1]+" l"+coords[1][0]+","+coords[1][1]+" "+coords[2][0]+","+coords[2][1]+" xe";
translate[2]=border&&/^(r|b)/i.test(corner.string())?parseFloat($.browser.version,10)===8?2:1:0;
inner.css({coordsize:(width+border)+" "+(height+border),antialias:""+(mimic.string().indexOf(CENTER)>-1),left:translate[0],top:translate[1],width:width+border,height:height+border}).each(function(i){var $this=$(this);
$this[$this.prop?"prop":"attr"]({coordsize:(width+border)+" "+(height+border),path:coords,fillcolor:color.fill,filled:!!i,stroked:!i}).toggle(!!(border||i));
if(!i&&$this.html()===""){$this.html(createVML("stroke",'weight="'+(border*2)+'px" color="'+color.border+'" miterlimit="1000" joinstyle="miter"'));
}});
}if(position!==FALSE){self.position(corner);
}},position:function(corner){var tip=elems.tip,position={},userOffset=Math.max(0,opts.offset),precedance,dimensions,corners;
if(opts.corner===FALSE||!tip){return FALSE;
}corner=corner||self.corner;
precedance=corner.precedance;
dimensions=calculateSize(corner);
corners=[corner.x,corner.y];
if(precedance===X){corners.reverse();
}$.each(corners,function(i,side){var b,bc,br;
if(side===CENTER){b=precedance===Y?LEFT:TOP;
position[b]="50%";
position["margin-"+b]=-Math.round(dimensions[precedance===Y?WIDTH:HEIGHT]/2)+userOffset;
}else{b=parseWidth(corner,side);
bc=parseWidth(corner,side,elems.content);
br=parseRadius(corner);
position[side]=i?bc:(userOffset+(br>b?br:-b));
}});
position[corner[precedance]]-=dimensions[precedance===X?WIDTH:HEIGHT];
tip.css({top:"",bottom:"",left:"",right:"",margin:""}).css(position);
return position;
},destroy:function(){if(elems.tip){elems.tip.remove();
}elems.tip=false;
tooltip.unbind(namespace);
}});
self.init();
}PLUGINS.tip=function(api){var self=api.plugins.tip;
return"object"===typeof self?self:(api.plugins.tip=new Tip(api));
};
PLUGINS.tip.initialize="render";
PLUGINS.tip.sanitize=function(options){var style=options.style,opts;
if(style&&"tip" in style){opts=options.style.tip;
if(typeof opts!=="object"){options.style.tip={corner:opts};
}if(!(/string|boolean/i).test(typeof opts.corner)){opts.corner=TRUE;
}if(typeof opts.width!=="number"){delete opts.width;
}if(typeof opts.height!=="number"){delete opts.height;
}if(typeof opts.border!=="number"&&opts.border!==TRUE){delete opts.border;
}if(typeof opts.offset!=="number"){delete opts.offset;
}}};
$.extend(TRUE,QTIP.defaults,{style:{tip:{corner:TRUE,mimic:FALSE,width:6,height:6,border:TRUE,offset:0}}});
function Modal(api){var self=this,options=api.options.show.modal,elems=api.elements,tooltip=elems.tooltip,overlaySelector="#qtip-overlay",globalNamespace=".qtipmodal",namespace=globalNamespace+api.id,attr="is-modal-qtip",docBody=$(document.body),focusableSelector=PLUGINS.modal.focusable.join(","),focusableElems={},overlay;
api.checks.modal={"^show.modal.(on|blur)$":function(){self.init();
elems.overlay.toggle(tooltip.is(":visible"));
},"^content.text$":function(){updateFocusable();
}};
function updateFocusable(){focusableElems=$(focusableSelector,tooltip).not("[disabled]").map(function(){return typeof this.focus==="function"?this:null;
});
}function focusInputs(blurElems){if(focusableElems.length<1&&blurElems.length){blurElems.not("body").blur();
}else{focusableElems.first().focus();
}}function stealFocus(event){var target=$(event.target),container=target.closest(".qtip"),targetOnTop;
targetOnTop=container.length<1?FALSE:(parseInt(container[0].style.zIndex,10)>parseInt(tooltip[0].style.zIndex,10));
if(!targetOnTop&&($(event.target).closest(selector)[0]!==tooltip[0])){focusInputs(target);
}}$.extend(self,{init:function(){if(!options.on){return self;
}overlay=self.create();
tooltip.attr(attr,TRUE).css("z-index",PLUGINS.modal.zindex+$(selector+"["+attr+"]").length).unbind(globalNamespace).unbind(namespace).bind("tooltipshow"+globalNamespace+" tooltiphide"+globalNamespace,function(event,api,duration){var oEvent=event.originalEvent;
if(event.target===tooltip[0]){if(oEvent&&event.type==="tooltiphide"&&/mouse(leave|enter)/.test(oEvent.type)&&$(oEvent.relatedTarget).closest(overlay[0]).length){try{event.preventDefault();
}catch(e){}}else{if(!oEvent||(oEvent&&!oEvent.solo)){self[event.type.replace("tooltip","")](event,duration);
}}}}).bind("tooltipfocus"+globalNamespace,function(event){if(event.isDefaultPrevented()||event.target!==tooltip[0]){return;
}var qtips=$(selector).filter("["+attr+"]"),newIndex=PLUGINS.modal.zindex+qtips.length,curIndex=parseInt(tooltip[0].style.zIndex,10);
overlay[0].style.zIndex=newIndex-2;
qtips.each(function(){if(this.style.zIndex>curIndex){this.style.zIndex-=1;
}});
qtips.end().filter("."+focusClass).qtip("blur",event.originalEvent);
tooltip.addClass(focusClass)[0].style.zIndex=newIndex;
try{event.preventDefault();
}catch(e){}}).bind("tooltiphide"+globalNamespace,function(event){if(event.target===tooltip[0]){$("["+attr+"]").filter(":visible").not(tooltip).last().qtip("focus",event);
}});
if(options.escape){$(document).unbind(namespace).bind("keydown"+namespace,function(event){if(event.keyCode===27&&tooltip.hasClass(focusClass)){api.hide(event);
}});
}if(options.blur){elems.overlay.unbind(namespace).bind("click"+namespace,function(event){if(tooltip.hasClass(focusClass)){api.hide(event);
}});
}updateFocusable();
return self;
},create:function(){var elem=$(overlaySelector);
if(elem.length){return(elems.overlay=elem.insertAfter($(selector).last()));
}overlay=elems.overlay=$("<div />",{id:overlaySelector.substr(1),html:"<div></div>",mousedown:function(){return FALSE;
}}).hide().insertAfter($(selector).last());
function resize(){overlay.css({height:$(window).height(),width:$(window).width()});
}$(window).unbind(globalNamespace).bind("resize"+globalNamespace,resize);
resize();
return overlay;
},toggle:function(event,state,duration){if(event&&event.isDefaultPrevented()){return self;
}var effect=options.effect,type=state?"show":"hide",visible=overlay.is(":visible"),modals=$("["+attr+"]").filter(":visible").not(tooltip),zindex;
if(!overlay){overlay=self.create();
}if((overlay.is(":animated")&&visible===state)||(!state&&modals.length)){return self;
}if(state){overlay.css({left:0,top:0});
overlay.toggleClass("blurs",options.blur);
if(options.stealfocus!==FALSE){docBody.bind("focusin"+namespace,stealFocus);
focusInputs($("body :focus"));
}}else{docBody.unbind("focusin"+namespace);
}overlay.stop(TRUE,FALSE);
if($.isFunction(effect)){effect.call(overlay,state);
}else{if(effect===FALSE){overlay[type]();
}else{overlay.fadeTo(parseInt(duration,10)||90,state?1:0,function(){if(!state){$(this).hide();
}});
}}if(!state){overlay.queue(function(next){overlay.css({left:"",top:""});
next();
});
}return self;
},show:function(event,duration){return self.toggle(event,TRUE,duration);
},hide:function(event,duration){return self.toggle(event,FALSE,duration);
},destroy:function(){var delBlanket=overlay;
if(delBlanket){delBlanket=$("["+attr+"]").not(tooltip).length<1;
if(delBlanket){elems.overlay.remove();
$(document).unbind(globalNamespace);
}else{elems.overlay.unbind(globalNamespace+api.id);
}docBody.undelegate("*","focusin"+namespace);
}return tooltip.removeAttr(attr).unbind(globalNamespace);
}});
self.init();
}PLUGINS.modal=function(api){var self=api.plugins.modal;
return"object"===typeof self?self:(api.plugins.modal=new Modal(api));
};
PLUGINS.modal.initialize="render";
PLUGINS.modal.sanitize=function(opts){if(opts.show){if(typeof opts.show.modal!=="object"){opts.show.modal={on:!!opts.show.modal};
}else{if(typeof opts.show.modal.on==="undefined"){opts.show.modal.on=TRUE;
}}}};
PLUGINS.modal.zindex=QTIP.zindex-200;
PLUGINS.modal.focusable=["a[href]","area[href]","input","select","textarea","button","iframe","object","embed","[tabindex]","[contenteditable]"];
$.extend(TRUE,QTIP.defaults,{show:{modal:{on:FALSE,effect:TRUE,blur:TRUE,stealfocus:TRUE,escape:TRUE}}});
PLUGINS.viewport=function(api,position,posOptions,targetWidth,targetHeight,elemWidth,elemHeight){var target=posOptions.target,tooltip=api.elements.tooltip,my=posOptions.my,at=posOptions.at,adjust=posOptions.adjust,method=adjust.method.split(" "),methodX=method[0],methodY=method[1]||method[0],viewport=posOptions.viewport,container=posOptions.container,cache=api.cache,tip=api.plugins.tip,adjusted={left:0,top:0},fixed,newMy,newClass;
if(!viewport.jquery||target[0]===window||target[0]===document.body||adjust.method==="none"){return adjusted;
}fixed=tooltip.css("position")==="fixed";
viewport={elem:viewport,height:viewport[(viewport[0]===window?"h":"outerH")+"eight"](),width:viewport[(viewport[0]===window?"w":"outerW")+"idth"](),scrollleft:fixed?0:viewport.scrollLeft(),scrolltop:fixed?0:viewport.scrollTop(),offset:viewport.offset()||{left:0,top:0}};
container={elem:container,scrollLeft:container.scrollLeft(),scrollTop:container.scrollTop(),offset:container.offset()||{left:0,top:0}};
function calculate(side,otherSide,type,adjust,side1,side2,lengthName,targetLength,elemLength){var initialPos=position[side1],mySide=my[side],atSide=at[side],isShift=type===SHIFT,viewportScroll=-container.offset[side1]+viewport.offset[side1]+viewport["scroll"+side1],myLength=mySide===side1?elemLength:mySide===side2?-elemLength:-elemLength/2,atLength=atSide===side1?targetLength:atSide===side2?-targetLength:-targetLength/2,tipLength=tip&&tip.size?tip.size[lengthName]||0:0,tipAdjust=tip&&tip.corner&&tip.corner.precedance===side&&!isShift?tipLength:0,overflow1=viewportScroll-initialPos+tipAdjust,overflow2=initialPos+elemLength-viewport[lengthName]-viewportScroll+tipAdjust,offset=myLength-(my.precedance===side||mySide===my[otherSide]?atLength:0)-(atSide===CENTER?targetLength/2:0);
if(isShift){tipAdjust=tip&&tip.corner&&tip.corner.precedance===otherSide?tipLength:0;
offset=(mySide===side1?1:-1)*myLength-tipAdjust;
position[side1]+=overflow1>0?overflow1:overflow2>0?-overflow2:0;
position[side1]=Math.max(-container.offset[side1]+viewport.offset[side1]+(tipAdjust&&tip.corner[side]===CENTER?tip.offset:0),initialPos-offset,Math.min(Math.max(-container.offset[side1]+viewport.offset[side1]+viewport[lengthName],initialPos+offset),position[side1]));
}else{adjust*=(type===FLIPINVERT?2:0);
if(overflow1>0&&(mySide!==side1||overflow2>0)){position[side1]-=offset+adjust;
newMy["invert"+side](side1);
}else{if(overflow2>0&&(mySide!==side2||overflow1>0)){position[side1]-=(mySide===CENTER?-offset:offset)+adjust;
newMy["invert"+side](side2);
}}if(position[side1]<viewportScroll&&-position[side1]>overflow2){position[side1]=initialPos;
newMy=my.clone();
}}return position[side1]-initialPos;
}if(methodX!=="shift"||methodY!=="shift"){newMy=my.clone();
}adjusted={left:methodX!=="none"?calculate(X,Y,methodX,adjust.x,LEFT,RIGHT,WIDTH,targetWidth,elemWidth):0,top:methodY!=="none"?calculate(Y,X,methodY,adjust.y,TOP,BOTTOM,HEIGHT,targetHeight,elemHeight):0};
if(newMy&&cache.lastClass!==(newClass=uitooltip+"-pos-"+newMy.abbrev())){tooltip.removeClass(api.cache.lastClass).addClass((api.cache.lastClass=newClass));
}return adjusted;
};
PLUGINS.imagemap=function(api,area,corner,adjustMethod){if(!area.jquery){area=$(area);
}var cache=(api.cache.areas={}),shape=(area[0].shape||area.attr("shape")).toLowerCase(),coordsString=area[0].coords||area.attr("coords"),baseCoords=coordsString.split(","),coords=[],image=$('img[usemap="#'+area.parent("map").attr("name")+'"]'),imageOffset=image.offset(),result={width:0,height:0,position:{top:10000000000,right:0,bottom:0,left:10000000000}},i=0,next=0,dimensions;
function polyCoordinates(result,coords,corner){var i=0,compareX=1,compareY=1,realX=0,realY=0,newWidth=result.width,newHeight=result.height;
while(newWidth>0&&newHeight>0&&compareX>0&&compareY>0){newWidth=Math.floor(newWidth/2);
newHeight=Math.floor(newHeight/2);
if(corner.x===LEFT){compareX=newWidth;
}else{if(corner.x===RIGHT){compareX=result.width-newWidth;
}else{compareX+=Math.floor(newWidth/2);
}}if(corner.y===TOP){compareY=newHeight;
}else{if(corner.y===BOTTOM){compareY=result.height-newHeight;
}else{compareY+=Math.floor(newHeight/2);
}}i=coords.length;
while(i--){if(coords.length<2){break;
}realX=coords[i][0]-result.position.left;
realY=coords[i][1]-result.position.top;
if((corner.x===LEFT&&realX>=compareX)||(corner.x===RIGHT&&realX<=compareX)||(corner.x===CENTER&&(realX<compareX||realX>(result.width-compareX)))||(corner.y===TOP&&realY>=compareY)||(corner.y===BOTTOM&&realY<=compareY)||(corner.y===CENTER&&(realY<compareY||realY>(result.height-compareY)))){coords.splice(i,1);
}}}return{left:coords[0][0],top:coords[0][1]};
}imageOffset.left+=Math.ceil((image.outerWidth()-image.width())/2);
imageOffset.top+=Math.ceil((image.outerHeight()-image.height())/2);
if(shape==="poly"){i=baseCoords.length;
while(i--){next=[parseInt(baseCoords[--i],10),parseInt(baseCoords[i+1],10)];
if(next[0]>result.position.right){result.position.right=next[0];
}if(next[0]<result.position.left){result.position.left=next[0];
}if(next[1]>result.position.bottom){result.position.bottom=next[1];
}if(next[1]<result.position.top){result.position.top=next[1];
}coords.push(next);
}}else{i=-1;
while(i++<baseCoords.length){coords.push(parseInt(baseCoords[i],10));
}}switch(shape){case"rect":result={width:Math.abs(coords[2]-coords[0]),height:Math.abs(coords[3]-coords[1]),position:{left:Math.min(coords[0],coords[2]),top:Math.min(coords[1],coords[3])}};
break;
case"circle":result={width:coords[2]+2,height:coords[2]+2,position:{left:coords[0],top:coords[1]}};
break;
case"poly":result.width=Math.abs(result.position.right-result.position.left);
result.height=Math.abs(result.position.bottom-result.position.top);
if(corner.abbrev()==="c"){result.position={left:result.position.left+(result.width/2),top:result.position.top+(result.height/2)};
}else{if(!cache[corner+coordsString]){result.position=polyCoordinates(result,coords.slice(),corner);
if(adjustMethod&&(adjustMethod[0]==="flip"||adjustMethod[1]==="flip")){result.offset=polyCoordinates(result,coords.slice(),{x:corner.x===LEFT?RIGHT:corner.x===RIGHT?LEFT:CENTER,y:corner.y===TOP?BOTTOM:corner.y===BOTTOM?TOP:CENTER});
result.offset.left-=result.position.left;
result.offset.top-=result.position.top;
}cache[corner+coordsString]=result;
}result=cache[corner+coordsString];
}result.width=result.height=0;
break;
}result.position.left+=imageOffset.left;
result.position.top+=imageOffset.top;
return result;
};
function BGIFrame(api){var self=this,elems=api.elements,tooltip=elems.tooltip,namespace=".bgiframe-"+api.id;
$.extend(self,{init:function(){elems.bgiframe=$('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>');
elems.bgiframe.appendTo(tooltip);
tooltip.bind("tooltipmove"+namespace,self.adjust);
},adjust:function(){var dimensions=api.get("dimensions"),plugin=api.plugins.tip,tip=elems.tip,tipAdjust,offset;
offset=parseInt(tooltip.css("border-left-width"),10)||0;
offset={left:-offset,top:-offset};
if(plugin&&tip){tipAdjust=(plugin.corner.precedance==="x")?["width","left"]:["height","top"];
offset[tipAdjust[1]]-=tip[tipAdjust[0]]();
}elems.bgiframe.css(offset).css(dimensions);
},destroy:function(){elems.bgiframe.remove();
tooltip.unbind(namespace);
}});
self.init();
}PLUGINS.bgiframe=function(api){var browser=$.browser,self=api.plugins.bgiframe;
if($("select, object").length<1||!(browser.msie&&(""+browser.version).charAt(0)==="6")){return FALSE;
}return"object"===typeof self?self:(api.plugins.bgiframe=new BGIFrame(api));
};
PLUGINS.bgiframe.initialize="render";
}));
}(window,document));
var JSON;
if(!JSON){JSON={};
}(function(){function f(n){return n<10?"0"+n:n;
}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null;
};
String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf();
};
}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;
function quote(string){escapable.lastIndex=0;
return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];
return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);
})+'"':'"'+string+'"';
}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];
if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key);
}if(typeof rep==="function"){value=rep.call(holder,key,value);
}switch(typeof value){case"string":if(JSON.isCCLFloatNumber(value)>" "){return JSON.getCCLFloatNumber(value);
}else{return quote(value);
}case"number":return isFinite(value)?String(value):"null";
case"boolean":case"null":return String(value);
case"object":if(!value){return"null";
}gap+=indent;
partial=[];
if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;
for(i=0;
i<length;
i+=1){partial[i]=str(i,value)||"null";
}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";
gap=mind;
return v;
}if(rep&&typeof rep==="object"){length=rep.length;
for(i=0;
i<length;
i+=1){if(typeof rep[i]==="string"){k=rep[i];
v=str(k,value);
if(v){partial.push(quote(k)+(gap?": ":":")+v);
}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);
if(v){partial.push(quote(k)+(gap?": ":":")+v);
}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";
gap=mind;
return v;
}}JSON.stringify=function(value,replacer,space){var i;
gap="";
indent="";
if(typeof space==="number"){for(i=0;
i<space;
i+=1){indent+=" ";
}}else{if(typeof space==="string"){indent=space;
}}rep=replacer;
if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify");
}return str("",{"":value});
};
if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;
function walk(holder,key){var k,v,value=holder[key];
if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);
if(v!==undefined){value[k]=v;
}else{delete value[k];
}}}}return reviver.call(holder,key,value);
}text=String(text);
cx.lastIndex=0;
if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);
});
}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");
return typeof reviver==="function"?walk({"":j},""):j;
}throw new SyntaxError("JSON.parse");
};
}}());
JSON.CCLFLOAT="@CCL_FLOAT@";
JSON.isCCLFloatNumber=function(jsString){if(jsString.indexOf(JSON.CCLFLOAT)===0){return true;
}return false;
};
JSON.setCCLFloatNumber=function(jsNumber){var returnNumber=jsNumber;
if(typeof jsNumber=="number"&&!isNaN(jsNumber)){if(parseFloat(jsNumber)==parseInt(jsNumber,10)){jsNumber=jsNumber.toFixed(2);
}returnNumber=JSON.CCLFLOAT+jsNumber;
}return(returnNumber);
};
JSON.getCCLFloatNumber=function(jsString){var returnNumber="";
returnNumber=jsString.split(JSON.CCLFLOAT).join("");
return(returnNumber);
};
jQuery.extend({loadLocaleFile:function(path){var scriptObj={};
var msg={status:"F",errMsg:""};
scriptObj.name="lhc_get_dt_tm_fmt_and_locale";
scriptObj.params="^MINE^";
$.ajax({url:scriptObj.name,data:scriptObj.params,type:"POST",async:false,error:function(){msg.errMsg="Failure getting date/time formats from script: "+scriptObj.name;
},success:function(response){try{var formatResults=JSON.parse(response);
var targetI18nFileObj={};
var languageLocale={LOCALE_ID:"EN_US",LANG_ID:"en",LANG_LOCALE_ID:"us",I18N_REF:"en_US"};
var localeLanguage=formatResults.RECORD_DATA.LANG_LOCALE.LANG_ID.toUpperCase();
var localeCountry=formatResults.RECORD_DATA.LANG_LOCALE.LANG_LOCALE_ID.toUpperCase();
switch(localeLanguage){case"EN":switch(localeCountry){case"US":languageLocale.I18N_REF="en_US";
break;
case"AU":languageLocale.I18N_REF="en_AU";
break;
case"GB":languageLocale.I18N_REF="en_GB";
default:languageLocale.I18N_REF="en_US";
break;
}break;
case"DE":languageLocale.I18N_REF="de";
break;
case"FR":languageLocale.I18N_REF="fr";
break;
case"PT":languageLocale.I18N_REF="pt_BR";
break;
case"SP":case"ES":languageLocale.I18N_REF="es";
break;
default:languageLocale.I18N_REF="en_US";
break;
}targetI18nFileObj.name="locale-"+languageLocale.I18N_REF+".js";
if(typeof path==="undefined"){targetI18nFileObj.path="js/locale/";
}else{targetI18nFileObj.path=path;
}targetI18nFileObj.url=targetI18nFileObj.path+targetI18nFileObj.name;
var head=document.getElementsByTagName("head")[0];
var script=document.createElement("script");
script.onerror=function(){log.error(targetI18nFileObj.url+" file not found, loading en_US version instead.");
var backupHead=document.getElementsByTagName("head")[0];
var backupScript=document.createElement("script");
backupScript.type="text/javascript";
backupScript.src="js/locale/locale-en_US.js";
backupHead.appendChild(backupScript);
};
script.type="text/javascript";
script.src=targetI18nFileObj.url;
head.appendChild(script);
}catch(e){log.error(JSON.stringify(xmlhttp));
log.error(xmlhttp.responseText);
log.error("Error occurred when trying to build date/time locale object. "+scriptObj.name+".");
console.log(e);
}}});
return msg;
}});
/* eslint-disable */
/* eslint-disable eqeqeq */
/* eslint-disable no-unused-vars */
/* eslint-disable new-cap */
var objectAssign = (function() {
    var propIsEnumerable = Object.prototype.propertyIsEnumerable;

    function ToObject(val) {
        if (val == null) {
            throw new TypeError('Object.assign cannot be called with null or undefined');
        }

        return Object(val);
    }

    function ownEnumerableKeys(obj) {
        var keys = Object.getOwnPropertyNames(obj);

        if (Object.getOwnPropertySymbols) {
            keys = keys.concat(Object.getOwnPropertySymbols(obj));
        }

        return keys.filter(function(key) {
            return propIsEnumerable.call(obj, key);
        });
    }

    return Object.assign || function(target, source) {
            var from;
            var keys;
            var to = ToObject(target);

            for (var s = 1; s < arguments.length; s++) {
                from = arguments[ s ];
                keys = ownEnumerableKeys(Object(from));

                for (var i = 0; i < keys.length; i++) {
                    to[ keys[ i ] ] = from[ keys[ i ] ];
                }
            }

            return to;
        };
})();
/* eslint-enable eqeqeq */
/* eslint-enable no-unused-vars */
/* eslint-enable new-cap */

var EventEmitter = function() {
};

/**
 * Adds a listener.
 *
 * @api public
 */

EventEmitter.prototype.on = function(name, fn) {
    if (!this.$events) {
        this.$events = {};
    }

    if (!this.$events[ name ]) {
        this.$events[ name ] = fn;
    }
    else if (Array.isArray(this.$events[ name ])) {
        this.$events[ name ].push(fn);
    }
    else {
        this.$events[ name ] = [ this.$events[ name ], fn ];
    }

    return this;
};

EventEmitter.prototype.addListener = EventEmitter.prototype.on;

/**
 * Adds a volatile listener.
 *
 * @api public
 */

EventEmitter.prototype.once = function(name, fn) {
    var self = this;

    function on() {
        self.removeListener(name, on);
        fn.apply(this, arguments);
    };

    on.listener = fn;
    this.on(name, on);

    return this;
};

/**
 * Removes a listener.
 *
 * @api public
 */

EventEmitter.prototype.removeListener = function(name, fn) {
    if (this.$events && this.$events[ name ]) {
        var list = this.$events[ name ];

        if (Array.isArray(list)) {
            var pos = -1;

            for (var i = 0, l = list.length; i < l; i++) {
                if (list[ i ] === fn || (list[ i ].listener && list[ i ].listener === fn)) {
                    pos = i;
                    break;
                }
            }

            if (pos < 0) {
                return this;
            }

            list.splice(pos, 1);

            if (!list.length) {
                delete this.$events[ name ];
            }
        }
        else if (list === fn || (list.listener && list.listener === fn)) {
            delete this.$events[ name ];
        }
    }

    return this;
};

/**
 * Removes all listeners for an event.
 *
 * @api public
 */

EventEmitter.prototype.removeAllListeners = function(name) {
    if (name === undefined) {
        this.$events = {};
        return this;
    }

    if (this.$events && this.$events[ name ]) {
        this.$events[ name ] = null;
    }

    return this;
};

/**
 * Gets all listeners for a certain event.
 *
 * @api public
 */

EventEmitter.prototype.listeners = function(name) {
    if (!this.$events) {
        this.$events = {};
    }

    if (!this.$events[ name ]) {
        this.$events[ name ] = [];
    }

    if (!Array.isArray(this.$events[ name ])) {
        this.$events[ name ] = [ this.$events[ name ] ];
    }

    return this.$events[ name ];
};

/**
 * Emits an event.
 *
 * @api public
 */

EventEmitter.prototype.emit = function(name) {
    if (!this.$events) {
        return false;
    }

    var handler = this.$events[ name ];

    if (!handler) {
        return false;
    }

    var args = [].slice.call(arguments, 1);

    if ('function' == typeof handler) {
        handler.apply(this, args);
    }
    else if (Array.isArray(handler)) {
        var listeners = handler.slice();

        for (var i = 0, l = listeners.length; i < l; i++) {
            listeners[ i ].apply(this, args);
        }
    }
    else {
        return false;
    }

    return true;
};

/* global objectAssign */
/* global EventEmitter */
var MPageUI = (function() {
    /**
     * An enumeration indicating the policy for mixing in a specification as it
     * is used in MPageUI.createClass.
     * @type {{ONCE: string, MULTI: string}}
     */
    var SPEC_POLICY = {
        ONCE: "ONCE",       //The key can only be mixed into the component once
        MULTI: "MULTI"      //The key can be merged multiple times
    };
    /**
     * An enumeration of recognized MPageUI.UIComponent functions that indicates
     * how each should be handled when mixing in the specification via
     * MPageUI.createClass.
     * @type {{functionName: SPEC_POLICY}} A key/value pair indicating the
     * policy for each function when mixing in the specification.
     */
    var MPageUIInterface = {
        attachEvents: SPEC_POLICY.ONCE,
        render: SPEC_POLICY.ONCE,
        init: SPEC_POLICY.MULTI,
        onReceiveProps: SPEC_POLICY.MULTI
    };
    /**
     * A utility function which takes two functions and returns a merged
     * function which calls fnOne then fnTwo with the same parameters.
     * @param {function} fnOne - The first function in the chain.
     * @param {function} fnTwo - The second function in the chain.
     * @returns {function} The merged function which calls fnOne then fnTwo in
     * that order.
     */
    var chainFunctions = function(fnOne, fnTwo) {
        return function chained() {
            fnOne.apply(this, arguments);
            fnTwo.apply(this, arguments);
        };
    };
    /**
     * This function takes a Constructor function and a specification which
     * will be mixed into the prototype of the Constructor. If a name collision
     * occurs and it is a function, the functions will be merged into one
     * function.
     * @param {Object} Constructor - The Constructor object, this is the
     * Constructor of the class being created.
     * @param {{}} spec - A JSON object specification whose properties are
     * mixed into the Constructor.
     * @returns {undefined} Returns nothing.
     */
    var mixSpec = function(Constructor, spec) {
        if (!spec) {
            return;
        }
        var proto = Constructor.prototype;
        if (spec.hasOwnProperty("mixins")) {
            spec.mixins.forEach(function(mixin) {
                mixSpec(Constructor, mixin);
            });
        }
        for (var name in spec) {
            if (!spec.hasOwnProperty(name) || name === "mixins") {
                continue;
            }
            var property = spec[ name ];
            var alreadyDefined = proto.hasOwnProperty(name);
            if (alreadyDefined) {
                var specPolicy = MPageUIInterface[ name ];
                if (specPolicy === SPEC_POLICY.MULTI) {
                    proto[ name ] = chainFunctions(proto[ name ], property);
                }
                else if (specPolicy === SPEC_POLICY.ONCE) {
                    logger.logWarning("Error creating MPageUI class, you can't define this fn");
                }
            }
            else {
                proto[ name ] = property;
            }
        }
    };

    var idGen = 0;
    var uiComponentPrefix = "mpageui_";
    return {
        /**
         * Retrieves the window object.
         * @returns {Window} The browser window object.
         */
        getWindow: function() {
            return window;
        },
        /**
         * Consider using MPageUI.createClass({}) instead.
         *
         * A small helper function that will make the provided Subclass function
         * a subclass of the provided ParentClass by setting the Subclass'
         * prototype.
         * @param {function} Subclass - The function (class) that is to become
         * a subclass of the ParentClass.
         * @param {function} ParentClass - The function (class) that is to
         * become the parent class of the Subclass.
         * @returns {undefined} Returns nothing.
         */
        extend: function(Subclass, ParentClass) {
            //Make the Subclass extend the ParentClass
            var parentClass = new ParentClass();
            Subclass.prototype = parentClass;
            Subclass.prototype.constructor = ParentClass;
        },
        /**
         * Registers a UIComponent to the MPageUI framework by giving it a
         * unique identifier.
         * @param {MPageUI.UIComponent} component - The UIComponent object to
         * be registered into the MPageUI framework.
         * @private
         * @returns {undefined} Returns undefined.
         */
        registerComponent: function(component) {
            var gid = ++idGen + "";
            component.setId(uiComponentPrefix + gid);
        },
        /**
         * Creates a new MPageUI class
         * @param {object} spec - The object specification for creating an
         * MPageUI class.
         * @returns {Function} A constructor with the specification mixed into
         * the prototype.
         */
        createClass: function(spec) {
            var Constructor = function(props) {
                this.m_props = props || {};
                this.base();
                this.init();
            };
            //By default, inherit from the base UIComponent object
            Constructor.prototype = new MPageUI.UIComponent();
            Constructor.prototype.constructor = MPageUI.UIComponent;

            //If this component is flagged as an emitter, add that to its
            //prototype
            if (spec.hasOwnProperty("emitter") && spec.emitter) {
                objectAssign(Constructor.prototype, EventEmitter.prototype);
            }

            mixSpec(Constructor, spec);

            return Constructor;
        }
    };
})();

MPageUI.UIComponent = (function() {
    /**
     * The base UIComponent class. All 'widgets' that are part of the MPageUI
     * framework must inherit from this base class.
     * @returns {MPageUI.UIComponent} Returns self to allow chaining.
     * @constructor
     */
    var UIComponent = function() {
        this.m_props = {};
        this.m_id = "";
        this.m_parent = null;
        this.m_$rootElement = null;
        return this;
    };
    UIComponent.prototype = {
        /**
         * Returns the props on the UIComponent.
         * @returns {{}} The props on the UIComponent.
         */
        getProps: function() {
            return this.m_props;
        },
        /**
         * This function takes properties, merges them with the existing
         * properties, then triggers the onReceiveProps function for the
         * UIComponent.
         * @param {{}} props - An object/JSON of properties for the
         * UIComponent. Properties should be just that, properties. It is
         * HIGHLY RECOMMENDED that you do NOT store other UIComponents as
         * properties unless you have a very good reason and understand that
         * by setting a property on a UIComponent, the UIComponent will hold
         * onto a reference of your property unless explicitly removed.
         * @returns {MPageUI.UIComponent} Returns self to allow chaining.
         */
        setProps: function(props) {
            this.m_props = objectAssign(this.m_props, props);
            this.onReceiveProps(props);
            return this;
        },
        /**
         * The clearProps function will clear the props on the UIComponent.
         * Clearing means that the props will be reset back to an empty JSON
         * object.
         * @returns {MPageUI.UIComponent} Returns self to allow chaining.
         */
        clearProps: function() {
            this.m_props = {};
            return this;
        },
        /* eslint-disable no-unused-vars */
        /**
         * This function is meant to be overridden in an MPageUI.UIComponent
         * class to handle the UIComponent receiving new properties. This
         * function is called AFTER the properties have already been stored
         * in this.m_props. The object received by this function are only the
         * new props that were set. A common use-case for this function is
         * to refresh the UIComponent based on the new properties.
         * @param {{}} nextProps - The next set of properties that were merged
         * into this.props.
         * @returns {MPageUI.UIComponent} Returns self to allow chaining.
         */
        onReceiveProps: function(nextProps) {
            return this;
        },
        /* eslint-enable no-unused-vars */
        /**
         * This function shall house any post-render event attachments.
         * The UIComponent must exist on the DOM before this function is called.
         * It is expected that subclasses of the UIComponent provide an
         * implementation of this function.
         * @returns {MPageUI.UIComponent} Returns self to allow chaining.
         */
        attachEvents: function() {
            return this;
        },
        /**
         * Serves as a base constructor for any UIComponent. This function must
         * be called within the constructor of any subclasses of the UIComponent.
         * This ensures the UIComponent is properly registered with the MPageUI
         * framework. Failure to register will result in unexpected behavior.
         * @returns {MPageUI.UIComponent} Returns self to allow chaining.
         */
        base: function() {
            MPageUI.registerComponent(this);
            return this;
        },
        /**
         * This function clears any cached elements stored in the UIComponent.
         * This ensures that the next time an element is requested, it will be
         * queried from the DOM anew. Developers who choose to cache more than
         * the root element in their UIComponent may wish to override this
         * function so that calling it will clear their set of cached elements.
         * @returns {MPageUI.UIComponent} Returns self to allow chaining.
         */
        clearElementCache: function() {
            this.m_$rootElement = null;
            return this;
        },
        /**
         * This function shall house any post-constructor initialization
         * processing. This function is especially useful for developers who
         * choose to create their UIComponent's via MPageUI.createClass as it
         * gives them an entry point into the constructor of the class.
         * @returns {MPageUI.UIComponent} Returns self to allow chaining.
         */
        init: function() {
            return this;
        },
        /**
         * Retrieves the ID of the UIComponent.
         * @returns {string} The ID of the UIComponent.
         */
        getId: function() {
            return this.m_id;
        },
        /**
         * Sets the ID of the UIComponent. This ID must be unique across all
         * UIComponent objects as it should be applied to the root DOM element
         * of the UIComponent.
         * @param {string} id - The ID of the UIComponent.
         * @returns {MPageUI.UIComponent} Returns self to allow chaining.
         */
        setId: function(id) {
            if (typeof id !== "string") {
                throw new Error("UIComponent.prototype.setId expects a string.");
            }
            this.m_id = id;
            return this;
        },
        /**
         * Retrieves the root element of the UIComponent. If this element has
         * not been cached previously, it will be queried from the DOM using the
         * ID that was set prior to rendering the UIComponent.
         * @returns {jQuery} The root jQuery DOM element of the UIComponent.
         */
        getRootElement: function() {
            if (!this.m_$rootElement || !this.m_$rootElement.length) {
                this.m_$rootElement = $("#" + this.m_id);
            }
            return this.m_$rootElement;
        },
        /**
         * The render function should be overridden by all MPageUI.UIComponent
         * classes to render the UIComponent as an html string.
         * @returns {string} The UIComponent rendered as a rendered element.
         */
        render: function() {
            return "";
        },
        /* eslint-disable no-unused-vars */
        /**
         * The base resize function should be overridden by MPageUI.UIComponent
         * classes that wish to implement resizing logic.
         * @param {{width: number, height: number}} dimensions - The dimensions
         * available to the MPageUI.UIComponent.
         * @returns {boolean} Returns false until overridden.
         */
        resize: function(dimensions) {
            return false;
        }
        /* eslint-enable no-unused-vars */
    };
    return UIComponent;
})();

/* globals MPageUI, objectAssign, EventEmitter */
MPageUI.MediaQuery = (function() {
    var queries = [
        { name: "XS", size: 580 },
        { name: "SM", size: 760 },
        { name: "MD", size: 1024 },
        { name: "LG", size: 1240 },
        { name: "XL", size: 1540 },
        { name: "XXL", size: 2068 }
    ].map(function(queryObject) {
        return {
            name: queryObject.name,
            size: queryObject.size,
            query: "screen and (min-width: " + queryObject.size + "px)"
        };
    });
    /**
     * Retrieves the query attribute of the provided query object, otherwise
     * it returns null.
     * @param {{
     *      name: string,
     *      size: number,
     *      query: string
     * }} queryObject - The query object from which the query attribute is retrieved.
     * @returns {string | null} The query attribute or null.
     */
    var mediaQuery = function(queryObject) {
        return queryObject ? queryObject.query : null;
    };
    /**
     * Determines if a provided query string matches the media size via
     * the window.matchMedia function.
     * @param {string} query - A media query string.
     * @returns {boolean} True if the media query string is a match, otherwise
     * false.
     */
    var matchesQuery = function(query) {
        return query ? MPageUI.getWindow().matchMedia(query).matches : false;
    };
    /**
     * Gets the current media query that matches the size of the window.
     * @param {Array<object>} queryList - The list of queries being tested.
     * @returns {object | null} The matching query or null.
     */
    var getCurrent = function(queryList) {
        for(var i = queryList.length; i--;) {
            if(matchesQuery(mediaQuery(queryList[i]))) {
                return queryList[i];
            }
        }
        return null;
    };
    /**
     * Iterates through the list of query objects to find the one that matches
     * the specified name.
     * @param {string} name - The name of the query to find in the array.
     * @param {Array<object>} queryList - The list of queries which are searched
     * for a match on the name.
     * @returns {object | null} The matching query or null.
     */
    var findQueryByName = function(name, queryList) {
        var match = null;
        queryList.some(function(queryObject) {
            if (queryObject.name === name) {
                match = queryObject;
                return true;
            }
            return false;
        });
        return match;
    };
    /**
     * Attempts to fire the change event, but only does so if the previous
     * and current media query objects do not match.
     * @param {Event} event - The JavaScript event that triggered the change.
     * @param {object} previous - The previous media query that matched.
     * @param {object} current - The current query that matches.
     * @returns {boolean} True if current is not equal to previous and there are
     * listeners for the "change" event, otherwise false.
     */
    var attemptChangeEvent = function(event, previous, current) {
        return (previous !== current) ?
            MPageUI.MediaQuery.emit("change", event, previous, current) :
            false;
    };
    var current = getCurrent(queries);
    var previous = current;
    MPageUI.getWindow().addEventListener("resize", function(event) {
        previous = current;
        current = getCurrent(queries);
        attemptChangeEvent(event, previous, current);
    });
    return objectAssign({
        /**
         * Determines if the screen is at least matching the query with the
         * specified name.
         * @param {string} name - The name of the query which will be tested
         * for a match.
         * @returns {boolean} True if the specified query name matches the
         * current screen dimensions, otherwise false.
         */
        atLeast: function(name) {
            return matchesQuery(
                mediaQuery(
                    findQueryByName(name, queries)
                )
            );
        },
        /**
         * Returns the query that is currently matching the screen dimensions.
         * @returns {object | null} The query that is currently matching on the
         * screen.
         */
        current: function() {
            return current;
        },
        /**
         * Returns the query object that matches the provided name.
         * @param {string} name - The name of the query being retrieved.
         * @returns {object | null} The query object that matched the specified
         * name, otherwise null.
         */
        get: function(name) {
            return findQueryByName(name, queries);
        },
        /**
         * Returns the list of queries that are currently supported by MPageUI.
         * @returns {Array<object>} An array of query objects.
         */
        queries: function() {
            return queries;
        }
    }, EventEmitter.prototype);
})();

/* global MPageUI */

MPageUI.DemoBanner = (function() {

    /**
     * The DemoBanner class.
     * @returns {MPageUI.DemoBanner} Returns self to allow chaining.
     * @constructor
     */
    var DemoBanner = function() {
        //Super constructor
        this.base();

        this.m_name = "";
        this.m_age = 0;
        this.m_gender = "";
        this.m_dateOfBirth = null;
        this.m_isDeceased = false;
        this.m_dateOfDeath = null;
        this.m_location = "";
        this.m_identificationFields = null;
        this.m_contactInfoFields = null;

        return this;
    };
    MPageUI.extend(DemoBanner, MPageUI.UIComponent);

    /**
     * Retrieves the name for the demoBanner.
     * @returns {string} the name for the demoBanner.
     */
    DemoBanner.prototype.getName = function() {
        return this.m_name;
    };

    /**
     * Sets the name for the demoBanner.
     * @param {string} name - The name for the demoBanner.
     * @returns {MPageUI.DemoBanner} Returns self to allow chaining.
     */
    DemoBanner.prototype.setName = function(name) {
        this.m_name = name;
        return this;
    };

    /**
     * Retrieves the age for the demoBanner.
     * @returns {string} the age for the demoBanner.
     */
    DemoBanner.prototype.getAge = function() {
        return this.m_age;
    };

    /**
     * Sets the age for the demoBanner.
     * @param {string} age - The age for the demoBanner.
     * @returns {MPageUI.DemoBanner} Returns self to allow chaining.
     */
    DemoBanner.prototype.setAge = function(age) {
        this.m_age = age;
        return this;
    };

    /**
     * Retrieves the date of birth for the demoBanner.
     * @returns {string} the date of birth for the demoBanner.
     */
    DemoBanner.prototype.getDOB = function() {
        return this.m_dateOfBirth;
    };

    /**
     * Sets the date of birth for the demoBanner.
     * @param {string} dob - The date of birth for the demoBanner.
     * @returns {MPageUI.DemoBanner} Returns self to allow chaining.
     */
    DemoBanner.prototype.setDOB = function(dob) {
        this.m_dateOfBirth = dob;
        return this;
    };

    /**
     * Retrieves the gender for the demoBanner.
     * @returns {string} the gender for the demoBanner.
     */
    DemoBanner.prototype.getGender = function() {
        return this.m_gender;
    };

    /**
     * Sets the gender for the demoBanner.
     * @param {string} sex - The gender for the demoBanner.
     * @returns {MPageUI.DemoBanner} Returns self to allow chaining.
     */
    DemoBanner.prototype.setGender = function(sex) {
        this.m_gender = sex;
        return this;
    };

    /**
     * Retrieves the deceased status for the demoBanner.
     * @returns {boolean} the deceased status for the demoBanner.
     */
    DemoBanner.prototype.getDeceasedIndicator = function() {
        return this.m_isDeceased;
    };

    /**
     * Sets the deceased status for the demoBanner.
     * @param {boolean} deceasedInd - The deceased status for the demoBanner.
     * @returns {MPageUI.DemoBanner} Returns self to allow chaining.
     */
    DemoBanner.prototype.setDeceasedIndicator = function(deceasedInd) {
        this.m_isDeceased = deceasedInd;
        return this;
    };

    /**
     * Retrieves the date of death for the demoBanner.
     * @returns {string} the date of death.
     */
    DemoBanner.prototype.getDateOfDeath = function() {
        return this.m_dateOfDeath;
    };

    /**
     * Sets the date of death for the demoBanner.
     * @param {string} dateOfDeath - The date of death.
     * @returns {MPageUI.DemoBanner} Returns self to allow chaining.
     */
    DemoBanner.prototype.setDateOfDeath = function(dateOfDeath) {
        this.m_dateOfDeath = dateOfDeath;
        return this;
    };

    /**
     * Retrieves the location for the demoBanner.
     * @returns {string} the location.
     */
    DemoBanner.prototype.getLocation = function() {
        return this.m_location;
    };

    /**
     * Sets the location for the demoBanner.
     * @param {string} location  - The location for the demoBanner.
     * @returns {MPageUI.DemoBanner} Returns self to allow chaining.
     */
    DemoBanner.prototype.setLocation = function(location) {
        this.m_location = location;
        return this;
    };

    /**
     * This function is used to add additional patient identifier fields.  Each new field will contain both a label
     * and one or more value associated with those values to display with that label.
     * Example. DemoBanner.addIdentifierField("MRNs", ["9B81A02E4193AE", "5B84868E41A"]);
     * @param {string} label The label to display next to the value(s)
     * @param {string|Array} values Either a single string value or an array of string values to display next to the label
     * @returns {MPageUI.DemoBanner} Returns self to allow chaining.
     **/
    DemoBanner.prototype.addIdentifierField = function(label, values) {
        if (!this.m_identificationFields) {
            this.m_identificationFields = [];
        }
        values = typeof values === "string" ? [ values ] : values;
        this.m_identificationFields.push({ label: label, value: values });
        return this;
    };

    /**
     * This function is used to add additional patient identifier fields.  Each new field will contain both a label
     * and one or more value associated with those values to display with that label.
     * @param {string} label The label to display next to the value(s)
     * @param {string|Array} values Either a single string value or an array of string values to display next to the label
     * @returns {MPageUI.DemoBanner} Returns self to allow chaining.
     **/
    DemoBanner.prototype.addContactInformationField = function(label, values) {
        if (!this.m_contactInfoFields) {
            this.m_contactInfoFields = [];
        }
        this.m_contactInfoFields.push({ label: label, value: values });
        return this;
    };

    /**
     * Builds the html for the demoBanner by including all the fields
     * @returns {string} The DemoBanner rendered as an html string.
     */
    DemoBanner.prototype.render = function() {
        var demoBannerHTML = "";
        //Render the Name, DOB, Sex and Location row
        demoBannerHTML += "<section id='" + this.m_id + "' class='demographics-banner'>";
        demoBannerHTML += "<header>";
        demoBannerHTML += "<div class='demographics-row'>";
        demoBannerHTML += "<h1>" + this.getName() + "</h1>";
        if (this.getLocation()) {
            demoBannerHTML += "<h1 title='" + this.getLocation() + "' class='demographics-location'>" + this.getLocation() + "</h1>";
        }
        demoBannerHTML += "</div>";
        demoBannerHTML += "<div class='demographics-row'>";
        demoBannerHTML += "<span class='demographics-single'>";
        if (this.getDOB()) {
            demoBannerHTML += i18n.DOB + ": " + "<b>" + (this.getDOB() || "") + "</b>";
        }
        if (this.getGender()) {
            demoBannerHTML += i18n.SEX + ": " + "<b>" + this.getGender() + "</b>";
        }
        //Render the identification row
        var idFields = this.m_identificationFields;
        var idFieldCnt = 0;
        if (idFields) {
            idFieldCnt = idFields.length;
            for (var x = 0; x < idFieldCnt; x++) {
                demoBannerHTML += idFields[ x ].label + ": " + "<b>" + idFields[ x ].value.join(",") + "</b>";
            }
        }
        demoBannerHTML += "</span></div></header></section>";
        return demoBannerHTML;
    };

    return DemoBanner;
})();




/* global MPageUI */

MPageUI.Grouper = (function() {
    /**
     * The Grouper class.
     * @returns {MPageUI.Grouper} Returns self to allow chaining.
     * @constructor
     */
    var Grouper = function() {
        //Super constructor
        this.base();
        this.m_headerHTML = "";
        this.m_bodyHTML = "";
        this.m_isCollapsed = false;
        this.m_addIconCssClass = "";
    };

    MPageUI.extend(Grouper, MPageUI.UIComponent);

    /**
     * Renders the grouper by generating and appending the HTML on the DOM.
     * @returns {String} Returns the html representing the content of the grouper
     */
    Grouper.prototype.render = function() {
        var html = "";
        var collapseCss = this.m_isCollapsed ? "collapsed" : "expanded";
        var hideCss = this.m_isCollapsed ? "mpage-ui-grouper-hide" : "";

        html += "<form class='mpage-ui-grouper' id='" + this.m_id + "'>"
            + "<fieldset class='mpage-ui-grouper-content " + hideCss + "'>"
            + "<legend class='mpage-ui-grouper-header'>"
            + "<div class='collapse " + collapseCss + "'></div>"
            + "<div class='sec-hdr'>" + this.m_headerHTML + "</div>"
            + "<div class='mpage-ui-add-icon " + this.m_addIconCssClass + "'></div>"
            + "</legend>"
            + "<div class='mpage-ui-grouper-body'>"
            + this.m_bodyHTML
            + "</div>"
            + "</fieldset>"
            + "</form>";

        return html;
    };

    /**
     * Attach event to DOM elements once the HTML has been rendered.
     * @returns {MPageUI.Grouper} Returns self to allow chaining.
     */
    Grouper.prototype.attachEvents = function() {
        var self = this;

        //Expand/Collapse sections
        $("#" + this.m_id).find(".mpage-ui-grouper-content .collapse").on("click", function() {
            self.onClick(this);
        });

        return this;
    };

    /**
     * Sets the header/title of the Grouper. This is the text listed at the top of the grouper.
     * @param {string} header - The header of Grouper
     * @throws {Error} An error indicating that the header parameter is an invalid type.
     * @returns {MPageUI.Grouper} Returns self to allow chaining.
     */
    Grouper.prototype.setHeader = function(header) {
        if (typeof header !== "string") {
            throw new Error("MPageUI.Grouper.prototype.setHeader expects a string.");
        }
        this.m_headerHTML = header;

        return this;
    };

    /**
     * Sets the content of the Grouper. This is the text listed in the body of the grouper.
     * @param {string} body - The content of Grouper
     * @throws {Error} An error indicating that the header parameter is an invalid type.
     * @returns {MPageUI.Grouper} Returns self to allow chaining.
     */
    Grouper.prototype.setBody = function(body) {
        if (typeof body !== "string") {
            throw new Error("MPageUI.Grouper.prototype.setBody expects a string.");
        }
        this.m_bodyHTML = body;

        return this;
    };


    /**
     * Sets whether or not the grouper should be collapsed on load.
     * @param {Boolean} isCollapsed - A boolean indicating whether or not the grouper is collapsed.
     * @throws {Error} An error indicating that the isCollapsed parameter is an invalid type.
     * @returns {MPageUI.Grouper} Returns self to allow chaining.
     */
    Grouper.prototype.setIsCollapsed = function(isCollapsed) {
        if (typeof isCollapsed !== "boolean") {
            throw new Error("MPageUI.Grouper.prototype.setIsCollapsed expects a boolean.");
        }
        this.m_isCollapsed = isCollapsed;

        return this;
    };

    /**
     * Sets a CSS class which would have URL to different icons that should be applied to the right of the header.
     * @param {String} cssClass - A string representing the CSS class to be applied to the header
     * @throws {Error} An error indicating that the cssClass parameter is an invalid type.
     * @returns {MPageUI.Grouper} Returns self to allow chaining.
     */
    Grouper.prototype.setAddIconCssClass = function(cssClass) {
        if (typeof cssClass !== "string") {
            throw new Error("MPageUI.Grouper.prototype.setShowAddIcon expects a string.");
        }
        this.m_addIconCssClass = cssClass;

        return this;
    };

    /**
     * Expands the grouper
     * @returns {MPageUI.Grouper} Returns self to allow chaining.
     */
    Grouper.prototype.expand = function() {
        var $compId = $("#" + this.m_id);

        $compId.find(".mpage-ui-grouper-content .collapse").addClass("expanded").removeClass("collapsed");
        $compId.find(".mpage-ui-grouper-content").removeClass("mpage-ui-grouper-hide");
        this.setIsCollapsed(false);

        return this;
    };

    /**
     * Collapses the grouper
     * @returns {MPageUI.Grouper} Returns self to allow chaining.
     */
    Grouper.prototype.collapse = function() {
        var $compId = $("#" + this.m_id);

        $compId.find(".mpage-ui-grouper-content .collapse").addClass("collapsed").removeClass("expanded");
        $compId.find(".mpage-ui-grouper-content").addClass("mpage-ui-grouper-hide");
        this.setIsCollapsed(true);

        return this;
    };

    /**
     * Updates the body with the current private variables
     * @param {string} body - The content of Grouper
     * @returns {MPageUI.Grouper} Returns self to allow chaining.
     */
    Grouper.prototype.updateBody = function(body) {
        var $compId = $("#" + this.m_id);

        this.setBody(body);
        $compId.find(".mpage-ui-grouper-body").html(this.m_bodyHTML);
        return this;
    };

    /**
     * Updates the header with the current private variables
     * @param {string} header - The header of Grouper
     * @returns {MPageUI.Grouper} Returns self to allow chaining.
     */
    Grouper.prototype.updateHeader = function(header) {
        var $compId = $("#" + this.m_id);

        this.setHeader(header);
        $compId.find(".sec-hdr").html(this.m_headerHTML);
        return this;
    };

    /**
     * Defined click events for the expand/collapse functions
     * @param {string} elem - The The window element clicked on
     * @returns {Undefined} Returns nothing.
     */
    Grouper.prototype.onClick = function(elem) {
        if ($(elem).hasClass("collapsed")) {
            this.expand();
        }
        else {
            this.collapse();
        }
    };

    return Grouper;
})();

/* global MPageUI */

MPageUI.PlaceholderContent = (function() {
    /**
     * The PlaceholderContent class.
     * This ui component will render a placeholder styled with a dashed border.
     * The contents will have primary text and only one actionable control.
     *
     * @returns {MPageUI.PlaceholderContent} Returns self to allow chaining.
     * @constructor
     */
    var PlaceholderContent = function() {
        // Super constructor
        this.base();
        this.m_primaryText = "";
        this.m_actionableControl = null;
        this.m_rendered = false;
        return this;
    };
    MPageUI.extend(PlaceholderContent, MPageUI.UIComponent);
    /**
     * Sets the primary text in the placeholder.
     * @param {string} text - A string to be displayed in placeholder.
     * @throws {Error} An error indicating that the text parameter is an invalid type.
     * @returns {MPageUI.PlaceholderContent} Returns self to allow chaining.
     */
    PlaceholderContent.prototype.setPrimaryText = function(text) {
        if (typeof text !== "string") {
            throw new Error("PlaceholderContent.prototype.setPrimaryText expects a string");
        }
        this.m_primaryText = text;
        return this;
    };
    /**
     * Sets the control that will provide actionability. Currently limiting it to just the base Button object.
     * @param {MPageUI.Button} control - An instance of the MPageUI.Button component created by the consumer.
     * @throws {Error} An error indicating that the control provided is not an instance of MPageUI.Button
     * @returns {MPageUI.SplitButton} Returns self to allow chaining.
     */
    PlaceholderContent.prototype.setActionableControl = function(control) {
        if (!control || !MPageUI.Button.prototype.isPrototypeOf(control)) {
            throw new Error("PlaceholderContent.prototype.setActionableControl expects an instance of MPageUI.Button.");
        }
        this.m_actionableControl = control;
        return this;
    };
    /**
     * Retrieves the instance of the control that will have some actionablity.
     * @returns {MPageUI.Button} The contextual view button.
     */
    PlaceholderContent.prototype.getActionableControl = function() {
        return this.m_actionableControl;
    };
    /**
     * Sets the flag whether to indicate PlaceholderContent has rendered.
     * @param {boolean} rendered - Boolean to indicate whether the PlaceholderContent has rendered.
     * @throws {Error} An error indicating that the parameter is an invalid type.
     * @returns {MPageUI.PlaceholderContent} Returns self to allow chaining.
     */
    PlaceholderContent.prototype.setRendered = function(rendered) {
        if (typeof rendered !== "boolean") {
            throw new Error("PlaceholderContent.prototype.setRendered expects a boolean");
        }
        this.m_rendered = rendered;
        return this;
    };

    /**
     * Gets the flag that indicates whether the PlaceholderContent is rendered.
     * @returns {Boolean} Flag whether to indicate PlaceholderContent has rendered.
     */
    PlaceholderContent.prototype.hasRendered = function() {
        return this.m_rendered;
    };
    /**
     * Overrides the MPageUI.UIComponent.prototype.render function to return the PlaceholderContent
     * Renders a simple placeholder styled with a dashed border, with a primary text and an actionable control.
     * @returns {String} The HTML markup of ghosted view
     */
    PlaceholderContent.prototype.render = function() {
        var placeholderContentHTML = "";
        placeholderContentHTML += "<div id='" + this.m_id + "' class='placeholder-content-container'>";
        placeholderContentHTML += "<span class='primary-text'>" + this.m_primaryText + "</span>";
        placeholderContentHTML += this.m_actionableControl ? "<span class ='actionable-control'>" + this.m_actionableControl.render() + "</span>" : "";
        placeholderContentHTML += "</div>";
        return placeholderContentHTML;
    };
    return PlaceholderContent;
})();


/* global MPageUI */
/**
 * Enumeration for AlertBanner options.
 * @readonly
 */
MPageUI.ALERT_OPTIONS = {
    TYPE: {
        INFO: "info-msg",
        SUCCESS: "success-msg",
        WARNING: "warning-msg",
        ERROR: "error-msg",
        SEVERE: "severe-msg",
        ADVISORY: "advisory-msg"
    }
};

MPageUI.AlertBanner = (function() {
    /**
     * The MPageUI.AlertBanner class.
     * @returns {MPageUI.AlertBanner} Returns self to allow chaining.
     * @constructor
     */
    var AlertBanner = function() {
        this.base();
        this.m_dismissible = false;
        this.m_primaryText = "";
        this.m_secondaryText = "";
        this.m_content = null;
        this.m_time = null;
        this.m_bannerType = "";
        this.m_closeFunction = null;
        return this;
    };
    MPageUI.extend(AlertBanner, MPageUI.UIComponent);
    /* eslint-disable no-unused-vars */
    /**
     * Sets whether the AlertBanner is dismissible or not.
     * @param {boolean} dismissible - A boolean indicating if the AlertBanner is dismissible or not. True if it is dismissible,
     * otherwise false.
     * @returns {MPageUI.AlertBanner} Returns self to allow chaining.
     */
    AlertBanner.prototype.setDismissible = function(dismissible) {
        //Check dismissible
        if (typeof dismissible !== "boolean") {
            throw new Error("AlertBanner.prototype.setDismissible expects a boolean.");
        }
        //Set dismissible
        this.m_dismissible = dismissible;
        return this;
    };
    /* eslint-enable no-unused-vars */
    /**
     * Sets the primary text to be displayed in the alert.
     * @param {string} primaryText - The primary text to be displayed in the alert banner.
     * @returns {MPageUI.AlertBanner} Returns self to allow chaining.
     */
    AlertBanner.prototype.setPrimaryText = function(primaryText) {
        //Check text
        if (typeof primaryText !== "string") {
            throw new Error("AlertBanner.prototype.setPrimaryText expects a string.");
        }
        //Set primary text
        this.m_primaryText = primaryText;
        return this;
    };
    /**
     * Sets the secondary text to be displayed in the alert.
     * @param {string} secondaryText - The secondary text to be displayed in the alert banner.
     * @returns {MPageUI.AlertBanner} Returns self to allow chaining.
     */
    AlertBanner.prototype.setSecondaryText = function(secondaryText) {
        //Check text
        if (typeof secondaryText !== "string") {
            throw new Error("AlertBanner.prototype.setSecondaryText expects a string.");
        }
        //Set secondary text
        this.m_secondaryText = secondaryText;
        return this;
    };

    /**
     * Sets the custom content to be displayed in the alert.
     * @param {MPageUI.UIComponent} content - The custom content to be displayed in the alert banner.
     * Parameter input ideally should be an MPageUI UIComponent control. For example, we can include the PEDBannerControl as the content for the AlertBanner shell.
     * @returns {MPageUI.AlertBanner} Returns self to allow chaining.
     */
    AlertBanner.prototype.setContents = function(content) {
        if (!content) {
            throw new Error("AlertBanner.prototype.setContents expects a valid banner content");
        }
        this.m_content = content;
        return this;
    };

    /* eslint-disable no-unused-vars */
    /**
     * Hides the alert banner
     * @returns {MPageUI.AlertBanner} Returns self to allow chaining..
     */
    AlertBanner.prototype.hide = function() {
        //hide the alert banner
        this.getRootElement().hide();
        return this;
    };

    /**
     * Displays the alert banner
     * @returns {MPageUI.AlertBanner} Returns self to allow chaining.
     */
    AlertBanner.prototype.show = function() {
        //shows the alert banner and returns self
        this.getRootElement().show();
        return this;
    };
    /**
     * Returns the function to be executed when close button is clicked
     *
     * @returns {AlertBanner.m_closeFunction} the function to close the alert banner
     */
    AlertBanner.prototype.getCloseFunction = function() {
        return this.m_closeFunction;
    };

    /**
     * Sets the close function
     *
     * @param {closeFunction} closeFunction The function which is executed when we click on the close button
     * @returns {MPageUI.AlertBanner} Returns self to allow chaining.
     */
    AlertBanner.prototype.setCloseFunction = function(closeFunction) {
        if (typeof closeFunction !== "function") {
            throw new Error("AlertBanner.prototype.setCloseFunction expects a function.");
        }
        this.m_closeFunction = closeFunction;
        return this;
    };
    /**
     * Sets the amount of time (in seconds) the AlertBanner will remain before disappearing.
     * @param {number} timeInSeconds - The amount of time (in seconds) the AlertBanner will remain before disappearing.
     * @returns {MPageUI.AlertBanner} Returns self to allow chaining.
     */
    AlertBanner.prototype.setTime = function(timeInSeconds) {
        //Check time
        //Set time
        return this;
    };
    /* eslint-enable no-unused-vars */
    /**
     * Sets the alert type. This must be a choice from the MPageUI.ALERT_OPTIONS.type enumeration.
     * @param {string} type - The type of alert banner to be created.
     * @returns {MPageUI.AlertBanner} Returns self to allow chaining.
     */
    AlertBanner.prototype.setType = function(type) {
        if (typeof type !== "string") {
            throw new Error("AlertBanner.prototype.setType expects a string.");
        }
        this.m_bannerType = type;
        return this;
    };
    /**
     * Renders the Alert as an html string.
     * @returns {string} The AlertBanner rendered as an html string.
     */
    AlertBanner.prototype.render = function() {
        var bannerHTML;
        if (this.m_bannerType === "") {
            throw new Error("AlertBanner.prototype.render expects a valid banner type from MPageUI.ALERT_OPTIONS.TYPE");
        }
        //Construct banner rendering HTML
        bannerHTML = "<div id='" + this.m_id + "' class='alert-msg'>";
        bannerHTML += "<div class = '" + this.m_bannerType + "'>";
        if (this.m_dismissible) {
            bannerHTML += "<div class='alert-info-dismissible'>";
        }
        else {
            bannerHTML += "<div class='alert-info'>";
        }

        // If the content is being passed then the primary and secondary info is removed
        if (this.m_content) {
            this.m_primaryText = "";
            this.m_secondaryText = "";
            if (typeof this.m_content.render !== "function") {
                throw new Error("AlertBanner.prototype.render expects a MPageUI->render to be passed if setContent is used.");
            }

            bannerHTML += "<span class='alert-icon'>&nbsp;</span>" + this.m_content.render() + "</div>";
        }
        else {
            bannerHTML += "<span class='alert-icon'>&nbsp;</span>" + this.m_primaryText;
            bannerHTML += "<span class='alert-msg-secondary-text'>&nbsp;" + this.m_secondaryText + "</span></div>";
        }

        if (this.m_dismissible) {
            bannerHTML += "<span id='alertClose" + this.m_id + "' class='alert-close-option'>&nbsp;</span>";
        }
        return bannerHTML + "</div></div>";
    };
    /**
     * Attaches the necessary events to the close button. This function must be called after the alert banner
     * markup exists on the DOM.
     * @returns {MPageUI.AlertBanner} Returns self to allow chaining.
     */
    AlertBanner.prototype.attachEvents = function() {
        var self = this;
        self.getRootElement().on("click", "#alertClose" + self.m_id, function() {
            self.getCloseFunction()();
        });

        //If the AlertBanner.setContents -> m_content is present then we need to attach the events, if any
        if (this.m_content && typeof this.m_content.attachEvents === "function") {
            this.m_content.attachEvents();
        }
        return self;
    };
    return AlertBanner;
})();


/* global MPageUI */

MPageUI.ICONS = {
    ICON_MOVE_LEFT: "icon-move-left",
    ICON_MOVE_RIGHT: "icon-move-right"
};

/* global MPageUI, MenuSeparator */

/**
 * Enumeration for MPageUI Menu configuration
 * @readonly
 */
MPageUI.MENU_OPTIONS = {
    TYPE: {
        SELECT: 0,
        SEPARATOR: 1
    }
};

MPageUI.Menu = (function() {
    /**
     * The Base Menu class.
     * @returns {MPageUI.Menu} Returns self to allow chaining.
     * @constructor
     */
    var Menu = function() {
        this.base();
        return this;
    };
    MPageUI.extend(Menu, MPageUI.UIComponent);

    /**
     * The base open function. This shall open the menu. Subclasses of the Menu must provide the implementation.
     * @returns {MPageUI.Menu} Returns self to allow chaining.
     */
    Menu.prototype.open = function() {
        return this;
    };

    /**
     * The base close function. This shall close the menu. Subclasses of the Menu must provide the implementation.
     * @returns {MPageUI.Menu} Returns self to allow chaining.
     */
    Menu.prototype.close = function() {
        return this;
    };

    /**
     * The base isOpen function. This shall determine if the menu is currently open. Subclasses of the Menu must
     * provide the implementation.
     * @returns {boolean} True if the menu is open, otherwise false.
     */
    Menu.prototype.isOpen = function() {
        return false;
    };

    /**
     * The base menu render function. This shall render the menu as an html string. Subclasses of the Menu must
     * provide the implementation. Note that some menus may not render html, as they may be dynamically added to the
     * DOM and managed by another component.
     * @returns {string} The Menu rendered as an html string.
     */
    Menu.prototype.render = function() {
        return "";
    };

    /* eslint-disable no-unused-vars */
    /**
     * Adds an option to the menu. This shall add an option to the Menu whether it be a selectable option or
     * a radio option. Subclasses of the Menu must provide the implementation. The option must be a JSON object of the
     * form
     * {
	 * 		label: 		"Label",
	 * 		type:		MPageUI.MENU_OPTIONS.TYPE.x,
	 * 		value: 		0.0 (or some other data)
	 * 		onSelect:	function() { ... }
	 * }
     * @param {Object} option - The option to be added to the menu.
     * @returns {MPageUI.Menu} Returns self to allow chaining.
     */
    Menu.prototype.addOption = function(option) {
        return this;
    };
    /* eslint-enable no-unused-vars */

    /**
     * Adds a set of options to the menu. This loops over the array of provided options and calls addOption on each.
     * @param {Array<Object>} options - The array of options to be added to the menu.
     * @returns {MPageUI.Menu} Returns self to allow chaining.
     */
    Menu.prototype.addOptions = function(options) {
        if (!Array.prototype.isPrototypeOf(options)) {
            throw new Error("MPageUI.Dropdown.prototype.addOptions expects an array of options");
        }
        var optionCount = options.length;
        for (var i = 0; i < optionCount; i++) {
            this.addOption(options[ i ]);
        }
        return this;
    };

    /**
     * Removes all options from the menu.
     * @returns {MPageUI.Menu} Returns self to allow chaining.
     */
    Menu.prototype.removeAllOptions = function() {
        return this;
    };

    /**
     * This function will validate a provided option. If the option is not valid, an exception will be thrown to
     * inform the consumer.
     * @param {Object} option - The option to be verified.
     * @throws {Error} An error indicating that the provided option was not valid.
     * @returns {undefined} Returns nothing.
     */
    Menu.prototype.validateOption = function(option) {
        if (typeof option !== "object") {
            throw new Error("MPageUI.Dropdown.prototype.addOption expects an object");
        }
        var optionType = option.type || MPageUI.MENU_OPTIONS.TYPE.SELECT;
        var menuOptionsTypeEnum = MPageUI.MENU_OPTIONS.TYPE;
        switch (optionType) {
            case menuOptionsTypeEnum.SELECT:
                if (!option.label) {
                    throw new Error("MPageUI.Dropdown.prototype.addOption: 'select' options must provide a label.");
                }
                if (typeof option.label !== "string") {
                    throw new Error("MPageUI.Dropdown.prototype.addOption: the label must be a string.");
                }
                if (!option.onSelect) {
                    throw new Error("MPageUI.Dropdown.prototype.addOption: 'select' options must provide an onSelect callback.");
                }
                if (typeof option.onSelect !== "function") {
                    throw new Error("MPageUI.Dropdown.prototype.addOption: the onSelect must be a function.");
                }
                break;
            case menuOptionsTypeEnum.SEPARATOR:
                break;
            default:
                throw new Error("MPageUI.Dropdown.prototype.addOption: the option must provide a 'type', use MPageUI.MENU_OPTIONS.TYPE");
        }
    };
    return Menu;
})();

MPageUI.StandardMPageMenu = (function() {
    /**
     * The StandardMPageMenu class. This is a subclass of MPageUI.Menu. It provides the implementation by wrapping
     * the existing standard menu API to ensure ease of compatibility if/when MPageUI converts to the Terra convention
     * for menus.
     * @param {string} anchorId - The id of the element that is to be the anchor for the standard menu.
     * @returns {MPageUI.StandardMPageMenu} Returns self to allow chaining.
     * @constructor
     */
    var StandardMPageMenu = function(anchorId) {
        this.base();
        this.m_anchorId = anchorId;
        this.m_menuItemCounter = 0;
        this.m_standardMenu = null;
        this.init();
        return this;
    };
    MPageUI.extend(StandardMPageMenu, MPageUI.Menu);

    /**
     * Overrides the base init function. This initializes an instance of the existing standard menu API.
     * @returns {MPageUI.StandardMPageMenu} Returns self to allow chaining.
     */
    StandardMPageMenu.prototype.init = function() {
        var self = this;
        this.m_standardMenu = new Menu(this.m_id + "_standardMenu");
        this.m_standardMenu.setTypeClass("dropdown-standard-menu");
        this.m_standardMenu.setAnchorElementId(this.m_anchorId);
        this.m_standardMenu.setAnchorConnectionCorner([ "bottom", "right" ]);
        this.m_standardMenu.setContentConnectionCorner([ "top", "right" ]);
        this.m_standardMenu.setIsRootMenu(true);
        //Hijack the setIsActive function so we can intelligently prevent memory leaks
        this.m_standardMenu.setIsActive = function(activeInd) {
            //Call the base setIsActive function
            Menu.prototype.setIsActive.call(self.m_standardMenu, activeInd);
            //If the menu is being closed, remove the menu from the global lookup
            if (!activeInd) {
                //Remove the standard menu
                MP_MenuManager.deleteMenuObject(self.m_standardMenu.getId());
            }
        };
        return this;
    };

    /**
     * Overrides the base addOption function. This transforms the option data object into a subsequent MenuItem from
     * the existing standard MPages menu API.
     * @param {Object} option - The option object being added to the menu.
     * @returns {MPageUI.StandardMPageMenu} Returns self to allow chaining.
     */
    StandardMPageMenu.prototype.addOption = function(option) {
        this.validateOption(option);
        var menuOptionsTypeEnum = MPageUI.MENU_OPTIONS.TYPE;
        var optionType = option.type || menuOptionsTypeEnum.SELECT;
        var menuItem = null;
        switch (optionType) {
            case menuOptionsTypeEnum.SELECT:
                menuItem = new MenuSelection(this.m_id + "_menuSelection_" + this.m_menuItemCounter++);
                menuItem.setLabel(option.label);
                menuItem.setClickFunction(this.getSelectionFunction(option));
                break;
            case menuOptionsTypeEnum.SEPARATOR:
                menuItem = new MenuSeparator(this.m_id + "_menuSeparator_" + this.m_menuItemCounter++);
                break;
            default:
                throw new Error("MPageUI.Dropdown.prototype.addOption: the option must provide a 'type'");
        }
        this.m_standardMenu.addMenuItem(menuItem);
        /*
         * This was removed to prevent a potential memory leak when standard
         * menus were created and options were added, it would register the
         * menu to the MP_MenuManager global lookup via updateMenuObject. If
         * the StandardMPageMenu was later destroyed, that menu object could
         * still be hanging in the lookup of MP_MenuManager.
         *
         * It is safe to refrain from calling MP_MenuManager.updateMenuObject
         * because it will be called in the open function.
         */
        //MP_MenuManager.updateMenuObject(this.m_standardMenu);
        return this;
    };

    /**
     * Overrides the base Menu.prototype.removeAllOptions function.
     * @returns {MPageUI.StandardMPageMenu} Returns self to allow chaining.
     */
    StandardMPageMenu.prototype.removeAllOptions = function() {
        var options = this.m_standardMenu.getMenuItemArray();
        var optionCount = options.length;
        for (var i = 0; i < optionCount; i++) {
            if (!this.m_standardMenu.removeMenuItem(options[ i ])) {
                logger.logWarning("MPageUI.StandardMPageMenu.prototype.removeAllOptions: error removing menu item");
            }
        }
        this.m_menuItemCounter = 0;
        MP_MenuManager.updateMenuObject(this.m_standardMenu);
        return this;
    };

    /**
     * This generates a selection function that is triggered when one of the items in the menu is selected. It will
     * call the onSelect callback function for the specified option, ensuring to pass the option as the context of the
     * function call.
     * @param {Object} option - The option for which the selection function is being generated.
     * @returns {function} The selection function. This closes on the option to ensure the correct callback function
     * is triggered.
     */
    StandardMPageMenu.prototype.getSelectionFunction = function(option) {
        return function() {
            option.onSelect.call(option);
        };
    };

    /**
     * Overrides the base isOpen function to determine if the standard menu is open.
     * @returns {boolean} True if the menu is currently open (active), otherwise false.
     */
    StandardMPageMenu.prototype.isOpen = function() {
        return this.m_standardMenu.isActive();
    };

    /**
     * Overrides the base open function to open the standard menu.
     * @returns {MPageUI.StandardMPageMenu} Returns self to allow chaining.
     */
    StandardMPageMenu.prototype.open = function() {
        //Since the Menu is removed on close (see init function), make sure it is available to
        //the MP_MenuManager.
        MP_MenuManager.updateMenuObject(this.m_standardMenu);
        MP_MenuManager.showMenu(this.m_standardMenu.getId());
        return this;
    };

    /**
     * Overrides the base close function to close the standard menu.
     * @returns {MPageUI.StandardMPageMenu} Returns self to allow chaining.
     */
    StandardMPageMenu.prototype.close = function() {
        MP_MenuManager.closeMenuStack(false);
        return this;
    };

    /**
     * Overrides the base render function to render nothing. The StandardMPageMenu is a special case in that it is
     * not truly rendered to the DOM, but it is desirable to treat it as a standard UIComponent.
     * @returns {string} An empty string since the StandardMPageMenu is not rendered as a composite piece of another
     * UIComponent.
     */
    StandardMPageMenu.prototype.render = function() {
        return "";
    };

    return StandardMPageMenu;
})();

/* global MPageUI */

MPageUI.Dropdown = (function() {
    /**
     * Base Dropdown interface. Exposes necessary functions for a drop-down control.
     * @returns {MPageUI.Dropdown} Returns self to allow chaining.
     * @constructor
     */
    var Dropdown = function() {
        this.m_menu = null;
        return this;
    };
    MPageUI.extend(Dropdown, MPageUI.UIComponent);

    /**
     * Adds an option to the dropdown.
     * @param {Object} option - The option to be added to the dropdown. This must be of the following form.
     * {
	 * 		label: 'Label',
	 * 		type:	MPageUI.MENU_OPTIONS.TYPE.x,
	 * 		onSelect: function() { ... }
	 * }
     * @returns {MPageUI.Dropdown} Returns self to allow chaining.
     */
    Dropdown.prototype.addOption = function(option) {
        this.m_menu.addOption(option);
        return this;
    };

    /**
     * Adds a set of options to the dropdown.
     * @param {Array<Object>} options - The list of options to be added to the dropdown.
     * @returns {MPageUI.Dropdown} Returns self to allow chaining.
     */
    Dropdown.prototype.addOptions = function(options) {
        this.m_menu.addOptions(options);
        return this;
    };

    /**
     * Removes all options for the dropdown.
     * @returns {MPageUI.Dropdown} Returns self to allow chaining.
     */
    Dropdown.prototype.removeAllOptions = function() {
        this.m_menu.removeAllOptions();
        return this;
    };

    /**
     * Determines if the dropdown is currently open.
     * @private
     * @returns {boolean} True if the dropdown is currently open, otherwise false.
     */
    Dropdown.prototype.isOpen = function() {
        return this.m_menu.isOpen();
    };

    /**
     * Opens the dropdown menu.
     * @returns {MPageUI.Dropdown} Returns self to allow chaining.
     */
    Dropdown.prototype.open = function() {
        this.m_menu.open();
        return this;
    };

    /**
     * Closes the dropdown menu.
     * @returns {MPageUI.Dropdown} Returns self to allow chaining.
     */
    Dropdown.prototype.close = function() {
        this.m_menu.close();
        return this;
    };

    /**
     * Toggles the open state of the dropdown menu.
     * @returns {MPageUI.Dropdown} Returns self to allow chaining.
     */
    Dropdown.prototype.toggle = function() {
        if (this.isOpen()) {
            this.close();
        }
        else {
            this.open();
        }
        return this;
    };

    return Dropdown;
})();

/* global MPageUI */

MPageUI.BUTTON_OPTIONS = {
    SHAPE: {
        NORMAL: "",
        PILL: "btn-pill"
    },
    STYLE: {
        NORMAL: "",
        PRIMARY: "btn-primary",
        SECONDARY: "btn-secondary",
        INVERSE: "btn-inverse",
        POSITIVE: "btn-positive",
        NEGATIVE: "btn-negative",
        LINK: "btn-link"
    },
    SIZE: {
        NORMAL: "",
        SMALL: "btn-small",
        LARGE: "btn-large",
        THINLINE: "btn-thinline"
    },
    TOGGLE: {
        NORMAL: "",
        DROPDOWN: "dropdown"
    },
    ICON_POSITION: {
        LEFT: 0,
        RIGHT: 1
    }
};

MPageUI.Button = (function() {
    /**
     * The Button class.
     * @returns {MPageUI.Button} Returns self to allow chaining.
     * @constructor
     */
    var Button = function() {
        //Super constructor
        this.base();

        this.m_disabled = false;
        this.m_label = "";
        this.m_onClickCallback = null;

        this.m_shape = MPageUI.BUTTON_OPTIONS.SHAPE.NORMAL;
        this.m_size = MPageUI.BUTTON_OPTIONS.SIZE.NORMAL;
        this.m_style = MPageUI.BUTTON_OPTIONS.STYLE.NORMAL;
        this.m_dataToggle = MPageUI.BUTTON_OPTIONS.TOGGLE.NORMAL;

        this.m_icon = "";
        this.m_iconPosition = MPageUI.BUTTON_OPTIONS.ICON_POSITION.LEFT;
        return this;
    };
    MPageUI.extend(Button, MPageUI.UIComponent);

    /**
     * Retrieves the disabled indicator for the button.
     * @returns {boolean} True if the button is disabled, otherwise false.
     */
    Button.prototype.isDisabled = function() {
        return this.m_disabled;
    };

    /**
     * Sets the disabled indicator for the button.
     * @param {boolean} disabled - The disabled state of the button.
     * @throws {Error} An error indicating that the disabled parameter is an invalid type.
     * @returns {MPageUI.Button} Returns self to allow chaining.
     */
    Button.prototype.setDisabled = function(disabled) {
        if (typeof disabled !== "boolean") {
            throw new Error("Button.prototype.setDisabled expects a boolean.");
        }
        this.m_disabled = disabled;
        var $rootElement = this.getRootElement();
        $rootElement.prop("disabled", disabled);
        return this;
    };

    /**
     * Sets the label of the Button.
     * @param {string} label - The label of the Button.
     * @throws {Error} An error indicating that the label parameter is an invalid type.
     * @returns {MPageUI.Button} Returns self to allow chaining.
     */
    Button.prototype.setLabel = function(label) {
        if (typeof label !== "string") {
            throw new Error("Button.prototype.setLabel expects a string.");
        }
        this.m_label = label;
        var $rootElement = this.getRootElement();
        $rootElement.html(this.renderButtonContents());
        return this;
    };
    /**
     * Sets the shape of the Button.
     * @param {string} shape - The shape of the button.
     * @throws {Error} An error indicating that the shape parameter is an invalid type.
     * @returns {MPageUI.Button} Returns self to allow chaining.
     */
    Button.prototype.setShape = function(shape) {
        if (typeof shape !== "string") {
            throw new Error("Button.prototype.setShape expects a string.");
        }
        var $rootElement = this.getRootElement();
        if (shape !== this.m_shape) {
            $rootElement.removeClass(this.m_shape);
            $rootElement.addClass(shape);
        }
        this.m_shape = shape;
        return this;
    };
    /**
     * Sets the size of the Button.
     * @param {string} size - The size of the Button.
     * @throws {Error} An error indicating that the size is an invalid type.
     * @returns {MPageUI.Button} Returns self to allow chaining.
     */
    Button.prototype.setSize = function(size) {
        if (typeof size !== "string") {
            throw new Error("Button.prototype.setSize expects a string.");
        }
        var $rootElement = this.getRootElement();
        if (size !== this.m_size) {
            $rootElement.removeClass(this.m_size);
            $rootElement.addClass(size);
        }
        this.m_size = size;
        return this;
    };
    /**
     * Sets the style of the Button.
     * @param {string} style - The style of the Button.
     * @throws {Error} An error indicating that the style is an invalid type.
     * @returns {MPageUI.Button} Returns self to allow chaining.
     */
    Button.prototype.setStyle = function(style) {
        if (typeof style !== "string") {
            throw new Error("Button.prototype.setStyle expects a string.");
        }
        var $rootElement = this.getRootElement();
        if (style !== this.m_style) {
            $rootElement.removeClass(this.m_style);
            $rootElement.addClass(style);
        }
        this.m_style = style;
        return this;
    };
    /**
     * Sets the data toggle attribute for the button.
     * @param {string} dataToggle - The data-toggle attribute for the button. This will be rendered into the markup
     * as <button data-toggle='dataToggle'>Sample</button>.
     * @throws {Error} An error indicating that the dataToggle is an invalid type.
     * @returns {MPageUI.Button} Returns self to allow chaining.
     */
    Button.prototype.setDataToggle = function(dataToggle) {
        if (typeof dataToggle !== "string") {
            throw new Error("Button.prototype.setDataToggle");
        }
        var $rootElement = this.getRootElement();
        if (dataToggle !== this.m_dataToggle) {
            $rootElement.attr("data-toggle", dataToggle);
        }
        this.m_dataToggle = dataToggle;
        return this;
    };
    /**
     * Sets the icon class for the button. Use the MPageUI.ICONS enumeration for supported icons.
     * @param {string} icon - The icon CSS class for the button.
     * @returns {MPageUI.Button} Returns self to allow chaining.
     */
    Button.prototype.setIcon = function(icon) {
        if (typeof icon !== "string") {
            throw new Error("Button.prototype.setIcon expects a string.");
        }
        this.m_icon = icon;
        this.getRootElement().html(this.renderButtonContents());
        return this;
    };
    /**
     * Sets the position of the icon within the button. Use MPageUI.BUTTON_OPTIONS.ICON_POSITION.
     * @param {number} iconPosition - The icon position.
     * @returns {MPageUI.Button} Returns self to allow chaining.
     */
    Button.prototype.setIconPosition = function(iconPosition) {
        if (typeof iconPosition !== "number") {
            throw new Error("Button.prototype.setIconPosition expects a number.");
        }
        this.m_iconPosition = iconPosition;
        this.getRootElement().html(this.renderButtonContents());
        return this;
    };
    /**
     * Sets the callback function that is triggered when the button is clicked.
     * @param {function} callback - The function
     * @throws {Error} An error indicating that the callback is an invalid type.
     * @returns {MPageUI.Button} Returns self to allow chaining.
     */
    Button.prototype.setOnClickCallback = function(callback) {
        if (typeof callback !== "function") {
            throw new Error("Button.prototype.setOnClickCallback expects a function.");
        }
        this.m_onClickCallback = callback;
        return this;
    };
    /**
     * Handles the click function for the button.
     * @returns {undefined} Returns nothing.
     */
    Button.prototype.onClick = function() {
        if (this.m_onClickCallback) {
            this.m_onClickCallback();
        }
    };
    /**
     * Renders the button contents (what goes inside the <button></button> tags) as an html string
     * @private
     * @returns {string} The button contents rendered as an html string.
     */
    Button.prototype.renderButtonContents = function() {
        var icon = this.renderIcon();
        var contents = this.m_label;
        if (!icon) {
            return contents;
        }
        if (!contents) {
            return icon;
        }
        //An icon and a label are present
        if (this.m_iconPosition === MPageUI.BUTTON_OPTIONS.ICON_POSITION.LEFT) {
            contents = icon + "&nbsp;" + contents;
        }
        else {
            contents = contents + "&nbsp;" + icon;
        }
        return contents;
    };
    /**
     * Renders the button icon as an html string. If no icon is set on the button, it will return an empty string.
     * @private
     * @returns {string} The button icon as an html string. Empty if no icon is set.
     */
    Button.prototype.renderIcon = function() {
        if (!this.m_icon) {
            return "";
        }
        return "<span class='" + this.m_icon + "'>&nbsp;</span>";
    };
    /**
     * Renders the Button as an HTML string.
     * @returns {string} The Button rendered as an HTML string.
     */
    Button.prototype.render = function() {
        var disabled = this.m_disabled ? "disabled='true'" : "";
        var classes = "btn";
        var dataToggle = this.m_dataToggle ? ("data-toggle='" + this.m_dataToggle + "'") : "";
        var contents = this.renderButtonContents();
        classes += this.m_size ? " " + this.m_size : "";
        classes += this.m_shape ? " " + this.m_shape : "";
        classes += this.m_style ? " " + this.m_style : "";
        return "<button type='button' id='" + this.m_id + "' class='" + classes + "' " + disabled + " " + dataToggle + ">" + contents + "</button>";
    };

    /**
     * Attaches the necessary events to the button. This function must be called after the button
     * markup exists on the DOM.
     * @returns {MPageUI.Button} Returns self to allow chaining.
     */
    Button.prototype.attachEvents = function() {
        var self = this;
        this.getRootElement().on("click.mpageui", function() {
            self.onClick();
        });
        return this;
    };
    return Button;
})();

MPageUI.DropdownButton = (function() {
    /**
     * The DropdownButton class. This creates a standard dropdown styled button.
     * @returns {MPageUI.DropdownButton} Returns self to allow chaining.
     * @constructor
     */
    var DropdownButton = function() {
        //Super constructor
        this.base();
        this.m_dataToggle = MPageUI.BUTTON_OPTIONS.TOGGLE.DROPDOWN;
        return this;
    };
    MPageUI.extend(DropdownButton, MPageUI.Button);

    /* eslint-disable no-unused-vars */
    /**
     * Override the MPageUI.Button.prototype.setLabel function to do nothing, since we want to ensure the label is
     * not altered.
     * @param {string} label - The label for the button. This parameter is ignored.
     * @returns {MPageUI.DropdownButton} Returns self to allow chaining.
     */
    DropdownButton.prototype.setLabel = function(label) {
        return this;
    };
    /* eslint-enable no-unused-vars */

    /* eslint-disable no-unused-vars */
    /**
     * Overrides the MPageUI.Button.prototpye.setDataToggle function to do nothing to ensure the dropdown button
     * always has the data-toggle='dropdown' attribute.
     * @param {string} dataToggle - The data-toggle attribute value.
     * @returns {MPageUI.DropdownButton} Returns self to allow chaining.
     */
    DropdownButton.prototype.setDataToggle = function(dataToggle) {
        return this;
    };
    /* eslint-enable no-unused-vars */

    /**
     * Overrides the MPageUI.Button.prototype.render function to render the DropdownButton as an html string.
     * @returns {string} The DropdownButton rendered as an html string.
     */
    DropdownButton.prototype.render = function() {
        var disabled = this.m_disabled ? " disabled='true'" : "";
        var classes = "btn dropdown-toggle";
        var dataToggle = "data-toggle='" + this.m_dataToggle + "'";
        classes += (this.m_style ? " " + this.m_style : "");
        return "<button type='button' id='" + this.m_id + "' class='" + classes + "' " + dataToggle + disabled + "><span class='caret'></span></button>";
    };

    return DropdownButton;
})();

MPageUI.SplitButton = (function() {
    /**
     * The SplitButton class.
     * @returns {MPageUI.SplitButton} Returns self to allow chaining.
     * @constructor
     */
    var SplitButton = function() {
        this.base();
        //this.m_menu -> inherited from MPageUI.Dropdown
        this.m_labelButton = null;
        this.m_dropdownButton = null;
        this.init();
        return this;
    };
    MPageUI.extend(SplitButton, MPageUI.Dropdown);

    /**
     * Retrieves the label button.
     * @returns {MPageUI.Button} The label button.
     */
    SplitButton.prototype.getLabelButton = function() {
        return this.m_labelButton;
    };

    /**
     * Retrieves the dropdown button.
     * @returns {MPageUI.DropdownButton} The dropdown button.
     */
    SplitButton.prototype.getDropdownButton = function() {
        return this.m_dropdownButton;
    };

    /**
     * Sets the click callback function that is triggered when the label button is clicked.
     * @param {function} labelButtonClickCallback - The click callback function that is triggered when the label button
     * is clicked.
     * @throws {Error} An error indicating that the labelButtonClickCallback is an invalid type.
     * @returns {MPageUI.SplitButton} Returns self to allow chaining.
     */
    SplitButton.prototype.setLabelButtonClickCallback = function(labelButtonClickCallback) {
        if (typeof labelButtonClickCallback !== "function") {
            throw new Error("MPageUI.SplitButton.prototype.setLabelButtonClickCallback expects a function.");
        }
        this.m_labelButton.setOnClickCallback(labelButtonClickCallback);
        return this;
    };

    /**
     * Sets the label of the SplitButton.
     * @param {string} label - The label of the SplitButton.
     * @returns {MPageUI.SplitButton} Returns self to allow chaining.
     */
    SplitButton.prototype.setLabel = function(label) {
        this.m_labelButton.setLabel(label);
        return this;
    };

    /**
     * Sets the style for both the label button and the dropdown button.
     * @param {string} style - The style to be applied to the label and dropdown button.
     * @returns {MPageUI.SplitButton} Returns self to allow chaining.
     */
    SplitButton.prototype.setStyle = function(style) {
        this.m_labelButton.setStyle(style);
        this.m_dropdownButton.setStyle(style);
        return this;
    };

    /**
     * Overrides the MPageUI.Dropdown.prototype.init function. This will initialize all children of the SplitButton.
     * It first calls the super init function which initializes the menu object. This creates two buttons; a label
     * button and a dropdown button.
     * @returns {MPageUI.SplitButton} Returns self to allow chaining.
     */
    SplitButton.prototype.init = function() {
        var self = this;
        //Initialize the label and dropdown button
        this.m_labelButton = new MPageUI.Button();
        this.m_dropdownButton = new MPageUI.DropdownButton();
        this.m_dropdownButton.setOnClickCallback(function() {
            self.toggle();
        });
        this.m_menu = new MPageUI.StandardMPageMenu(this.m_dropdownButton.getId());
        return this;
    };

    /**
     * Overrides the MPageUI.UIComponent.prototype.render function to return the SplitButton rendered as an html
     * string.
     * @returns {string} The SplitButton rendered as an html string.
     */
    SplitButton.prototype.render = function() {
        var html = "<div id='" + this.m_id + "' class='btn-group'>";
        html += this.m_labelButton.render();
        html += this.m_dropdownButton.render();
        html += this.m_menu.render();
        return html + "</div>";
    };

    /**
     * Attaches the necessary events to the SplitButton. This function must be called after the SplitButton
     * exists on the DOM.
     * @returns {undefined} Returns nothing.
     */
    SplitButton.prototype.attachEvents = function() {
        this.m_labelButton.attachEvents();
        this.m_dropdownButton.attachEvents();
    };

    return SplitButton;
})();

MPageUI.ToggleButton = (function() {
    /**
     * The ToggleButton class.
     * @constructor
     */
    var ToggleButton = function() {
        this.m_selected = false;
        this.m_onSelectCallback = null;
        this.m_onDeselectCallback = null;
        this.base();
    };
    MPageUI.extend(ToggleButton, MPageUI.Button);

    /**
     * Determines if the toggle button is selected.
     * @returns {boolean} A boolean indicating if the toggle button is selected or not.
     */
    ToggleButton.prototype.isSelected = function() {
        return this.m_selected;
    };

    /**
     * Selects the toggle button. This will do nothing if the toggle is already selected. Otherwise, the UI
     * will be updated to reflect the selected state. If the consumer has provided an onSelect callback, that will be
     * triggered.
     * @returns {undefined} undefined
     */
    ToggleButton.prototype.select = function() {
        //Simply return if the toggle is already selected
        if (this.m_selected) {
            return;
        }
        this.setSelected(true);
        if (this.m_onSelectCallback) {
            this.m_onSelectCallback();
        }
    };

    /**
     * Deselects the toggle button. This will do nothing if the toggle is already deselected. Otherwise, the UI
     * will be updated to reflect the deselected state. If the consumer has provided an onDeselect callback, that will be
     * triggered.
     * @returns {undefined} undefined
     */
    ToggleButton.prototype.deselect = function() {
        //Simple return if the toggle is already deselected
        if (!this.m_selected) {
            return;
        }
        this.setSelected(false);
        if (this.m_onDeselectCallback) {
            this.m_onDeselectCallback();
        }
    };

    /**
     * Overrides the base onClick function to provide toggle functionality. If the onClickCallback is set for the
     * toggle button it will override the default behavior. Otherwise, it will toggle the state of the button
     * between selected and deselected.
     * @returns {undefined} undefined
     */
    ToggleButton.prototype.onClick = function() {
        if (this.m_onClickCallback) {
            this.m_onClickCallback();
            return;
        }
        if (this.m_selected) {
            this.deselect();
        }
        else {
            this.select();
        }
    };

    /**
     * Sets the callback function that is triggered when the toggle button is selected.
     * @param {function} onSelectCallback - The callback function that is triggered when the toggle button is selected.
     * @returns {MPageUI.ToggleButton} Returns self to allow chaining.
     */
    ToggleButton.prototype.setOnSelectCallback = function(onSelectCallback) {
        if (typeof onSelectCallback !== "function") {
            throw new Error("MPageUI.ToggleButton.prototype.setOnSelectCallback expects a function");
        }
        this.m_onSelectCallback = onSelectCallback;
        return this;
    };

    /**
     * Sets the callback function that is triggered when the toggle button is deselected.
     * @param {function} onDeselectCallback - The callback function that is triggered when the toggle button is deselected.
     * @returns {MPageUI.ToggleButton} Returns self to allow chaining.
     */
    ToggleButton.prototype.setOnDeselectCallback = function(onDeselectCallback) {
        if (typeof onDeselectCallback !== "function") {
            throw new Error("MPageUI.ToggleButton.prototype.setOnDeselectCallback expects a function");
        }
        this.m_onDeselectCallback = onDeselectCallback;
        return this;
    };

    /**
     * Sets the UI state of the toggle button to the provided selected state.
     * @param {boolean} selected - The selected state of the toggle button. True is selected, false is deselected.
     * @returns {MPageUI.ToggleButton} Returns self to allow chaining.
     */
    ToggleButton.prototype.setSelected = function(selected) {
        if (typeof selected !== "boolean") {
            throw new Error("MPageUI.ToggleButton.prototype.setActive expects a boolean");
        }
        var $rootElement = this.getRootElement();
        if (selected) {
            $rootElement.addClass("active");
        }
        else {
            $rootElement.removeClass("active");
        }
        this.m_selected = selected;
        return this;
    };

    /**
     * Overrides the base render function. This renders the ToggleButton as an html string.
     * @returns {string} The ToggleButton rendered as an html string.
     */
    ToggleButton.prototype.render = function() {
        var disabled = this.m_disabled ? "disabled='true'" : "";
        var classes = "btn";
        var dataToggle = this.m_dataToggle ? ("data-toggle='" + this.m_dataToggle + "'") : "";
        classes += (this.m_size ? " " + this.m_size : "");
        classes += (this.m_shape ? " " + this.m_shape : "");
        classes += (this.m_style ? " " + this.m_style : "");
        classes += (this.m_selected ? " active" : "");
        return "<button type='button' id='" + this.m_id + "' class='" + classes + "' " + disabled + " " + dataToggle + ">" + this.m_label + "</button>";
    };

    return ToggleButton;
})();

/* global MPageUI */

MPageUI.Pager = (function() {
    /**
     * The Pager UIComponent. This class is used for paging mechanisms.
     * @returns {MPageUI.Pager} Returns self to allow chaining.
     * @constructor
     */
    var Pager = function() {
        //Super constructor
        this.base();
        this.m_currentPageLabel = "";
        this.m_previousLabel = "";
        this.m_nextLabel = "";
        this.m_currentPage = 0;
        this.m_numberPages = 0;
        this.m_wrap = false;
        this.m_onPageChangeCallback = null;

        //Element cache
        this.m_$currentPageElement = null;
        this.m_$nextElement = null;
        this.m_$previousElement = null;
        return this;
    };
    MPageUI.extend(Pager, MPageUI.UIComponent);

    /**
     * Retrieves the current page element.
     * @returns {jQuery} The current page element.
     */
    Pager.prototype.getCurrentPageElement = function() {
        if (!this.m_$currentPageElement || !this.m_$currentPageElement.length) {
            this.m_$currentPageElement = this.getRootElement().find(".current-page");
        }
        return this.m_$currentPageElement;
    };

    /**
     * Retrieves the next clickable target.
     * @returns {jQuery} The next clickable target element.
     */
    Pager.prototype.getNextElement = function() {
        if (!this.m_$nextElement || !this.m_$nextElement.length) {
            this.m_$nextElement = this.getRootElement().find(".next-page");
        }
        return this.m_$nextElement;
    };

    /**
     * Retrieves the previous clickable target.
     * @returns {jQuery} The previous clickable target element.
     */
    Pager.prototype.getPreviousElement = function() {
        if (!this.m_$previousElement || !this.m_$previousElement.length) {
            this.m_$previousElement = this.getRootElement().find(".prev-page");
        }
        return this.m_$previousElement;
    };

    /**
     * Sets the current page label. This pattern is used to update the page display, for instance 0 of 10 or 0 / 10.
     * The pattern replaces the string ${currentPage} with the current page number. The pattern replaces ${numberPages}
     * with the total number of pages. For example, if you wanted your page control to display '0 out of 10', you
     * would set the pattern to '${currentPage} out of ${numberPages}'.
     * @param {string} currentPageLabel - The current page label. The two recognized keywords are ${currentPage} and
     * ${numberPages} which are replaced by the current page and total number of pages respectively.
     * @returns {MPageUI.Pager} Returns self to allow chaining.
     */
    Pager.prototype.setCurrentPageLabelPattern = function(currentPageLabel) {
        if (typeof currentPageLabel !== "string") {
            throw new Error("Pager.prototype.setCurrentPageLabel expects a string");
        }
        this.m_currentPageLabel = currentPageLabel;
        this.getCurrentPageElement().html(this.getCurrentPageLabel());
        return this;
    };

    /**
     * Gets the current page label.
     * @returns {string} The current page label as a string.
     */
    Pager.prototype.getCurrentPageLabel = function() {
        return this.m_currentPageLabel.replace("${currentPage}", this.m_currentPage + 1).replace("${numberPages}", this.m_numberPages);
    };

    /**
     * Sets the label to be displayed in the clickable previous target.
     * @param {string} previousLabel - The label to be displayed in the previous target.
     * @returns {MPageUI.Pager} Returns self to allow chaining.
     */
    Pager.prototype.setPreviousLabel = function(previousLabel) {
        if (typeof previousLabel !== "string") {
            throw new Error("Pager.prototype.setPreviousLabel expects a string.");
        }
        this.m_previousLabel = previousLabel;
        return this;
    };

    /**
     * Sets the label to be displayed in the clickable next target.
     * @param {string} nextLabel - The label to be displayed in the next target.
     * @returns {MPageUI.Pager} Returns self to allow chaining.
     */
    Pager.prototype.setNextLabel = function(nextLabel) {
        if (typeof nextLabel !== "string") {
            throw new Error("Pager.prototype.setNextLabel expects a string.");
        }
        this.m_nextLabel = nextLabel;
        return this;
    };

    /**
     * Updates the disabled state of the previous/next clickable targets.
     * @returns {undefined} Returns undefined.
     */
    Pager.prototype.updateNextPreviousDisabled = function() {
        if (this.m_numberPages === Number.POSITIVE_INFINITY) {
            //Disable the previous target if you are at the first page.
            this.getPreviousElement().prop("disabled", (this.m_currentPage === 0)).attr("disabled", (this.m_currentPage === 0));
        }
        else {
            if (this.m_wrap) {
                return;
            }
            //Disable the previous target if you are at first page
            this.getPreviousElement().prop("disabled", (this.m_currentPage === 0)).attr("disabled", (this.m_currentPage === 0));

            //Disable the next target if you are at the last page.
            this.getNextElement().prop("disabled", (this.m_currentPage + 1 === this.m_numberPages)).attr("disabled", (this.m_currentPage + 1 === this.m_numberPages));
        }
    };

    /**
     * Sets the number of pages to infinity and sets the current page to 1.
     * @param {boolean} pagesUnknown - The indicator for specifying if the pages are unknown
     * @returns {MPageUI.Pager} Return self to allow chaining.
     */
    Pager.prototype.setPagesUnknown = function(pagesUnknown) {
        if (typeof pagesUnknown !== "boolean") {
            throw new Error("Pager.prototype.setPagesUnknown expects a boolean.");
        }
        if (pagesUnknown) {
            this.m_numberPages = Number.POSITIVE_INFINITY;
        }
        return this;
    };

    /**
     * Updates the Current Page label when the next/prev button is clicked.
     * @returns {undefined} Returns undefined.
     */
    Pager.prototype.updateCurrentPageLabel = function() {
        this.getCurrentPageElement().html(this.getCurrentPageLabel());
    };

    /**
     * Sets whether the pager should wrap the page index. If set to true, the page index will continually cycle from
     * zero to the specified number of pages in the positive or negative direction (depending on
     * @param {boolean} wrap - A boolean indicating that the pager should wrap or not.
     * @returns {MPageUI.Pager} Returns self to allow chaining.
     */
    Pager.prototype.setWrap = function(wrap) {
        this.m_wrap = wrap;
        return this;
    };

    /**
     * Sets the maximum number of pages for the pager.
     * @param {number} numberPages - An integer indicating how many pages the pager has.
     * @returns {MPageUI.Pager} Returns self to allow chaining.
     */
    Pager.prototype.setNumberPages = function(numberPages) {
        if (typeof numberPages !== "number") {
            throw new Error("Pager.prototype.setNumberPages expects a number.");
        }
        if (numberPages < 0 || numberPages % 1 !== 0) {
            throw new Error("Pager.prototype.setNumberPages expects a number greater than or equal to 0.");
        }
        this.m_numberPages = numberPages;
        return this;
    };

    /**
     * Sets the current page for the pager.
     * @param {number} currentPage - An integer indicating the current page.
     * @returns {MPageUI.Pager} Returns self to allow chaining.
     */
    Pager.prototype.setCurrentPage = function(currentPage) {
        if (typeof currentPage !== "number") {
            throw new Error("Pager.prototype.setCurrentPage expects a number.");
        }
        if (currentPage < 0 || currentPage % 1 !== 0) {
            throw new Error("Pager.prototype.setCurrentPage expects a number greater than or equal to 0.");
        }
        this.m_currentPage = currentPage;
        if (!this.m_wrap) {
            this.updateNextPreviousDisabled();
        }
        this.updateCurrentPageLabel();
        return this;
    };

    /**
     * Handles the event when the user clicks the first page target. This will automatically set the page index to 0,
     * or the first page. Once the page index has been updated, the page change callback will be called with the current
     * page index.
     * @returns {undefined} Returns undefined.
     */
    Pager.prototype.onClickFirst = function() {
        this.setCurrentPage(0);
        if (this.m_onPageChangeCallback) {
            this.m_onPageChangeCallback({
                "currentPage": this.m_currentPage,
                "numberPages": this.m_numberPages
            });
        }
    };

    /**
     * Handles the event when the user clicks the previous target. If the control is configured to wrap, the page index
     * will continually cycle from zero to the specified number of pages. Otherwise, the page index will be clamped
     * to zero. Once the page index has been updated, the page change callback will be called with the current page
     * index.
     * @returns {undefined} Returns undefined.
     */
    Pager.prototype.onClickPrevious = function() {
        if (this.m_numberPages === Number.POSITIVE_INFINITY && this.m_currentPage >= 0) {
            this.m_currentPage--;
            this.setCurrentPage(this.m_currentPage);
        }
        else {
            /* eslint-disable */
            if (this.m_wrap) {
                this.setCurrentPage(((this.m_currentPage - 1) + this.m_numberPages) % this.m_numberPages);
            }
            else {
                this.setCurrentPage(Math.max(0, this.m_currentPage - 1));
            }
            /* eslint-enable */
        }
        if (this.m_onPageChangeCallback) {
            this.m_onPageChangeCallback({
                "currentPage": this.m_currentPage,
                "numberPages": this.m_numberPages
            });
        }
    };

    /**
     * Handles the event when the user clicks the next target. If the control is configured to wrap, the page index
     * will continually cycle from zero to the specified number of pages. Otherwise, the page index will be clamped
     * to zero. Once the page index has been updated, the page change callback will be called with the current page
     * index.
     * @returns {undefined} Returns undefined.
     */
    Pager.prototype.onClickNext = function() {
        if (this.m_numberPages === Number.POSITIVE_INFINITY) {
            this.m_currentPage++;
            this.setCurrentPage(this.m_currentPage);
        }
        else {
            /* eslint-disable */
            if (this.m_wrap) {
                this.setCurrentPage((this.m_currentPage + 1) % this.m_numberPages);
            }
            else {
                this.setCurrentPage(Math.min(this.m_numberPages, this.m_currentPage + 1));
            }
            /* eslint-enable */
        }
        if (this.m_onPageChangeCallback) {
            this.m_onPageChangeCallback({
                "currentPage": this.m_currentPage,
                "numberPages": this.m_numberPages
            });
        }
    };

    /**
     * Handles the event when the user clicks the first page target. This will automatically set the page index to 0,
     * or the first page. Once the page index has been updated, the page change callback will be called with the current
     * page index.
     * @returns {undefined} Returns undefined.
     */
    Pager.prototype.onClickLast = function() {
        this.setCurrentPage(this.m_numberPages);
        if (this.m_onPageChangeCallback) {
            this.m_onPageChangeCallback({
                "currentPage": this.m_currentPage,
                "numberPages": this.m_numberPages
            });
        }
    };

    /**
     * Sets the callback to be triggered when the page index changes.
     * @param {function} callback - The callback function to be triggered when the page index changes. It is expected
     * that this callback function provide a parameter for the current page index. For example...
     * pager.setOnPageChangeCallback(function(pageIndex){ ... });
     * @returns {MPageUI.Pager} Returns self to allow chaining.
     */
    Pager.prototype.setOnPageChangeCallback = function(callback) {
        if (typeof callback !== "function") {
            throw new Error("Pager.prototype.setOnPageChangeCallback expects a function.");
        }
        this.m_onPageChangeCallback = callback;
        return this;
    };

    /**
     * Overrides the base render function.
     * @returns {string} Returns jquery pager object.
     */
    Pager.prototype.render = function() {
        var previousDisabled = (!this.m_wrap ? " disabled='true'" : "");
        var pager = "<nav id='" + this.m_id + "' class='paginator'>";
        //Next
        pager += "<span class='next-pages'><a class='next-page' href='#' rel='next'>" + this.m_nextLabel + "</a></span>";
        //Previous
        pager += "<span class='prior-pages'><a class='prev-page' href='#' rel='prev'" + previousDisabled + ">" + this.m_previousLabel + "</a></span>";
        //Middle area (separator)
        pager += "<span class='current-page'>" + this.getCurrentPageLabel() + "</span></nav>";
        return pager;
    };

    /**
     * Attaches the necessary events to an instance of the Pager. This function must be called after the Pager has
     * been rendered to the DOM.
     * @returns {undefined} Returns nothing.
     */
    Pager.prototype.attachEvents = function() {
        var self = this;
        var $rootElement = this.getRootElement();
        $rootElement.on("click.mpageui", ".first-page", function() {
            self.onClickFirst();
        });
        $rootElement.on("click.mpageui", ".prev-page", function() {
            self.onClickPrevious();
        });
        $rootElement.on("click.mpageui", ".next-page", function() {
            self.onClickNext();
        });
        $rootElement.on("click.mpageui", ".last-page", function() {
            self.onClickLast();
        });
    };
    return Pager;
})();

/* global MPageUI */

MPageUI.POPUP_OPTIONS = {
    POSITION: {
        RIGHT: "right",
        LEFT: "left",
        TOP: "top",
        TOP_RIGHT: "top-right",
        TOP_LEFT: "top-left",
        BOTTOM: "bottom",
        BOTTOM_RIGHT: "bottom-right",
        BOTTOM_LEFT: "bottom-left"
    },
    WIDTH: {
        SMALL: 200,
        MEDIUM: 400,
        LARGE: 600
    }
};

MPageUI.Popup = (function() {
    /**
     * The Popup class.
     * @returns {MPageUI.Popup} Returns self to allow chaining.
     * @constructor
     */
    var Popup = function() {
        //Super constructor
        this.base();
        this.m_headerHTML = "";
        this.m_bodyHTML = "";
        this.m_footerHTML = "";
        this.m_anchorId = "";
        this.m_position = MPageUI.POPUP_OPTIONS.POSITION.BOTTOM;
        this.m_width = MPageUI.POPUP_OPTIONS.WIDTH.SMALL;
        this.m_maxBodyHeight = "400px";
        this.m_popupExistsFlag = false;
        this.m_popupShowingFlag = false;
        this.m_hideOnScroll = false;
        this.m_scrollableParent = "";
        return this;
    };

    MPageUI.extend(Popup, MPageUI.UIComponent);

    /**
     * A parent div containing the tooltip. Once scrolled, the tooltip will disapear.
     * @throws {Error} An error indicating that the argument is an invalid type.
     * @param {string} scrollableParent - a class or ID representing the parent scrollable element
     * @returns {MPageUI.Popup} Returns self to allow chaining.
     */
    Popup.prototype.setScrollableParent = function(scrollableParent) {
        if (typeof scrollableParent !== "string") {
            throw new Error("MPageUI.Popup.prototype.setScrollableParent expects a string.");
        }

        this.m_scrollableParent = scrollableParent;

        return this;
    };

    /**
     * Returns whether the popup exists or not
     * @throws {Error} An error indicating that the argument is an invalid type.
     * @param {Boolean} isHidden - true or false based on if the popup exists or not
     * @returns {MPageUI.Popup} Returns self to allow chaining.
     */
    Popup.prototype.hideOnScroll = function(isHidden) {
        if (typeof isHidden !== "boolean") {
            throw new Error("MPageUI.Popup.prototype.hideOnScroll expects a boolean.");
        }

        if (!this.m_scrollableParent) {
            throw new Error("MPageUI.Popup.prototype.hideOnScroll expects setScrollableParent to be set.");
        }

        this.m_hideOnScroll = isHidden;

        return this;
    };
    /**
     * Returns whether the popup exists or not
     * @returns {boolean} true or false based on if the popup exists or not
     */
    Popup.prototype.exists = function() {
        return this.m_popupExistsFlag;
    };
    /**
     * Returns whether the popup is open or not
     * @returns {boolean} true or false based on if the popup is open or not
     */
    Popup.prototype.isOpen = function() {
        return this.m_popupShowingFlag;
    };
    /**
     * Calls the create and show functions. This function was only created to
     * allow the sampler to call .render. It should not be used by
     * external callers
     * @private
     * @returns {undefined} Returns nothing.
     */
    Popup.prototype.render = function() {
        this.show();
    };
    /**
     * Creates the popup using the tooltipster plugin
     * @throws {Error} An error indicating that the anchor id should already be set
     * @private
     * @returns {MPageUI.Popup} Returns self to allow chaining.
     */
    Popup.prototype.create = function() {
        if (!this.m_anchorId) {
            throw new Error("MPageUI.Popup.prototype.create expects the anchor id to be set.");
        }

        var self = this;
        var anchorSelector = "#" + this.m_anchorId;
        var popupHTML = "";

        if (this.m_headerHTML) {
            popupHTML += "<div class='mpage-ui-popup-header'>" + this.m_headerHTML + "</div>";
        }

        popupHTML += "<div class='mpage-ui-popup-body' id='" + this.m_id + "' style='max-height:" + this.m_maxBodyHeight + "'>" + this.m_bodyHTML + "</div>";

        if (this.m_footerHTML) {
            popupHTML += "<div>" + this.m_footerHTML + "</div>";
        }

        $(anchorSelector).tooltipster({
            content: $(popupHTML),
            interactive: true,
            maxWidth: self.m_width,
            minWidth: self.m_width,
            position: self.m_position,
            restoration: "none",
            theme: "mpage-ui-popup",
            trigger: "custom",
            speed: 0
        });

        this.m_popupExistsFlag = true;

        return this;
    };
    /**
     * Destroys the popup using and clears some member level variables
     * @throws {Error} An error indicating that the anchor id should already be set
     * @deprecated
     * @private
     * @returns {MPageUI.Popup} Returns self to allow chaining.
     */
    Popup.prototype.destroy = function() {
        if (!this.m_anchorId) {
            throw new Error("MPageUI.Popup.prototype.destroy expects the anchor id to be set.");
        }
        //If the popup does not exist, then there is nothing to destroy
        if (!this.m_popupExistsFlag) {
            return this;
        }
        //destroy the popup
        var anchorSelector = "#" + this.m_anchorId;
        $(anchorSelector).tooltipster("destroy");
        //clear the member level variables
        this.m_popupExistsFlag = false;
        this.m_popupShowingFlag = false;
        this.m_headerHTML = "";
        this.m_bodyHTML = "";
        this.m_footerHTML = "";
        return null;
    };
    /**
     * Shows the popup
     * @throws {Error} An error indicating that the anchor id should already be set
     * @returns {MPageUI.Popup} Returns self to allow chaining.
     */
    Popup.prototype.show = function() {
        if (!this.m_anchorId) {
            throw new Error("MPageUI.Popup.prototype.show expects the anchor id to be set.");
        }

        //If the popup is already showing, no need to show again, just return self to allow chaining
        if (this.m_popupShowingFlag) {
            return this;
        }

        //If the popup does not already exist, call create
        if (!this.m_popupExistsFlag) {
            this.create();
        }

        var anchorSelector = "#" + this.m_anchorId;
        $(anchorSelector).tooltipster("show");
        this.m_popupShowingFlag = true;

        return this;
    };
    /**
     * Hides the popup
     * @throws {Error} An error indicating that the anchor id should already be set
     * @returns {MPageUI.Popup} Returns self to allow chaining.
     */
    Popup.prototype.hide = function() {
        if (!this.m_anchorId) {
            throw new Error("MPageUI.Popup.prototype.hide expects the anchor id to be set.");
        }

        //if the popup is showing, hide it
        if (this.m_popupShowingFlag) {
            var anchorSelector = "#" + this.m_anchorId;
            $(anchorSelector).tooltipster("hide");
            this.m_popupShowingFlag = false;
        }
        return this;
    };
    /**
     * Toggles the popup to show and hide as needed
     * @returns {MPageUI.Popup} Returns self to allow chaining.
     */
    Popup.prototype.toggle = function() {
        if (this.m_popupShowingFlag) {
            this.hide();
        }
        else {
            this.show();
        }
        return this;
    };
    /**
     * Sets the anchor id of the popup. This is the id of the element the popup should anchor to.
     * @param {string} anchorId - The anchor id of popup
     * @throws {Error} An error indicating that the anchor id parameter is an invalid type.
     * @returns {MPageUI.Popup} Returns self to allow chaining.
     */
    Popup.prototype.setAnchorId = function(anchorId) {
        if (typeof anchorId !== "string") {
            throw new Error("MPageUI.Popup.prototype.setAnchorId expects a string.");
        }
        this.m_anchorId = anchorId;
        return this;
    };
    /**
     * Sets the header of the popup
     * @param {string} headerText - The header text to display in the popup
     * @throws {Error} An error indicating that the header text parameter is an invalid type.
     * @returns {MPageUI.Popup} Returns self to allow chaining.
     */
    Popup.prototype.setHeader = function(headerText) {
        if (typeof headerText !== "string") {
            throw new Error("MPageUI.Popup.prototype.setHeader expects a string.");
        }
        this.m_headerHTML = headerText;

        if (this.m_popupExistsFlag) {
            this.changePopupContent();
        }

        return this;
    };
    /**
     * Sets the body content of the popup
     * @param {string} bodyHTML - The body html string to display in the popup
     * @throws {Error} An error indicating that the body html parameter is an invalid type.
     * @returns {MPageUI.Popup} Returns self to allow chaining.
     */
    Popup.prototype.setBodyContent = function(bodyHTML) {
        if (typeof bodyHTML !== "string") {
            throw new Error("MPageUI.Popup.prototype.setBodyContent expects a string.");
        }

        this.m_bodyHTML = bodyHTML;

        if (this.m_popupExistsFlag) {
            this.changePopupContent();
        }

        return this;
    };
    /**
     * Sets the footer of the popup
     * @param {string} footerHTML - The footer html string to display in the popup
     * @throws {Error} An error indicating that the footer html parameter is an invalid type.
     * @returns {MPageUI.Popup} Returns self to allow chaining.
     */
    Popup.prototype.setFooter = function(footerHTML) {
        if (typeof footerHTML !== "string") {
            throw new Error("MPageUI.Popup.prototype.setFooter expects a string.");
        }
        this.m_footerHTML = footerHTML;

        if (this.m_popupExistsFlag) {
            this.changePopupContent();
        }

        return this;
    };
    /**
     * Sets the position of the popup
     * @param {string} position - The position string of the popup
     * @throws {Error} An error indicating that the position parameter is an invalid type.
     * @returns {MPageUI.Popup} Returns self to allow chaining.
     */
    Popup.prototype.setPosition = function(position) {
        if (typeof position !== "string") {
            throw new Error("MPageUI.Popup.prototype.setPosition expects a string.");
        }
        this.m_position = position;
        return this;
    };
    /**
     * Sets the width of the popup
     * @param {number} width - The width of the popup
     * @throws {Error} An error indicating that the width parameter is an invalid type.
     * @returns {MPageUI.Popup} Returns self to allow chaining.
     */
    Popup.prototype.setWidth = function(width) {
        if (typeof width !== "number") {
            throw new Error("MPageUI.Popup.prototype.setWidth expects a number.");
        }
        this.m_width = width;
        return this;
    };
    /**
     * Sets the max body height of the popup (not the whole popup height). Should be passed
     * as "400px" or "20%".
     * @param {string} bodyMaxHeight - The maximum body height string of the popup
     * @throws {Error} An error indicating that the position parameter is an invalid type.
     * @returns {MPageUI.Popup} Returns self to allow chaining.
     */
    Popup.prototype.setMaxBodyHeight = function(bodyMaxHeight) {
        if (typeof bodyMaxHeight !== "string") {
            throw new Error("MPageUI.Popup.prototype.setMaxBodyHeight expects a string.");
        }
        this.m_maxBodyHeight = bodyMaxHeight;
        return this;
    };
    /**
     * Updates any of the three areas of the popup content. This function is called by
     * other functions when a content area is set and the popup already exists
     * @throws {Error} An error indicating that the anchor id should already be set
     * @private
     * @returns {MPageUI.Popup} Returns self to allow chaining.
     */
    Popup.prototype.changePopupContent = function() {
        if (!this.m_anchorId) {
            throw new Error("MPageUI.Popup.prototype.changePopupContent expects the anchor id to be set.");
        }

        var popupHTML = "";
        var anchorSelector = "#" + this.m_anchorId;

        if (this.m_headerHTML) {
            popupHTML += "<div class='mpage-ui-popup-header'>" + this.m_headerHTML + "</div>";
        }

        popupHTML += "<div class='mpage-ui-popup-body' style='max-height:" + this.m_maxBodyHeight + "'>" + this.m_bodyHTML + "</div>";

        if (this.m_footerHTML) {
            popupHTML += "<div>" + this.m_footerHTML + "</div>";
        }

        $(anchorSelector).tooltipster("content", $(popupHTML));
        return this;
    };
    /**
     * Attach event to DOM elements once the HTML has been rendered.
     * @returns {MPageUI.Popup} Returns self to allow chaining.
     */
    Popup.prototype.attachEvents = function() {
        var self = this;

        /**
         * @TODO - This fixes the issue #463 on https://github.com/iamceege/tooltipster/issues
         *         Where the tooltip does not move when the parent div is scrolled. Update code
         *         once issue is fixed by owner on Terra lands on another library for tooltips.
         */
        if (this.m_hideOnScroll && this.m_anchorId) {
            $(this.m_scrollableParent).on("scroll", function() {
                if (self.isOpen()) {
                    //Hide the popup upon scrolling the parent div
                    self.hide();
                }
            });
        }
        return this;
    };
    return Popup;
})();

/* global MPageUI */

MPageUI.SEGMENTED_CONTROL_OPTIONS = {
    SELECT_MODE: {
        SINGLE: 0,
        MULTI: 1
    }
};

MPageUI.SegmentedControl = (function() {
    /**
     * The SegmentedControl class.
     * @returns {MPageUI.SegmentedControl} Returns self to allow chaining.
     * @constructor
     */
    var SegmentedControl = function() {
        this.m_selectedSegments = null;
        this.m_segments = null;
        this.m_selectMode = MPageUI.SEGMENTED_CONTROL_OPTIONS.SELECT_MODE.SINGLE;
        this.base();
        return this;
    };
    MPageUI.extend(SegmentedControl, MPageUI.UIComponent);

    /**
     * Retrieves the list of all selected segments.
     * @private
     * @returns {Array<Object>} The array of selected segments.
     */
    SegmentedControl.prototype.getSelectedSegments = function() {
        if (!this.m_selectedSegments) {
            this.m_selectedSegments = [];
        }
        return this.m_selectedSegments;
    };

    /**
     * Retrieves the list of all segments.
     * @private
     * @returns {Array<Object>} The array of segments.
     */
    SegmentedControl.prototype.getSegments = function() {
        if (!this.m_segments) {
            this.m_segments = [];
        }
        return this.m_segments;
    };

    /**
     * Sets the selection mode for the SegmentedControl. This will determine the behavior when the user interacts with
     * the control.
     * @param {number} selectMode - The selection mode for the SegmentedControl. This must be chosen from the
     * MPageUI.SEGMENTED_CONTROL_OPTIONS.SELECT_MODE enumeration.
     * @throws {Error} An error indicating that the provided option was not valid.
     * @returns {MPageUI.SegmentedControl} Returns self to allow chaining.
     */
    SegmentedControl.prototype.setSelectMode = function(selectMode) {
        if (typeof selectMode !== "number") {
            throw new Error("MPageUI.SegmentedControl.prototype.setSelectMode expects an integer");
        }
        this.m_selectMode = selectMode;
        return this;
    };

    /**
     * Activates a single segment object. This will add the segment to the list of selected segments and add an
     * active class to the root element of the segment.
     * @private
     * @param {Object} segmentObject - The segment object to be activated.
     * @returns {MPageUI.SegmentedControl} Returns self to allow chaining.
     */
    SegmentedControl.prototype.selectSegment = function(segmentObject) {
        //Update the UI
        var $segmentRootElement = segmentObject.uiComponent.getRootElement();
        $segmentRootElement.addClass("active");
        //Store the selected segment
        this.getSelectedSegments().push(segmentObject);
        //If the onSelect function has been provided for the segment
        if (segmentObject.segment.onSelect) {
            segmentObject.segment.onSelect.call(segmentObject.segment);
        }
        return this;
    };

    /**
     * Deactivates a single segment object. This will remove the segment from the list of selected segments and remove
     * the active class from the root element of the segment.
     * @private
     * @param {Object} segmentObject - The segment object to be deactivated.
     * @returns {MPageUI.SegmentedControl} Returns self to allow chaining.
     */
    SegmentedControl.prototype.deselectSegment = function(segmentObject) {
        //Update the UI
        var $segmentRootElement = segmentObject.uiComponent.getRootElement();
        $segmentRootElement.removeClass("active");
        var selectedSegments = this.getSelectedSegments();
        var selectedSegmentCount = selectedSegments.length;
        //Loop through the list of selected segments and remove the specified segment from the list
        for (var i = 0; i < selectedSegmentCount; i++) {
            if (selectedSegments[ i ] === segmentObject) {
                selectedSegments.splice(i, 1);
                //If the onDeselect function has been provided for the segment
                if (segmentObject.segment.onDeselect) {
                    segmentObject.segment.onDeselect.call(segmentObject.segment);
                }
                break;
            }
        }
        return this;
    };
    /**
     * This function will validate a provided segment. If the segment is not valid, an exception will be thrown to
     * inform the consumer.
     * @param {Object} segment - The segment to be verified.
     * @private
     * @throws {Error} An error indicating that the provided segment was not valid.
     * @returns {undefined} Returns nothing.
     */
    SegmentedControl.prototype.validateSegment = function(segment) {
        if (typeof segment !== "object") {
            throw new Error("MPageUI.SegmentedControl.prototype.validateSegment expects an object");
        }
        //validate label
        if (!segment.label) {
            throw new Error("MPageUI.SegmentedControl.prototype.addSegment: label is required for this segment.");
        }
        //validate id
        if (segment.id && typeof segment.id !== "string") {
            throw new Error("MPageUI.SegmentedControl.prototype.addSegment: the label must be a string.");
        }
        //validate disabled
        if (segment.selected && typeof segment.selected !== "boolean") {
            throw new Error("MPageUI.SegmentedControl.prototype.addSegment: the selected attribute must be a boolean.");
        }
        //validate disabled
        if (segment.disabled && typeof segment.disabled !== "boolean") {
            throw new Error("MPageUI.SegmentedControl.prototype.addSegment: the disabled attribute must be a boolean.");
        }
        //validate onSelect callback
        if (!segment.onSelect) {
            throw new Error("MPageUI.SegmentedControl.prototype.addSegment: onSelect callback is required for this segment.");
        }
        if (typeof segment.onSelect !== "function") {
            throw new Error("MPageUI.SegmentedControl.prototype.addSegment: the onSelect callback must be a function.");
        }
        //validate onDeselect callback
        if (segment.onDeselect && typeof segment.onDeselect !== "function") {
            throw new Error("MPageUI.SegmentedControl.prototype.addSegment: the onDeselect callback must be a function.");
        }
    };
    /**
     * This function will disable the segment with a given index position
     * @param  {number} index The index of the segment to be activated
     * @throws {Error} An error is thrown if an invalid index is provided.
     * @returns {MPageUI.SegmentedControl} Returns self to allow chaining.
     */
    SegmentedControl.prototype.disableSegmentAtIndex = function(index) {
        var segments = this.getSegments();
        var segment = null;
        if (index < 0 || index >= segments.length) {
            throw new Error("SegmentedControl.prototype.selectSegmentAtIndex expects an integer between 0 and the number of segments.");
        }
        segment = segments[ index ];
        //check if segment is selected deselect it
        if (this.isSegmentAtIndexSelected(index)) {
            this.deselectSegment(segment);
        }
        //set the segment as disabled
        segment.uiComponent.setDisabled(true);

        return this;
    };
    /**
     * This private function will take a segment id as a parameter and return the segment with that id
     * if there is no segment with the given id the function will return null
     * @param  {String} id - The id of the segment.
     * @throws {Error} An error is thrown if an invalid id is provided.
     * @private
     * @returns {MPageUI.SegmentedControl}    Returns the segment with the given id.
     */
    SegmentedControl.prototype.getSegmentById = function(id) {
        //validate id to be a string
        if (typeof id !== "string") {
            throw new Error("SegmentedControl.prototype.deselectSegmentById expects id to be a string.");
        }
        var segments = this.getSegments();
        var segmentCount = segments.length;
        var segment = null;
        for (var i = 0; i < segmentCount; i++) {
            segment = segments[ i ];
            if (segment.segment.id === id) {
                return segment;
            }
        }
        return null;
    };
    /**
     * This function will take a segment id as a parameter and deselect it
     * @param  {String} id - The id of the segment
     * @returns {MPageUI.SegmentedControl} Returns self to allow chaining.
     */
    SegmentedControl.prototype.deselectSegmentById = function(id) {
        //get the segment with the id
        var segment = this.getSegmentById(id);
        var selectedSegments = null;
        if (segment) {
            //get all selected segments
            selectedSegments = this.getSelectedSegments();
            var selectedSegmentsCount = selectedSegments.length;
            //check if the segment is selected and deselect it
            for (var i = 0; i < selectedSegmentsCount; i++) {
                if (selectedSegments[ i ] === segment) {
                    this.deselectSegment(segment);
                }
                break;
            }
        }
        return this;
    };
    /**
     * This function will take a segment id as a parameter and change the state of the segment
     * with the given id to disabled
     * @param  {String} id - Segment id
     * @returns {MPageUI.SegmentedControl} Returns self to allow chaining.
     */
    SegmentedControl.prototype.disableSegmentById = function(id) {
        var segment = this.getSegmentById(id);
        //deselect the segment
        this.deselectSegmentById(id);
        //set the segment as disabled
        segment.uiComponent.setDisabled(true);
        return this;
    };
    /**
     * This is a consumer-facing function that allows a segment to be activated via its index. The index is 0-based.
     * @param {number} index - The index of the segment to be activated.
     * @throws {Error} An error is thrown if an invalid index is provided.
     * @returns {MPageUI.SegmentedControl} Returns self to allow chaining.
     */
    SegmentedControl.prototype.selectSegmentAtIndex = function(index) {
        var segments = this.getSegments();
        var segment = null;
        if (index < 0 || index >= segments.length) {
            throw new Error("SegmentedControl.prototype.selectSegmentAtIndex expects an integer between 0 and the number of segments.");
        }
        segment = segments[ index ];
        //Use the handle selection function
        this.handleSelection(segment);
        return this;
    };

    /**
     * This is a consumer-facing function that allows a segment to be activated via its index. The index is 0-based.
     * @param {number} index - The index of the segment to be activated.
     * @throws {Error} An error is thrown if an invalid index is provided.
     * @returns {MPageUI.SegmentedControl} Returns self to allow chaining.
     */
    SegmentedControl.prototype.deselectSegmentAtIndex = function(index) {
        var segments = this.getSegments();
        var segment = null;
        var selectedIndex = null;
        if (index < 0 || index >= segments.length) {
            throw new Error("MPageUI.SegmentedControl.prototype.deselectSegmentAtIndex expects a number between 0 and the number of segments.");
        }
        segment = segments[ index ];
        selectedIndex = this.getSelectedSegmentIndex(segment);
        //If the segment is already inactive
        if (selectedIndex < 0) {
            return this;
        }
        this.deselectSegment(segment);
        return this;
    };

    /**
     * Returns a boolean indicating if the segment at the provided index is selected or not.
     * @param {number} index - The index of the segment that is being checked.
     * @throws {Error} An error is thrown if an invalid index is provided.
     * @returns {boolean} True if the segment is selected otherwise false.
     */
    SegmentedControl.prototype.isSegmentAtIndexSelected = function(index) {
        var segments = this.getSegments();
        if (index < 0 || index >= segments.length) {
            throw new Error("MPageUI.SegmentedControl.prototype.isSegmentAtIndexSelected expects a number between 0 and the number of segments.");
        }
        return this.getSelectedSegmentIndex(segments[ index ]) > -1;
    };

    /**
     * Retrieves the index where the segment is within the array of selected segments. If the segment is not selected
     * (not present in the array of selected segments), -1 will be returned.
     * @param {Object} segment - The segment object for which we are retrieving the position in the array of selected
     * segments.
     * @private
     * @returns {number} The index of the segment in the array of selected segments. Returns -1 if the segment was not
     * found.
     */
    SegmentedControl.prototype.getSelectedSegmentIndex = function(segment) {
        var segments = this.getSelectedSegments();
        var segmentCount = segments.length;
        for (var i = 0; i < segmentCount; i++) {
            if (segments[ i ] === segment) {
                return i;
            }
        }
        //Segment is not within the array of selected segments
        return -1;
    };

    /**
     * Handles the selection of a segment object.
     * @param {Object} segment - The segment object for which selection is being handled.
     * @private
     * @returns {undefined} Returns nothing.
     */
    SegmentedControl.prototype.handleSelection = function(segment) {
        var selectionModeEnum = MPageUI.SEGMENTED_CONTROL_OPTIONS.SELECT_MODE;
        //Checks if the segment is selected
        var selectedIndex = this.getSelectedSegmentIndex(segment);
        switch (this.m_selectMode) {
            //Multi selection mode
            case selectionModeEnum.MULTI:
                if (selectedIndex > -1) {
                    this.deselectSegment(segment);
                }
                else {
                    this.selectSegment(segment);
                }
                break;
            case selectionModeEnum.SINGLE:
            default:
                //Only do work if the segment is not selected
                if (selectedIndex < 0) {
                    this.deselectAllSegments();
                    this.selectSegment(segment);
                }
                break;
        }
    };

    /**
     * Deactivates all segments. It first iterates over all selected segments, calling their onDeselect callback if
     * provided.
     * @returns {undefined} Returns nothing.
     */
    SegmentedControl.prototype.deselectAllSegments = function() {
        var $rootElement = this.getRootElement();
        $rootElement.find(".active").removeClass("active");
        var selectedSegments = this.getSelectedSegments();
        var selectedSegmentCount = selectedSegments.length;
        var selectedSegment = null;
        for (var i = 0; i < selectedSegmentCount; i++) {
            selectedSegment = selectedSegments[ i ];
            if (selectedSegment.segment.onDeselect) {
                selectedSegment.segment.onDeselect.call(selectedSegment.segment);
            }
        }
        this.m_selectedSegments = [];
    };

    /**
     * Adds a segment to the SegmentedControl. The segment
     * @param {Object} segment - The segment to be added to the SegmentedControl. This must be of the following form.
     * {
	 * 		id: 'segmentId'
	 * 		label: 'Label',
	 * 		selected: 'true/false' [optional - false if not set]
	 * 		disabled: true/false, [optional - false if not set]
	 * 		onSelect:	function() { ... },
	 * 		onDeselect: function() { ... }
	 * }
     * @returns {MPageUI.SegmentedControl} Returns self to allow chaining.
     */
    SegmentedControl.prototype.addSegment = function(segment) {
        this.validateSegment(segment);
        var segmentObject = null;
        var segments = this.getSegments();
        var button = new MPageUI.ToggleButton();
        var self = this;
        button.setLabel(segment.label);
        button.setSelected(segment.selected || false);
        button.setDisabled(segment.disabled || false);
        button.setOnClickCallback(function() {
            self.handleSelection(segmentObject);
        });
        //Create a wrapping segment object which stores
        segmentObject = {
            "segment": segment,
            "uiComponent": button
        };
        segments.push(segmentObject);
        if (segment.selected) {
            this.getSelectedSegments().push(segmentObject);
        }
        return this;
    };

    /**
     * Renders the SegmentedControl as an html string.
     * @returns {string} The SegmentedControl rendered as an html string.
     */
    SegmentedControl.prototype.render = function() {
        var segments = this.getSegments();
        var segmentCount = segments.length;
        var html = "<div id='" + this.m_id + "' class='btn-group'>";
        for (var i = 0; i < segmentCount; i++) {
            html += segments[ i ].uiComponent.render();
        }
        return html + "</div>";
    };

    /**
     * Attaches the events to the segments.
     * @returns {MPageUI.SegmentedControl} Returns self to allow chaining.
     */
    SegmentedControl.prototype.attachEvents = function() {
        var segments = this.getSegments();
        var segmentCount = segments.length;
        for (var i = 0; i < segmentCount; i++) {
            segments[ i ].uiComponent.attachEvents();
        }
        return this;
    };

    /**
     * Runs through each segment and clears the element cache for each component.
     * @returns {undefined} Returns nothing.
     */
    SegmentedControl.prototype.clearElementCache = function() {
        var segments = this.getSegments();
        var segmentCount = segments.length;
        for (var i = 0; i < segmentCount; i++) {
            segments[ i ].uiComponent.clearElementCache();
        }
    };

    return SegmentedControl;
})();

/* global MPageUI */

MPageUI.PEDBannerControl = (function() {
    /**
     * The MPageUI.PEDBannerControl class.
     * @returns {MPageUI.PEDBannerControl} Returns self to allow chaining.
     * @constructor
     */
    var PEDBannerControl = function() {
        this.base();
        this.m_buttonClickCallback = null;
        this.m_bannerButton = new MPageUI.Button();
        this.m_options = {
            buttonLabel: "",
            bannerText: "",
            buttonStyle: MPageUI.BUTTON_OPTIONS.STYLE.SECONDARY
        };
        return this;
    };

    MPageUI.extend(PEDBannerControl, MPageUI.UIComponent);

    /**
     * Renders banner button with the inputs provided - Parameters checked: Button, Button label, button callback
     * @throws {Error} Error thrown when banner button is not present || button label is not present || button callback is not present
     * @returns {string} Contains the markup of the button
     */
    PEDBannerControl.prototype.renderBannerButton = function() {
        if (!this.m_bannerButton) {
            throw new Error("MPageUI.PEDBannerControl.prototype.renderBannerButton is not able to create an instance of MPageUI Button");
        }
        if (!this.m_options.buttonLabel) {
            throw new Error("MPageUI.PEDBannerControl.prototype.renderBannerButton expects a button label");
        }
        if (!this.m_buttonClickCallback) {
            throw new Error("MPageUI.PEDBannerControl.prototype.renderBannerButton expects a button callback");
        }
        this.m_bannerButton.setLabel(this.m_options.buttonLabel);
        this.m_bannerButton.setStyle(this.m_options.buttonStyle);
        this.m_bannerButton.setOnClickCallback(this.m_buttonClickCallback);

        return this.m_bannerButton.render();
    };
    /* eslint-enable no-unused-vars */
    /**
     * Sets the callback for the button in the banner
     * @param {Function} callback function to call when the button is clicked
     * @throws {Error} Error thrown when button callback is not of a type function
     * @returns {MPageUI.PEDBannerControl} Returns self to allow chaining.
     */
    PEDBannerControl.prototype.setPEDBannerButtonCallback = function(callback) {
        if (typeof callback !== "function") {
            throw new Error("MPageUI.PEDBannerControl.prototype.setPEDBannerButtonCallback expects a function");
        }
        this.m_buttonClickCallback = callback;
        return this;
    };

    /* eslint-enable no-unused-vars */
    /**
     * Sets the banner text
     * @param {string} bannerText Text describing the banner content
     * @throws {Error} Error thrown when banner text is not of a type string
     * @returns {MPageUI.PEDBannerControl} Returns self to allow chaining.
     */
    PEDBannerControl.prototype.setPEDBannerText = function(bannerText) {
        if (typeof bannerText !== "string") {
            throw new Error("MPageUI.PEDBannerControl.prototype.setPEDBannerText expects a string");
        }
        this.m_options.bannerText = bannerText;
        return this;
    };

    /* eslint-enable no-unused-vars */
    /**
     * Sets the button label
     * @param {string} buttonLabel Label of the button placed inside the banner
     * @throws {Error} Error thrown when banner button label is not of a type string
     * @returns {MPageUI.PEDBannerControl} Returns self to allow chaining.
     */
    PEDBannerControl.prototype.setPEDButtonLabel = function(buttonLabel) {
        if (typeof buttonLabel !== "string") {
            throw new Error("MPageUI.PEDBannerControl.prototype.setPEDButtonLabel expects a string");
        }
        this.m_options.buttonLabel = buttonLabel;
        return this;
    };

    /**
     * Renders the banner with the text and the button which forms the content within the Alert Banner shell
     * @throws {Error} Error thrown when banner text is not present
     * @returns {string} Markup containing the banner html
     */
    PEDBannerControl.prototype.render = function() {
        var bannerHtml = "";

        if (!this.m_options.bannerText) {
            throw new Error("MPageUI.PEDBannerControl.prototype.render expects setPEDBannerText");
        }

        bannerHtml += "<span class='ped-banner-text'>" + this.m_options.bannerText + "</span><span class='ped-banner-button' id='bannerBtn_" + this.m_id + "'>" + this.renderBannerButton() + "</span>";
        return bannerHtml;
    };

    /**
     * Attaches the necessary events to the button. This function must be called after the button
     * markup exists on the DOM.
     */
    PEDBannerControl.prototype.attachEvents = function() {
        this.m_bannerButton.attachEvents();
    };

    /**
     * Clears the element cache for each sub-component elements.
     */
    PEDBannerControl.prototype.clearElementCache = function() {
        this.m_bannerButton.clearElementCache();
    };

    return PEDBannerControl;
})();

/* global MPageUI */

MPageUI.TabControl = (function() {

    /**
     * The TabControl class.
     * @returns {MPageUI.TabControl} Returns self to allow chaining.
     * @constructor
     */
    var TabControl = function() {
        //calls super class
        this.base();
        //total width of the tab controller
        this.m_totalWidth = null;
        //to store the list of tabs in the tab controller
        this.m_tabs = null;
        //flag to have the close tab option for the tabs
        this.m_canCloseTabs = false;
        //A flag to store the state of whether the scroll control should be shown given the current width of the control.
        this.m_displayScroller = false;
        // flag to have the drag and drop option for the tabs
        this.m_canSortTabs = false;
        // flag to have count option for tabs
        this.m_enableLabelCount = false;
        //callback function for the click/activate tab events
        this.m_onSelectCallback = null;
        //callback function for the deactivate tab events
        this.m_onDeselectCallback = null;
        //callback function for closing the tab
        this.m_onCloseCallback = null;
        //callback function for drag and drop option
        this.m_onSortCallback = null;
        //to have the default tab id
        this.m_defaultTab = null;
        //to store the list of activated tabs
        this.m_alreadyActivatedTabs = null;
        //to store the number of tabs shown
        this.m_numberOfTabsShown = null;
        //to store the index of the first tab shown
        this.m_firstTabIndex = 0;
        //to store which tab is currently active
        this.m_currentActiveTab = null;
        //to store the space for scroll elements(left and right arrow)
        this.m_scrollerWidth = 70;
        //to store the parent width of the tab controller
        this.m_parentWidth = null;
        //A flag to store whether the tabControl has been finalized or not.
        this.m_tabControlFinalized = false;

        return this;
    };
    MPageUI.extend(TabControl, MPageUI.UIComponent);

    /**
     * Flag indicating if a count needs to be shown on the tab
     * @param {boolean} enableLabelCount - The flag to set the display state for tab label to have count.
     * @throws {Error} An error indicating that the parameter is an invalid type.
     * @returns {MPageUI.TabControl} Returns self to allow chaining.
     */
    TabControl.prototype.setEnableLabelCount = function(enableLabelCount) {
        if (typeof enableLabelCount !== "boolean") {
            throw new Error("TabControl.prototype.setEnableLabelCount expects a boolean.");
        }
        this.m_enableLabelCount = enableLabelCount;
        return this;
    };

    /**
     * hide the count label for a tab.
     * @param  {JSON} tab - tab for which count label is to be hidden
     * @returns {MPageUI.TabControl}     Returns self to allow chaining
     */
    TabControl.prototype.hideCountOnTab = function(tab) {
        this.validateTab(tab);
        $("#countTab" + tab.id).hide();
        this.resize(true);
        return this;
    };
    /**
     * show the count label for a tab on if the count is enabled to display.
     * @param  {JSON} tab - tab for which count label is to be shown
     * @returns {MPageUI.TabControl}     Returns self to allow chaining
     */
    TabControl.prototype.showCountOnTab = function(tab) {
        this.validateTab(tab);
        if (this.getEnableLabelCount()) {
            $("#countTab" + tab.id).show();
            this.resize(true);
        }
        return this;
    };

    /**
     * Update count label for a tab. The tab control must be rendered for this function
     * @param {JSON} tab - tab for which count is to be updated
     * @param {number} count - count on the tab to be updated
     * @throws {Error} An error indicating that the parameter is an invalid type.
     * @returns {MPageUI.TabControl} Returns self to allow chaining.
     */
    TabControl.prototype.updateCountOnTab = function(tab, count) {
        this.validateTab(tab);
        if (typeof count !== "number") {
            throw new Error("MPageUI.TabControl.prototype.updateCountOnTab expects a number");
        }
        var countElement = $("#countTab" + tab.id);
        countElement.empty();
        countElement.append("(" + count + ")");
        this.resize(true);
        return this;
    };

    /**
     * Update indicator on a tab. The tab control must be rendered for this function
     * @param {JSON} tab - tab for which indicator is to be updated
     * @param {String} indicatorHTML - indicator markup to be updated
     * @throws {Error} An error indicating that the parameter is an invalid type.
     * @returns {MPageUI.TabControl} Returns self to allow chaining.
     */
    TabControl.prototype.updateIndicatorOnTab = function(tab, indicatorHTML) {
        this.validateTab(tab);
        if (typeof indicatorHTML !== "string") {
            throw new Error("MPageUI.TabControl.prototype.updateIndicatorOnTab expects a string");
        }
        if (!tab.hasIndicator) {
            throw new Error("MPageUI.TabControl.prototype.updateIndicatorOnTab: tab is not configured to have indicators on label");
        }
        var indicatorElement = $("#indicatorTab" + tab.id);
        if (indicatorElement.length === 0) {
            //get the label element object to inject indicator markup
            var labelElement = $("#labelTab" + tab.id);
            // Prepend indicator container and markup
            labelElement.prepend("<span id = 'indicatorTab" + tab.id + "' class='indicator-label'>" + indicatorHTML + "</span>");
        }
        else {
            indicatorElement.empty();
            indicatorElement.append(indicatorHTML);
        }
        this.resize(true);
        return this;
    };

    /**
     * Gets the indicator for the ability to allow tab label to have count.
     * @returns {boolean} Returns indicator for enabling label count
     */
    TabControl.prototype.getEnableLabelCount = function() {
        return this.m_enableLabelCount;
    };


    /**
     * Sets the indicator for the ability to close tabs.
     * @param {boolean} canCloseTabs - The flag to set the display state for close tab.
     * @throws {Error} An error indicating that the parameter is an invalid type.
     * @returns {MPageUI.TabControl} Returns self to allow chaining.
     */
    TabControl.prototype.setCanCloseTabs = function(canCloseTabs) {
        if (typeof canCloseTabs !== "boolean") {
            throw new Error("TabControl.prototype.setCanCloseTabs expects a boolean.");
        }
        this.m_canCloseTabs = canCloseTabs;
        return this;
    };

    /**
     * Sets the indicator for the ability to have sorting option for tabs.
     * @param {boolean} canSortTabs - The flag to set the display state for having sorting option.
     * @throws {Error} An error indicating that the parameter is an invalid type.
     * @returns {MPageUI.TabControl} Returns self to allow chaining.
     */
    TabControl.prototype.setCanSortTabs = function(canSortTabs) {
        if (typeof canSortTabs !== "boolean") {
            throw new Error("TabControl.prototype.setCanSortTabs expects a boolean.");
        }
        this.m_canSortTabs = canSortTabs;
        return this;
    };

    /**
     * Sets the tab as default to make it active.
     * @param {string} tabId - tab id for the tab to make it active by default.
     * @throws {Error} An error indicating that the parameter is an invalid type.
     * @returns {MPageUI.TabControl} Returns self to allow chaining.
     */
    TabControl.prototype.setDefaultTab = function(tabId) {
        if (typeof tabId !== "string") {
            throw new Error("TabControl.prototype.setDefaultTab expects a string.");
        }
        this.m_defaultTab = tabId;
        return this;
    };

    /**
     * Sets the call back function for on tab click/activation.
     * @param {function} callback - The callback function for the tab click/activation.
     * @throws {Error} An error indicating that the parameter is an invalid type.
     * @returns {MPageUI.TabControl} Returns self to allow chaining.
     */
    TabControl.prototype.setOnSelectCallback = function(callback) {
        if (typeof callback !== "function") {
            throw new Error("TabControl.prototype.setOnSelectCallback expects a function.");
        }
        this.m_onSelectCallback = callback;
        return this;
    };

    /**
     * Sets the call back function for on tab deactivate.
     * @param {function} callback - The callback function for the tab deactivate.
     * @throws {Error} An error indicating that the parameter is an invalid type.
     * @returns {MPageUI.TabControl} Returns self to allow chaining.
     */
    TabControl.prototype.setOnDeselectCallback = function(callback) {
        if (typeof callback !== "function") {
            throw new Error("TabControl.prototype.setOnDeselectCallback expects a function.");
        }
        this.m_onDeselectCallback = callback;
        return this;
    };

    /**
     * Sets the call back function for sorting of the tabs.
     * @param {function} callback - The callback function for sorting of the tab.
     * @throws {Error} An error indicating that the parameter is an invalid type.
     * @returns {MPageUI.TabControl} Returns self to allow chaining.
     */
    TabControl.prototype.setOnSortCallback = function(callback) {
        if (typeof callback !== "function") {
            throw new Error("TabControl.prototype.setOnSortCallback expects a function.");
        }
        this.m_onSortCallback = callback;
        return this;
    };

    /**
     * Sets the call back function for tab close option.
     * @param {function} callback - The call back function for tab close option.
     * @throws {Error} An error indicating that the parameter is an invalid type.
     * @returns {MPageUI.TabControl} Returns self to allow chaining.
     */
    TabControl.prototype.setOnCloseCallback = function(callback) {
        if (typeof callback !== "function") {
            throw new Error("TabControl.prototype.setOnCloseCallback expects a function.");
        }
        this.m_onCloseCallback = callback;
        return this;
    };

    /**
     * This function will validate a provided tab. If the tab is not valid, an exception will be thrown to
     * inform the consumer.
     * @param {Object} tab - The tab to be verified.
     * @throws {Error} An error indicating that the provided tab was not valid.
     * @returns {undefined} Returns nothing.
     */
    TabControl.prototype.validateTab = function(tab) {
        if (typeof tab !== "object") {
            throw new Error("MPageUI.TabControl.prototype.validateTab expects an object");
        }
        //validate id
        if (typeof tab.id !== "string") {
            throw new Error("MPageUI.TabControl.prototype.validateTab: the id must be a string.");
        }
        //validate label
        if (typeof tab.label !== "string") {
            throw new Error("MPageUI.TabControl.prototype.validateTab: the label must be a string.");
        }
        //validate title
        if (typeof tab.title !== "string") {
            throw new Error("MPageUI.TabControl.prototype.validateTab: the title must be a string.");
        }
        //validate onSelect function only if it is set
        if (tab.onSelect && typeof tab.onSelect !== "function") {
            throw new Error("MPageUI.TabControl.prototype.validateTab: the onSelect callback must be a function.");
        }
        //validate onDeselect function only if it is set
        if (tab.onDeselect && typeof tab.onDeselect !== "function") {
            throw new Error("MPageUI.TabControl.prototype.validateTab: the onDeselect callback must be a function.");
        }
        //validate onClose function only if it is set
        if (tab.onClose && typeof tab.onClose !== "function") {
            throw new Error("MPageUI.TabControl.prototype.validateTab: the onClose callback must be a function.");
        }
        //validate canClose option only if it is set
        if (tab.canClose && typeof tab.canClose !== "boolean") {
            throw new Error("MPageUI.TabControl.prototype.validateTab: the canClose callback must be a boolean.");
        }
        //validate hasIndicator option only if it is set
        if (tab.hasIndicator && typeof tab.hasIndicator !== "boolean") {
            throw new Error("MPageUI.TabControl.prototype.validateTab: hasIndicator must be boolean.");
        }
    };

    /**
     * Function to get the list of tabs from the tab controller.
     * @returns {Array} m_tabs - The array of tabs.
     */
    TabControl.prototype.getTabs = function() {
        return this.m_tabs || [];
    };

    /**
     * Function to set the list of tabs to the tab controller, This will determine the list of tabs that will be part of tab controller.
     * @param {Array} tabs - The array of tabs.This must be of the following form.
     * {
	 * 		id: 'tabId'
	 * 		label: 'Label',
	 * 		title: 'title'
	 * 		onSelect: function() { ... },
	 * 		onDeselect: function() { ... },
	 * 		onClose: function() { ... },
	 * 		canClose: boolean
	 * }
     * @throws {Error} An error indicating that the parameter is an invalid type.
     * @returns {MPageUI.TabControl} Returns self to allow chaining.
     */
    TabControl.prototype.setTabs = function(tabs) {
        if (!Array.prototype.isPrototypeOf(tabs)) {
            throw new Error("TabControl.prototype.setTabs expects a array.");
        }
        //validate the tabs, it throws an error in case of validation fails
        for (var i = 0; i < tabs.length; i++) {
            this.validateTab(tabs[ i ]);
        }
        this.m_tabs = tabs;
        return this;
    };

    /**
     * Add a tab to the tab control. this will add tab to to the tab existing tab control if tab controller available or
     * it will create tab controller and add the tab onto it
     * and it resizes the tab controller if addTab function is called after finalizing tab control.
     * @param {Object} tab - the tab object.This must be of the following form.
     * {
	 * 		id: 'tabId'
	 * 		label: 'Label',
	 * 		title: 'title'
	 * 		onSelect: function() { ... },
	 * 		onDeselect: function() { ... },
	 * 		onClose: function() { ... },
	 * 		canClose: boolean,
	 * 		hasIndicator: boolean
	 * }
     * @param {boolean} activateNewTab - to decide whether to activate the tab
     * @throws {Error} An error indicating that the parameter is an invalid type.
     * @returns {undefined} does not return anything.
     */
    TabControl.prototype.addTab = function(tab, activateNewTab) {
        //validate the tab object
        this.validateTab(tab);
        var rootElement = this.getRootElement();
        //initialize the tabs array if not exists.
        this.m_tabs = this.m_tabs || [];
        //check if tab controller is already available, if not push the tab to tabs array and return
        //then the consumers should have to call the render after adding the tab to get the tab controller
        if (!rootElement.length) {
            //check if the tab is already exists.
            if (!this.tabExists(tab.id)) {
                this.m_tabs.push(tab);
            }
            return;
        }
        var lastIndex = this.m_tabs.length - 1;
        var lastTabId = null;
        //check if the tab is already exists.
        if (!this.tabExists(tab.id)) {
            this.m_tabs.push(tab);
            //render the tab
            var tabElement = $(this.createTab(tab));
            if (this.m_tabs[ lastIndex ]) {
                lastTabId = this.m_tabs[ lastIndex ].id;
                var lastTab = this.getRootElement().find("#" + lastTabId + "tab");
                //add the new tab in the end of last tab if available
                lastTab.after(tabElement);
            }
            else {
                //add the new tab to the end of tab controller
                rootElement.append(tabElement);
            }
            if (this.m_tabControlFinalized) {
                //resize the tab controller
                this.resize(true);
            }
            //check if the tab added is need to be activated
            if (activateNewTab) {
                //activate the new tab
                this.activateTab(tabElement);
            }
        }
    };

    /**
     * Insert a tab to the tab control. this function should be called after the tab controller is available
     * and if a tab needs to be added as part of the tab controller, it resize the tab controller after adding the tab
     * @param {Object} newTab - the tab object.This must be of the following form.
     * {
	 * 		id: 'tabId'
	 * 		label: 'Label',
	 * 		title: 'title'
	 * 		onSelect: function() { ... },
	 * 		onDeselect: function() { ... },
	 * 		onClose: function() { ... },
	 * 		canClose: boolean
	 * }
     * @throws {Error} An error indicating that the parameter is an invalid type.
     * @returns {undefined} does not return anything.
     */
    TabControl.prototype.insertTab = function(newTab) {
        //throw error if tab controller is not available
        if (!this.getRootElement().length) {
            throw new Error("TabControl.prototype.insertTab: tab controller not available");
        }
        //validate the new tab
        this.validateTab(newTab);
        if (!this.tabExists(newTab.id)) {
            var tab = null;
            var currentIndex = 0;
            for (var i = 0; i < this.m_tabs.length; i++) {
                tab = this.m_tabs[ i ];
                if (tab.id === this.m_currentActiveTab) {
                    currentIndex = i;
                    break;
                }
            }
            //add the new tab next to current tab
            this.m_tabs.splice(currentIndex + 1, 0, newTab);
            //render the tab
            var tabElement = $(this.createTab(newTab));
            var currentTab = this.getRootElement().find("#" + this.m_currentActiveTab + "tab");
            //add the new tab next to current tab
            currentTab.after(tabElement);
            this.resize(true);
            //activate the new tab
            this.activateTab(tabElement);
        }
    };

    /**
     * Function to return true if the tab is already exists in the tab controller.
     * @private
     * @param {string} tabId - the tabId to check.
     * @returns {boolean} true - if tab exists, false- if not.
     */
    TabControl.prototype.tabExists = function(tabId) {
        var existingTabs = this.m_tabs;
        for (var i = 0; i < existingTabs.length; i++) {
            if (existingTabs[ i ].id === tabId) {
                return true;
            }
        }
        return false;
    };

    /**
     * Remove a tab from the tab control. It removes the tab and resize the tab controller
     * @param {string} tabId - the tab id to remove.
     * @throws {Error} An error indicating that the parameter is an invalid type.
     * @returns {undefined} does not return anything.
     */
    TabControl.prototype.removeTab = function(tabId) {
        //throw error if tab controller is not available
        if (!this.getRootElement().length) {
            throw new Error("TabControl.prototype.removeTab: tab controller not available");
        }
        if (typeof tabId !== "string") {
            throw new Error("TabControl.prototype.removeTab expects a string.");
        }
        var tab = null;
        var hiddenTab = null;
        var count = 0;
        var tabToActivate = null;
        var isRemoveTabActive = false;
        var activatedPrevoiusTab = false;
        var removeTab = this.getRootElement().find("#" + tabId + "tab");

        // check if the removing tab is active
        if (removeTab.hasClass("tab-active")) {
            isRemoveTabActive = true;
        }
        // remove the closing tab from controller
        removeTab.remove();
        for (var i = 0; i < this.m_tabs.length; i++) {
            tab = this.m_tabs[ i ];
            //remove the closing tab from existing array
            if (tab.id === tabId) {
                this.m_tabs.splice(i, 1);
            }
        }

        //take the first hidden tab from the right and make it visible
        var nextTabIndex = this.m_firstTabIndex + this.m_numberOfTabsShown - 1;
        hiddenTab = this.m_tabs[ nextTabIndex ];
        if (hiddenTab) {
            this.getRootElement().find("#" + hiddenTab.id + "tab").removeClass("hide-tab");
        }
        else {
            //if there is not hidden tab in the right, get it form left
            hiddenTab = this.m_tabs[ this.m_firstTabIndex - 1 ];
            if (hiddenTab) {
                this.getRootElement().find("#" + hiddenTab.id + "tab").removeClass("hide-tab");
                this.m_firstTabIndex--;
            }
        }
        // resize the tab controller
        this.resize(true);
        //check if remove tab is active, then decide for making other tab active
        if (isRemoveTabActive) {
            //decide what tab to activate after closing the tab
            count = this.m_alreadyActivatedTabs.length;
            for (var j = count - 1; j >= 0; j--) {
                tabToActivate = this.getRootElement().find("#" + this.m_alreadyActivatedTabs[ j ]);
                if (tabToActivate.length) {
                    this.activateTab(tabToActivate);
                    activatedPrevoiusTab = true;
                    break;
                }
            }
            //if there is no previous active tab found activate the first tab
            if (!activatedPrevoiusTab) {
                //check if tabs array has a tab
                if (this.m_tabs.length) {
                    var firstTab = this.getRootElement().find("#" + this.m_tabs[ 0 ].id + "tab");
                    this.activateTab(firstTab);
                }
            }
        }
    };

    /**
     * Function to select the existing tab, it activate the tab and deactivate the previous activated tab by the tabId passed.
     * and it scrolls the tab control to make the tab visible in the tab control
     * @param {string} tabId - The tab id that needs to be activated.
     * @returns {undefined} does not return anything
     */
    TabControl.prototype.selectTab = function(tabId) {
        //make the tab active
        this.activateTab($("#" + tabId + "tab"));
    };

    /**
     * Function to activate the tab and deactivate the existing activated tab.
     * @private
     * @param {jQuery} tab - The tab element to activate.
     * @returns {undefined} does not return anything
     */
    TabControl.prototype.activateTab = function(tab) {
        var previouslyActiveTab = this.getRootElement().find(".tab-active");
        //initialize the activated tab array if not exists.
        this.m_alreadyActivatedTabs = this.m_alreadyActivatedTabs || [];
        //store previously activated tab
        if (previouslyActiveTab.length) {
            var previousTab = previouslyActiveTab[ 0 ].id;
            this.m_alreadyActivatedTabs.push(previousTab);
            //deactivate the previous active tab
            this.setTabAsActive(previouslyActiveTab, false);
        }
        //activate the current tab
        this.setTabAsActive(tab, true);
    };

    /**
     * Function to render the tab controller with the available tabs.
     * @returns {string} tabControllerHTML - HTML mark up for tab controller.
     */
    TabControl.prototype.render = function() {
        return this.createTabControl();
    };

    /**
     * Function to create the tab controller with the available tabs.
     * @private
     * @returns {string} tabControllerHTML - HTML mark up for tab controller.
     */
    TabControl.prototype.createTabControl = function() {
        var tabControllerHTML = "";
        var tabs = this.m_tabs || [];
        var tabCount = tabs.length;
        var tab = null;
        var tabControllerCSS = "tabs";
        //add to the tab controller CSS if the secondary CSS has been provided
        if (this.m_secondaryCSS) {
            tabControllerCSS += " " + this.m_secondaryCSS;
        }
        // create Tab controller.
        tabControllerHTML = "<ul id='" + this.m_id + "' class='" + tabControllerCSS + "'>";
        for (var i = 0; i < tabCount; i++) {
            tab = tabs[ i ];
            // set the first tab active if no default tab is provided
            if (!this.m_defaultTab && i === 0) {
                this.setDefaultTab(tab.id);
            }
            tabControllerHTML += this.createTab(tab);
        }
        tabControllerHTML += "</ul>";
        return tabControllerHTML;
    };

    /**
     * Function to create the tab with tab name, tile and close option if applicable.
     * @private
     * @param {object} tab - The tab to be rendered.
     * @returns {string} tabHTML - HTML mark up for tab.
     */
    TabControl.prototype.createTab = function(tab) {
        var tabHTML = "<li id = '" + tab.id + "tab' title='" + tab.title + "' class = 'tab-container' style= 'width: " + this.m_minWidth + "px'>";
        tabHTML += "<span id = 'labelTab" + tab.id + "' class='tab-label'>";
        if (tab.hasIndicator) {
            tabHTML += "<span id = 'indicatorTab" + tab.id + "' class='indicator-label'>" + tab.indicatorHTML + "</span>";
        }
        tabHTML += "<span id = 'labelTextTab" + tab.id + "' class='tab-label-text'>" + tab.label + "</span>";
        if (this.getEnableLabelCount()) {
            tabHTML += "<span id = 'countTab" + tab.id + "' class='tab-count-label'>(" + tab.count + ")</span>";
        }
        tabHTML += "";
        var canClose = typeof tab.canClose === "boolean" ? tab.canClose : this.m_canCloseTabs;
        if (canClose) {
            tabHTML += "<span id = 'closeTab" + tab.id + "' class='close-tab'>&nbsp;</span>";
        }
        tabHTML += "</span></li>";
        return tabHTML;
    };

    /**
     * Function to resize the tab controller, it sets the width for the each tabs from the total width.
     * @param {boolan} resizeFromTabUpdate - resize call from the tab update(add/remove/insert).
     * @returns {undefined} does not return anything.
     */
    TabControl.prototype.resize = function(resizeFromTabUpdate) {
        //check if it already contains the tab controller
        var tabContoller = this.getRootElement();
        if (!tabContoller.length) {
            throw new Error("TabControl.prototype.resize tab controller not exists");
        }
        var tabCount = this.m_tabs.length;
        var tab = null;
        var tabElement = null;
        var tabWidth = null;
        var totalWidth = null;
        var labelElement = null;
        var closeTabWidth = null;
        var labelTextElement = null;

        //reset the index if it is not resize from tab update
        if (!resizeFromTabUpdate) {
            this.m_firstTabIndex = 0;
        }
        //reset the number of tabs shown
        this.m_numberOfTabsShown = 0;
        //calculate the tab width
        tabWidth = this.calculatedTabWidth(resizeFromTabUpdate);
        totalWidth = this.m_totalWidth;
        for (var i = 0; i < tabCount; i++) {
            tab = this.m_tabs[ i ];
            tabElement = this.getRootElement().find("#" + tab.id + "tab");
            if (tabElement.length) {
                tabElement.outerWidth(tabWidth, true);
                //get the close tab width to set the tab name width
                closeTabWidth = this.getOtherChildrenWidth(tab);
                //once width is decided for the tab set the label width to have the name with ellipses
                labelElement = tabElement.find("#labelTab" + tab.id);
                labelTextElement = tabElement.find("#labelTextTab" + tab.id);
                var totalPaddingWidth = tabElement.innerWidth() - tabElement.width();
                var totalMarginWidth = tabElement.outerWidth() - tabElement.innerWidth();
                //reducing the close tabs width
                labelElement.outerWidth(tabWidth - totalPaddingWidth - totalMarginWidth, true);
                var labelWidth = labelElement.outerWidth();
                labelTextElement.css("maxWidth", labelWidth - closeTabWidth + "px");
                // make the tab active
                if (totalWidth < this.m_minWidth) {
                    tabElement.addClass("hide-tab");
                }
                if (!tabElement.hasClass("hide-tab")) {
                    totalWidth = totalWidth - tabWidth;
                    this.m_numberOfTabsShown++;
                }
                else if (!resizeFromTabUpdate && totalWidth >= this.m_minWidth) {
                    //if total width is more than min_width show the hidden tabs in case of window resize
                    this.m_numberOfTabsShown++;
                    tabElement.removeClass("hide-tab");
                    totalWidth = totalWidth - tabWidth;
                }
            }
        }
        //in case of the the first/last element is hidden due to the scroll elements space
        //this is an edge case it happens only when removing the tab when tabs array has last two hidden elements left.
        //check if total width is greater than min_width, show last hidden tab
        if (resizeFromTabUpdate && totalWidth >= this.m_minWidth) {
            var hiddenTab = this.getRootElement().find(".hide-tab")[ 0 ];
            if (hiddenTab) {
                $(hiddenTab).removeClass("hide-tab");
                this.m_numberOfTabsShown++;
            }
        }
        //apply scroll Elements if needed
        this.applyScrollElements(resizeFromTabUpdate);
    };

    /**
     * Function calculate the total width from the parent of tab controller.
     * @private
     * @returns {number} totalWidth.
     */
    TabControl.prototype.getTotalWidth = function() {
        return this.getRootElement().parent().width();
    };

    /**
     * Function to calculate the tab width from the the total width based on the number of tabs.
     * @private
     * @param {boolan} resizeFromTabUpdate - resize call from the tab update(add/remove/insert)
     * @returns {number} calculated tab width.
     */
    TabControl.prototype.calculatedTabWidth = function(resizeFromTabUpdate) {
        //use the existing parent width for resize from tab update
        //otherwise get the width from its parent
        if (resizeFromTabUpdate) {
            this.m_totalWidth = this.m_parentWidth;
        }
        else {
            this.m_totalWidth = this.getTotalWidth();
            this.m_parentWidth = this.m_totalWidth;
        }
        var availableWidth = this.m_totalWidth / this.m_tabs.length;
        if (availableWidth >= this.m_maxWidth) {
            //The calculated tab width is larger than the max_width we define,
            //so there is enough space for all tabs, but we will limit their size to maxWidth
            this.m_displayScroller = false;
            return this.m_maxWidth;
        }
        else if (availableWidth >= this.m_minWidth) {
            //The calculated width is greater than the min_width
            //so we have enough space for all of the tabs to fit without scroll elements
            this.m_displayScroller = false;
            return availableWidth;
        }
        else {
            //The calculated width is lesser than our min_width
            //so we don't have enough space for all of the tabs, so adding a scroll elements and setting the tabs to min_width
            this.m_displayScroller = true;
            //accounting for scroll elements width by reducing it form the total width
            this.m_totalWidth -= this.m_scrollerWidth;
            //calculate the tabs width to use the total width for the tabs shown
            return this.calculateTabWidth();
        }
    };

    /**
     * Function to get the width of the children other than label(tab name).
     * @private
     * @param {Object} tab- width calculation for particular tab
     * @returns {number} close option width.
     */
    TabControl.prototype.getOtherChildrenWidth = function(tab) {
        // it gets the close options width and adds the padding/borders the tab has
        var totalChildrenWidth = 0;
        var defaultIndicatorWidth = 16;
        var defaultCountWidth = 17;

        var canClose = typeof tab.canClose === "boolean" ? tab.canClose : this.m_canCloseTabs;
        if (canClose) {
            totalChildrenWidth += this.getRootElement().find(".close-tab").outerWidth(true) + 4;
        }
        if (tab.hasIndicator) {
            var indicatorWidth = this.getRootElement().find("#indicatorTab" + tab.id).outerWidth(true);
            if (!indicatorWidth) {
                indicatorWidth += defaultIndicatorWidth;
            }
            totalChildrenWidth += indicatorWidth;
        }
        if (this.getEnableLabelCount()) {
            var countWidth = this.getRootElement().find("#countTab" + tab.id).outerWidth(true);
            if (!countWidth) {
                countWidth += defaultCountWidth;
            }
            totalChildrenWidth += countWidth;
        }
        // add padding width
        return totalChildrenWidth;
    };

    /**
     * Function to calculate tab width based on total number of tabs can be shown.
     * @private
     * @returns {number} calculated tab width.
     */
    TabControl.prototype.calculateTabWidth = function() {
        //take the total number of tabs that can be shown based on total width
        //using Math.floor to get the lowest whole number to get the tabs that can be shown
        var numberOfTabs = Math.floor(this.m_totalWidth / this.m_minWidth);
        //use the total width to calculate the width for the tabs
        return this.m_totalWidth / numberOfTabs;
    };

    /**
     * Function to apply the scroll elements  to the tab controller.
     * @private
     * @param {boolan} resizeFromTabUpdate - resize call from the tab update(add/remove/insert)
     * @returns {undefined} does not return anything
     */
    TabControl.prototype.applyScrollElements = function(resizeFromTabUpdate) {
        var leftArrow = this.getRootElement().find("#" + this.m_id + "leftArrow");
        var rightArrow = this.getRootElement().find("#" + this.m_id + "rightArrow");
        //check if the scroll elements is needed
        if (this.m_displayScroller) {
            //create the scroll elements if it does not exist
            if (!leftArrow.length) {
                leftArrow = $("<li></li>").addClass("inactive-left-arrow").attr("id", this.m_id + "leftArrow");
                this.getRootElement().prepend(leftArrow);
            }
            else if (!resizeFromTabUpdate) {
                //in a case of resize if the left arrow is activated, then in the resize again
                //it may not need to be active
                leftArrow.removeClass("active-left-arrow");
                leftArrow.addClass("inactive-left-arrow");
            }
            if (!rightArrow.length) {
                rightArrow = $("<li></li>").addClass("active-right-arrow").attr("id", this.m_id + "rightArrow");
                this.getRootElement().append(rightArrow);
            }
            else if (this.haveNextTabs()) {
                //in a case of resize if the right arrow is deactivated, then in the resize again
                //it may need to be active
                rightArrow.removeClass("inactive-right-arrow");
                rightArrow.addClass("active-right-arrow");
            }
            else {
                rightArrow.removeClass("active-right-arrow");
                rightArrow.addClass("inactive-right-arrow");
            }

        }
        else {
            //remove scroll elements if it is not needed
            leftArrow.remove();
            rightArrow.remove();
        }
    };

    /**
     * Function to scroll a tab controller to the first index provided
     * and displays the number of tabs shown
     * @private
     * @param {number} firstIndex - the starting index of the tab
     * @returns {undefined} does not return anything
     */
    TabControl.prototype.scrollTabs = function(firstIndex) {
        //calculate the last index to be displayed
        var lastIndex = firstIndex + this.m_numberOfTabsShown;
        var tabs = this.m_tabs;
        var tab = null;
        var leftArrow = null;
        var rightArrow = null;
        for (var i = 0; i < tabs.length; i++) {
            tab = tabs[ i ];
            // check if index is in between first and last index
            if (i >= firstIndex && i < lastIndex) {
                this.getRootElement().find("#" + tab.id + "tab").removeClass("hide-tab");
            }
            else {
                this.getRootElement().find("#" + tab.id + "tab").addClass("hide-tab");
            }
        }
        //activate or deactivate the left arrow if tabs are pushed
        leftArrow = this.getRootElement().find("#" + this.m_id + "leftArrow");
        //activate the left arrow if it reaches first index
        if (firstIndex > 0) {
            leftArrow.addClass("active-left-arrow");
            leftArrow.removeClass("inactive-left-arrow");
        }
        else {
            leftArrow.addClass("inactive-left-arrow");
            leftArrow.removeClass("active-left-arrow");
        }
        //activate or deactivate the right arrow when elements are pushed
        rightArrow = this.getRootElement().find("#" + this.m_id + "rightArrow");
        //deactivate the right arrow when it reaches the last tab
        if (lastIndex === this.m_tabs.length) {
            rightArrow.addClass("inactive-right-arrow");
            rightArrow.removeClass("active-right-arrow");
        }
        else {
            rightArrow.addClass("active-right-arrow");
            rightArrow.removeClass("inactive-right-arrow");
        }
    };

    /**
     * Function to perform on next click(right arrow) operation.
     * @private
     * it shows the first hidden tab in the right and hides the first displayed tab
     * @returns {undefined} does not return anything
     */
    TabControl.prototype.scrollRight = function() {
        var tab = null;
        var tabs = this.m_tabs;
        var firstIndex = this.m_firstTabIndex;
        var nextTabIndex = firstIndex + this.m_numberOfTabsShown;
        var leftArrow = null;
        var rightArrow = null;
        for (var i = 0; i < tabs.length; i++) {
            tab = tabs[ i ];
            // check if index is first element
            if (i === firstIndex) {
                this.getRootElement().find("#" + tab.id + "tab").addClass("hide-tab");
                //increment the index
                this.m_firstTabIndex++;
                //activate the left scroll arrow
                leftArrow = this.getRootElement().find("#" + this.m_id + "leftArrow");
                leftArrow.removeClass("inactive-left-arrow");
                leftArrow.addClass("active-left-arrow");
            }
            else if (i === nextTabIndex) {
                //show the first hidden tab
                this.getRootElement().find("#" + tab.id + "tab").removeClass("hide-tab");
            }
        }
        //if the next tab is last element is the last in the list, deactivate the right arrow
        if (nextTabIndex === this.m_tabs.length - 1) {
            rightArrow = this.getRootElement().find("#" + this.m_id + "rightArrow");
            rightArrow.addClass("inactive-right-arrow");
            rightArrow.removeClass("active-right-arrow");
        }

    };

    /**
     * Function to perform on previous click(left arrow) operation.
     * it shows the first hidden tab in the left and hides the last displayed tab
     * @private
     * @returns {undefined} does not return anything
     */
    TabControl.prototype.scrollLeft = function() {
        var tab = null;
        var tabs = this.m_tabs;
        //gets the first previous index to show the hidden tab in the left
        var prevoiusIndex = this.m_firstTabIndex - 1;
        //gets the last index to hide the last tab
        var lastTabIndex = this.m_firstTabIndex + this.m_numberOfTabsShown - 1;
        var leftArrow = null;
        var rightArrow = null;
        for (var i = 0; i < tabs.length; i++) {
            tab = tabs[ i ];
            //check if index last tab index, then hide the tab
            if (i === lastTabIndex) {
                this.getRootElement().find("#" + tab.id + "tab").addClass("hide-tab");
                rightArrow = this.getRootElement().find("#" + this.m_id + "rightArrow");
                rightArrow.removeClass("inactive-right-arrow");
                rightArrow.addClass("active-right-arrow");
            }
            else if (i === prevoiusIndex) {
                //hide the first hidden tab and decrement the first index
                this.getRootElement().find("#" + tab.id + "tab").removeClass("hide-tab");
                this.m_firstTabIndex--;
            }
        }
        //check if index is zero, deactivate the left arrow since there is no hidden tab in the left.
        if (prevoiusIndex === 0) {
            leftArrow = this.getRootElement().find("#" + this.m_id + "leftArrow");
            leftArrow.addClass("inactive-left-arrow");
            leftArrow.removeClass("active-left-arrow");
        }
    };

    /**
     *Function to return true if next tabs exists, currently hidden
     * @private
     * @returns {undefined} does not return anything.
     */
    TabControl.prototype.haveNextTabs = function() {
        //calculate the last index from tabs array
        var lastIndex = this.m_tabs.length - 1;
        //get the last element and check if it is hidden
        var lastTab = this.getRootElement().find("#" + this.m_tabs[ lastIndex ].id + "tab");
        return lastTab.hasClass("hide-tab");
    };

    /**
     * Function to update the tabs title, it should be called with valid tab object with the changed title
     * @param {Object} tab - the tab object.This must be of the following form.
     * {
	 * 		id: 'tabId'
	 * 		label: 'Label',
	 * 		title: 'title'
	 * 		onSelect: function() { ... },
	 * 		onDeselect: function() { ... },
	 * 		onClose: function() { ... },
	 * 		canClose: boolean
	 * }
     * @returns {undefined} does not return anything.
     */
    TabControl.prototype.updateTitle = function(tab) {
        //throw error if tab controller is not available
        if (!this.getRootElement().length) {
            throw new Error("TabControl.prototype.updateTitle: tab controller not available");
        }
        //throw error if tab does not exists
        if (!this.tabExists(tab.id)) {
            throw new Error("TabControl.prototype.updateTitle: tab does not exists");
        }
        //validate the tab object
        this.validateTab(tab);
        //get the tab object from root element
        var tabElement = this.getRootElement().find("#" + tab.id + "tab");
        //change the title
        $(tabElement).attr("title", tab.title);
    };

    /**
     * Function to have sorting option for the tabs.
     * @private
     * @returns {undefined} does not return anything.
     */
    TabControl.prototype.applyTabSorting = function() {
        var self = this;
        this.getRootElement().sortable({
            axis: "x",
            appendTo: "#" + this.m_id,
            containment: "parent",
            items: ".tab-container:not(.hide-tab)",
            delay: 100,
            distance: 5,
            forceHelperSize: true,
            forcePlaceholderSize: true,
            scroll: false,
            tolerance: "pointer",
            start: function(event, ui) {
                //set the height and width for the scroll elements on sorting
                ui.placeholder.height(28);
                ui.placeholder.width(ui.item[ 0 ].scrollWidth - 2);
            },
            stop: function(event, ui) {
                //removing the text tab from the id,
                //tab id is suffixed with the text 'tab', it needs to be removed.Example:tab1tab will be tab1
                var sortedTabId = ui.item[ 0 ].id.slice(0, -3);
                //re arrange the tabs array after sorting
                self.reArrangeTabs(sortedTabId);
                //pass the sorted array to callback
                if (self.m_onSortCallback) {
                    self.m_onSortCallback(self.m_tabs);
                }
            },
            placeholder: "tab-placeholder"
        });
        this.getRootElement().disableSelection();
    };

    /**
     * Function to re arrange the tabs array in case of sorting changes the index
     * @private
     * @param {string} sortedTabId - the tab id for the element which is being sorted
     * @returns {undefined} does not return anything.
     */
    TabControl.prototype.reArrangeTabs = function(sortedTabId) {
        var tab = null;
        var tabElement = null;
        var tabElementId = null;
        //Grab all of the tabs
        var sortedTabs = this.getRootElement().find(".tab-container");
        //remove the sorted tab from the existing array
        for (var i = 0; i < this.m_tabs.length; i++) {
            tab = this.m_tabs[ i ];
            if (tab.id === sortedTabId) {
                this.m_tabs.splice(i, 1);
                break;
            }
        }
        //find the sorted tab array in the sorted array
        for (var j = 0; j < sortedTabs.length; j++) {
            tabElement = sortedTabs[ j ];
            //removing the text tab from the id
            tabElementId = tabElement.id.slice(0, -3);
            if (tabElementId === sortedTabId) {
                //insert the tab into the tabs array in the index that matches the sorted tab id in the sortedTabs array
                this.m_tabs.splice(j, 0, tab);
                break;
            }
        }
    };

    /**
     * Activate or deactivate a tabs visuals.As well execute the callback functions on tab activate and deactivate
     * @private
     * @param {jQuery} tabElement - The tab element which needs to be activated or deactivated
     * @param {boolean} activateInd A boolean flag to indicate if the tab element should have active css class or not
     * @returns {undefined} This function does not return a value
     */
    TabControl.prototype.setTabAsActive = function(tabElement, activateInd) {
        //get the tab object
        var tabId = tabElement[ 0 ].id.slice(0, -3);
        var tab = this.getTabById(tabId);
        //check if it is to activate tab
        if (activateInd) {
            tabElement.addClass("tab-active");
            this.m_currentActiveTab = tabId;
            //scroll the tabs to make activated visible in case if it is hidden
            this.makeTabVisible(tabId);
            //check if the current tab has a onSelectCallback function
            if (tab && tab.onSelect) {
                tab.onSelect(tab);
            }
            else if (this.m_onSelectCallback) {
                //if there is no callback set in the tab level then call the callback function form the tab control
                this.m_onSelectCallback(tab);
            }
        }
        else {
            tabElement.removeClass("tab-active");
            //check if the current tab has a onDeselectCallback function
            if (tab && tab.onDeselect) {
                tab.onDeselect(tab);
            }
            else if (this.m_onDeselectCallback) {
                //if there is no callback set in the tab level then call the callback function form the tab control
                this.m_onDeselectCallback(tab);
            }
        }
    };

    /**
     * make the tab visible if it is hidden in the tabControl
     * @private
     * @param {string} tabId - tab id
     * @returns {undefined} does not return anything.
     */
    TabControl.prototype.makeTabVisible = function(tabId) {
        var currentIndex = 0;
        var tab = null;
        var lastIndex = this.m_firstTabIndex + this.m_numberOfTabsShown - 1;
        var totalTabs = this.m_tabs.length;
        for (var i = 0; i < this.m_tabs.length; i++) {
            tab = this.m_tabs[ i ];
            if (tab.id === tabId) {
                currentIndex = i;
                break;
            }
        }
        //check if the selecting tab is hidden
        if (this.m_firstTabIndex > 0 && currentIndex < this.m_firstTabIndex) {
            //scroll to the tabs to show the selected tab
            this.scrollTabs(currentIndex);
            this.m_firstTabIndex = currentIndex;
        }
        else if (lastIndex < totalTabs - 1 && currentIndex > lastIndex) {
            this.m_firstTabIndex = currentIndex - this.m_numberOfTabsShown + 1;
            this.scrollTabs(this.m_firstTabIndex);
        }
    };

    /**
     * Function to get the tab from the tabId passed
     * @private
     * @param {string} tabId - tab id
     * @returns {object} tab - tab object.
     */
    TabControl.prototype.getTabById = function(tabId) {
        var existingTabs = this.m_tabs;
        var tab = null;
        for (var i = 0; i < existingTabs.length; i++) {
            tab = existingTabs[ i ];
            if (tab.id === tabId) {
                return tab;
            }
        }
        return null;
    };

    /**
     * Attaches the necessary events to the Tab controller. This function must be called after the tab controller
     * mark up exists on the DOM.
     * @private
     * @returns {MPageUI.TabControl} Returns self to allow chaining.
     */
    TabControl.prototype.attachEvents = function() {
        var self = this;
        var rootElement = this.getRootElement();
        //event for right arrow(scroll element) click
        rootElement.on("click.mpageui", ".active-right-arrow", function() {
            self.scrollRight($(this));
        });
        //event for left arrow(scroll element) click
        rootElement.on("click.mpageui", ".active-left-arrow", function() {
            self.scrollLeft($(this));
        });
        // adding click event for the tabs
        rootElement.on("click.mpageui", ".tab-container", function(event) {
            // return if the element clicked is close option
            if ($(event.target).hasClass("close-tab")) {
                return;
            }
            self.activateTab($(this));
        });

        // adding click event for close tab
        rootElement.on("click.mpageui", ".close-tab", function() {
            var closingTab = this.id;
            //removing prefixed text(closetab) to identify the tab id
            var tabId = closingTab.slice(8);
            var tab = self.getTabById(tabId);
            //remove tab
            self.removeTab(tabId);
            //check to see the tab has its own call back function
            if (tab && tab.onClose) {
                tab.onClose(tab);
            }
            else if (self.m_onCloseCallback) {
                //if tabs as no call back, then execute the tab control call back
                self.m_onCloseCallback(tab);
            }
        });

        return this;
    };

    /**
     * Finalizes the Tab controller. This function must be called after the tab controller
     * mark up exists on the DOM.
     * @returns {MPageUI.TabControl} Returns self to allow chaining.
     */
    TabControl.prototype.finalize = function() {
        this.attachEvents();
        // make the sorting option available if it is opted for
        if (this.m_canSortTabs) {
            this.applyTabSorting();
        }
        // Call resize to resize the tab controller.
        this.resize();
        //make the default tab active
        var defaultTab = this.getRootElement().find("#" + this.m_defaultTab + "tab");
        if (defaultTab.length) {
            this.activateTab(defaultTab);
        }
        else if (this.m_tabs.length > 0) {
            //make the first tab active
            var firstElement = this.getRootElement().find("#" + this.m_tabs[ 0 ].id + "tab");
            this.activateTab(firstElement);
        }
        this.m_tabControlFinalized = true;
        return this;
    };

    return TabControl;
})();

MPageUI.PrimaryTabControl = (function() {
    /**
     * The PrimaryTabControl class.
     * @returns {MPageUI.PrimaryTabControl} Returns self to allow chaining.
     * @constructor
     */
    var PrimaryTabControl = function() {
        this.base();
        //the minimum size of the tab
        this.m_minWidth = 140;
        //the maximum size of the tab
        this.m_maxWidth = 250;
        return this;
    };

    MPageUI.extend(PrimaryTabControl, MPageUI.TabControl);

    return PrimaryTabControl;
})();

MPageUI.SecondaryTabControl = (function() {
    /**
     * The SecondaryTabControl class.
     * @returns {MPageUI.SecondaryTabControl} Returns self to allow chaining.
     * @constructor
     */
    var SecondaryTabControl = function() {
        this.base();
        //the minimum size of the tab
        this.m_minWidth = 120;
        //the maximum size of the tab
        this.m_maxWidth = 200;
        //to store the CSS class name to set the specific styles for the tab control
        this.m_secondaryCSS = "secondary-tab";
        return this;
    };
    MPageUI.extend(SecondaryTabControl, MPageUI.TabControl);

    return SecondaryTabControl;
})();

MPageUI.AddTabControl = (function() {
    /**
     * The AddTabControl class.
     * @returns {MPageUI.AddTabControl} Returns self to allow chaining.
     * @constructor
     */
    var AddTabControl = function() {
        //flag to have the add tab functionality
        this.m_displayAddTab = true;
        //callback function for clicking the add tab option
        this.m_onAddTabCallback = null;
        return this;
    };

    MPageUI.extend(AddTabControl, MPageUI.PrimaryTabControl);

    /**
     * Function to set the call back for add tab option.
     * @param {function} callback - The callback function for the add tab.
     * @throws {Error} An error indicating that the parameter is an invalid type.
     * @returns {MPageUI.TabControl} Returns self to allow chaining.
     */
    AddTabControl.prototype.setOnAddTabCallback = function(callback) {
        if (typeof callback !== "function") {
            throw new Error("AddTabControl.prototype.setOnAddTabCallback expects a function.");
        }
        this.m_onAddTabCallback = callback;
        return this;
    };

    /**
     * Override the MPageUI.PrimaryTabControl.render function to create tab control with the add tab option
     * @returns {string} tabControlHTML - HTML mark up for add tab control.
     */
    AddTabControl.prototype.render = function() {
        var tabControlHTML = this.createTabControl();
        tabControlHTML += this.createAddTab();
        return tabControlHTML;
    };

    /**
     * Function to create add tab option of it is opted for.
     * @private
     * @returns {string} addTabHTML - HTML mark up for add tab.
     */
    AddTabControl.prototype.createAddTab = function() {
        var addTabHTML = "";
        // Check to see if add tab (+) needs to be displayed.
        if (this.m_displayAddTab) {
            addTabHTML = "<div id ='" + this.m_id + "_addTab' class= 'add-tab-wrapper'> <span class= 'add-tab'></span> </div>";
        }
        return addTabHTML;
    };

    /**
     * Attaches the necessary events to the Tab controller. This function must be called after the tab controller
     * mark up exists on the DOM.
     * @private
     * @returns {MPageUI.AddTabControl} Returns self to allow chaining.
     */
    AddTabControl.prototype.attachAddTabEvent = function() {
        var self = this;
        //event for add tab click
        $("#" + this.m_id + "_addTab").on("click.mpageui", function() {
            self.m_onAddTabCallback();
        });
        return this;
    };

    /**
     * Override the MPageUI.PrimaryTabControl.finalize function to Finalizes the AddTab controller. This function must be called after the tab controller
     * mark up exists on the DOM.
     * @returns {MPageUI.AddTabControl} Returns self to allow chaining.
     */
    AddTabControl.prototype.finalize = function() {
        //attaches the events from parent(PrimaryTabControl)
        this.attachEvents();
        this.attachAddTabEvent();
        // make the sorting option if it is opted for
        if (this.m_canSortTabs) {
            this.applyTabSorting();
        }
        // Call resize to resize the tab controller.
        this.resize();
        //make the default tab active
        var defaultTab = this.getRootElement().find("#" + this.m_defaultTab + "tab");
        if (defaultTab.length) {
            this.activateTab(defaultTab);
        }
        else if (this.m_tabs.length > 0) {
            //make the first tab active
            var firstElement = this.getRootElement().find("#" + this.m_tabs[ 0 ].id + "tab");
            this.activateTab(firstElement);
        }
        this.m_tabControlFinalized = true;
        return this;
    };

    /**
     * Override the MPageUI.PrimaryTabControl.calculateTotalWidth Function to calculate the total width from the parent of tab controller.
     * @private
     * @returns {number} totalWidth.
     */
    AddTabControl.prototype.getTotalWidth = function() {
        var parentWidth = this.getRootElement().parent().width();
        // reduce width for the add tab
        if (this.m_displayAddTab) {
            var addTabWidth = $("#" + this.m_id + "_addTab").outerWidth(true);
            parentWidth -= addTabWidth;
        }
        return parentWidth;
    };

    return AddTabControl;
})();

MPageUI.ViewpointTabControl = (function() {
    /**
     * The ViewpointTabControl class.
     * @returns {MPageUI.ViewpointTabControl} Returns self to allow chaining.
     * @constructor
     */
    var ViewpointTabControl = function() {
        this.base();
        return this;
    };
    MPageUI.extend(ViewpointTabControl, MPageUI.AddTabControl);

    /**
     * overrides the parent removeTab function. It removes the tab and resize the tab controller
     * @param {string} tabId - the tab id to remove.
     * @param {boolean} doNotActivatePreviousTab - to decide whether to activate the previous tab or not.
     * @throws {Error} An error indicating that the parameter is an invalid type.
     * @returns {undefined} does not return anything.
     */
    ViewpointTabControl.prototype.removeTab = function(tabId, doNotActivatePreviousTab) {
        //throw error if tab controller is not available
        if (!this.getRootElement().length) {
            throw new Error("TabControl.prototype.removeTab: tab controller not available");
        }
        if (typeof tabId !== "string") {
            throw new Error("TabControl.prototype.removeTab expects a string.");
        }
        var tab = null;
        var hiddenTab = null;
        var count = 0;
        var tabToActivate = null;
        var isRemoveTabActive = false;
        var activatedPrevoiusTab = false;
        var removeTab = this.getRootElement().find("#" + tabId + "tab");

        // check if the removing tab is active
        if (removeTab.hasClass("tab-active")) {
            isRemoveTabActive = true;
        }
        // remove the closing tab from controller
        removeTab.remove();
        for (var i = 0; i < this.m_tabs.length; i++) {
            tab = this.m_tabs[ i ];
            //remove the closing tab from existing array
            if (tab.id === tabId) {
                this.m_tabs.splice(i, 1);
            }
        }

        //take the first hidden tab from the right and make it visible
        var nextTabIndex = this.m_firstTabIndex + this.m_numberOfTabsShown - 1;
        hiddenTab = this.m_tabs[ nextTabIndex ];
        if (hiddenTab) {
            this.getRootElement().find("#" + hiddenTab.id + "tab").removeClass("hide-tab");
        }
        else {
            //if there is not hidden tab in the right, get it form left
            hiddenTab = this.m_tabs[ this.m_firstTabIndex - 1 ];
            if (hiddenTab) {
                this.getRootElement().find("#" + hiddenTab.id + "tab").removeClass("hide-tab");
                this.m_firstTabIndex--;
            }
        }
        // resize the tab controller
        this.resize(true);
        //check if remove tab is active, then decide for making other tab active
        if (isRemoveTabActive && !doNotActivatePreviousTab) {
            //decide what tab to activate after closing the tab
            count = this.m_alreadyActivatedTabs.length;
            for (var j = count - 1; j >= 0; j--) {
                tabToActivate = this.getRootElement().find("#" + this.m_alreadyActivatedTabs[ j ]);
                if (tabToActivate.length) {
                    this.activateTab(tabToActivate);
                    activatedPrevoiusTab = true;
                    break;
                }
            }
            //if there is no previous active tab found activate the first tab
            if (!activatedPrevoiusTab) {
                //check if tabs array has a tab
                if (this.m_tabs.length) {
                    var firstTab = this.getRootElement().find("#" + this.m_tabs[ 0 ].id + "tab");
                    this.activateTab(firstTab);
                }
            }
        }
    };

    return ViewpointTabControl;
})();

/* eslint-disable no-underscore-dangle */
/* global MPageUI */
/* global MPageTooltip */

MPageUI.TABLE_OPTIONS = {
    HIGHLIGHT: {
        NONE: "",
        ROW: "table-hover",
        CELL: "table-hover-cell"
    },
    SORT: {
        ASCENDING: -1,
        DESCENDING: 1,
        NONE: 0
    },
    SELECT: {
        NONE: 0,
        SINGLE_ROW: 1,
        MULTI_ROW: 2
    }
};
MPageUI.Table = (function() {
    /**
     * The Table class.
     * The Table is to be used for html table functionality and extensions upon the table. The API provides a standard
     * markup system and predefined styles to ensure consistency.
     * @constructor
     */
    var Table = function() {
        this.base();
        this.m_columns = null;
        this.m_data = null;
        this.m_groupingData = null;
        this.m_recordHash = null;
        this.m_selection = null;
        this.m_maxHeight = 200;
        this.m_options = {
            columns: {
                separators: true
            },
            highlight: MPageUI.TABLE_OPTIONS.HIGHLIGHT.NONE,
            namespace: "",
            rows: {
                striped: true
            },
            show: {
                header: true
            },
            select: MPageUI.TABLE_OPTIONS.SELECT.NONE
        };
        this.m_tableHover = null;
        //Callbacks
        this.m_rowClickCallback = null;
        this.m_cellClickCallback = null;
        this.m_columnHeaderClickCallback = null;
        this.m_groupClickCallback = null;
        this.m_hoverCallBack = null;

        //Selection range
        this.m_lastClickedRecord = null;
    };
    MPageUI.extend(Table, MPageUI.UIComponent);

    /**
     * Returns the list of column configurations for the table.
     * @returns {Array<object>} The list of column configurations for the table.
     */
    Table.prototype.getColumns = function() {
        if (!this.m_columns) {
            this.m_columns = [];
        }
        return this.m_columns;
    };

    /**
     * Sets the column data.
     * @param {Array<object>} columns - The column data.
     * @returns {MPageUI.Table} Returns self to allow chaining.
     */
    Table.prototype.setColumns = function(columns) {
        this.m_columns = columns;
        return this;
    };

    /**
     * Checks if a given column field is sortable
     * @throws {Error} Throws an error if the parameter is not a string.
     * @param  {string}  columnId - The id of the column being tested.
     * @returns {boolean} true/false if the column specified is sortable
     * @private
     */
    Table.prototype.isColumnSortable = function(columnId) {
        if (typeof columnId !== "string") {
            throw new Error("MPageUI.Table.prototype.isColumnSortable expects columnId to be a string");
        }
        var columns = this.getColumns();
        var columnCount = columns.length;
        for (var i = 0; i < columnCount; i++) {
            var column = columns[ i ];
            //Find the column with the requested id
            if (column.id === columnId && column.sortOptions) {
                return true;
            }
        }
        return false;
    };
    /**
     * Toggles the sort direction for a given column
     * if the current sort direction is DESCENDING the function will set it to be ASCENDING.
     * if the current sort direction is ASCENDING the function will set it to be DESCENDING.
     * @returns {undefined} Returns nothing
     * @private
     */
    Table.prototype.toggleSortDirection = function() {
        this.m_currentSortDirection *= -1;
    };

    /**
     * Gets the sort class based on the sort direction
     * ASCENDING will return "sort-asc"
     * DESCENDING will return "sort-desc"
     * @param  {Number} sortDirection 1 - DESCENDING
     *                                0 - NONE
     *                                -1 - ASCENDING
     * @returns {String}               sort class
     */
    Table.prototype.getSortClass = function(sortDirection) {
        switch (sortDirection) {
            case MPageUI.TABLE_OPTIONS.SORT.ASCENDING:
                return "sort-asc";
            case MPageUI.TABLE_OPTIONS.SORT.DESCENDING:
                return "sort-desc";
            default:
                return "";
        }
    };

    /**
     * Sets the data that the table is to render. The table can render a list of records or a list of groups. Groups
     * must be a container of records or groups (nested) and provide a label.
     * @param {Object} data - The data to be rendered by the table. This must be of the form
     * {
	 * 		groups: [
	 * 			label: "Group Label",
	 * 			records: [ ... ],
	 * 			groups: [ ... ]
	 * 		],
	 * }
     * or
     * {
	 * 		records: [
	 * 			{ ... },
	 * 			{ ... }
	 * 		],
	 * }
     * @returns {MPageUI.Table} Returns self to allow chaining.
     */
    Table.prototype.setData = function(data) {
        this.validateData(data);
        this.m_data = data;
        this.resetSelection();
        //If grouping is already applied, process that now
        this.processGroups();
        this.processData();
        this.refresh();
        return this;
    };

    /**
     * Processes the data provided to the table. This will hash the records, giving them a unique id that can link
     * the markup back to the respective record.
     * @private
     * @returns {undefined} Returns nothing.
     */
    Table.prototype.processData = function() {
        var data = this.m_data;
        var self = this;
        var groupCounter = 0;
        var recordCounter = 0;
        var recordHash = null;
        this.clearRecordHash();
        recordHash = this.getRecordHash();
        /**
         * Recursively processes through the table data that was provided.
         * @param {object} node - The current node being processed.
         * @param {number} depth - The current depth in the recursion.
         * @returns {undefined} Returns nothing
         */
        function recursiveProcess(node, depth) {
            var records = node.records;
            var groups = node.groups;
            var recordCount = 0;
            var recordHashKey = null;
            var groupHashKey = null;
            var groupCount = 0;
            var record = null;
            var group = null;
            var i = 0;
            if (records && records.length) {
                recordCount = records.length;
                for (i = 0; i < recordCount; i++) {
                    recordHashKey = "record_" + (recordCounter++);
                    record = records[ i ];
                    record._MPageUI = {
                        recordHash: recordHashKey,
                        selected: false,
                        rowReference: (self.m_id + "_" + recordHashKey)
                    };
                    recordHash[ record._MPageUI.recordHash ] = record;
                }
            }
            if (groups && groups.length) {
                groupCount = groups.length;
                for (i = 0; i < groupCount; i++) {
                    group = groups[ i ];
                    //If the expanded attribute is not present, default to true
                    if (typeof group.expanded === "undefined") {
                        group.expanded = true;
                    }
                    groupHashKey = ((typeof group.id !== "undefined") ? (group.id + "") : ("group_" + (groupCounter++)));
                    group._MPageUI = {
                        depth: depth,
                        groupHash: groupHashKey,
                        groupReference: (self.m_id + "_" + groupHashKey)
                    };
                    recordHash[ group._MPageUI.groupHash ] = group;
                    recursiveProcess(group, depth + 1);
                }
            }
        }

        recursiveProcess(data, 0);
    };

    /**
     * A quick form of grouping that takes a set of group parameters and organizes the table records into groups based
     * on qualifying fields. The groupData must be of the form.
     * [
     *        { field: "field1", display: "field1", expanded: true|false },
     *        { field: "field2", display: "field2", expanded: true|false },
     *        ...
     *        { field: "fieldN", display: "fieldN", expanded: true|false }
     * ]
     * Where field is the field on which the group is created and
     * display is the field in the record which populates the header of the group and
     * expanded is the default expanded state of groups created on that field.
     * @param {Array<object>} groupData - The group data which will organize the table records into groups.
     * @returns {undefined} Returns nothing.
     */
    Table.prototype.setGrouping = function(groupData) {
        this.m_groupingData = groupData;
        if (!this.m_data) {
            return;
        }
        //Reset necessary selection tracking
        this.resetSelection();
        this.processGroups();
        this.processData();
        this.refresh();
    };

    /**
     * Resets the variables that are used to track table selection data.
     * @private
     * @returns {undefined} Returns nothing.
     */
    Table.prototype.resetSelection = function() {
        this.m_selection = null;
        this.m_lastClickedRecord = null;
    };

    /**
     * Processes the table data into groups based on the grouping parameters specified when calling the setGrouping
     * function. Once the existing data has been processed into groups, the internal data will be overwritten.
     * @private
     * @returns {undefined} Returns nothing.
     */
    Table.prototype.processGroups = function() {
        if (!this.m_data) {
            return;
        }
        var groupData = this.m_groupingData;
        if (!groupData) {
            return;
        }
        var records = this.getAllRecords();
        var recordCount = records.length;
        var data = {};
        var groupHash = {};

        /**
         * Recursively traverse down the group chain and build the group data structure with each record
         * in its corresponding group.
         * @param {object} record - The record being placed into the structure.
         * @param {number} depth - How deep in the group tree the recursion is.
         * @param {object} parent - The parent data object keeping track of assigned groups.
         * @param {object} currentGroup - The current group in the group data tree.
         * @returns {undefined} Returns nothing.
         */
        function recursiveGroup(record, depth, parent, currentGroup) {
            //If the bottom has been reached (we must now process records)
            if (depth >= groupData.length) {
                if (!currentGroup.records) {
                    currentGroup.records = [];
                }
                currentGroup.records.push(record);
                return;
            }
            var groupField = groupData[ depth ].field;
            var groupDisplayField = groupData[ depth ].display;
            var grouping = record[ groupField ];
            var groupExpanded = (typeof groupData[ depth ].expanded !== "undefined") ? groupData[ depth ].expanded : true;
            //We have not encountered a group for the hash of the record
            if (!parent[ grouping ]) {
                if (!currentGroup.groups) {
                    currentGroup.groups = [];
                }
                //Add the new group to the hierachy of groups
                currentGroup.groups.push({
                    label: record[ groupDisplayField ],
                    expanded: groupExpanded
                });
                parent[ grouping ] = {};
                parent[ grouping ]._groupRef = currentGroup.groups.length - 1;
            }
            recursiveGroup(record, depth + 1, parent[ grouping ], currentGroup.groups[ parent[ grouping ]._groupRef ]);
        }

        //Iterate over each record and find its place in the group hierarchy
        for (var i = 0; i < recordCount; i++) {
            recursiveGroup(records[ i ], 0, groupHash, data);
        }
        //Overwrite existing data with newly grouped data
        this.m_data = data;
    };

    /**
     * Retrieves the record hash object.
     * @private
     * @returns {Object<string, object>} The mapping of record id strings to record objects.
     */
    Table.prototype.getRecordHash = function() {
        if (!this.m_recordHash) {
            this.m_recordHash = {};
        }
        return this.m_recordHash;
    };

    /**
     * Performs validation on the data provided to the table.
     * @param {object} data - The data provided to the table.
     * @throws {Error} Throws an error if the following conditions are not met
     * 1). The data is not an object
     * 2). The data does not provide groups or records
     * @private
     * @returns {undefined} Returns nothing.
     */
    Table.prototype.validateData = function(data) {
        if (typeof data !== "object") {
            throw new Error("MPageUI.Table.prototype.validateData expects an object");
        }
        if (!data.groups && !data.records) {
            throw new Error("MPageUI.Table.prototype.validateData expects the data to have groups or records");
        }
    };

    /**
     * Gets the group by a group id
     * @param {String} groupId the id of a group
     * @returns {null | object} Returns the group by id or null if no group was found
     */
    Table.prototype.getGroupById = function(groupId) {
        if (typeof groupId !== "string") {
            throw new Error("MPageUI.Table.prototype.getGroupById expects a string");
        }
        /**
         * Recursively traverses the table data and finds all groups.
         * @param {object} node - The current node being processed recursively.
         * @returns {null | object} Returns null or the group that was found.
         */
        function recursiveGroupFind(node) {
            var groups = node.groups;
            var groupCount = 0;
            var i = 0;
            if (groups && groups.length) {
                groupCount = groups.length;
                for (i = 0; i < groupCount; i++) {
                    if (groups[ i ].id === groupId) {
                        return groups[ i ];
                    }
                    var foundGroup = recursiveGroupFind(groups[ i ]);
                    if (foundGroup) {
                        return foundGroup;
                    }
                }
            }
            return null;
        }

        return recursiveGroupFind(this.m_data);
    };
    /**
     * Retrieves a flattened array of all records that reside in the table. Recards are leaf nodes.
     * @returns {Array<object>} The flattened array of all records residing in the table.
     */
    Table.prototype.getAllRecords = function() {
        var allRecords = [];
        if (!this.m_data) {
            return allRecords;
        }
        /**
         * Recursively traverses the table data and finds all records (leaf nodes).
         * @param {object} node - The current node being processed recursively.
         * @returns {undefined} Returns nothing.
         */
        function recursiveRecordFind(node) {
            var groups = node.groups;
            var records = node.records;
            var groupCount = 0;
            var recordCount = 0;
            var i = 0;
            if (records && records.length) {
                recordCount = records.length;
                for (i = 0; i < recordCount; i++) {
                    allRecords.push(records[ i ]);
                }
            }
            if (groups && groups.length) {
                groupCount = groups.length;
                for (i = 0; i < groupCount; i++) {
                    recursiveRecordFind(groups[ i ]);
                }
            }
        }

        recursiveRecordFind(this.m_data);
        return allRecords;
    };

    /**
     * Clears the record hash.
     * @private
     * @returns {undefined} Returns nothing.
     */
    Table.prototype.clearRecordHash = function() {
        this.m_recordHash = null;
    };

    /**
     * Utility function to sort the table with specified options.
     * {
	 * 		column: { id: "columnId", direction: MPageUI.TABLE_OPTIONS.SORT.ASCENDING | MPageUI.TABLE_OPTIONS.SORT.DESCENDING }
	 * }
     * If sorting by column and the column is already being sorted and no
     * direction is specified, the table will toggle the sort direction. If
     * a direction is specified, the table will honor the direction. If the
     * column is not currently sorted, the table will honor the direction if specified,
     * otherwise, it will use the default sort direction as specified in the
     * column's primary sort options.
     * @param {Object} sortOptions - The sort options object. Currently only
     * supports sorting by column.
     *
     *    column:{
	 *        id: "...", [required]
	 *        direction: MPagesUI.TABLE_OPTIONS.SORT.[ASCENDING|DESCENDING] [optional]
	 *    }
     *
     * @returns {Undefined} Returns nothing.
     */
    Table.prototype.sortBy = function(sortOptions) {
        if (typeof sortOptions !== "object") {
            throw new Error("MPageUI.Table.prototype.sortBy the parameter is not an object");
        }
        if (sortOptions.column) {
            var columnId = sortOptions.column.id;
            var direction = sortOptions.column.direction || null;
            //Validate that the column is sortable meaning that sortOptions are available
            if (!this.isColumnSortable(columnId)) {
                return;
            }
            //If already sorted by this column
            if (this.m_currentlySortedColumnId === columnId) {
                if (direction !== null) {
                    this.m_currentSortDirection = direction;
                }
                else {
                    this.toggleSortDirection();
                }
            }
            else {
                //Currently not sorted by this column
                //If available use the direction from the sort options, otherwise use the primarysort direction defined on the column
                if (direction !== null) {
                    this.m_currentSortDirection = direction;
                }
                else {
                    var columnSortOptions = this.getColumnSortOptions(columnId);
                    this.m_currentSortDirection = columnSortOptions.primary.direction;
                }
            }
            this.m_currentlySortedColumnId = columnId;
        }
        this.refresh();
    };
    /**
     * Sets the configurable options for the table. All customization options are specified via this function. The
     * options must be of the form
     * {
	 * 		columns: {
	 *			separators: true | false
	 * 		},
	 *		highlight: MPageUI.TABLE_OPTIONS.HIGHLIGHT.[ROW|CELL],
	 *		namespace: "",
	 *		rows: {
	 *			striped: true | false
	 *		},
	 *		show: {
	 *			header: true | false
	 *		},
	 *		sort: {
	 *			sortable: true | false,
	 *			sortDirection: MPageUI.TABLE_OPTIONS.[ASCENDING|DESCENDING|NONE]
	 *		},
	 * }
     * @throws {Error} If the parameter is not an object
     * @param {object} options - The customization configuration object (see above).
     * @returns {MPageUI.Table} Returns self to allow chaining.
     */
    Table.prototype.setOptions = function(options) {
        if (typeof options !== "object") {
            throw new Error("MPageUI.Table.prototype.setOptions the parameter is not an object");
        }
        var currentOptions = this.m_options;
        //Column options
        if (options.columns) {
            var columnOptions = currentOptions.columns;
            columnOptions.separators = (typeof options.columns.separators !== "undefined") ?
                options.columns.separators : columnOptions.separators;
        }
        //Highlight option
        if (options.highlight) {
            currentOptions.highlight = (typeof options.highlight !== "string") ? currentOptions.highlight : options.highlight;
        }
        //Row Options
        if (options.rows) {
            var rowOptions = currentOptions.rows;
            //Striped
            rowOptions.striped = (typeof options.rows.striped !== "undefined") ?
                options.rows.striped : rowOptions.striped;
        }
        //Show Options
        if (options.show) {
            var showOptions = currentOptions.show;
            //Header
            showOptions.header = (typeof options.show.header !== "undefined") ?
                options.show.header : showOptions.header;
        }
        //Select options
        if (typeof options.select !== "undefined") {
            currentOptions.select = (typeof options.select !== "number") ? currentOptions.select : options.select;
        }
        //Namespace option
        if (options.namespace) {
            currentOptions.namespace = (typeof options.namespace !== "string") ? currentOptions.namespace : options.namespace;
        }
        return this;
    };

    /**
     * Retrieves the full list of column ids associated to the table.
     * @private
     * @returns {Array<string>} The full list of column ids that have been bound to the table.
     */
    Table.prototype.getAllColumnIds = function() {
        var columns = this.m_columns;
        var columnCount = columns.length;
        var allColumnIds = [];
        for (var i = 0; i < columnCount; i++) {
            allColumnIds.push(columns[ i ].id);
        }
        return allColumnIds;
    };

    /**
     * Retrieve the list of column ids except for the specified id.
     * @param {string} columnId - The columnId to be excluded from the full list of column ids.
     * @private
     * @returns {Array<string>} The list of column ids except for the field provided.
     */
    Table.prototype.getAllColumnIdsExcept = function(columnId) {
        var columns = this.m_columns;
        var columnCount = columns.length;
        var allColumnIds = [];
        for (var i = 0; i < columnCount; i++) {
            if (columns[ i ].id !== columnId) {
                allColumnIds.push(columns[ i ].id);
            }
        }
        return allColumnIds;
    };

    /**
     * Returns the list of selected objects. This is not to be confused with the consumer facing getSelectionData
     * function.
     * @private
     * @returns {Array<object>} The list of selection data.
     */
    Table.prototype.getSelection = function() {
        if (!this.m_selection) {
            this.m_selection = [];
        }
        return this.m_selection;
    };

    /**
     * Retrieves the selection data in such a way that consumers can digest it. The data is returned in the form of
     * [
     *        {
	 * 			record: object,
	 * 			fields: [field1, field2, ..., field(n)] | null
	 *		}
     * ]
     * The data is an array of objects which specify which records have a selection and which fields in the record
     * are selected. If the fields attribute is null, it is assumed that the entire record (row) is selected.
     * @returns {Array} The list of selected records and fields (if any) that are currently selected in the table.
     */
    Table.prototype.getSelectionData = function() {
        var selections = this.getSelection();
        var selectionCount = selections.length;
        var selectionData = [];
        for (var i = 0; i < selectionCount; i++) {
            selectionData.push({
                record: selections[ i ],
                columns: (selections[ i ]._MPageUI.cellSelection || null)
            });
        }
        return selectionData;
    };

    /**
     * Retrieves a record object from an element.
     * @param {jQuery} $element - The jQuery element from which the associated record will be retrieved.
     * @private
     * @returns {null|Object} The retrieved record or null.
     */
    Table.prototype.getRecordFromElement = function($element) {
        var recordHashKey = $element.attr("data-record");
        var record = null;
        if (!recordHashKey) {
            return null;
        }
        record = this.getRecordHash()[ recordHashKey ];
        if (!record) {
            return null;
        }
        return record;
    };

    /**
     * Sets the hover callback function to handle the event when a table row/cell is hovered over.
     * @param {Function} hoverContentCallback - The callback function to produce the content for the hover event
     * @param {String} highlightOption - The highlight option for the hover ROW|CELL|NONE
     * @returns {MPageUI.Table} Returns self to allow chaining.
     */
    Table.prototype.setHover = function(hoverContentCallback, highlightOption) {
        if (typeof hoverContentCallback !== "function") {
            throw new Error("MPageUI.Table.prototype.setHover expects a function");
        }
        //Override the highlight option
        if (highlightOption) {
            this.m_options.highlight = highlightOption;
        }

        this.m_hoverCallBack = hoverContentCallback;
        return this;
    };
    /**
     * Sets the callback function to handle the event when a table column header is clicked.
     * @param {function} callback - The callback function to handle the column header click.
     * @returns {MPageUI.Table} Returns self to allow chaining.
     */
    Table.prototype.setOnColumnHeaderClickCallback = function(callback) {
        if (typeof callback !== "function") {
            throw new Error("MPageUI.Table.prototype.setOnColumnHeaderClick expects a function");
        }
        this.m_columnHeaderClickCallback = callback;
        return this;
    };

    /**
     * Sets the callback function to handle the event when a table cell is clicked.
     * @param {function} callback - The callback function to handle the cell click event.
     * @returns {MPageUI.Table} Returns self to allow chaining.
     */
    Table.prototype.setOnCellClickCallback = function(callback) {
        if (typeof callback !== "function") {
            throw new Error("MPageUI.Table.prototype.setOnCellClickCallback expects a function");
        }
        this.m_cellClickCallback = callback;
        return this;
    };

    /**
     * Sets the callback function to handle the event when a table rows is clicked.
     * @param {function} callback - The callback function to handle the row click event.
     * @returns {MPageUI.Table} Returns self to allow chaining.
     */
    Table.prototype.setOnRowClickCallback = function(callback) {
        if (typeof callback !== "function") {
            throw new Error("MPageUI.Table.prototype.setOnRowClickCallback expects a function");
        }
        this.m_rowClickCallback = callback;
        return this;
    };

    /**
     * Sets the callback function to handle the event when a table group (section) is clicked.
     * @param {function} callback - The callback function to handle the group (section) click event.
     * @returns {MPageUI.Table} Returns self to allow chaining.
     */
    Table.prototype.setOnGroupClickCallback = function(callback) {
        if (typeof callback !== "function") {
            throw new Error("MPageUI.Table.prototype.setOnGroupClickCallback expects a function");
        }
        this.m_groupClickCallback = callback;
        return this;
    };

    /**
     * Handles the group section click event for the table.
     * @param {Event} event - The jQuery event that occurred.
     * @private
     * @returns {undefined} Returns nothing.
     */
    Table.prototype.onGroupClick = function(event) {
        var $targetElement = $(event.currentTarget);
        if (!$targetElement || !$targetElement.length) {
            logger.logWarning("MPageUI.Table.prototype.onGroupClick: a target element was not found.");
            return;
        }
        var groupHash = $targetElement.attr("data-group");
        if (!groupHash) {
            logger.logWarning("MPageUI.Table.prototype.onGroupClick: a group hash has not been associated to the group section, verify the group objects.");
            return;
        }
        var group = this.getRecordHash()[ groupHash ];
        if (!group) {
            logger.logWarning("MPageUI.Table.prototype.onGroupClick: a group was not found with the hash");
            return;
        }
        //If the group is collapsible toggle the group, undefined will default collapsible to true
        if (typeof group.collapsible === "undefined" || group.collapsible) {
            this.toggleGroup(group);
        }
        //Call the consumer provided callback
        if (this.m_groupClickCallback) {
            this.m_groupClickCallback({
                groups: [ group ],
                event: event
            });
        }
    };

    /**
     * Retrieves the sort options for the column with the specified id.
     * @param {string} columnId - The id of the column for which we are retrieving sort options.
     * @returns {Object|null} The sort options for the specified column or null
     * if the column was not found.
     * @private
     */
    Table.prototype.getColumnSortOptions = function(columnId) {
        var columns = this.getColumns();
        //Iterate through the columns and check if the requested column contains sort options if so return the sort options
        for (var i = 0; i < columns.length; i++) {
            var column = columns[ i ];
            if (column.id === columnId && column.sortOptions) {
                return column.sortOptions;
            }
        }
        //No sortOptions found for the selected column
        return null;
    };
    /**
     * Handles the column header click event for the table.
     * @param {Event} event - The jQuery event that occurred.
     * @private
     * @returns {undefined} Returns nothing.
     */
    Table.prototype.onColumnHeaderClick = function(event) {
        var $targetElement = $(event.currentTarget);
        if (!$targetElement || !$targetElement.length) {
            logger.logWarning("MPageUI.Table.prototype.onColumnHeaderClick: a target element was not found.");
            return;
        }
        var columnId = $targetElement.attr("data-column");
        if (!columnId) {
            logger.logWarning("MPageUI.Table.prototype.onColumnHeaderClick: a field has not been associated to the column, verify the column objects.");
            return;
        }
        var columnSortOptions = this.getColumnSortOptions(columnId);
        var canUserSort = true;
        if (columnSortOptions && typeof columnSortOptions.userSort !== "undefined") {
            canUserSort = columnSortOptions.userSort;
        }
        if (canUserSort) {
            this.sortBy({
                "column": { id: columnId }
            });
        }
        if (this.m_columnHeaderClickCallback) {
            this.m_columnHeaderClickCallback({
                records: this.getAllRecords(),
                columns: [ columnId ],
                event: event
            });
        }
    };

    /**
     * Hover event to be triggered upon hovering over a table cell and display the content set via setHover()
     * this function will display the content in a hover utilizing the MPageTooltip
     * @param {Event} event jQuery event the occured
     * @returns {undefined} Returns nothing.
     * @private
     */
    Table.prototype.onHover = function(event) {
        //Do nothing if no hover callback is available
        if (!this.m_hoverCallBack) {
            return;
        }
        //Get the table row element in order to get the row record data
        var $targetElement = $(event.currentTarget.parentElement);
        var record = null;
        var columnId = null;
        var data = {};
        //No target element available
        if (!$targetElement || !$targetElement.length) {
            logger.logWarning("MPageUI.Table.prototype.onHover: a target element was not found.");
            return;
        }
        //Get the record data from the table row element
        record = this.getRecordFromElement($targetElement);
        //No record available
        if (!record) {
            logger.logWarning("MPageUI.Table.prototype.onHover: could not find a record for the row");
            return;
        }
        //Get the table cell element
        $targetElement = $(event.currentTarget);
        //The column name of the cell that is being hovered over
        columnId = $targetElement.attr("data-column");
        //Create the data object that will be used with the hover content callback
        data = {
            records: [ record ],
            columns: [ columnId ],
            event: event
        };
        //Get hover content with the callback
        var content = this.m_hoverCallBack(data);
        //Initialize the hover if not available
        if (!this.m_tableHover) {
            this.m_tableHover = new MPageTooltip().setShowDelay(0);
        }
        //Set the hover
        this.m_tableHover.setX(event.pageX).setY(event.pageY).setAnchor($targetElement).setContent(content);
        //Display the hover
        this.m_tableHover.show();
    };
    /**
     * Handles the row click event for the table.
     * @param {Event} event - The jQuery event that occurred.
     * @private
     * @returns {undefined} Returns nothing.
     */
    Table.prototype.onRowClick = function(event) {
        var $targetElement = $(event.currentTarget);
        var record = null;
        if (!$targetElement || !$targetElement.length) {
            logger.logWarning("MPageUI.Table.prototype.onRowClick: a target element was not found.");
            return;
        }
        record = this.getRecordFromElement($targetElement);
        if (!record) {
            return;
        }
        this.handleSelection(record, event);
        if (this.m_rowClickCallback) {
            this.m_rowClickCallback({
                records: [ record ],
                event: event
            });
        }
    };

    /**
     * In the list of all records, returns the index of the specified record.
     * @param {object} record - The record for which the index will be found.
     * @returns {number} The index of the record, if found, otherwise it will
     * return -1.
     */
    Table.prototype.getRecordIndex = function(record) {
        var records = this.getAllRecords();
        for (var i = 0; i < records.length; i++) {
            if (records[ i ] === record) {
                return i;
            }
        }
        return -1;
    };

    /**
     * Handles the table select functionality when the user shift-clicks a
     * record in the table.
     * @param {object} record - The record being selected.
     * @param {object} lastClickedRecord - The record that was last selected
     * (this becomes the anchor for the shift-select).
     * @private
     * @returns {undefined} Returns nothing.
     */
    Table.prototype.handleShiftSelect = function(record, lastClickedRecord) {
        //Record index values
        var currentIndex = this.getRecordIndex(record);
        var indexOfLastSelectedRecord = this.getRecordIndex(lastClickedRecord);
        //Range information
        var startRange = indexOfLastSelectedRecord;
        var endRange = indexOfLastSelectedRecord;
        //No record has been previously selected
        if (!lastClickedRecord) {
            startRange = 0;
            endRange = currentIndex;
        }
        else {
            if (currentIndex < indexOfLastSelectedRecord) {
                startRange = currentIndex;
            }
            else {
                endRange = currentIndex;
            }
        }
        //Perform the actual selection
        this.select({
            records: this.getAllRecords().slice(startRange, endRange + 1),
            options: { clearPrevious: true }
        });
    };

    /**
     * Handles the table select functionality when the user ctrl-clicks a record
     * in the table.
     * @param {object} record - The record being selected.
     * @private
     * @returns {undefined} Returns nothing.
     */
    Table.prototype.handleControlSelect = function(record) {
        var selectOptions = {
            records: [ record ],
            options: {
                toggle: true
            }
        };
        this.select(selectOptions);
        this.m_lastClickedRecord = record;
    };

    /**
     * Handles the table single select functionality (when the user simply clicks
     * on a record in the table).
     * @param {object} record - The record being selected.
     * @param {Array<object>} currentSelection - The current table selection.
     * @private
     * @returns {undefined} Returns nothing.
     */
    Table.prototype.handleSingleSelect = function(record, currentSelection) {
        var selectOptions = {
            records: [ record ],
            options: {}
        };
        if (currentSelection.length === 1 && currentSelection[ 0 ] === record) {
            selectOptions.options.toggle = true;
        }
        else {
            selectOptions.options.clearPrevious = true;
        }
        this.select(selectOptions);
        this.m_lastClickedRecord = record;
    };

    /**
     * Handles the selection logic for the table.
     * @param {object} record - The record object that was selected (as derived
     * from the row that was clicked).
     * @param {MouseEvent} event - The mouse event that triggered the selection.
     * @private
     * @returns {undefined} Returns nothing.
     */
    Table.prototype.handleSelection = function(record, event) {
        var selectMode = this.m_options.select;
        var selectModeEnum = MPageUI.TABLE_OPTIONS.SELECT;
        var currentSelection = this.getSelection();
        var shiftHeld = event.shiftKey;
        var ctrlHeld = event.ctrlKey;
        var lastClickedRecord = this.m_lastClickedRecord;
        switch (selectMode) {
            case selectModeEnum.SINGLE_ROW:
                this.handleSingleSelect(record, currentSelection);
                break;
            case selectModeEnum.MULTI_ROW:
                if (shiftHeld) {
                    this.handleShiftSelect(record, lastClickedRecord);
                }
                else if (ctrlHeld) {
                    this.handleControlSelect(record);
                }
                else {
                    this.handleSingleSelect(record, currentSelection);
                }
                break;
            default:
                break;
        }
    };

    /**
     * Handles the cell click event. If the consumer has provided the cell click callback, that function is triggered.
     * @param {Event} event - The jQuery event that occurred.
     * @private
     * @returns {undefined} Returns nothing.
     */
    Table.prototype.onCellClick = function(event) {
        var $targetElement = $(event.currentTarget);

        var record = null;
        var columnId = null;
        if (!$targetElement || !$targetElement.length) {
            logger.logWarning("MPageUI.Table.prototype.onCellClick: a target element was not found.");
            return;
        }
        record = this.getRecordFromElement($targetElement);
        columnId = $targetElement.attr("data-column");
        if (!record) {
            return;
        }
        if (!columnId) {
            return;
        }
        if (this.m_cellClickCallback) {
            this.m_cellClickCallback({
                records: [ record ],
                columns: [ columnId ],
                event: event
            });
        }
    };

    /**
     * Handles the group section click event.
     * @param {object} group - The group being toggled.
     * @private
     * @returns {undefined} Returns nothing.
     */
    Table.prototype.toggleGroup = function(group) {
        var $tableBody = this.getRootElement().find("tbody");
        group.expanded = !group.expanded;
        //Optimization. Without detaching, a recursive hide will cause N reflows. Detaching will only trigger 2 reflows.
        $tableBody.detach();
        var $groupElement = $tableBody.find("#" + group._MPageUI.groupReference);

        /**
         * Recursively hides elements in the table.
         * @param {object} node - The current node being processed.
         * @returns {undefined} Returns nothing.
         */
        function recursiveHide(node) {
            var groups = node.groups;
            var records = node.records;
            var groupCount = 0;
            var recordCount = 0;
            var record = null;
            var childGroup = null;
            var i = 0;
            if (records) {
                recordCount = records.length;
                for (i = 0; i < recordCount; i++) {
                    record = records[ i ];
                    $tableBody.find("#" + record._MPageUI.rowReference).hide();
                }
                //If this node has no records, attempt to hide the no records found row (it should be the next immediate sibling)
                if (!recordCount) {
                    $tableBody.find("#" + node._MPageUI.groupReference).next("[data-type='no-records']").hide();
                }
            }
            if (groups && groups.length) {
                groupCount = groups.length;
                for (i = 0; i < groupCount; i++) {
                    childGroup = groups[ i ];
                    $tableBody.find("#" + childGroup._MPageUI.groupReference).hide();
                    //Optimization. Only recursively hide subsequent groups if it is currently expanded.
                    if (childGroup.expanded) {
                        recursiveHide(childGroup);
                    }
                }
            }
        }

        /**
         * Recursively shows elements in the table. If a node has not yet been rendered, it will render the node.
         * @param {object} node - The current node being processed.
         * @returns {undefined} Returns nothing.
         */
        function recursiveShow(node) {
            var groups = node.groups;
            var records = node.records;
            var groupCount = 0;
            var recordCount = 0;
            var record = null;
            var childGroup = null;
            var nodeIsExpanded = node.expanded;
            var i = 0;
            if (records && nodeIsExpanded) {
                recordCount = records.length;
                for (i = 0; i < recordCount; i++) {
                    record = records[ i ];
                    $tableBody.find("#" + record._MPageUI.rowReference).css("display", "");
                }
                //If this node has no records, attempt to show the no records found row (it should be the next immediate sibling)
                if (!recordCount) {
                    $tableBody.find("#" + node._MPageUI.groupReference).next("[data-type='no-records']").css("display", "");
                }
            }
            if (groups && groups.length && nodeIsExpanded) {
                groupCount = groups.length;
                for (i = 0; i < groupCount; i++) {
                    childGroup = groups[ i ];
                    $tableBody.find("#" + childGroup._MPageUI.groupReference).css("display", "");
                    recursiveShow(childGroup);
                }
            }
        }

        if (!group.expanded) {
            $tableBody.find("#" + group._MPageUI.groupReference).addClass("collapsed");
            recursiveHide(group);
        }
        else {
            $tableBody.find("#" + group._MPageUI.groupReference).removeClass("collapsed");
            //If this node was pruned, render its children...
            if (group._MPageUI.pruned) {
                group._MPageUI.pruned = null;
                $groupElement.after(this.renderData(group, group._MPageUI.depth + 1));
            }
            else {
                recursiveShow(group);
            }
        }
        //Re-attach the table body to the table once we have finished manipulating the DOM.
        this.getRootElement().find(".table-body>table:first-child").append($tableBody);
        this.resize();
    };

    /**
     * Finds the specified record in the list of records that currently have some form of selection (record or column).
     * @param {object} record - The record being checked.
     * @private
     * @returns {number} The index in the array of selected records, otherwise -1 is returned.
     */
    Table.prototype.getSelectionIndex = function(record) {
        var selection = this.getSelection();
        var selectionCount = selection.length;
        for (var i = 0; i < selectionCount; i++) {
            if (selection[ i ] === record) {
                return i;
            }
        }
        return -1;
    };

    /**
     * For the specified column, searches through the list of selected column (if any) and determines if the column
     * is currently selected for the record. If the column is selected in the record, the index in the array is returned.
     * Otherwise, -1 is returned to indicate the column is not selected on the record.
     * @param {object} record - The record in which the search will be performed.
     * @param {string} column - The name of the column being tested.
     * @private
     * @returns {number} The index in the array of selected columns, otherwise -1 is returned.
     */
    Table.prototype.getSelectedCellIndex = function(record, column) {
        var mpageUIData = record._MPageUI;
        var selectedCells = mpageUIData.cellSelection;
        if (!selectedCells) {
            return -1;
        }
        var selectedCellCount = selectedCells.length;
        for (var i = 0; i < selectedCellCount; i++) {
            if (selectedCells[ i ] === column) {
                return i;
            }
        }
        return -1;
    };

    /**
     * An advanced selection function. This will perform selection on the table. The selection options must be of the form
     * {
	 * 		records: [ ... ] (a list of records to select)
	 *		columns: [ ... ] (a list of field identifiers)
	 *		options: {
	 *			toggle: true | false (boolean indicating if selection should toggle),
	 *			clearPrevious: true | false (boolean indicating if previous selection should be cleared)
	 *		}
	 * }
     * WARNING: Using field (cell) selection can be non-performant. The table must keep track of which fields are
     * selected and apply styling to each cell individually.
     * @param {object} selectOptions - The select parameters (see above).
     * @public
     * @returns {undefined} Returns nothing.
     */
    Table.prototype.select = function(selectOptions) {
        var records = selectOptions.records;
        if (!records) {
            records = this.getAllRecords();
        }
        var recordCount = records.length;
        var record = null;
        var columns = selectOptions.columns;
        var toggle = selectOptions.options && selectOptions.options.toggle || false;
        var clearPrevious = selectOptions.options && selectOptions.options.clearPrevious || false;
        var fieldCount = columns ? columns.length : 0;
        if (clearPrevious) {
            this.deselectAll();
        }
        //If selection should qualify on records
        for (var i = 0; i < recordCount; i++) {
            record = records[ i ];
            if (!columns) {
                if (toggle) {
                    this.toggleRecordSelection(record);
                }
                else {
                    this.selectRecord(record);
                }
            }
            else {
                for (var j = 0; j < fieldCount; j++) {
                    if (toggle) {
                        this.toggleCellSelection(record, columns[ j ]);
                    }
                    else {
                        this.selectCell(record, columns[ j ]);
                    }
                }
            }
        }
    };

    /**
     * Toggles the selection state of the cell.
     * @param {object} record - The record in which the cell being toggled resides.
     * @param {string} column - The column within the record that is being toggled.
     * @private
     * @returns {undefined} Returns nothing.
     */
    Table.prototype.toggleCellSelection = function(record, column) {
        var selectedCellIndex = this.getSelectedCellIndex(record, column);
        if (selectedCellIndex > -1 || record._MPageUI.selected) {
            this.deselectCell(record, column);
        }
        else {
            this.selectCell(record, column);
        }
    };

    /**
     * Selects the cell.
     * @param {object} record - The record in which the cell being selected resides.
     * @param {string} column - The column within the record that is being selected.
     * @private
     * @returns {undefined} Returns nothing.
     */
    Table.prototype.selectCell = function(record, column) {
        var mpageUIData = record._MPageUI;
        var selectedCellIndex = this.getSelectedCellIndex(record, column);
        if (mpageUIData.selected || selectedCellIndex > -1) {
            return;
        }
        if (!mpageUIData.cellSelection) {
            mpageUIData.cellSelection = [];
        }
        mpageUIData.cellSelection.push(column);
        var selectedIndex = this.getSelectionIndex(record);
        if (selectedIndex < 0) {
            this.getSelection().push(record);
        }
        if (mpageUIData.cellSelection.length === this.m_columns.length) {
            mpageUIData.cellSelection = null;
            $("#" + record._MPageUI.rowReference).addClass("selected").find(".selected").removeClass("selected");
            mpageUIData.selected = true;
        }
        else {
            $("#" + record._MPageUI.rowReference + " td[data-column='" + column + "']").addClass("selected");
        }
    };

    /**
     * Deselects the specified cell (a cell is denoted by a record and field identifier).
     * @param {object} record - The record the desired cell lies within.
     * @param {string} column - The field in the record object which is considered the cell
     * @private
     * @returns {undefined} Returns nothing.
     */
    Table.prototype.deselectCell = function(record, column) {
        var mpageUIData = record._MPageUI;
        var wasSelected = mpageUIData.selected;
        var selectedCellIndex = this.getSelectedCellIndex(record, column);
        var isCellSelected = (selectedCellIndex > -1) || wasSelected;
        var cellSelection = null;
        if (!isCellSelected) {
            return;
        }
        cellSelection = mpageUIData.cellSelection;
        if (wasSelected) {
            mpageUIData.cellSelection = cellSelection = this.getAllColumnIdsExcept(column);
            $("#" + record._MPageUI.rowReference).removeClass("selected");
            record._MPageUI.selected = false;
            for (var i = 0; i < cellSelection.length; i++) {
                $("#" + record._MPageUI.rowReference + " td[data-column='" + cellSelection[ i ] + "']").addClass("selected");
            }
        }
        if (selectedCellIndex > -1) {
            cellSelection.splice(selectedCellIndex, 1);
        }
        //If there are no more cells selected, remove the record from selection
        if (!cellSelection.length) {
            mpageUIData.cellSelection = null;
            this.getSelection().splice(this.getSelectionIndex(record), 1);
        }
        $("#" + record._MPageUI.rowReference + " td[data-column='" + column + "']").removeClass("selected");
    };

    /**
     * Deselects everything in the table.
     * @returns {undefined} Returns nothing.
     */
    Table.prototype.deselectAll = function() {
        var selectedRecords = this.getSelection();
        var selectedRecordCount = selectedRecords.length;
        var selectedRecord = null;
        var mpageUIData = null;
        for (var i = 0; i < selectedRecordCount; i++) {
            selectedRecord = selectedRecords[ i ];
            mpageUIData = selectedRecord._MPageUI;
            mpageUIData.selected = false;
            mpageUIData.cellSelection = null;
        }
        this.getRootElement().find(".selected").removeClass("selected");
        this.m_selection = null;
    };

    /**
     * Toggles the selection of the specified record. If it is selected, it will be deselected and vice-versa.
     * @param {object} record - The JSON record for which selected status will be toggled.
     * @private
     * @returns {undefined} Returns nothing.
     */
    Table.prototype.toggleRecordSelection = function(record) {
        var mpageUIData = record._MPageUI;
        //Some cells are selected, so we need to toggle them
        if (mpageUIData.cellSelection) {
            this.select({
                records: [ record ],
                columns: this.getAllColumnIds(),
                options: {
                    toggle: true
                }
            });
            return;
        }
        if (mpageUIData.selected) {
            this.deselectRecord(record);
        }
        else {
            this.selectRecord(record);
        }
    };

    /**
     * Selects the specified record.
     * @param {object} record - The record to be selected
     * @private
     * @returns {undefined} Returns nothing.
     */
    Table.prototype.selectRecord = function(record) {
        var mpageUIData = record._MPageUI;
        var selectionIndex = this.getSelectionIndex(record);
        //If the record is already currently selected, return
        if (mpageUIData.selected) {
            return;
        }
        var $recordElement = $("#" + record._MPageUI.rowReference);
        //If the record had cells selected, we can remove that and save some memory
        if (mpageUIData.cellSelection && mpageUIData.cellSelection.length) {
            $recordElement.find(".selected").removeClass("selected");
            mpageUIData.cellSelection = null;
        }
        $recordElement.addClass("selected");
        record._MPageUI.selected = true;
        //If the record selection has not been stored off
        if (selectionIndex < 0) {
            this.getSelection().push(record);
        }
    };

    /**
     * Deselects the specified record.
     * @param {object} record - The record to be
     * @private
     * @returns {undefined} Returns nothing.
     */
    Table.prototype.deselectRecord = function(record) {
        var mpageUIData = record._MPageUI;
        var selectionIndex = this.getSelectionIndex(record);
        if (selectionIndex < 0) {
            return;
        }
        var $recordElement = $("#" + record._MPageUI.rowReference);
        //If the record had cells selected, we must deselect the cells as they are part of the record
        if (mpageUIData.cellSelection && mpageUIData.cellSelection.length) {
            mpageUIData.cellSelection = null;
            $recordElement.find(".selected").removeClass("selected");
        }
        $recordElement.removeClass("selected");
        mpageUIData.selected = false;
        this.getSelection().splice(selectionIndex, 1);
    };

    /**
     * Renders the colgroup markup which allows consumers to style their
     * columns appropriately.
     * @returns {string} The colgroup and col tags rendered as an HTML string.
     */
    Table.prototype.renderColumns = function() {
        var html = "<colgroup>";
        html += this.getColumns().map(function(column) {
            return "<col data-column='" + column.id + "' class='" + (column.css || "") + "'>";
        }).join("");
        return html + "</colgroup>";
    };

    /**
     * Renders the table as an html string.
     * @returns {string} The table rendered as an html string.
     */
    Table.prototype.render = function() {
        /*
         * With a split head table, the following must happen
         * 1). A wrapper div is created to encompass the entire DOM structure of the table
         * 2). The table head and body are split into two separate tables
         * 3). The header is rendered into the top table
         * 4). The body is rendered into the lower table
         * 5). The root of the split table becomes the wrapping element
         */
        var classes = this.getClasses();
        var html = "<div id='" + this.m_id + "' class='" + classes + "'>";
        html += "<div class='table-head'><table>";
        html += this.renderColumns();
        html += this.renderHeader();
        html += "</table></div>";
        html += "<div class='table-body'><table>";
        html += this.renderColumns();
        html += this.renderBody();
        html += "</table></div></div>";
        return html;
    };

    /**
     * Retrieves the CSS classes that will be applied to the table at the top
     * DOM level. This is driven off of the options provided to the table.
     * @private
     * @returns {string} The set of CSS classes to be applied to the table.
     */
    Table.prototype.getClasses = function() {
        var classes = "table-base";
        classes += (this.m_options.namespace) ? " " + this.m_options.namespace : "";
        classes += (this.m_options.rows.striped ? " table-striped" : "");
        classes += (this.m_options.columns.separators ? " table-with-separators" : "");
        classes += (this.m_options.highlight ? " " + this.m_options.highlight : "");
        return classes;
    };

    /**
     * Renders the header of the table as an html string.
     * @private
     * @returns {string} The header of the table rendered as an html string.
     */
    Table.prototype.renderHeader = function() {
        if (!this.m_options.show.header) {
            return "";
        }
        var header = "<thead><tr>";
        var sortClass = "";
        var columns = this.m_columns;
        var columnCount = columns ? columns.length : 0;
        var cellStyles = "";
        var canUserSort = true;
        var column = 0;
        for (var i = 0; i < columnCount; i++) {
            canUserSort = true;
            column = columns[ i ];
            sortClass = "";
            cellStyles = "";
            if (column.width) {
                cellStyles = "width='" + column.width + "'";
            }
            //set the sort class if the column is sortable
            if (this.isColumnSortable(column.id)) {
                //check if the user is allowed to sort this column
                canUserSort = (typeof column.sortOptions.userSort !== "undefined") ? column.sortOptions.userSort : true;
                if (canUserSort) {
                    //add the sortable class to show the hover on the column header
                    sortClass += " sortable ";
                    //current sorted column will display the sort direction indicator
                    if (this.m_currentlySortedColumnId === column.id) {
                        sortClass += this.getSortClass(this.m_currentSortDirection);
                    }
                }
            }
            header += "<th class='" + sortClass + "' data-column='" + columns[ i ].id + "' scope='col'" + cellStyles + ">" + (columns[ i ].label || "&nbsp;") + "</th>";
        }
        return header + "</tr></thead>";
    };

    /**
     * Helper function to compare two values.
     * @param {object} a - the first value to compare
     * @param {object} b - the second value to compare
     * @returns {number} a comparison value 1, -1, or 0, where 0 means equality
     * @private
     */
    Table.prototype.compare = function(a, b) {
        try {
            //Perform special logic for setting up sort values for comparison
            if (typeof a === "number" || typeof b === "number") {
                a = a || 0;
                b = b || 0;
            }
            else if (typeof a === "string" || typeof b === "string") {
                a = (a || "").toUpperCase();
                b = (b || "").toUpperCase();
            }
            if (a > b) {
                return -1;
            }
            else if (a < b) {
                return 1;
            }
            else {
                return 0;
            }
        }
        catch (exe) {
            logger.logError("Called MPageUI.Table.prototype.compare(a,b) with an invalid value for a or b");
            return 0;
        }
    };

    /**
     * Gets the sort function to be used to sort the records of a given column.
     * @returns {Function} The sort function.
     * @private
     */
    Table.prototype.getSortFunction = function() {
        var self = this;
        var currentColumn = this.m_currentlySortedColumnId;
        var columnSortOptions = this.getColumnSortOptions(currentColumn);
        var primaryField = columnSortOptions.primary.field;
        var currentSortDirection = this.m_currentSortDirection;
        return function(rowA, rowB) {
            var rowAVal = rowA[ primaryField ];
            var rowBVal = rowB[ primaryField ];
            var comparison = self.compare(rowAVal, rowBVal);
            //If the comparison on the primary sort fields isn't 0 (not equal), return this value
            if (comparison !== 0) {
                return currentSortDirection * comparison;
            }
            //check if secondary fields are available within the sort options for the current column
            if (columnSortOptions && columnSortOptions.secondary) {
                var secondarySortFields = columnSortOptions.secondary;
                var secondarySortFieldsCount = secondarySortFields.length;
                for (var i = 0; i < secondarySortFieldsCount; i++) {
                    rowAVal = rowA[ secondarySortFields[ i ].field ];
                    rowBVal = rowB[ secondarySortFields[ i ].field ];
                    comparison = self.compare(rowAVal, rowBVal);
                    if (comparison !== 0) {
                        return secondarySortFields[ i ].direction * comparison;
                    }
                }
            }
            //If we've made it this far, all fields are equal, so return 0
            return 0;
        };
    };

    /**
     * Renders a no results message in the case that no records are present.
     * @param {string} noRecordsMessage - The message to be displayed indicating
     * that no records are present.
     * @param {number} depth - The depth in the data tree at which the no
     * records message is being rendered.
     * @returns {string} The no records table row markup rendered as a string.
     * @private
     */
    Table.prototype.renderNoRecords = function(noRecordsMessage, depth) {
        return "<tr data-type='no-records' class='table-row no-records group-level-" + depth + "'>" +
            "<td class='table-cell' colspan='" + this.m_columns.length + "'>" + noRecordsMessage + "</td></tr>";
    };

    /**
     * Renders the data that has been bound to the table.
     * @param {object} data - The data bound to the table.
     * @param {number} startDepth - The depth at which rendering started.
     * @private
     * @returns {string} The table body content rendered to an html string.
     */
    Table.prototype.renderData = function(data, startDepth) {
        var self = this;
        var html = "";

        /**
         * Recursively traverses through the table data and renders a flat html table.
         * @param {object} node - The current node being rendered.
         * @param {number} depth - The current recursion depth.
         * @returns {undefined} Returns nothing.
         * @private
         */
        function recursiveRender(node, depth) {
            var records = node.records;
            var sortFunction = null;
            var columnSortData = self.getColumnSortOptions(self.m_currentlySortedColumnId);
            var groups = node.groups;
            var group = null;
            var expanded = true;
            if (records) {
                //check if the table is sortable
                if (columnSortData && records.length) {
                    sortFunction = self.getSortFunction();
                    records.sort(sortFunction);
                }
                if (records.length) {
                    html += self.renderRecords(records, depth, node);
                }
                else {
                    //Render the default "No Results Found" row
                    if (typeof node.no_records === "undefined") {
                        html += self.renderNoRecords(i18n.discernabu.NO_RESULTS_FOUND, depth);
                    }
                    else if (node.no_records) { //no_records is a string render the row
                        html += self.renderNoRecords(node.no_records, depth);
                    }
                }
            }
            if (groups && groups.length) {
                for (var i = 0; i < groups.length; i++) {
                    group = groups[ i ];
                    if (typeof group.expanded !== "undefined") {
                        expanded = group.expanded;
                    }
                    //get the group records count
                    if (group.showCount) {
                        group.recordCount = self.getRecordsCount(group, 0);
                    }
                    //Render the group markup
                    html += self.renderGroup(group, depth);
                    //Don't bother rendering children if the group is collapsed (save some DOM memory and processing)
                    if (expanded) {
                        recursiveRender(group, depth + 1);
                    }
                    else {
                        group._MPageUI.pruned = true;
                    }
                }
            }
        }

        recursiveRender(data, startDepth);
        return html;
    };

    /**
     * Gets the record count for a group if showCount is set to true
     * @param {object} data - The data bound to the table.
     * @private
     * @returns {number} The table body content rendered to an html string.
     */
    Table.prototype.getRecordsCount = function(data) {
        var recordsCount = 0;

        /**
         * Recursively traverses through the table groups and counts the records
         * @param {object} node - The current node being rendered.
         * @param {number} depth - The current recursion depth.
         * @returns {undefined} Returns nothing.
         */
        function recursiveRecordCount(node) {
            var records = node.records;
            var groups = node.groups;
            var group = null;
            if (records && records.length) {
                recordsCount += records.length;
            }
            if (groups && groups.length) {
                for (var i = 0; i < groups.length; i++) {
                    group = groups[ i ];
                    recursiveRecordCount(group);
                }
            }
        }

        recursiveRecordCount(data);
        return recordsCount;
    };

    /**
     * Renders a group to an html string.
     * @param {object} group - The group object to be rendered.
     * @param {number} depth - The depth at which the group is being rendered.
     * @private
     * @returns {string} The group rendered as an html string.
     */
    Table.prototype.renderGroup = function(group, depth) {
        var groupClasses = "table-section " + "group-level-" + depth;
        if (group.css) {
            groupClasses += (" " + group.css);
        }
        var showCount = group.showCount || false;
        var expanded = true;
        var collapsible = true;
        if (typeof group.collapsible !== "undefined") {
            collapsible = group.collapsible;
        }
        if (typeof group.expanded !== "undefined") {
            expanded = group.expanded;
        }
        if (!expanded) {
            groupClasses += " collapsed";
        }
        if (collapsible) {
            groupClasses += " collapsible";
        }
        //Group count display
        var groupCountHtml = (showCount) ? "<span data-group-count='" + group.recordCount + "' class='table-section-count'>&nbsp;(" + group.recordCount + ")</span>" : "";
        var html = "";
        html += "<tr id='" + group._MPageUI.groupReference + "' data-group='" + group._MPageUI.groupHash + "' class='" + groupClasses + "'>";
        html += "<th data-group='" + group._MPageUI.groupHash + "' colspan='" + this.m_columns.length + "'><span class='table-section-icon'></span>" + group.label + groupCountHtml + "</th>";
        return html + "</tr>";
    };

    /**
     * Renders a list of table records as an html string.
     * @param {Array<object>} records - The list of records to be rendered as an html string.
     * @param {number} depth - The depth at which the records are being rendered (typically 0).
     * @param {object} parentNode - The data node that is the parent to the record. This will
     * either be the root data or a group.
     * @private
     * @returns {string} The list of records rendered as an html string.
     */
    Table.prototype.renderRecords = function(records, depth, parentNode) {
        var html = "";
        var recordCount = records.length;
        var record = null;
        var column = null;
        var columns = this.m_columns;
        var columnCount = columns.length;
        var columnId = null;
        var contentFunction = null;
        var mpageUIData = null;
        var rowClasses = "";
        var cellClasses = "";
        var cellSelection = null;
        var cellStyle = "";
        var parentGroup = "";
        //Iterate over each result
        for (var i = 0; i < recordCount; i++) {
            rowClasses = "table-row";
            record = records[ i ];
            //Retrieve the stored MPageUI data
            mpageUIData = record._MPageUI;
            if (mpageUIData.selected) {
                rowClasses += " selected";
            }
            if (depth > 0) {
                parentGroup = "data-group='" + parentNode._MPageUI.groupHash + "'";
                rowClasses += " group-level-" + depth;
            }
            if (this.m_options.rows.striped) {
                rowClasses += ((i % 2 === 0) ? "" : " stripe");
            }
            html += "<tr id='" + this.m_id + "_" + record._MPageUI.recordHash + "'" + parentGroup + " data-record='" + record._MPageUI.recordHash + "' class='" + rowClasses + "'>";
            //Iterate over each column, rendering the field of the result
            for (var j = 0; j < columnCount; j++) {
                cellStyle = "";
                cellClasses = "table-cell";
                column = columns[ j ];
                //Determine which field the column is to render
                columnId = column.id;
                if (mpageUIData.cellSelection && mpageUIData.cellSelection.length) {
                    cellSelection = mpageUIData.cellSelection;
                    for (var k = 0; k < cellSelection.length; k++) {
                        if (columnId === cellSelection[ k ]) {
                            cellClasses += " selected";
                        }
                    }
                }
                if (column.width) {
                    cellStyle += "width='" + column.width + "'";
                }
                //Render the cell
                html += column.row_heading ?
                    "<th scope='row'>" :
                "<td data-record='" + record._MPageUI.recordHash + "' data-column='" + column.id + "' class='" + cellClasses + "'" + cellStyle + ">";

                //Determine if the column provides a processor function
                contentFunction = column.contents;
                if (contentFunction) {
                    html += contentFunction(record);
                }
                html += column.row_heading ? "</th>" : "</td>";
            }
            html += "</tr>";
        }
        return html;
    };

    /**
     * Renders the body of the table as an html string.
     * @private
     * @returns {string} The body of the table rendered as an html string.
     */
    Table.prototype.renderBody = function() {
        var body = "";
        var data = this.m_data;
        body += "<tbody>" + this.renderData(data, 0) + "</tbody>";
        return body;
    };

    /**
     * Refreshes the table by replacing the inner contents.
     * @returns {undefined} Returns nothing.
     */
    Table.prototype.refresh = function() {
        var $rootElement = this.getRootElement();
        //Do not attempt to refresh if the table has not been rendered
        if (!$rootElement || !$rootElement.length) {
            return;
        }
        $rootElement.find(".table-head>table:first-child")[ 0 ].innerHTML = (this.renderColumns() + this.renderHeader());
        $rootElement.find(".table-body>table:first-child")[ 0 ].innerHTML = (this.renderColumns() + this.renderBody());
        this.resize();
    };

    /**
     * Resizes the table it checks if scrolling is applied, and if so it shifts
     * the header over to compensate for the scrollbar in the table body.
     * @returns {undefined} Returns nothing
     */
    Table.prototype.resize = function() {
        if (!this.m_options.show.header) {
            return;
        }
        var $rootElement = this.getRootElement();
        //Not rendered to the DOM
        if ((!$rootElement || !$rootElement.length)) {
            return;
        }
        //apply max height to the table body
        this.applyMaxHeight();
        //shift the table header if scrolling is applied
        this.shiftTableHeader();
    };

    /**
     * Applies max height to the table body based
     * on the max height that was set for the table.
     * @private
     * @returns {undefined} Returns nothing.
     */
    Table.prototype.applyMaxHeight = function() {
        var $rootElement = this.getRootElement();
        var maxHeight = this.getMaxHeight();
        //find the table header height
        var $tableHeader = $rootElement.find(".table-head");
        var tableHeaderHeight = $tableHeader[ 0 ].offsetHeight;
        //Calculate the new body max-height
        var newBodyMaxHeight = maxHeight - tableHeaderHeight;
        //set the new table body max-height
        var $tableBody = $rootElement.find(".table-body");
        $tableBody.css({ "max-height": newBodyMaxHeight + "px" });
    };

    /**
     * Shifts table header when scrolling is applied.
     * @private
     * @returns {undefined} Returns nothing.
     */
    Table.prototype.shiftTableHeader = function() {
        var $rootElement = this.getRootElement();
        var $tableBody = $rootElement.find(".table-body");
        var $table = $tableBody.find("table:first");

        var offsetHeight = $tableBody[ 0 ].offsetHeight;
        var tableHeight = $table[ 0 ].offsetHeight;
        /*
         * We do not use the scrollHeight calculation because IE has what
         * appears to be a known rounding error.
         * http://stackoverflow.com/questions/22174841/scrollheight-is-incorrect-in-ie
         *
         * Instead, determine if the height of the table within the wrapping
         * table body is greater than the table body. This is sufficient to
         * assume that the table is scrolling.
         */
        if (tableHeight > offsetHeight) {
            $rootElement.find(".table-head").addClass("shifted");
        }
        else {
            $rootElement.find(".table-head").removeClass("shifted");
        }
    };

    /**
     * Gets the max height for the table.
     * @returns {number} The max height of the table.
     */
    Table.prototype.getMaxHeight = function() {
        return this.m_maxHeight;
    };

    /**
     * Sets the max height for the table
     * @throws {Error} If height is not a number
     * @param {number} height to be set as max height for the component table
     * @returns {MPageUI.Table} Returns self to allow chaining.
     */
    Table.prototype.setMaxHeight = function(height) {
        if (typeof height !== "number") {
            throw new Error("MPageUI.Table.prototype.setMaxHeight expects a number");
        }
        this.m_maxHeight = height;
        //Resize after the max height is set
        this.resize();
        return this;
    };

    /**
     * Attaches the necessary events to the table. This must be called after the Table instance has been rendered
     * to the DOM.
     * @returns {undefined} Returns nothing.
     */
    Table.prototype.attachEvents = function() {
        var $rootElement = this.getRootElement();
        var self = this;
        //Table column header click
        $rootElement.on("click.mpageui", "thead th", function(event) {
            self.onColumnHeaderClick(event);
        });
        //Table row click
        $rootElement.on("click.mpageui", "tbody tr.table-row", function(event) {
            self.onRowClick(event);
        });
        //Table cell click
        $rootElement.on("click.mpageui", "tbody tr td.table-cell", function(event) {
            self.onCellClick(event);
        });
        //Table group section click
        $rootElement.on("click.mpageui", "tbody tr.table-section", function(event) {
            self.onGroupClick(event);
        });
        //Hover - mouse enter
        $rootElement.on("mouseenter.mpageui", "tbody tr td.table-cell", function(event) {
            self.onHover(event);
        });
    };

    return Table;
})();

/* eslint-enable no-underscore-dangle */

/* globals MPageUI, CERN_Validate, objectAssign, EventEmitter */
/**
 * Enumeration for TextControl options.
 * Subclasses of TextControl can add a type to the enum and should set a field type in their constructor
 * @readonly
 */
MPageUI.TEXT_CONTROL_OPTIONS = {
    TYPE: {
        TEXT: "field-text",
        TEXT_AREA: "field-textarea"
    }
};

MPageUI.TextControl = (function() {
    /**
     * The TextControl class.
     * @returns {TextControl} Returns self to allow chaining.
     * @constructor
     */
    var TextControl = function() {
        // Super constructor
        this.base();
        this.m_headerLabel = "";
        this.m_width = null;
        this.m_currentValue = "";
        this.m_requiredInd = false;
        this.m_fieldType = MPageUI.TEXT_CONTROL_OPTIONS.TYPE.TEXT;
        this.m_placeholder = "";

        // Callback functions
        this.m_onChangeCallback = null;
        this.m_onKeyUpCallback = null;
        this.m_onFocusCallback = null;

        // Element cache
        this.m_$inputElement = null;
        return this;
    };
    // Extend the base UIComponent class
    MPageUI.extend(TextControl, MPageUI.UIComponent);

    /**
     * Returns the id of the input element for the TextControl.
     * @private
     * @returns {string} The id of the input element of the TextControl.
     */
    TextControl.prototype.getInputId = function() {
        return this.m_id + "Input";
    };

    /**
     * Returns the id of the label element for the TextControl.
     * @private
     * @returns {string} The id of the label element of the TextControl.
     */
    TextControl.prototype.getLabelId = function() {
        return this.m_id + "Label";
    };

    /**
     * Sets the placeholder text for the TextControl. This is the text that
     * will be displayed in the input element when no user-entered input is
     * present.
     * @param {string} placeholder - The placeholder text for the input.
     * @returns {MPageUI.TextControl} Returns self.
     */
    TextControl.prototype.setPlaceholder = function(placeholder) {
        this.m_placeholder = placeholder;
        this.getInputElement().attr("placeholder", placeholder);
        return this;
    };

    /**
     * Sets the header label for the text box.
     * @param {string} headerText - The label to display above the text control
     * @throws {Error} An error is thrown if the headerText is not a string.
     * @returns {MPageUI.TextControl} Returns self to allow chaining.
     */
    TextControl.prototype.setHeaderLabel = function(headerText) {
        if (!CERN_Validate.string.isString(headerText)) {
            throw new Error("MPageUI.TextControl.prototype.setHeaderLabel expects a string.");
        }
        this.m_headerLabel = headerText;
        return this;
    };

    /**
     * Sets the width of the text control in pixels. The width to be set needs to be a positive number.
     * @param {number} width - The width of the text control in pixels.
     * @returns {MPageUI.TextControl} Returns self to allow chaining.
     */
    TextControl.prototype.setWidth = function(width) {
        if (!CERN_Validate.number.isPositive(width)) {
            throw new Error("TextControl.prototype.setWidth expects a number > 0");
        }
        this.m_width = width;
        return this;
    };

    /**
     * Returns the current value of the text control.
     * @returns {string} The current value of the text control.
     */
    TextControl.prototype.getCurrentValue = function() {
        return this.m_currentValue;
    };

    /**
     * Sets a value in the text control. This method needs to be called before the text control is rendered.
     * Only string parameter is allowed.
     * @param {string} value - The value to be set in the text control.
     * @returns {TextControl} Returns self to allow chaining.
     */
    TextControl.prototype.setCurrentValue = function(value) {
        if (!CERN_Validate.string.isString(value)) {
            throw new Error("TextControl.prototype.setCurrentValue expects a string.");
        }
        this.m_currentValue = value;
        // If the element has been rendered, update the value.
        this.getInputElement().val(value);
        return this;
    };

    /**
     * Returns whether the text control is required.
     * @returns {boolean} Whether the text control is required.
     */
    TextControl.prototype.isRequired = function() {
        return this.m_requiredInd;
    };

    /**
     * Sets whether the text control is required.
     * @param {boolean} required - Whether the text control is required.
     * @returns {TextControl} Returns self to allow chaining.
     */
    TextControl.prototype.setRequired = function(required) {
        if (typeof required !== "boolean") {
            throw new Error("TextControl.prototype.setRequired expects a boolean.");
        }
        this.m_requiredInd = required;
        this.getInputElement().prop("required", required);
        return this;
    };

    /**
     * Sets the callback function to be called when the content within the text control changes.
     * The callback function must specify a content parameter as such:
     * ex: control.setOnChangeCallback(function(content){ ... });
     * @param {Function} onChangeCallback - The callback function to be called when the content within the text control changes.
     * @returns {TextControl} Returns self to allow chaining.
     */
    TextControl.prototype.setOnChangeCallback = function(onChangeCallback) {
        if (typeof onChangeCallback !== "function") {
            throw new Error("TextControl.prototype.setOnChangeCallback expects a function");
        }
        this.m_onChangeCallback = onChangeCallback;
        return this;
    };

    /**
     * Sets the callback function to be called when the keyup event is triggered
     * on the input element of the TextControl.
     * @param {function(e)} onKeyUpCallback - The callback function to be
     * triggered when the keyup event is triggered on the input element.
     * @returns {MPageUI.TextControl} Returns self.
     */
    TextControl.prototype.setOnKeyUpCallback = function(onKeyUpCallback) {
        this.m_onKeyUpCallback = onKeyUpCallback;
        return this;
    };

    /**
     * Overrides the base render function to render a place holder for text control.
     * @returns {string} The TextControl object rendered as an html string.
     */
    TextControl.prototype.render = function() {
        var classes = [ "field", this.m_fieldType, this.isRequired() ? "field-required" : "" ];
        classes = classes.join(" ");
        var html = "<p id='" + this.m_id + "' class='" + classes + "'>";
        // Renders the label for the input
        html += this.renderLabel();
        // Can be overridden by subclasses of the text control
        html += this.renderInput();
        html += "</p>";
        return html;
    };

    /**
     * Overrides the base render function to render a header label for the
     * text control as an html string. If no header text is set then this
     * function will return an empty html string.
     *  @returns {string} The TextControl object rendered as an html string.
     */
    TextControl.prototype.renderLabel = function() {
        var html = "";

        // HTML for label style
        if (this.m_headerLabel.length) {
            // HTML for label
            html += (
                "<label id='" + this.getLabelId() + "' for='" + this.getInputId() + "'>" +
                this.m_headerLabel +
                "</label>"
            );
        }
        return html;
    };

    /**
     * The base TextControl object does not implement this function, but some sub-classes of the TextControl class
     * can override this method to render a specific type of input element
     * @returns {string} The input rendered as a string.
     */
    TextControl.prototype.renderInput = function() {
        var required = this.isRequired() ? "required" : "";
        var placeholder = "placeholder='" + this.m_placeholder + "'";
        var ariaRequired = this.isRequired() ? "aria-required='true'" : "";
        var attributes = [ placeholder, required, ariaRequired ].join(" ");
        return "<input type='text' id='" + this.getInputId() + "' class='field-input' " + attributes + ">";
    };

    /**
     * Overrides the base attachEvents function to attach any JavaScript events
     * to the component once it has been rendered to the DOM.
     * @returns {undefined} Returns nothing.
     */
    TextControl.prototype.attachEvents = function() {
        var self = this;
        var $input = this.getInputElement();
        $input.on("input.mpageui", function() {
            self.onUpdate(this.value);
            self.emit("input", this.value);
        });
        $input.on("keyup.mpageui", function(e) {
            if (self.m_onKeyUpCallback) {
                self.m_onKeyUpCallback(e);
            }
            self.emit("keyup", e);
        });
        $input.on("focus.mpageui", function(e) {
            if (self.m_onFocusCallback) {
                self.m_onFocusCallback(e);
            }
            self.emit("focus", e);
        });
    };

    /**
     * Handles the input update. This function is called on the keyup event of the text control.
     * @param {string} currentValue - The current value in the text control
     * @returns {undefined} Returns nothing.
     */
    TextControl.prototype.onUpdate = function(currentValue) {
        this.setCurrentValue(currentValue);
        // Notify that the content has changed.
        if (this.m_onChangeCallback) {
            this.m_onChangeCallback(currentValue);
        }
    };

    /**
     * Returns the input element. If the element is null, it will be queried from the DOM.
     * @returns {jQuery} The input element.
     */
    TextControl.prototype.getInputElement = function() {
        if (!this.m_$inputElement || !this.m_$inputElement.length) {
            this.m_$inputElement = $("#" + this.getInputId());
        }
        return this.m_$inputElement;
    };

    /**
     * Determines if the control is empty.
     * @returns {boolean} A boolean indicating if the control is empty.
     */
    TextControl.prototype.isEmpty = function() {
        return CERN_Validate.string.isBlank(this.m_currentValue);
    };

    objectAssign(TextControl.prototype, EventEmitter.prototype);

    return TextControl;
})();

MPageUI.TextArea = (function() {
    /**
     * The TextArea class. This creates a standard text area.
     * @returns {MPageUI.TextArea} Returns self to allow chaining.
     * @constructor
     */
    var TextArea = function() {
        // Super constructor
        this.base();
        this.m_height = null;
        this.m_rows = 1;
        this.m_fieldType = MPageUI.TEXT_CONTROL_OPTIONS.TYPE.TEXT_AREA;
        return this;
    };
    MPageUI.extend(TextArea, MPageUI.TextControl);

    /**
     * Sets the height of the <textarea> in pixels. This value can be null if no value
     * has been explicitly provided. In this case, the <textarea> element will
     * be styled natively via the "rows" attribute which defaults to 1.
     * @param {number} height - The height of the <textarea> element in pixels.
     * @returns {TextArea} Returns self to allow chaining.
     */
    TextArea.prototype.setHeightInPixels = function(height) {
        if (!CERN_Validate.number.isPositive(height)) {
            throw new Error("TextArea.prototype.setHeightInPixels expects a number > 0.");
        }
        this.m_height = height;
        return this;
    };

    /**
     * Sets the number of rows for the <textarea>. This refers to the native
     * "rows" attribute on the <textarea> element. The row number to be set
     * has to be greater than or equal to 1. For example: <textarea rows="1"></textarea>
     * @param {number} rows - The number of native rows for the <textarea> element.
     * @returns {TextArea} returns self to allows chaining.
     */
    TextArea.prototype.setHeightInRows = function(rows) {
        if (!CERN_Validate.number.isGreaterThanOrEqualTo(1)) {
            throw new Error("TextArea.prototype.setHeightInRows expects an integer >= 1");
        }
        this.m_rows = rows;
        return this;
    };

    /**
     * First calls the base render function to render the header label and then
     * returns the header and TextArea as an html string.
     * @returns {string} The TextArea object rendered as an html string.
     */
    TextArea.prototype.renderInput = function() {
        var style = "style='";
        style += this.m_width ? ("width:" + this.m_width + "px;") : "";
        style += this.m_height ? ("height:" + this.m_height + "px;") : "";
        style += "'";

        var attributes = [
            "rows='" + this.m_rows + "'",
            style,
            this.m_placeholder ? "placeholder='" + this.m_placeholder + "'" : "",
            this.isRequired() ? "required" : "",
            this.isRequired() ? "aria-required='true'" : ""
        ].join(" ");

        // HTML for <textarea>
        return (
            "<textarea id='" + this.getInputId() + "' class='field-input' " + attributes + ">" +
            this.m_currentValue +
            "</textarea>"
        );
    };
    return TextArea;
})();

/* global MPageUI */
/* global objectAssign */
MPageUI.Search = (function() {
    var ESCAPE_KEY = 27;
    /**
     * Highlights a portion of a string based on the provided regex by wrapping
     * the text in <b> (bold) tags.
     * @param {RegExp} regex - The current search regular expression.
     * @param {string} text - The text in which matches on the regular
     * expression will be highlighted.
     * @returns {string} The string with the matches on the regular expression
     * highlighted via bold tags.
     */
    var highlight = function(regex, text) {
        return text.replace(regex, function(str) {
            return "<b>" + str + "</b>";
        });
    };
    /**
     * Creates the label for the menu by passing a single search result to the
     * template function along with the highlight function. This allows
     * consumers to choose how to display their search results as well as
     * highlight pieces of the result.
     * @param {object} result - A single search result.
     * @param {RegExp} regex - The current search regular expression.
     * @param {function(object, function)} template - The template function
     * which will generate the display for the menu selection.
     * @returns {string} An html string generated by the template function.
     */
    var makeMenuDisplay = function(result, regex, template) {
        return template(result, highlight.bind(this, regex));
    };
    /**
     * Creates a new MenuSelection object (see com.cerner.discernabu.utils
     * mpage-menu artifact). It generates the label via makeMenuDisplay
     * and binds the click function to the provided onSelectHandler.
     * @param {object} result - A single search result.
     * @param {RegExp} regex - The current search regular expression.
     * @param {function(object)} onSelectHandler - The function to be called
     * when the MenuSelection is selected from the menu.
     * @param {function(object, function)} template - The template function
     * which will generate the display for the menu selection.
     * @returns {MenuSelection} The MenuSelection object created from the
     * search result.
     */
    var makeSearchMenuItem = function(result, regex, onSelectHandler, template) {
        var m = new MenuSelection();
        m.setLabel(makeMenuDisplay(result, regex, template));
        m.setClickFunction(function() {
            onSelectHandler(result);
        });
        return m;
    };
    /**
     * Helper function to determine if the options object has the specified
     * optionsName (key in the options object).
     * @param {{
	 * 		ignoreCase: boolean,
	 * 		label: string,
	 *		placeholder: string,
	 *		required: boolean,
	 *		throttle: number
	 * }} options - The options object for the MPageUI.Search class.
     * @param {string} optionName - The key in the options object for which
     * this function checks existence.
     * @returns {boolean} True if the key exists in the options object.
     */
    var hasOption = function(options, optionName) {
        return typeof options[ optionName ] !== "undefined";
    };
    /**
     * Takes an options object and makes necessary calls to update the
     * encapsulated TextControl with the specified options.
     * @param {MPageUI.TextControl} textControl - The instance of
     * MPageUI.TextControl that is encapsulated in the MPageUI.Search class.
     * @param {{
	 * 		label: string,
	 *		placeholder: string,
	 *		required: boolean
	 * }} options - The options object for the MPageUI.Search class that are
     * relevant to the MPageUI.TextControl class.
     * @returns {undefined} Returns self.
     */
    var updateTextControl = function(textControl, options) {
        if (hasOption(options, "label")) {
            textControl.setHeaderLabel(options.label);
        }
        if (hasOption(options, "placeholder")) {
            textControl.setPlaceholder(options.placeholder);
        }
        if (hasOption(options, "required")) {
            textControl.setRequired(options.required);
        }
    };
    /**
     * Creates an instance of MPageUI.TextControl that is to be encapsulated
     * in the MPageUI.Search class. It creates an instance, wires up necessary
     * events, and updates the instance with the specified options.
     * @param {{
	 * 		filter: boolean,
	 * 		ignoreCase: boolean,
	 * 		label: string,
	 *		placeholder: string,
	 *		required: boolean,
	 *		throttle: number
	 * }} options - The options for the encapsulated MPageUI.TextControl class.
     * Note that only a subset of the options are used.
     * @param {function} onInputHandler - A function to handle the input event
     * on the encapsulated MPageUI.TextControl class.
     * @param {function} onKeyUpHandler - A function to handle the keyup event
     * on the encapsulated MPageUI.TextControl class.
     * @param {function} onFocusHandler - A function to handle the focus event
     * on the encapsulated MPageUI.TextControl class.
     * @returns {MPageUI.TextControl} The created instance of an
     * MPageUI.TextControl class.
     */
    var makeTextControl = function(options, onInputHandler, onKeyUpHandler, onFocusHandler) {
        var t = new MPageUI.TextControl()
            .on("input", onInputHandler)
            .on("keyup", onKeyUpHandler)
            .on("focus", onFocusHandler);
        updateTextControl(t, options);
        return t;
    };
    /**
     * Takes in a standard Menu object (see: com.cerner.discernabu.utils mpage-menu)
     * and checks to see if there are menu items in the menu. If so, the menu
     * object is updated and shown. Otherwise, nothing happens.
     * @param {Menu} menu - An instance of Menu from the standard mpage-menu
     * artifact.
     * @returns {undefined} Returns nothing.
     */
    var openMenu = function(menu) {
        if (!menu.getMenuItemArray() || !menu.getMenuItemArray().length) {
            return;
        }
        MP_MenuManager.updateMenuObject(menu);
        MP_MenuManager.showMenu(menu.getId());
    };
    /**
     * For each provided result, a menu item is created via makeSearchMenuItem
     * and is added to the provided menu object.
     * @param {Menu} menu - An instance of Menu from the standard mpage-menu
     * artifact.
     * @param {Array<object>} results - An array of results returned by the
     * provider (a function that generates search results).
     * @param {RegExp} regex - A regular expression created from the current
     * search text.
     * @param {function(object)} onSelectHandler - The function for handling
     * when a menu item is selected.
     * @param {function(object, function)} template - The template for rendering
     * menu items.
     * @returns {undefined} Returns nothing.
     */
    var addMenuOptions = function(menu, results, regex, onSelectHandler, template) {
        results.forEach(function(result) {
            menu.addMenuItem(makeSearchMenuItem(result, regex, onSelectHandler, template));
        });
    };
    /**
     * Filters a set of results based on the provided filter. First, if a filter
     * is specified, the results are filtered by calling the consumer-provided
     * filter function. The consumer is provided the result being tested and
     * a helper function to test their result to see if it needs to be filtered.
     * It is not the responsibility of the Search API to know what field in the
     * result is the filter-point. Secondly, if no filter is provided, the full
     * set of results is returned (no filtering).
     * @param {function(object, function)} filter - The consumer-provided filter
     * function which takes a single result and the test function to determine
     * if the result passes the filter.
     * @param {RegExp} regex - The current search regular expression.
     * @param {Array<object>} results - The array of results returns for the
     * Search.
     * @returns {Array<object>} The array of filtered results.
     */
    var filterValues = function(filter, regex, results) {
        return filter ? results.filter(function(value) {
            return filter(value, function(text) {
                return regex.test(text);
            });
        }) : results;
    };
    /**
     * Simply closes the menu stack.
     * @returns {undefined} Returns nothing.
     */
    var closeMenu = function() {
        MP_MenuManager.closeMenuStack(false);
    };
    /**
     * Removes all menu items from the provided menu.
     * @param {Menu} menu - The instance of the standard Menu
     * (see: com.cerner.discernabu.utils mpage-menu) which is displaying the
     * current search results.
     * @returns {undefined} Returns nothing.
     */
    var clearMenuItems = function(menu) {
        var items = menu.getMenuItemArray();
        if (!items || !items.length) {
            return;
        }
        while (items.length) {
            menu.removeMenuItem(items[ items.length - 1 ]);
        }
    };
    /**
     * Creates an instance of the standard Menu
     * (see: com.cerner.discernabu.utils mpage-menu). This menu will display
     * search results. The Menu is anchored to the root element of the
     * MPageUI.Search class.
     * @param {string} menuId - The id of the Menu being created.
     * @param {string} anchorId - The id of the anchor to the Menu.
     * @returns {Menu} An instance of the Menu class.
     */
    var makeMenu = function(menuId, anchorId) {
        var menu = new Menu(menuId);
        menu.setTypeClass("dropdown-standard-menu");
        menu.setAnchorElementId(anchorId);
        menu.setAnchorConnectionCorner([ "bottom", "left" ]);
        menu.setContentConnectionCorner([ "top", "left" ]);
        menu.setContentParentId(anchorId);
        menu.setIsRootMenu(true);
        menu.setAutoFlipVertical(false);
        menu.setIsPersistent(true);
        //Hijack the setIsActive function so we can intelligently prevent memory leaks
        menu.setIsActive = function(activeInd) {
            //Call the base setIsActive function
            Menu.prototype.setIsActive.call(menu, activeInd);
            //If the menu is being closed, remove the menu from the global lookup
            if (!activeInd) {
                //Remove the standard menu
                MP_MenuManager.deleteMenuObject(menu.getId());
            }
        };
        return menu;
    };
    /**
     * Checks if an event was pressing the escape key.
     * @param {Event} event - The JavaScript event that occurred.
     * @returns {boolean} True if the event was pressing the escape key,
     * otherwise false.
     */
    var wasEscapeKey = function(event) {
        return event && event.keyCode === ESCAPE_KEY;
    };
    /**
     * Creates a regular expression based on a string value passed in. If
     * the ignoreCase flag is true, the ignore-case option is specified when
     * creating an instance of RegExp.
     * @param {string} value - The string (current search text) for which the
     * regular expression will be created.
     * @param {boolean} ignoreCase - A flag indicating whether the RegExp should
     * ignore case or not.
     * @returns {RegExp} A regular expression created from the provided string
     * value.
     */
    var createRegex = function(value, ignoreCase) {
        return new RegExp(value, ignoreCase ? "i" : "");
    };
    /**
     * Updates the provided menu with a new set of search results. The order of
     * updates is as follows.
     * 1). Close the menu (to prevent rapid reflowing)
     * 2). Clear all current menu items from the menu (we must show new results)
     * 3). If no results are present, return.
     * 4). Otherwise, add the new menu options to the menu based on the search
     *        results.
     * 5). Open the menu.
     * @param {Menu} menu - The Menu instance encapsulated in the MPageUI.Search
     * class.
     * @param {Array<object>} results - The array of search results as provided
     * by the consumer.
     * @param {function(object)} onSelectHandler - The function to be called
     * when a selection is made in the menu.
     * @param {RegExp} regex - The regular expression based on the current
     * search.
     * @param {function(object, function)} template - The template function as
     * provided by the consumer which will render the label of the menu
     * selection items.
     * @returns {undefined} Returns nothing.
     */
    var updateMenuWithResults = function(menu, results, onSelectHandler, regex, template) {
        closeMenu();
        clearMenuItems(menu);
        if (!results || !results.length) {
            return;
        }
        addMenuOptions(menu, results, regex, onSelectHandler, template);
        openMenu(menu);
    };
    /**
     * Handles the response for search results by the consumer. It first
     * removes the search-control-loading class from the root element of the
     * Search class then updates the menu with new menu selections based on the
     * new search results.
     * @param {MPageUI.Search} searchControl - The instance of MPageUI.Search
     * class that is being updated.
     * @param {Menu} menu - The instance of Menu that is encapsulated in the
     * MPageUI.Search class. This is the menu that will be updated with new
     * search results.
     * @param {RegExp} searchRegex - The regular expression based on the
     * current search.
     * @param {Array<object>} results - The new list of search results.
     * @param {function(object, function)} filter - The filter function provided
     * by the consumer which will filter search results.
     * @param {function(object)} onSelectHandler - The function to be called
     * when a selection is made in the Menu.
     * @param {function(object, function)} template - The consumer-provided
     * function which will render a search result's label in the Menu.
     * @returns {undefined} Returns nothing.
     */
    var handleSearchResponse = function(searchControl, menu, searchRegex, results,
                                        filter, onSelectHandler, template) {
        searchControl.getRootElement().removeClass("search-control-loading");
        if (!searchControl.getValue()) {
            return;
        }
        updateMenuWithResults(
            menu,
            filterValues(filter, searchRegex, results),
            onSelectHandler,
            searchRegex,
            template
        );
    };
    /**
     * Handles the response for search results in the case that there was an
     * error (the promise was rejected). In this scenario, the results menu
     * is closed, the loading state styling is removed, and an error-state
     * styling is applied to the search control.
     * @param {MPageUI.Search} searchControl - The instance of the Search being
     * updated.
     * @returns {undefined} Returns nothing.
     */
    var handleErrorResponse = function(searchControl) {
        closeMenu();
        searchControl.getRootElement()
            .removeClass("search-control-loading")
            .addClass("search-control-error");
    };
    /**
     * Updates the search results when the input of the MPageUI.Search class
     * changes. This will first add the search-control-loading class to the root
     * element of the MPageUI.Search class then will make the call to the
     * consumer-provided provider function. The provider function should
     * retrieve a set of search results and return a Promise for the results.
     * When the promise is resolved, the MPageUI.Search class will handle the
     * new set of search results.
     * @param {MPageUI.Search} searchControl - The instance of MPageUI.Search
     * that is being updated.
     * @param {function(string)} provider - The function that is expected to
     * return a promise of a set of search results.
     * @param {function(object, function)} filter - The consumer-provided filter
     * function.
     * @param {{
	 * 		ignoreCase: boolean
	 * }} options - The set of options for the MPageUI.Search instance. The only
     * value used when updated search results is the ignoreCase flag which will
     * alter the regular expression created via createRegex.
     * @param {Menu} menu - The instance of the Menu class that is encapsulated
     * in the MPageUI.Search class instance.
     * @param {function} onSelectHandler - The function that will be triggered
     * when a selection is made from the Menu.
     * @param {function(object, function)} template - The consumer-provided
     * function which will render a search result's label in the Menu.
     * @returns {undefined} Returns nothing.
     */
    var updateSearch = function(searchControl, provider, filter, options, menu,
                                onSelectHandler, template) {
        //Add a loading class
        searchControl.getRootElement()
            .removeClass("search-control-error")
            .addClass("search-control-loading");
        /*
         * The provider function returns a promise of a set of results.
         */
        provider(searchControl.getValue()).then(function(results) {
            handleSearchResponse(
                searchControl, menu,
                createRegex(searchControl.getValue(), options.ignoreCase),
                results, filter, onSelectHandler, template
            );
        }, function() {
            handleErrorResponse(
                searchControl
            );
        });
    };
    return MPageUI.createClass({
        emitter: true,
        /**
         * Called upon initialization of an instance of MPageUI.Search. It
         * serves as the constructor to the MPageUI.Search. The necessary
         * member variables are initialized.
         * @private
         * @returns {undefined} Returns nothing.
         */
        init: function() {
            this.m_filter = null;
            this.m_menu = makeMenu(this.m_id + "Menu", this.m_id);
            this.m_options = {
                ignoreCase: true,
                label: "",
                placeholder: "",
                required: false,
                throttle: 50
            };
            this.m_provider = null;
            this.m_template = null;
            //Encapsulate an instance of the TextControl
            this.m_textControl = makeTextControl(
                this.m_options,
                this.handleInput.bind(this),
                this.handleKeyUp.bind(this),
                this.handleFocus.bind(this)
            );
            this.m_timeout = null;
        },
        /**
         * Handles the focus event on the encapsulated TextControl class.
         * If no value is currently in the search, simply return. Otherwise,
         * a full update is made to the search results.
         * @private
         * @returns {undefined} Returns nothing.
         */
        handleFocus: function() {
            if (!this.getValue()) {
                return;
            }
            updateSearch(
                this, this.m_provider, this.m_filter, this.m_options, this.m_menu,
                this.handleSelect.bind(this), this.m_template
            );
        },
        /**
         * Handles the keyup event on the encapsulated TextControl class. If
         * the event was pressing the escape key, the menu is closed.
         * @param {Event} e - The JavaScript keyup event.
         * @private
         * @returns {undefined} Returns nothing.
         */
        handleKeyUp: function(e) {
            if (wasEscapeKey(e)) {
                closeMenu();
            }
        },
        /**
         * Handles the input event on the encapsulated TextControl class. If
         * no value is currently in the search, the menu is closed and the
         * function returns. This function throttles the input to ensure that
         * requests are not fired rapidly; the throttle value is configurable.
         * @param {string} currentValue - The current string value in the
         * TextControl.
         * @private
         * @returns {undefined} Returns nothing.
         */
        handleInput: function(currentValue) {
            clearTimeout(this.m_timeout);
            this.m_timeout = setTimeout(function() {
                if (!currentValue) {
                    closeMenu();
                    return;
                }
                updateSearch(
                    this, this.m_provider, this.m_filter, this.m_options, this.m_menu,
                    this.handleSelect.bind(this), this.m_template
                );
            }.bind(this), this.m_options.throttle);
        },
        /**
         * This function handles the event in which a selection is made from
         * the Menu of search results. It emits the "select" event, providing
         * the selected result.
         * @param {object} selection - The selection that was made.
         * @private
         * @returns {undefined} Returns nothing.
         */
        handleSelect: function(selection) {
            this.emit("select", selection);
        },
        /**
         * Sets the options on the MPageUI.Search class. It merges the new
         * options with existing options. Since the options can affect the
         * encapsulated TextControl, a call is made to update the TextControl
         * with the new options.
         * @param {{
		 * 		ignoreCase: boolean,
		 * 		label: string,
		 *		placeholder: string,
		 *		required: boolean,
		 *		throttle: number
		 * }} options - The set of options for the MPageUI.Search class.
         * @returns {MPageUI.Search} Returns self.
         */
        setOptions: function(options) {
            this.m_options = objectAssign(this.m_options, options);
            updateTextControl(this.m_textControl, options);
            return this;
        },
        /**
         * Sets the value of the encapsulated TextControl.
         * @param {string} value - The string value to be set in the search
         * input.
         * @returns {MPageUI.Search} Returns self.
         */
        setValue: function(value) {
            this.m_textControl.setCurrentValue(value);
            return this;
        },
        /**
         * Retrieves the current value from the encapsulated TextControl.
         * @returns {string} The current value in the TextControl.
         */
        getValue: function() {
            return this.m_textControl.getCurrentValue();
        },
        /**
         * Sets the filter function for the MPageUI.Search class. This function
         * should provide a "result" and "test" parameter where "result" is a
         * single search result being tested for filtering and "test" is a
         * helper function that can determine if a value passes filtering.
         * For example.
         * ...
         * s.setFilter(function(result, test){
		 *		test(result.EVENT_CD_DISP);
		 * });
         * ...
         * @param {function(object, function)} filter - The consumer-provided
         * filter function which tests that a result (as retrieved from the
         * provider) passes filtering. The first parameter is a single result
         * as retrieved by the provider. The second function parameter is a
         * helper "test" function which takes in a string value and determines
         * if it matches the regular expression in the search.
         * @returns {MPageUI.Search} Returns self.
         */
        setFilter: function(filter) {
            this.m_filter = filter;
            return this;
        },
        /**
         * Sets the highlight function for the MPageUI.Search class. This
         * function should provide a "result" and "highlight" parameter where
         * "result" is a single search result being rendered and "highlight" is
         * a helper function that will wrap text that matches the search regex
         * in standard tags (<b>) to achieve a highlight effect. For example
         * ...
         * s.setTemplate(function(result, highlight){
		 *		return "<div>" + highlight(result.EVENT_CD_DISP) + "</div>";
		 * });
         * ...
         * @param {function(object, function)} template - The consumer-provided
         * template function which renders a result into a label that will be
         * displayed in a MenuSelection. The first parameter is a single result
         * as retrieved by the provider. The second function parameter is a
         * helper "highlight" function which takes in a string value and
         * highlights portions of the string that match the current search
         * regular expression.
         * @returns {MPageUI.Search} Returns self.
         */
        setTemplate: function(template) {
            this.m_template = template;
            return this;
        },
        /**
         * Sets the provider function for the MPageUI.Search class. This
         * function should return a Promise for a set of search results. The
         * provider function should provide a "search" parameter which will
         * be populated with the current search text. For example.
         * ...
         * s.setProvider(function(search){
		 *		return new Promise(function(resolve, reject){
		 *			//Script request using the search value
		 *			resolve(searchResults);
		 *		});
		 * });
         * @param {function(string)} provider - The consumer-provided provider
         * function which uses the current search text to retrieve a set of
         * search results. The "search" parameter is simply the current string
         * value in the search.
         * @returns {MPageUI.Search} Returns self.
         */
        setProvider: function(provider) {
            this.m_provider = provider;
            return this;
        },
        /**
         * Renders the MPageUI.Search class as an html string.
         * @returns {string} The MPageUI.Search class rendered as an html
         * string.
         */
        render: function() {
            return (
                "<div id='" + this.m_id + "' class='search-control'>" +
                this.m_textControl.render() +
                "</div>"
            );
        },
        /**
         * Attaches events on the encapsulated TextControll class.
         * @returns {undefined} Returns nothing.
         */
        attachEvents: function() {
            this.m_textControl.attachEvents();
        }
    });
})();

/* global MPageUI */
/* global objectAssign */
MPageUI.PANEL_OPTIONS = {
    BEHAVIOR: {
        OVERLAY: "overlay",
        SQUISH: "squish"
    },
    SIDE: {
        START: "start",
        END: "end"
    },
    WIDTH: {
        SMALL: "panel-small",
        MEDIUM: "panel-medium",
        LARGE: "panel-large"
    }
};

/**
 * The MPageUI.PanelLayout class. A panel layout is a component that wraps
 * a content and panel component. The content component is any content that
 * is considered the main view. The panel component is a view that is typically
 * related to a selection from the content component but shown within a panel.
 * @class MPageUI.PanelLayout
 */
MPageUI.PanelLayout = MPageUI.createClass({
    /**
     * Emits
     * panelToggleExpand - When the panel expanded state is toggled
     * panelClose - When the panel is closed
     * panelOpen - When the panel is opened
     */
    emitter: true,
    /**
     * Called upon initialization of an instance of PanelLayout. It serves
     * as the constructor to the PanelLayout.
     * @private
     * @returns {undefined} Returns nothing.
     */
    init: function() {
        this.m_dimensions = {
            height: 0
        };
        this.m_expanded = false;
        this.m_open = false;
        this.m_options = {
            behavior: MPageUI.PANEL_OPTIONS.BEHAVIOR.OVERLAY,
            side: MPageUI.PANEL_OPTIONS.SIDE.END,
            width: MPageUI.PANEL_OPTIONS.WIDTH.MEDIUM
        };
        this.m_panel = null;
        this.m_content = null;
    },
    /**
     * This function will merge the specified options with the current panel
     * options. If the layout has already been rendered, then the necessary
     * styles will be overridden to reflect immediately in the DOM.
     * @param {{}} options - The options to be set on the layout.
     * @public
     * @returns {undefined} Returns nothing.
     */
    setOptions: function(options) {
        var $root = this.getRootElement();
        if (options.width) {
            $root.removeClass(this.m_options.width);
        }
        objectAssign(this.m_options, options);
        $root.attr("data-slide-panel-behavior", this.m_options.behavior);
        $root.attr("data-slide-panel-side", this.m_options.side);
        $root.addClass(options.width);
        return this;
    },
    /**
     * Handles resizing the panel layout. This function should be called
     * by a higher level component that is aware of how much space to allocate
     * to the panel layout.
     * @param { { width: number, height: number } } dimensions - The dimensions
     * provided to the PanelLayout indicating how much space is available to the
     * panel layout. These dimensions could come from anywhere but are typically
     * calculated based on the MPage view.
     * @public
     * @returns {undefined} Returns nothing.
     */
    resize: function(dimensions) {
        if (!dimensions) {
            dimensions = this.m_dimensions;
        }
        this.m_dimensions = dimensions;
        /*
         * The layout will automatically resize the content component.
         */
        this.m_content.resize(dimensions);
        /*
         * Attempting to resize the panel layout while closed will cause
         * undesired behavior. It can also have performance implications.
         */
        if (!this.m_open) {
            return;
        }
        var offsetHeight = function(element) {
            return (element && element.length) ? element[ 0 ].offsetHeight : 0;
        };
        var height = 0;
        if (this.m_expanded) {
            /*
             * When expanded, the height of the panel is the minimum of...
             * 1). The available height as provided by dimensions
             * 2). The absolute height of the panel content
             * 			This is to make the panel tall enough to eliminate scrolling
             */
            height = Math.min(dimensions.height, this.m_panel.absoluteHeight());
            this.getRootElement().css({ "min-height": height + "px" });
            this.m_panel.resize({
                maxHeight: dimensions.height,
                height: height
            });
        }
        else if (this.m_open) {
            /*
             * When the panel is open, the height of the panel is (1/2) the available
             * height, by default.
             */
            var contentHeight = offsetHeight(this.m_content.getRootElement());
            var panelAbsoluteHeight = this.m_panel.absoluteHeight();
            var panelMin = Math.min(dimensions.height / 2, panelAbsoluteHeight);
            height = Math.max(panelMin, contentHeight);
            this.getRootElement().css({ "min-height": height + "px" });
            this.m_panel.resize({
                maxHeight: dimensions.height,
                height: height
            });
        }
    },
    /**
     * Handles the expand event for the panel. It will trigger a resize.
     * @private
     * @returns {undefined} Returns nothing.
     */
    handlePanelExpand: function() {
        this.m_expanded = !this.m_expanded;
        this.resize(this.m_dimensions);
        this.emit("panelToggleExpand", this.m_expanded);
    },
    /**
     * Handles the close event for the panel by making a call to closePanel.
     * This is triggered when the layout receives the event when the close
     * is triggered on the panel object.
     * @private
     * @returns {undefined} Returns nothing.
     */
    handlePanelClose: function() {
        this.closePanel();
    },
    /**
     * Opens the panel then triggers a resize with the last known dimensions.
     * @public
     * @returns {undefined} Returns nothing.
     */
    openPanel: function() {
        this.m_open = true;
        this.getRootElement().addClass("slide-panel-open");
        this.resize(this.m_dimensions);
        this.emit("panelOpen");
    },
    /**
     * Closes the panel.
     * @public
     * @returns {undefined} Returns nothing.
     */
    closePanel: function() {
        this.m_open = false;
        this.getRootElement().removeClass("slide-panel-open").css({
            "min-height": "0px"
        });
        this.emit("panelClose");
    },
    /**
     * Check to see if the panel is currently open.
     * @public
     * @returns {boolean} True if the panel is open, otherwise false.
     */
    isPanelOpen: function() {
        return this.m_open;
    },
    /**
     * Returns the component to be used as the content for the panel layout.
     * @returns {MPageUI.UIComponent|null} The MPageUI.UIComponent being used as the
     * content of the panel layout.
     */
    getContent: function() {
        return this.m_content;
    },
    /**
     * Sets the component to be rendered into the content of the panel layout.
     * This content is typically what drives the panel (such as a table).
     * @param {MPageUI.UIComponent} contentComponent - Any component which is
     * to be rendered into the content portion of the layout.
     * @returns {MPageUI.PanelLayout} Returns self.
     */
    setContent: function(contentComponent) {
        this.m_content = contentComponent;
        return this;
    },
    /**
     * Returns the component to be used as the panel for the panel layout.
     * @returns {MPageUI.UIComponent|null} The MPageUI.UIComponent being used as the
     * panel of the panel layout.
     */
    getPanel: function() {
        return this.m_panel;
    },
    /**
     * Sets the component to be rendered into the panel of the panel layout.
     * This function also wires up an event between the PanelInterface and
     * the PanelLayout so the PanelLayout is notified when the panel is expanded.
     * This is necessary because the PanelLayout is responsible for applying
     * a minimum height to the layout.
     * @param {MPageUI.PanelInterface} panelComponent - A component that
     * implements the PanelInterface.
     * @returns {MPageUI.PanelLayout} Returns self.
     */
    setPanel: function(panelComponent) {
        this.m_panel = panelComponent;
        this.m_panel.on("panelToggleExpand", this.handlePanelExpand.bind(this));
        this.m_panel.on("panelClose", this.handlePanelClose.bind(this));
        return this;
    },
    /**
     * Renders the PanelLayout as an html string. The render function expects
     * that a content and panel component have been provided to the layout. The
     * content component is rendered into the 'slide-panel-detail' element and
     * the panel component is rendered into the 'slide-panel-master' element.
     * The 'slide-panel-master' is the element that serves as the panel.
     * @returns {string} The PanelLayout rendered as an html string.
     */
    render: function() {
        var classes = "panel-layout " + this.m_options.width;
        var html = "<div id='" + this.m_id + "' data-slide-panel-behavior='" + this.m_options.behavior + "' data-slide-panel-side='" + this.m_options.side + "' class='" + classes + "'>";
        html += "<div class='slide-panel-detail'>" + this.m_content.render() + "</div>";
        html += "<div class='slide-panel-master'>" + this.m_panel.render() + "</div>";
        return html + "</div>";
    },
    /**
     * Attaches the events to both the content and panel component. This function
     * is expected to be called after render.
     * @returns {undefined} Returns nothing.
     */
    attachEvents: function() {
        this.m_content.attachEvents();
        this.m_panel.attachEvents();
    }
});

/**
 * The PanelLayoutInterface is intended as a mixin for developers that are
 * creating a panel layout. This interface provides a level of indirection
 * between the implementation of the PanelLayout and the content that developers
 * wish to inject into the panel layout.
 * @interface PanelLayoutInterface
 */
MPageUI.PanelLayoutInterface = {
    /**
     * The init function to be mixed into an MPageUI.UIComponent. This will
     * merge with any init function defined on the UIComponent. This init
     * function will be called first.
     *
     * This init function initializes an instance of the PanelLayout and
     * interfaces the necessary events to ensure they are propagated out from
     * the UIComponent that has mixed in this interface.
     * @returns {undefined} Returns nothing.
     */
    init: function() {
        this.m_layout = new MPageUI.PanelLayout();
        this.m_layout.on("panelClose", function() {
            this.emit("panelClose");
        }.bind(this));
        this.m_layout.on("panelOpen", function() {
            this.emit("panelOpen");
        }.bind(this));
        this.m_layout.on("panelToggleExpand", function(expanded) {
            this.emit("panelToggleExpand", expanded);
        }.bind(this));
    },
    /**
     * Calls set options on the encapsulated layout.
     * @param {{}} options - The options to be set on the encapsulated layout.
     * @returns {undefined} Returns nothing.
     */
    setOptions: function(options) {
        this.m_layout.setOptions(options);
    },
    /**
     * Calls openPanel on the encapsulated layout.
     * @returns {undefined} Returns nothing.
     */
    openPanel: function() {
        this.m_layout.openPanel();
    },
    /**
     * Calls closePanel on the encapsulated layout.
     * @returns {undefined} Returns nothing.
     */
    closePanel: function() {
        this.m_layout.closePanel();
    },
    /**
     * Gets the MPageUI.UIComponent that was set as the content component for
     * the encapsulated layout.
     * @returns {MPageUI.UIComponent|null} The content component.
     */
    getContent: function() {
        return this.m_layout.getContent();
    },
    /**
     * Sets the MPageUI.UIComponent that is to be used as the content component
     * for the encapsulated layout.
     * @param {MPageUI.UIComponent} content - The MPageUI.UIComponent to be
     * used as the content component for the encapsulated layout.
     * @returns {MPageUI.UIComponent} Returns self.
     */
    setContent: function(content) {
        this.m_layout.setContent(content);
        return this;
    },
    /**
     * Gets the MPageUI.UIComponent that was set as the panel component for
     * the encapsulated layout.
     * @returns {MPageUI.UIComponent|null} The panel component.
     */
    getPanel: function() {
        return this.m_layout.getPanel();
    },
    /**
     * Sets the MPageUI.UIComponent that is to be used as the panel component
     * for the encapsulated layout.
     * @param {MPageUI.UIComponent} panel - The MPageUI.UIComponent to be
     * used as the panel component for the encapsulated layout.
     * @returns {MPageUI.UIComponent} Returns self.
     */
    setPanel: function(panel) {
        this.m_layout.setPanel(panel);
        return this;
    },
    /**
     * Calls render on the encapsulated layout.
     * @returns {string} The layout rendered as an html string.
     */
    render: function() {
        return this.m_layout.render();
    },
    /**
     * Calls resize on the encapsulated layout.
     * @param {{height: number}} dimensions - The dimensions to be used for
     * resizing.
     * @returns {undefined} Returns nothing.
     */
    resize: function(dimensions) {
        this.m_layout.resize(dimensions);
    },
    /**
     * Calls attachEvents on the encapsulated layout.
     * @returns {undefined} Returns nothing.
     */
    attachEvents: function() {
        this.m_layout.attachEvents();
    }
};

/**
 * The MPageUI.ComponentPanel class. A ComponentPanel is a standard component
 * for showing MPageUI component content in a panel. The ComponentPanel is
 * composed of standard sections (order matters).
 * 1). Actions
 * 2). Title
 * 3). Alerts
 * 4). Body
 * Each of the standard sections is expected to be an instance of an MPageUI
 * component.
 * @class MPageUI.ComponentPanel
 */
MPageUI.ComponentPanel = (function() {
    /**
     * Helper function to get the offset height of a jQuery element, if the
     * element is defined, otherwise it returns 0.
     * @param {jQuery} element - The jQuery element for which the offset height
     * will be returned.
     * @returns {number} The offset height of the element.
     */
    var offsetHeight = function(element) {
        return (element && element.length) ? element[ 0 ].offsetHeight : 0;
    };
    /**
     * Helper function to get the scroll height of a jQuery element, if the
     * element is defined, otherwise it returns 0.
     * @param {jQuery} element - The jQuery element for which the scroll height
     * will be returned.
     * @returns {number} The scroll height of the element.
     */
    var scrollHeight = function(element) {
        return (element && element.length) ? element[ 0 ].scrollHeight : 0;
    };
    /**
     * Attempts to call attachEvents on the component.
     * @param {MPageUI.UIComponent} component - The component for which to call
     * attachEvents.
     * @returns {undefined} Returns nothing.
     */
    var tryAttach = function(component) {
        if (component) {
            component.attachEvents();
        }
    };
    return MPageUI.createClass({
        /**
         * Emits
         * panelToggleExpand - When the expander is toggled.
         * panelClose - When the close icon is clicked on the panel
         */
        emitter: true,
        /**
         * Called upon initialization of an instance of ComponentPanel. It
         * serves as the constructor to the ComponentPanel. The necessary
         * member variables are initialized.
         * @private
         * @returns {undefined} Returns nothing.
         */
        init: function() {
            this.m_dimensions = {
                height: 0
            };
            this.m_expanded = false;

            //Panel sub-components
            this.m_actionsComponent = null;
            this.m_titleComponent = null;
            this.m_alertsComponent = null;
            this.m_bodyComponent = null;
        },
        /**
         * This function handles when the panel expander is clicked. It will
         * toggle the expanded state, update the UI of the panel, then fire
         * the 'expand' event.
         * @emits 'expand' - An expand event is emitted with the value of the
         * expanded state.
         * @returns {undefined} Returns nothing.
         */
        handlePanelExpand: function() {
            this.m_expanded = !this.m_expanded;
            if (this.m_expanded) {
                this.getRootElement().addClass("panel-expanded");
            }
            else {
                this.getRootElement().removeClass("panel-expanded");
            }
            this.emit("panelToggleExpand", this.m_expanded);
        },
        /**
         * This function handles when the panel close is clicked. It simply
         * fires the 'panelClose' event. The reason is that the panel alone
         * is not responsible for closing itself. Some parent (or containing)
         * class is responsible for closing the panel.
         * @emits 'panelClose' - An event indicating that the panel is to
         * be closed.
         * @returns {undefined} Returns nothing.
         */
        handlePanelClose: function() {
            this.emit("panelClose");
        },
        /**
         * Retrieves the actions component for the panel.
         * @returns {MPageUI.UIComponent|null} The component used as the actions
         * section of the panel. Can be null.
         */
        getActionsComponent: function() {
            return this.m_actionsComponent;
        },
        /**
         * Sets the component to be used in the actions section of the panel.
         * @param {MPageUI.UIComponent} actionsComponent - The component to
         * be used as the actions section of the panel.
         * @returns {MPageUI.ComponentPanel} Returns self.
         */
        setActionsComponent: function(actionsComponent) {
            this.m_actionsComponent = actionsComponent;
            return this;
        },
        /**
         * Retrieves the title component for the panel.
         * @returns {MPageUI.UIComponent|null} The component used as the title
         * section of the panel. Can be null.
         */
        getTitleComponent: function() {
            return this.m_titleComponent;
        },
        /**
         * Sets the component to be used in the title section of the panel.
         * @param {MPageUI.UIComponent} titleComponent - The component to be
         * used as the title section of the panel.
         * @returns {MPageUI.ComponentPanel} Returns self.
         */
        setTitleComponent: function(titleComponent) {
            this.m_titleComponent = titleComponent;
            return this;
        },
        /**
         * Retrieves the alerts component for the panel.
         * @returns {MPageUI.UIComponent|null} The component used as the alerts
         * section of the panel. Can be null.
         */
        getAlertsComponent: function() {
            return this.m_alertsComponent;
        },
        /**
         * Sets the component to be used in the alerts section of the panel.
         * @param {MPageUI.UIComponent} alertsComponent - The component to be
         * used as the alerts section of the panel.
         * @returns {MPageUI.ComponentPanel} Returns self.
         */
        setAlertsComponent: function(alertsComponent) {
            this.m_alertsComponent = alertsComponent;
            return this;
        },
        /**
         * Retrieves the body component for the panel.
         * @returns {MPageUI.UIComponent|null} The component used as the body
         * section of the panel. Can be null.
         */
        getBodyComponent: function() {
            return this.m_bodyComponent;
        },
        /**
         * Sets the component to be used in the body section of the panel.
         * @param {MPageUI.UIComponent} bodyComponent - The component to be
         * used as the body section of the panel.
         * @returns {MPageUI.ComponentPanel} Returns self.
         */
        setBodyComponent: function(bodyComponent) {
            this.m_bodyComponent = bodyComponent;
            return this;
        },
        /**
         * Calculates the absolute height of the panel; this is the height of
         * all sections of the panel as well as the scroll height of the body
         * of the panel. This estimates how tall the panel would be if it were
         * stretched such that no scrolling occurred. It is considered an
         * estimation because the nature of stretching content to remove a scroll
         * bar can in turn affect the height of the content within the scrollable
         * area.
         *
         * This calculation sums the height of the following elements.
         * 1). Offset height of the actions section
         * 2). Offset height of the title section
         * 3). Offset height of the alerts section
         * 4). Scroll height of the body section
         * 5). Offset height of the panel expander
         *
         * @returns {number} The estimated absolute height of the panel.
         */
        absoluteHeight: function() {
            var $root = this.getRootElement();
            return (
                offsetHeight($root.find(".component-panel-actions-section")) +
                offsetHeight($root.find(".component-panel-title-section")) +
                offsetHeight($root.find(".component-panel-alerts-section")) +
                scrollHeight($root.find(".component-panel-body-section")) +
                offsetHeight($root.find(".panel-expander"))
            );
        },
        /**
         * Handles resizing the component panel. This function should be called
         * by a higher level component that is aware of how much space to allocate
         * to the component panel.
         *
         * If no dimensions are provided, the ComponentPanel will use the last
         * known dimensions that it was provided.
         *
         * @param { { width: number, height: number, maxHeight: number} } dimensions - The dimensions
         * provided to the ComponentPanel indicating how much space is available to the
         * component panel.
         * @returns {undefined} Returns nothing.
         */
        resize: function(dimensions) {
            //If no dimensions are provided, use the last known dimensions
            if (!dimensions) {
                dimensions = this.m_dimensions;
            }
            this.m_dimensions = dimensions;
            var $root = this.getRootElement();
            var $expander = $root.find(".panel-expander");
            var actionsHeight = offsetHeight($root.find(".component-panel-actions-section"));
            var titleHeight = offsetHeight($root.find(".component-panel-title-section"));
            var alertsHeight = offsetHeight($root.find(".component-panel-alerts-section"));
            var bodyHeight = dimensions.height - (actionsHeight + titleHeight + alertsHeight - 1);
            var bodyScrollHeight = scrollHeight($root.find(".component-panel-body-section"));
            //var bodyScrollHeight = $root.find('.component-panel-body-section').prop('scrollHeight');
            var expanderHeight = 0;
            /*
             * The panel will show the expander under the following conditions
             * 1). If the body of the panel would scroll AND the panel has not yet reached its maximum height.
             * 2). The panel is currently expanded.
             *
             * The panel will hide the expander under the following conditions
             * 1). The panel is NOT expanded AND the body of the panel will not be scrolling.
             */
            if (((bodyHeight < bodyScrollHeight) && (dimensions.height < dimensions.maxHeight)) || (this.m_expanded)) {
                $expander.show();
                expanderHeight = offsetHeight($expander);
            }
            else if (!this.m_expanded) {
                $expander.hide();
            }
            //Apply a max height to the body of the panel to enable scrolling
            $root.find(".component-panel-body-section").css({ "max-height": Math.max(0, (bodyHeight - expanderHeight)) + "px" });
        },
        /**
         * Renders the ComponentPanel as an html string. It wraps the standard
         * sections of the panel, followed by the panel expander.
         * @returns {string} The ComponentPanel rendered as an html string.
         */
        render: function() {
            var renderActions = function() {
                return this.m_actionsComponent ? "<div class='component-panel-actions-section'>" + this.m_actionsComponent.render() + "</div>" : "";
            }.bind(this);
            var renderTitle = function() {
                return this.m_titleComponent ? "<div class='component-panel-title-section'>" + this.m_titleComponent.render() + "</div>" : "";
            }.bind(this);
            var renderAlerts = function() {
                return this.m_alertsComponent ? "<div class='component-panel-alerts-section'>" + this.m_alertsComponent.render() + "</div>" : "";
            }.bind(this);
            var renderBody = function() {
                return this.m_bodyComponent ? "<div class='component-panel-body-section'>" + this.m_bodyComponent.render() + "</div>" : "";
            }.bind(this);
            var html = "<div id='" + this.m_id + "' class='component-panel'>";
            html += "<div class='panel-close'></div>";
            html += renderActions();
            html += renderTitle();
            html += renderAlerts();
            html += renderBody();
            html += "<div class='panel-expander'><span></span></div>";
            return html + "</div>";
        },
        /**
         * Attaches the events to each of the sections of the panel (if provided).
         * It also attaches a click event to the expander which ultimately
         * calls handlePanelExpand.
         * @returns {undefined} Returns nothing.
         */
        attachEvents: function() {
            tryAttach(this.m_actionsComponent);
            tryAttach(this.m_titleComponent);
            tryAttach(this.m_alertsComponent);
            tryAttach(this.m_bodyComponent);
            this.getRootElement().find(".panel-expander").on("click.mpageui", function() {
                this.handlePanelExpand();
            }.bind(this));
            this.getRootElement().find(".panel-close").on("click.mpageui", function() {
                this.handlePanelClose();
            }.bind(this));
        }
    });
})();

/**
 * The PanelInterface is intended as a mixin for developers that are creating
 * a panel. This interface provides a level of indirection between the
 * implementation of the ComponentPanel and the content that developers wish
 * to inject into the panel.
 * @interface PanelInterface
 */
MPageUI.PanelInterface = {
    /**
     * The init function to be mixed into an MPageUI.UIComponent. This will
     * merge with any init function defined on the UIComponent. This init
     * function will be called first.
     *
     * This init function initializes an instance of the ComponentPanel and
     * interfaces events from the ComponentPanel so they can be propogated out
     * of the UIComponent that has mixed in this interface.
     * @returns {undefined} Returns nothing.
     */
    init: function() {
        this.m_panel = new MPageUI.ComponentPanel();
        /*
         * The interface wraps an instance of ComponentPanel which fires the
         * 'expand' and 'panelClose' events. We want to ensure this is propagated out such that
         * listeners can subscribe to the events on the PanelInterface
         * rather that directly through the ComponentPanel object.
         */
        this.m_panel.on("panelToggleExpand", function(expanded) {
            this.emit("panelToggleExpand", expanded);
        }.bind(this));
        this.m_panel.on("panelClose", function() {
            this.emit("panelClose");
        }.bind(this));
    },
    /**
     * Sets the actions component for the panel.
     * @param {MPageUI.UIComponent} actionsComponent - The MPageUI.UIComponent
     * to be used in the actions section of the panel.
     * @returns {MPageUI.UIComponent} Returns the UIComponent that has mixed
     * in this interface.
     */
    setActions: function(actionsComponent) {
        this.m_panel.setActionsComponent(actionsComponent);
        return this;
    },
    /**
     * Sets the title component for the panel.
     * @param {MPageUI.UIComponent} titleComponent - The MPageUI.UIComponent
     * to be used in the title section of the panel.
     * @returns {MPageUI.UIComponent} Returns the UIComponent that has mixed
     * in this interface.
     */
    setTitle: function(titleComponent) {
        this.m_panel.setTitleComponent(titleComponent);
        return this;
    },
    /**
     * Sets the alerts component for the panel.
     * @param {MPageUI.UIComponent} alertsComponent - The MPageUI.UIComponent
     * to be used in the alerts section of the panel.
     * @returns {MPageUI.UIComponent} Returns the UIComponent that has mixed
     * in this interface.
     */
    setAlerts: function(alertsComponent) {
        this.m_panel.setAlertsComponent(alertsComponent);
        return this;
    },
    /**
     * Sets the body component for the panel.
     * @param {MPageUI.UIComponent} bodyComponent - The MPageUI.UIComponent
     * to be used in the body section of the panel.
     * @returns {MPageUI.UIComponent} Returns the UIComponent that has mixed
     * in this interface.
     */
    setBody: function(bodyComponent) {
        this.m_panel.setBodyComponent(bodyComponent);
        return this;
    },
    /**
     * Returns the MPageUI.UIComponent being used as the actions section in the
     * panel. You should not call this unless you absolutely need to.
     * @returns {MPageUI.UIComponent} The MPageUI.UIComponent being used as the
     * actions section in the panel.
     */
    getActions: function() {
        return this.m_panel.getActionsComponent();
    },
    /**
     * Returns the MPageUI.UIComponent being used as the title section in the
     * panel. You should not call this unless you absolutely need to.
     * @returns {MPageUI.UIComponent} The MPageUI.UIComponent being used as the
     * title section in the panel.
     */
    getTitle: function() {
        return this.m_panel.getTitleComponent();
    },
    /**
     * Returns the MPageUI.UIComponent being used as the alerts section in the
     * panel. You should not call this unless you absolutely need to.
     * @returns {MPageUI.UIComponent} The MPageUI.UIComponent being used as the
     * alerts section in the panel.
     */
    getAlerts: function() {
        return this.m_panel.getAlertsComponent();
    },
    /**
     * Returns the MPageUI.UIComponent being used as the body section in the
     * panel. You should not call this unless you absolutely need to.
     * @returns {MPageUI.UIComponent} The MPageUI.UIComponent being used as the
     * body section in the panel.
     */
    getBody: function() {
        return this.m_panel.getBodyComponent();
    },
    /**
     * Retrieves the absolute height of the encapsulated panel.
     * @returns {number} The absolute height of the encapsulated panel.
     */
    absoluteHeight: function() {
        return this.m_panel.absoluteHeight();
    },
    /**
     * Makes the call to resize on the encapsulated panel.
     * @param { { width: number, height: number  } } dimensions - The dimensions
     * provided to the PanelInterface indicating how much space is available to the
     * panel.
     * @returns {undefined} Returns nothing.
     */
    resize: function(dimensions) {
        this.m_panel.resize(dimensions);
    },
    /**
     * Makes the call to render on the encapsulated panel.
     * @returns {string} The encapsulated panel rendered as an html string.
     */
    render: function() {
        return this.m_panel.render();
    },
    /**
     * Makes the call to attachEvents on the encapsulated panel.
     * @returns {undefined} Returns nothing.
     */
    attachEvents: function() {
        this.m_panel.attachEvents();
    }
};

/**
 * The ComponentPanelActions class. The ComponentPanelActions is a standard
 * MPageUI class for rendering the actions in a ComponentPanel.
 * @class MPageUI.ComponentPanelActions
 */
MPageUI.ComponentPanelActions = (function() {
    var MAX_FACEUP_ACTIONS = 3;
    /**
     * This function takes a list of actions and maps them to a list of option
     * objects that are compatible with the MPageUI.SplitButton.prototype.addOptions
     * function.
     * @param {Array<{
	 * 		label: string,
	 * 		action: function
	 * }>} actions - The list of actions being mapped to options for the
     * SplitButton API.
     * @returns {Array<{
	 * 		label: string,
	 * 		onSelect: function,
	 *		type: number
	 * }>} An array of options to be added to the SplitButton dropdown.
     */
    var makeSplitOptions = function(actions) {
        return actions.map(function(action) {
            return {
                label: action.label,
                onSelect: action.action,
                type: MPageUI.MENU_OPTIONS.TYPE.SELECT
            };
        });
    };
    /**
     * Takes the array of actions and creates the list of face-up buttons. If
     * the number of actions exceeds the maximum face-up, only create (max-1)
     * buttons; the last face-up action will be a SplitButton.
     * @param {Array<{
	 * 		label: string,
	 * 		action: function
	 * }>} actions - The array of actions.
     * @returns {Array<MPageUI.Button>} The face-up array of MPageUI.Button
     * objects.
     */
    var makeDefaultButtons = function(actions) {
        var defaultButtons = [];
        var buttonCount = actions.length;
        /*
         * If the number of actions exceeds the maximum face-up, then only
         * create (max-1) Button objects because the remaining actions will be
         * placed in a SplitButton and its options.
         */
        if (actions.length > MAX_FACEUP_ACTIONS) {
            buttonCount = MAX_FACEUP_ACTIONS - 1;
        }
        for (var i = 0; i < buttonCount; i++) {
            defaultButtons.push(
                new MPageUI.Button()
                    .setLabel(actions[ i ].label)
                    .setOnClickCallback(actions[ i ].action)
                    .setStyle(MPageUI.BUTTON_OPTIONS.STYLE.SECONDARY)
            );
        }
        return defaultButtons;
    };
    /**
     * Takes the array of actions and conditionally creates an
     * MPageUI.SplitButton. This only occurs if the number of actions exceeds
     * the maximum face-up. If the number of actions is less than the max,
     * null is returned.
     * @param {Array<{
	 * 		label: string,
	 * 		action: function
	 * }>} actions - The array of actions.
     * @returns {MPageUI.SplitButton|null} Returns a SplitButton if the number
     * of actions exceeds the max, otherwise null.
     */
    var makeSplitButton = function(actions) {
        if (actions.length <= MAX_FACEUP_ACTIONS) {
            return null;
        }
        var split = new MPageUI.SplitButton();
        split.setStyle(MPageUI.BUTTON_OPTIONS.STYLE.SECONDARY);
        split.setLabelButtonClickCallback(actions[ MAX_FACEUP_ACTIONS - 1 ].action);
        split.setLabel(actions[ MAX_FACEUP_ACTIONS - 1 ].label);
        split.addOptions(makeSplitOptions(actions.slice(MAX_FACEUP_ACTIONS, actions.length)));
        return split;
    };
    /**
     * Small helper function to add a button to an array and return the array.
     * @param {Array<MPageUI.Button>} array - The starting array of buttons.
     * @param {MPageUI.Button|MPageUI.SplitButton} button - The button to be
     * added to the array.
     * @returns {Array<MPageUI.Button>} The array with the new button added.
     */
    var addButton = function(array, button) {
        if (button) {
            array.push(button);
        }
        return array;
    };
    /**
     * Takes an array of actions and creates an array of MPageUI.Button objects
     * to be used as actions.
     * @param {Array<{
	 * 		label: string,
	 * 		action: function
	 * }>} actions - The array of actions to be transformed to MPageUI.Button
     * objecs.
     * @returns {Array<MPageUI.Button|MPageUI.SplitButton>} The array of
     * MPageUI.Button objects.
     */
    var makeButtons = function(actions) {
        return addButton(makeDefaultButtons(actions), makeSplitButton(actions));
    };
    /**
     * Takes an array of MPageUI.Button objects and renders them all together
     * as an html string.
     * @param {Array<MPageUI.Button|MPageUI.SplitButton>} buttons - The array
     * of buttons to be rendered.
     * @returns {string} The array of buttons rendered together as an html
     * string.
     */
    var renderButtons = function(buttons) {
        return buttons.map(function(button) {
            return button.render();
        }).join("");
    };
    return MPageUI.createClass({
        /**
         * Called upon initialization of an instance of ComponentPanelActions.
         * It serves as the constructor to the ComponentPanelActions. The array
         * of buttons are initialized to an empty array.
         * @private
         * @returns {undefined} Returns nothing.
         */
        init: function() {
            this.m_buttons = [];
        },
        /**
         * Sets the actions for the ComponentPanelActions. The actions are
         * first transformed to instances of MPageUI.Button, the content is then
         * updated with the new actions. Finally, attachEvents is called.
         * @param {Array<{
		 * 		label: string,
		 * 		action: function
		 * }>} actions - The array of actions.
         * @returns {undefined} Returns nothing.
         */
        setActions: function(actions) {
            this.m_buttons = makeButtons(actions || []);
            this.getRootElement().html(renderButtons(this.m_buttons));
            this.attachEvents();
        },
        /**
         * Renders the ComponentPanelActions as an html string.
         * @returns {string} The ComponentPanelActions rendered as an html
         * string.
         */
        render: function() {
            return (
                "<div id='" + this.m_id + "' class='component-panel-actions'>" +
                renderButtons(this.m_buttons) +
                "</div>"
            );
        },
        /**
         * Calls attachEvents on each button in the ComponentPanelActions.
         * @returns {undefined} Returns nothing.
         */
        attachEvents: function() {
            this.m_buttons.forEach(function(button) {
                button.attachEvents();
            });
        }
    });
})();

/**
 * The PanelActionsInterface is intended as a mixin for developers that are
 * creating their own panel actions. This interface provides a level of
 * indirection between the implementation of the ComponentPanelActions and the
 * actions that developers wish to include in their panel.
 * @interface PanelActionsInterface
 */
MPageUI.PanelActionsInterface = (function() {
    return {
        /**
         * The init function to be mixed into an MPageUI.UIComponent. This will
         * merge with any init function defined on the UIComponent. This init
         * function will be called first.
         *
         * This init function initializes an instance of the
         * MPageUI.ComponentPanelActions class.
         * @private
         * @returns {undefined} Returns nothing.
         */
        init: function() {
            this.m_componentPanelActions = new MPageUI.ComponentPanelActions();
        },
        /**
         * Sets the array of actions on the encapsulated ComponentPanelActions.
         * @param {Array<{
		 * 		label: string,
		 * 		action: function
		 * }>} actions - The array of actions.
         * @returns {MPageUI.UIComponent} Returns the UIComponent that has mixed
         * in this interface.
         */
        setActions: function(actions) {
            this.m_componentPanelActions.setActions(actions);
            return this;
        },
        /**
         * Calls render on the encapsulated ComponentPanelActions.
         * @returns {string} The ComponentPanelActions rendered as an html
         * string.
         */
        render: function() {
            return this.m_componentPanelActions.render();
        },
        /**
         * Calls attachEvents on the encapsulated ComponentPanelActions.
         * @returns {undefined} Returns nothing.
         */
        attachEvents: function() {
            this.m_componentPanelActions.attachEvents();
        }
    };
})();

/**
 * The ComponentPanelTitle class. The ComponentPanelTitle is a standard MPageUI
 * class for rendering the title of a component panel.
 * @class MPageUI.ComponentPanelTitle
 */
MPageUI.ComponentPanelTitle = (function() {
    /**
     * Maps an array of subtitles into an html string.
     * @param {Array<{
	 * 		primary: string,
	 * 		secondary: string
	 * }>} subTitles - The array of subtitles.
     * @returns {string} An html string of all subtitles rendered together.
     */
    var renderSubTitles = function(subTitles) {
        return (subTitles || []).map(function(subTitle) {
            return (
                "<div class='component-panel-title-row'>" +
                "<div>" + (subTitle.primary || "") + "</div>" +
                "<div>" + (subTitle.secondary || "") + "</div>" +
                "</div>"
            );
        }).join("");
    };
    return MPageUI.createClass({
        /**
         * Called upon initialization of an instance of ComponentPanelTitle. It
         * serves as the constructor to the ComponentPanelTitle. The title string
         * and additional subtitles are initialized.
         * @private
         * @returns {undefined} Returns nothing.
         */
        init: function() {
            this.m_title = "";
            this.m_subTitles = [];
        },
        /**
         * Sets the main title. The header tag is found from the root element of
         * the ComponentPanelLayout and is updated with the new title if it has
         * been rendered and exists on the DOM.
         * @param {string} title - The main title of the ComponentPanelTitle.
         * @returns {MPageUI.ComponentPanelTitle} Returns self.
         */
        setTitle: function(title) {
            this.m_title = title;
            this.getRootElement().find("h3:first").html((title || ""));
            return this;
        },
        /**
         * Sets the subtitles. The sub titles are additional title information
         * found below the main title. The primary string will be rendered in
         * alignment with the main title while the secondary string will be
         * rendered aligned to the opposite side of the primary title.
         * @param {Array<{
		 * 		primary: string,
		 * 		secondary: string
		 * }>} subTitles - An array of subtitles that are to be displayed below
         * the main title.
         * @returns {MPageUI.ComponentPanelTitle} Returns self.
         */
        setSubTitles: function(subTitles) {
            this.m_subTitles = subTitles;
            this.getRootElement().find("div:first").html(renderSubTitles(subTitles));
            return this;
        },
        /**
         * Renders the ComponentPanelTitle to an html string.
         * @returns {string} The ComponentPanelTitle rendered as an html string.
         */
        render: function() {
            return (
                "<div id='" + this.m_id + "' class='component-panel-title'>" +
                "<h3>" + (this.m_title || "") + "</h3>" +
                "<div>" +
                renderSubTitles(this.m_subTitles) +
                "</div>" +
                "</div>"
            );
        }
    });
})();

/**
 * The PanelTitleInterface is intended as a mixin for developers that are creating
 * a panel title. This interface provides a level of indirection between the
 * implementation of the ComponentPanelTitle and the content that developers wish
 * to inject into the panel.
 * @interface PanelTitleInterface
 */
MPageUI.PanelTitleInterface = {
    /**
     * The init function to be mixed into an MPageUI.UIComponent. This will
     * merge with any init function defined on the UIComponent. This init
     * function will be called first.
     *
     * This init function initializes an instance of the ComponentPanelTitle.
     * @private
     * @returns {undefined} Returns nothing.
     */
    init: function() {
        this.title = new MPageUI.ComponentPanelTitle();
    },
    /**
     * This function will update the encapsulated instance of
     * ComponentPanelTitle with new title data. Developers that create
     * their own panel title classes should consume this method for updating
     * the title rather than accessing the ComponentPanelTitle directly.
     *
     * The supported data is as follows...
     * {
	 * 		title: string,
	 * 		subTitles: Array<{ primary: string, secondary: string }>
	 * }
     *
     * @param {{title: string, subTitles: Array}} titleData - The title data
     * that will be used to update the encapsulated instance of
     * ComponentPanelTitle.
     * @returns {undefined} Returns nothing.
     */
    setTitle: function(titleData) {
        this.title.setTitle(titleData.title);
        this.title.setSubTitles(titleData.subTitles);
    },
    /**
     * Makes the call to render on the encapsulated ComponentPanelTitle.
     * @returns {string} The encapsulated panel title rendered as an html
     * string.
     */
    render: function() {
        return this.title.render();
    }
};

/**
 * The ComponentPanelAlerts class. The ComponentPanelAlerts is a standard
 * MPageUI class for rendering the alerts of a component panel.
 * @class MPageUI.ComponentPanelAlerts
 */
MPageUI.ComponentPanelAlerts = (function() {
    /**
     * Takes a JSON representation of an alert and creates an
     * MPageUI.AlertBanner.
     * @param {
	 * 		{
	 * 			primaryText: string,
	 * 			secondaryText: string,
	 * 			type: string
	 * 		}
	 * 	} alert - The JSON representation of the alert which will be transformed
     * into an instance of MPageUI.AlertBanner.
     * @returns {MPageUI.AlertBanner} An instance of MPageUI.AlertBanner created
     * from the alert JSON provided.
     */
    var makeBanner = function(alert) {
        var a = new MPageUI.AlertBanner();
        a.setPrimaryText(alert.primaryText || "");
        a.setSecondaryText(alert.secondaryText || "");
        a.setType(alert.type || MPageUI.ALERT_OPTIONS.TYPE.INFO);
        return a;
    };
    /**
     * Takes an array of JSON alerts and maps them into instances of
     * MPageUI.AlertBanner via makeBanner then calls render on each banner.
     * This creates an html string that is multiple alerts.
     * @param {[
	 * 		{
	 * 			primaryText: string,
	 * 			secondaryText: string,
	 * 			type: string
	 * 		}
	 * 	]} alerts - An array of JSON alerts which will be transformed into
     *    instances of MPageUI.AlertBanner and rendered.
     * @returns {string} The full html string of all rendered alerts.
     */
    var renderAlerts = function(alerts) {
        return (alerts || []).map(function(alert) {
            return makeBanner(alert).render();
        }).join("");
    };
    return MPageUI.createClass({
        /**
         * Called upon initialization of an instance of ComponentPanelAlerts. It
         * serves as the constructor to the ComponentPanelAlerts. The array of
         * alerts are initialized to an empty array.
         * @private
         * @returns {undefined} Returns nothing.
         */
        init: function() {
            this.m_alerts = [];
        },
        /**
         * Sets the alerts to be rendered.
         * @param {Array<
		 * 		{
		 * 			primaryText: string,
		 *			secondaryText: string,
		 * 			type: string
		 * 		}
		 * >} alerts - An array of JSON alerts which will be rendered.
         * @returns {undefined} Returns nothing.
         */
        setAlerts: function(alerts) {
            this.m_alerts = alerts;
            this.getRootElement().html(renderAlerts(this.m_alerts));
            return this;
        },
        /**
         * Renders the alerts as an html string.
         * @returns {string} The alerts rendered as an html string.
         */
        render: function() {
            return (
                "<div id='" + this.m_id + "' class='component-panel-alerts'>" +
                renderAlerts(this.m_alerts) +
                "</div>"
            );
        }
    });
})();

/**
 * The PanelAlertsInterface is intended as a mixin for developers that are
 * creating panel alerts. This interface provides a level of indirection between
 * the implementation ComponentPanelAlerts class and the class being created
 * by developers.
 * @interface PanelAlertsInterface
 */
MPageUI.PanelAlertsInterface = (function() {
    return {
        /**
         * The init function to be mixed into an MPageUI.UIComponent. This will
         * merge with any init function defined on the UIComponent. This init
         * function will be called first.
         *
         * This init function initializes an array of alerts.
         * @private
         * @returns {undefined} Returns nothing.
         */
        init: function() {
            this.m_componentPanelAlerts = new MPageUI.ComponentPanelAlerts();
        },
        /**
         * Sets the alerts to be rendered.
         * @param {Array<
		 * 		{
		 * 			primaryText: string,
		 *			secondaryText: string,
		 * 			type: string
		 * 		}
		 * >} alerts - An array of JSON alerts which will be rendered.
         * @returns {undefined} Returns nothing.
         */
        setAlerts: function(alerts) {
            this.m_componentPanelAlerts.setAlerts(alerts);
            return this;
        },
        /**
         * Renders the alerts as an html string.
         * @returns {string} The alerts rendered as an html string.
         */
        render: function() {
            return this.m_componentPanelAlerts.render();
        }
    };
})();
/*

Tooltipster 3.3.0 | 2014-11-08
A rockin' custom tooltip jQuery plugin

Developed by Caleb Jacob under the MIT license http://opensource.org/licenses/MIT

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

*/

/* Tooltipster v3.3.0 */;(function(e,t,n){function s(t,n){this.bodyOverflowX;this.callbacks={hide:[],show:[]};this.checkInterval=null;this.Content;this.$el=e(t);this.$elProxy;this.elProxyPosition;this.enabled=true;this.options=e.extend({},i,n);this.mouseIsOverProxy=false;this.namespace="tooltipster-"+Math.round(Math.random()*1e5);this.Status="hidden";this.timerHide=null;this.timerShow=null;this.$tooltip;this.options.iconTheme=this.options.iconTheme.replace(".","");this.options.theme=this.options.theme.replace(".","");this._init()}function o(t,n){var r=true;e.each(t,function(e,i){if(typeof n[e]==="undefined"||t[e]!==n[e]){r=false;return false}});return r}function f(){return!a&&u}function l(){var e=n.body||n.documentElement,t=e.style,r="transition";if(typeof t[r]=="string"){return true}v=["Moz","Webkit","Khtml","O","ms"],r=r.charAt(0).toUpperCase()+r.substr(1);for(var i=0;i<v.length;i++){if(typeof t[v[i]+r]=="string"){return true}}return false}var r="tooltipster",i={animation:"fade",arrow:true,arrowColor:"",autoClose:true,content:null,contentAsHTML:false,contentCloning:true,debug:true,delay:200,minWidth:0,maxWidth:null,functionInit:function(e,t){},functionBefore:function(e,t){t()},functionReady:function(e,t){},functionAfter:function(e){},hideOnClick:false,icon:"(?)",iconCloning:true,iconDesktop:false,iconTouch:false,iconTheme:"tooltipster-icon",interactive:false,interactiveTolerance:350,multiple:false,offsetX:0,offsetY:0,onlyOne:false,position:"top",positionTracker:false,positionTrackerCallback:function(e){if(this.option("trigger")=="hover"&&this.option("autoClose")){this.hide()}},restoration:"current",speed:350,timer:0,theme:"tooltipster-default",touchDevices:true,trigger:"hover",updateAnimation:true};s.prototype={_init:function(){var t=this;if(n.querySelector){var r=null;if(t.$el.data("tooltipster-initialTitle")===undefined){r=t.$el.attr("title");if(r===undefined)r=null;t.$el.data("tooltipster-initialTitle",r)}if(t.options.content!==null){t._content_set(t.options.content)}else{t._content_set(r)}var i=t.options.functionInit.call(t.$el,t.$el,t.Content);if(typeof i!=="undefined")t._content_set(i);t.$el.removeAttr("title").addClass("tooltipstered");if(!u&&t.options.iconDesktop||u&&t.options.iconTouch){if(typeof t.options.icon==="string"){t.$elProxy=e('<span class="'+t.options.iconTheme+'"></span>');t.$elProxy.text(t.options.icon)}else{if(t.options.iconCloning)t.$elProxy=t.options.icon.clone(true);else t.$elProxy=t.options.icon}t.$elProxy.insertAfter(t.$el)}else{t.$elProxy=t.$el}if(t.options.trigger=="hover"){t.$elProxy.on("mouseenter."+t.namespace,function(){if(!f()||t.options.touchDevices){t.mouseIsOverProxy=true;t._show()}}).on("mouseleave."+t.namespace,function(){if(!f()||t.options.touchDevices){t.mouseIsOverProxy=false}});if(u&&t.options.touchDevices){t.$elProxy.on("touchstart."+t.namespace,function(){t._showNow()})}}else if(t.options.trigger=="click"){t.$elProxy.on("click."+t.namespace,function(){if(!f()||t.options.touchDevices){t._show()}})}}},_show:function(){var e=this;if(e.Status!="shown"&&e.Status!="appearing"){if(e.options.delay){e.timerShow=setTimeout(function(){if(e.options.trigger=="click"||e.options.trigger=="hover"&&e.mouseIsOverProxy){e._showNow()}},e.options.delay)}else e._showNow()}},_showNow:function(n){var r=this;r.options.functionBefore.call(r.$el,r.$el,function(){if(r.enabled&&r.Content!==null){if(n)r.callbacks.show.push(n);r.callbacks.hide=[];clearTimeout(r.timerShow);r.timerShow=null;clearTimeout(r.timerHide);r.timerHide=null;if(r.options.onlyOne){e(".tooltipstered").not(r.$el).each(function(t,n){var r=e(n),i=r.data("tooltipster-ns");e.each(i,function(e,t){var n=r.data(t),i=n.status(),s=n.option("autoClose");if(i!=="hidden"&&i!=="disappearing"&&s){n.hide()}})})}var i=function(){r.Status="shown";e.each(r.callbacks.show,function(e,t){t.call(r.$el)});r.callbacks.show=[]};if(r.Status!=="hidden"){var s=0;if(r.Status==="disappearing"){r.Status="appearing";if(l()){r.$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-"+r.options.animation+"-show");if(r.options.speed>0)r.$tooltip.delay(r.options.speed);r.$tooltip.queue(i)}else{r.$tooltip.stop().fadeIn(i)}}else if(r.Status==="shown"){i()}}else{r.Status="appearing";var s=r.options.speed;r.bodyOverflowX=e("body").css("overflow-x");e("body").css("overflow-x","hidden");var o="tooltipster-"+r.options.animation,a="-webkit-transition-duration: "+r.options.speed+"ms; -webkit-animation-duration: "+r.options.speed+"ms; -moz-transition-duration: "+r.options.speed+"ms; -moz-animation-duration: "+r.options.speed+"ms; -o-transition-duration: "+r.options.speed+"ms; -o-animation-duration: "+r.options.speed+"ms; -ms-transition-duration: "+r.options.speed+"ms; -ms-animation-duration: "+r.options.speed+"ms; transition-duration: "+r.options.speed+"ms; animation-duration: "+r.options.speed+"ms;",f=r.options.minWidth?"min-width:"+Math.round(r.options.minWidth)+"px;":"",c=r.options.maxWidth?"max-width:"+Math.round(r.options.maxWidth)+"px;":"",h=r.options.interactive?"pointer-events: auto;":"";r.$tooltip=e('<div class="tooltipster-base '+r.options.theme+'" style="'+f+" "+c+" "+h+" "+a+'"><div class="tooltipster-content"></div></div>');if(l())r.$tooltip.addClass(o);r._content_insert();r.$tooltip.appendTo("body");r.reposition();r.options.functionReady.call(r.$el,r.$el,r.$tooltip);if(l()){r.$tooltip.addClass(o+"-show");if(r.options.speed>0)r.$tooltip.delay(r.options.speed);r.$tooltip.queue(i)}else{r.$tooltip.css("display","none").fadeIn(r.options.speed,i)}r._interval_set();e(t).on("scroll."+r.namespace+" resize."+r.namespace,function(){r.reposition()});if(r.options.autoClose){e("body").off("."+r.namespace);if(r.options.trigger=="hover"){if(u){setTimeout(function(){e("body").on("touchstart."+r.namespace,function(){r.hide()})},0)}if(r.options.interactive){if(u){r.$tooltip.on("touchstart."+r.namespace,function(e){e.stopPropagation()})}var p=null;r.$elProxy.add(r.$tooltip).on("mouseleave."+r.namespace+"-autoClose",function(){clearTimeout(p);p=setTimeout(function(){r.hide()},r.options.interactiveTolerance)}).on("mouseenter."+r.namespace+"-autoClose",function(){clearTimeout(p)})}else{r.$elProxy.on("mouseleave."+r.namespace+"-autoClose",function(){r.hide()})}if(r.options.hideOnClick){r.$elProxy.on("click."+r.namespace+"-autoClose",function(){r.hide()})}}else if(r.options.trigger=="click"){setTimeout(function(){e("body").on("click."+r.namespace+" touchstart."+r.namespace,function(){r.hide()})},0);if(r.options.interactive){r.$tooltip.on("click."+r.namespace+" touchstart."+r.namespace,function(e){e.stopPropagation()})}}}}if(r.options.timer>0){r.timerHide=setTimeout(function(){r.timerHide=null;r.hide()},r.options.timer+s)}}})},_interval_set:function(){var t=this;t.checkInterval=setInterval(function(){if(e("body").find(t.$el).length===0||e("body").find(t.$elProxy).length===0||t.Status=="hidden"||e("body").find(t.$tooltip).length===0){if(t.Status=="shown"||t.Status=="appearing")t.hide();t._interval_cancel()}else{if(t.options.positionTracker){var n=t._repositionInfo(t.$elProxy),r=false;if(o(n.dimension,t.elProxyPosition.dimension)){if(t.$elProxy.css("position")==="fixed"){if(o(n.position,t.elProxyPosition.position))r=true}else{if(o(n.offset,t.elProxyPosition.offset))r=true}}if(!r){t.reposition();t.options.positionTrackerCallback.call(t,t.$el)}}}},200)},_interval_cancel:function(){clearInterval(this.checkInterval);this.checkInterval=null},_content_set:function(e){if(typeof e==="object"&&e!==null&&this.options.contentCloning){e=e.clone(true)}this.Content=e},_content_insert:function(){var e=this,t=this.$tooltip.find(".tooltipster-content");if(typeof e.Content==="string"&&!e.options.contentAsHTML){t.text(e.Content)}else{t.empty().append(e.Content)}},_update:function(e){var t=this;t._content_set(e);if(t.Content!==null){if(t.Status!=="hidden"){t._content_insert();t.reposition();if(t.options.updateAnimation){if(l()){t.$tooltip.css({width:"","-webkit-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing");setTimeout(function(){if(t.Status!="hidden"){t.$tooltip.removeClass("tooltipster-content-changing");setTimeout(function(){if(t.Status!=="hidden"){t.$tooltip.css({"-webkit-transition":t.options.speed+"ms","-moz-transition":t.options.speed+"ms","-o-transition":t.options.speed+"ms","-ms-transition":t.options.speed+"ms",transition:t.options.speed+"ms"})}},t.options.speed)}},t.options.speed)}else{t.$tooltip.fadeTo(t.options.speed,.5,function(){if(t.Status!="hidden"){t.$tooltip.fadeTo(t.options.speed,1)}})}}}}else{t.hide()}},_repositionInfo:function(e){return{dimension:{height:e.outerHeight(false),width:e.outerWidth(false)},offset:e.offset(),position:{left:parseInt(e.css("left")),top:parseInt(e.css("top"))}}},hide:function(n){var r=this;if(n)r.callbacks.hide.push(n);r.callbacks.show=[];clearTimeout(r.timerShow);r.timerShow=null;clearTimeout(r.timerHide);r.timerHide=null;var i=function(){e.each(r.callbacks.hide,function(e,t){t.call(r.$el)});r.callbacks.hide=[]};if(r.Status=="shown"||r.Status=="appearing"){r.Status="disappearing";var s=function(){r.Status="hidden";if(typeof r.Content=="object"&&r.Content!==null){r.Content.detach()}r.$tooltip.remove();r.$tooltip=null;e(t).off("."+r.namespace);e("body").off("."+r.namespace).css("overflow-x",r.bodyOverflowX);e("body").off("."+r.namespace);r.$elProxy.off("."+r.namespace+"-autoClose");r.options.functionAfter.call(r.$el,r.$el);i()};if(l()){r.$tooltip.clearQueue().removeClass("tooltipster-"+r.options.animation+"-show").addClass("tooltipster-dying");if(r.options.speed>0)r.$tooltip.delay(r.options.speed);r.$tooltip.queue(s)}else{r.$tooltip.stop().fadeOut(r.options.speed,s)}}else if(r.Status=="hidden"){i()}return r},show:function(e){this._showNow(e);return this},update:function(e){return this.content(e)},content:function(e){if(typeof e==="undefined"){return this.Content}else{this._update(e);return this}},reposition:function(){var n=this;if(e("body").find(n.$tooltip).length!==0){n.$tooltip.css("width","");n.elProxyPosition=n._repositionInfo(n.$elProxy);var r=null,i=e(t).width(),s=n.elProxyPosition,o=n.$tooltip.outerWidth(false),u=n.$tooltip.innerWidth()+1,a=n.$tooltip.outerHeight(false);if(n.$elProxy.is("area")){var f=n.$elProxy.attr("shape"),l=n.$elProxy.parent().attr("name"),c=e('img[usemap="#'+l+'"]'),h=c.offset().left,p=c.offset().top,d=n.$elProxy.attr("coords")!==undefined?n.$elProxy.attr("coords").split(","):undefined;if(f=="circle"){var v=parseInt(d[0]),m=parseInt(d[1]),g=parseInt(d[2]);s.dimension.height=g*2;s.dimension.width=g*2;s.offset.top=p+m-g;s.offset.left=h+v-g}else if(f=="rect"){var v=parseInt(d[0]),m=parseInt(d[1]),y=parseInt(d[2]),b=parseInt(d[3]);s.dimension.height=b-m;s.dimension.width=y-v;s.offset.top=p+m;s.offset.left=h+v}else if(f=="poly"){var w=[],E=[],S=0,x=0,T=0,N=0,C="even";for(var k=0;k<d.length;k++){var L=parseInt(d[k]);if(C=="even"){if(L>T){T=L;if(k===0){S=T}}if(L<S){S=L}C="odd"}else{if(L>N){N=L;if(k==1){x=N}}if(L<x){x=L}C="even"}}s.dimension.height=N-x;s.dimension.width=T-S;s.offset.top=p+x;s.offset.left=h+S}else{s.dimension.height=c.outerHeight(false);s.dimension.width=c.outerWidth(false);s.offset.top=p;s.offset.left=h}}var A=0,O=0,M=0,_=parseInt(n.options.offsetY),D=parseInt(n.options.offsetX),P=n.options.position;function H(){var n=e(t).scrollLeft();if(A-n<0){r=A-n;A=n}if(A+o-n>i){r=A-(i+n-o);A=i+n-o}}function B(n,r){if(s.offset.top-e(t).scrollTop()-a-_-12<0&&r.indexOf("top")>-1){P=n}if(s.offset.top+s.dimension.height+a+12+_>e(t).scrollTop()+e(t).height()&&r.indexOf("bottom")>-1){P=n;M=s.offset.top-a-_-12}}if(P=="top"){var j=s.offset.left+o-(s.offset.left+s.dimension.width);A=s.offset.left+D-j/2;M=s.offset.top-a-_-12;H();B("bottom","top")}if(P=="top-left"){A=s.offset.left+D;M=s.offset.top-a-_-12;H();B("bottom-left","top-left")}if(P=="top-right"){A=s.offset.left+s.dimension.width+D-o;M=s.offset.top-a-_-12;H();B("bottom-right","top-right")}if(P=="bottom"){var j=s.offset.left+o-(s.offset.left+s.dimension.width);A=s.offset.left-j/2+D;M=s.offset.top+s.dimension.height+_+12;H();B("top","bottom")}if(P=="bottom-left"){A=s.offset.left+D;M=s.offset.top+s.dimension.height+_+12;H();B("top-left","bottom-left")}if(P=="bottom-right"){A=s.offset.left+s.dimension.width+D-o;M=s.offset.top+s.dimension.height+_+12;H();B("top-right","bottom-right")}if(P=="left"){A=s.offset.left-D-o-12;O=s.offset.left+D+s.dimension.width+12;var F=s.offset.top+a-(s.offset.top+s.dimension.height);M=s.offset.top-F/2-_;if(A<0&&O+o>i){var I=parseFloat(n.$tooltip.css("border-width"))*2,q=o+A-I;n.$tooltip.css("width",q+"px");a=n.$tooltip.outerHeight(false);A=s.offset.left-D-q-12-I;F=s.offset.top+a-(s.offset.top+s.dimension.height);M=s.offset.top-F/2-_}else if(A<0){A=s.offset.left+D+s.dimension.width+12;r="left"}}if(P=="right"){A=s.offset.left+D+s.dimension.width+12;O=s.offset.left-D-o-12;var F=s.offset.top+a-(s.offset.top+s.dimension.height);M=s.offset.top-F/2-_;if(A+o>i&&O<0){var I=parseFloat(n.$tooltip.css("border-width"))*2,q=i-A-I;n.$tooltip.css("width",q+"px");a=n.$tooltip.outerHeight(false);F=s.offset.top+a-(s.offset.top+s.dimension.height);M=s.offset.top-F/2-_}else if(A+o>i){A=s.offset.left-D-o-12;r="right"}}if(n.options.arrow){var R="tooltipster-arrow-"+P;if(n.options.arrowColor.length<1){var U=n.$tooltip.css("background-color")}else{var U=n.options.arrowColor}if(!r){r=""}else if(r=="left"){R="tooltipster-arrow-right";r=""}else if(r=="right"){R="tooltipster-arrow-left";r=""}else{r="left:"+Math.round(r)+"px;"}if(P=="top"||P=="top-left"||P=="top-right"){var z=parseFloat(n.$tooltip.css("border-bottom-width")),W=n.$tooltip.css("border-bottom-color")}else if(P=="bottom"||P=="bottom-left"||P=="bottom-right"){var z=parseFloat(n.$tooltip.css("border-top-width")),W=n.$tooltip.css("border-top-color")}else if(P=="left"){var z=parseFloat(n.$tooltip.css("border-right-width")),W=n.$tooltip.css("border-right-color")}else if(P=="right"){var z=parseFloat(n.$tooltip.css("border-left-width")),W=n.$tooltip.css("border-left-color")}else{var z=parseFloat(n.$tooltip.css("border-bottom-width")),W=n.$tooltip.css("border-bottom-color")}if(z>1){z++}var X="";if(z!==0){var V="",J="border-color: "+W+";";if(R.indexOf("bottom")!==-1){V="margin-top: -"+Math.round(z)+"px;"}else if(R.indexOf("top")!==-1){V="margin-bottom: -"+Math.round(z)+"px;"}else if(R.indexOf("left")!==-1){V="margin-right: -"+Math.round(z)+"px;"}else if(R.indexOf("right")!==-1){V="margin-left: -"+Math.round(z)+"px;"}X='<span class="tooltipster-arrow-border" style="'+V+" "+J+';"></span>'}n.$tooltip.find(".tooltipster-arrow").remove();var K='<div class="'+R+' tooltipster-arrow" style="'+r+'">'+X+'<span style="border-color:'+U+';"></span></div>';n.$tooltip.append(K)}n.$tooltip.css({top:Math.round(M)+"px",left:Math.round(A)+"px"})}return n},enable:function(){this.enabled=true;return this},disable:function(){this.hide();this.enabled=false;return this},destroy:function(){var t=this;t.hide();if(t.$el[0]!==t.$elProxy[0]){t.$elProxy.remove()}t.$el.removeData(t.namespace).off("."+t.namespace);var n=t.$el.data("tooltipster-ns");if(n.length===1){var r=null;if(t.options.restoration==="previous"){r=t.$el.data("tooltipster-initialTitle")}else if(t.options.restoration==="current"){r=typeof t.Content==="string"?t.Content:e("<div></div>").append(t.Content).html()}if(r){t.$el.attr("title",r)}t.$el.removeClass("tooltipstered").removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else{n=e.grep(n,function(e,n){return e!==t.namespace});t.$el.data("tooltipster-ns",n)}return t},elementIcon:function(){return this.$el[0]!==this.$elProxy[0]?this.$elProxy[0]:undefined},elementTooltip:function(){return this.$tooltip?this.$tooltip[0]:undefined},option:function(e,t){if(typeof t=="undefined")return this.options[e];else{this.options[e]=t;return this}},status:function(){return this.Status}};e.fn[r]=function(){var t=arguments;if(this.length===0){if(typeof t[0]==="string"){var n=true;switch(t[0]){case"setDefaults":e.extend(i,t[1]);break;default:n=false;break}if(n)return true;else return this}else{return this}}else{if(typeof t[0]==="string"){var r="#*$~&";this.each(function(){var n=e(this).data("tooltipster-ns"),i=n?e(this).data(n[0]):null;if(i){if(typeof i[t[0]]==="function"){var s=i[t[0]](t[1],t[2])}else{throw new Error('Unknown method .tooltipster("'+t[0]+'")')}if(s!==i){r=s;return false}}else{throw new Error("You called Tooltipster's \""+t[0]+'" method on an uninitialized element')}});return r!=="#*$~&"?r:this}else{var o=[],u=t[0]&&typeof t[0].multiple!=="undefined",a=u&&t[0].multiple||!u&&i.multiple,f=t[0]&&typeof t[0].debug!=="undefined",l=f&&t[0].debug||!f&&i.debug;this.each(function(){var n=false,r=e(this).data("tooltipster-ns"),i=null;if(!r){n=true}else if(a){n=true}else if(l){console.log('Tooltipster: one or more tooltips are already attached to this element: ignoring. Use the "multiple" option to attach more tooltips.')}if(n){i=new s(this,t[0]);if(!r)r=[];r.push(i.namespace);e(this).data("tooltipster-ns",r);e(this).data(i.namespace,i)}o.push(i)});if(a)return o;else return this}}};var u=!!("ontouchstart"in t);var a=false;e("body").one("mousemove",function(){a=true})})(jQuery,window,document);var lh_sepsis_advisor_app=angular.module("lhSepsisAdvisorApp",["lhGlobalModule","messagingBuilderModule","cclDataModule","bedrockFiltersDataModule","lhSepsisAdvisorApp.directives","lhSepsisAdvisorApp.controllers","lhSepsisAdvisorApp.services","lhDemographicBar","lhAdvisorTitleBar","lhAllergies","lhRecentLabs","lhAntibiotics","lhMicrobiology","lhVitalSigns","lhSepsisSource","lhSepsisActiveMeds","lhSepsisSirs","lhSepsisDosing","lhSepsisFluids","lhSepsisDiagnostics","lhSepsisVasopressors","lhSepsisSupportive","lhSepsisDocumentSign","lhSepsisAntibioticRecs"]).run(["$templateCache","lhGlobalBrFiltersDataSrvc","lhGlobalConstants",function($templateCache,lhGlobalBrFiltersDataSrvc,lhGlobalConstants){if(typeof eksParams!=="undefined"){lhGlobalConstants.person_id=eksParams.person_id;
lhGlobalConstants.encounter_id=eksParams.encounter_id;
lhGlobalConstants.user_id=eksParams.user_id;
lhGlobalConstants.topic_mean=eksParams.topic_mean;
}for(var key in templates){if(templates.hasOwnProperty(key)){$templateCache.put("templates/"+key,templates[key]);
}}var script={};
script.name="LHC_GET_BR_LAYOUT_FILTERS";
script.topic_mean=lhGlobalConstants.topic_mean;
script.encounter_id=lhGlobalConstants.encounter_id;
script.filter_means=[];
script.filter_means.push("ADVSR_TITLE_LBL");
script.filter_means.push("EVALUATE_PATIENT_RISK_LBL");
script.filter_means.push("SELECT_RECOMMENDATIONS_LBL");
script.filter_means.push("DOCUMENT_SIGN_LBL");
script.filter_means.push("CURRENT_STATE_LBL");
script.filter_means.push("INFECTION_SOURCES_LBL");
script.filter_means.push("SIRS_SECTION_LBL");
script.filter_means.push("ACTIVE_MEDS_SECTION_LBL");
script.filter_means.push("SPECIAL_DOSING_LBL");
script.filter_means.push("ALLERGIES_SECTION_LBL");
script.filter_means.push("ANTIBIOTICS_SECTION_LBL");
script.filter_means.push("FLUIDS_SECTION_LBL");
script.filter_means.push("DIAGNOSTICS_SECTION_LBL");
script.filter_means.push("VASOPRESSORS_SECTION_LBL");
script.filter_means.push("SUPPORTIVE_SECTION_LBL");
script.filter_means.push("SIRS_DIAGNOSIS");
script.filter_means.push("SEPSIS_DIAGNOSIS");
script.filter_means.push("SVR_SEPSIS_DIAGNOSIS");
script.filter_means.push("SEPTIC_SHOCK_DIAGNOSIS");
script.filter_means.push("SIRS_DEF");
script.filter_means.push("SEV_SEP_DEF");
script.filter_means.push("SEP_DEF");
script.filter_means.push("SEP_SHOCK_DEF");
lhGlobalBrFiltersDataSrvc.query(script).then(function(filterData){lhGlobalBrFiltersDataSrvc.set(filterData);
});
}]);
var lhSepsisAdvisorAppDirectives=angular.module("lhSepsisAdvisorApp.directives",[]);
var lhSepsisAdvisorAppControllers=angular.module("lhSepsisAdvisorApp.controllers",[]);
var lhSepsisAdvisorAppServices=angular.module("lhSepsisAdvisorApp.services",[]);
var lh_global_module=angular.module("lhGlobalModule",["lhGlobalModule.services","lhGlobalModule.directives","lhGlobalModule.controllers"]);
var lh_global_services=angular.module("lhGlobalModule.services",[]);
var lh_global_directives=angular.module("lhGlobalModule.directives",[]);
var lh_global_controllers=angular.module("lhGlobalModule.controllers",[]);
var bedrock_filters_data_module=angular.module("bedrockFiltersDataModule",["bedrockFiltersDataModule.services"]);
var bedrock_filters_data_module_services=angular.module("bedrockFiltersDataModule.services",[]);
var ccl_data_module=angular.module("cclDataModule",["cclDataModule.services"]);
var ccl_data_module_services=angular.module("cclDataModule.services",[]);
var lh_advisor_title_bar=angular.module("lhAdvisorTitleBar",["lhAdvisorTitleBar.controllers","lhAdvisorTitleBar.services","lhAdvisorTitleBar.directives"]);
var lh_advisor_title_bar_services=angular.module("lhAdvisorTitleBar.services",[]);
var lh_advisor_title_bar_directives=angular.module("lhAdvisorTitleBar.directives",[]);
var lh_advisor_title_bar_controllers=angular.module("lhAdvisorTitleBar.controllers",[]);
angular.module("lhAllergies",["lhAllergies.controllers"]);
var lhAllergiesControllers=angular.module("lhAllergies.controllers",[]);
angular.module("lhAntibiotics",["lhAntibiotics.controllers"]);
var lhAntibioticsControllers=angular.module("lhAntibiotics.controllers",[]);
var lh_demographic_bar=angular.module("lhDemographicBar",["lhDemographicBar.controllers","lhDemographicBar.services","lhDemographicBar.directives"]);
var lh_demographic_bar_services=angular.module("lhDemographicBar.services",[]);
var lh_demographic_bar_directives=angular.module("lhDemographicBar.directives",[]);
var lh_demographic_bar_controllers=angular.module("lhDemographicBar.controllers",[]);
angular.module("lhMicrobiology",["lhMicrobiology.controllers"]);
var lhMicrobiologyControllers=angular.module("lhMicrobiology.controllers",[]);
angular.module("lhRecentLabs",["lhRecentLabs.controllers"]);
var lhRecentLabsControllers=angular.module("lhRecentLabs.controllers",[]);
angular.module("lhSepsisActiveMeds",["lhSepsisActiveMeds.controllers"]);
var lhSepsisActiveMedsControllers=angular.module("lhSepsisActiveMeds.controllers",[]);
angular.module("lhSepsisAntibioticRecs",["lhSepsisAntibioticRecs.controllers","lhSepsisAntibioticRecs.directives"]);
var lhSepsisAntibioticRecsControllers=angular.module("lhSepsisAntibioticRecs.controllers",[]);
var lhSepsisAntibioticRecsDirectives=angular.module("lhSepsisAntibioticRecs.directives",[]);
angular.module("lhSepsisDiagnostics",["lhSepsisDiagnostics.controllers"]);
var lhSepsisDiagnosticsControllers=angular.module("lhSepsisDiagnostics.controllers",[]);
angular.module("lhSepsisDocumentSign",["lhSepsisDocumentSign.controllers"]);
var lhSepsisDocumentSignControllers=angular.module("lhSepsisDocumentSign.controllers",[]);
angular.module("lhSepsisDosing",["lhSepsisDosing.controllers"]);
var lhSepsisDosingControllers=angular.module("lhSepsisDosing.controllers",[]);
angular.module("lhSepsisFluids",["lhSepsisFluids.controllers"]);
var lhSepsisFluidsControllers=angular.module("lhSepsisFluids.controllers",[]);
angular.module("lhSepsisSirs",["lhSepsisSirs.controllers"]);
var lhSepsisSirsControllers=angular.module("lhSepsisSirs.controllers",[]);
angular.module("lhSepsisSource",["lhSepsisSource.controllers"]);
var lhSepsisSourceControllers=angular.module("lhSepsisSource.controllers",[]);
angular.module("lhSepsisSupportive",["lhSepsisSupportive.controllers"]);
var lhSepsisSupportiveControllers=angular.module("lhSepsisSupportive.controllers",[]);
angular.module("lhSepsisVasopressors",["lhSepsisVasopressors.controllers"]);
var lhSepsisVasopressorsControllers=angular.module("lhSepsisVasopressors.controllers",[]);
angular.module("lhVitalSigns",["lhVitalSigns.controllers","lhVitalSigns.services","lhVitalSigns.directives"]);
var lhVitalSignsServices=angular.module("lhVitalSigns.services",[]);
var lhVitalSignsDirectives=angular.module("lhVitalSigns.directives",[]);
var lhVitalSignsControllers=angular.module("lhVitalSigns.controllers",[]);
var messaging_builder_module=angular.module("messagingBuilderModule",["messagingBuilderModule.directives","messagingBuilderModule.controllers","messagingBuilderModule.services"]);
var messaging_builder_module_directives=angular.module("messagingBuilderModule.directives",[]);
var messaging_builder_module_services=angular.module("messagingBuilderModule.services",[]);
var messaging_builder_module_controllers=angular.module("messagingBuilderModule.controllers",[]);
var url_params=window.location.search.replace(/%20/g," ").split("?").join("").split(",");
lh_global_module.constant("lhGlobalConstants",{person_id:url_params[1],encounter_id:url_params[2],topic_mean:url_params[3],user_id:url_params[4]});
lh_sepsis_advisor_app.constant("lhAppConstants",{moduleVariable:"lh_sepsis_advisor_app"});
templates = {};
templates["lh-advisor-title-bar-template.html"]='<div class="lh-adv-title-bar-disclaimer">{{i18n.DISCLAIMER_MSG}}</div><div class="lh-adv-title-bar-required">{{i18n.REQUIRED_MSG}}</div><div class="lh-adv-title-bar-trademark">{{i18n.TRADE_MARK}}&#174;.</div><div class="lh-adv-title-bar-page-name">{{pageTitle}}</div>';
templates["lh-allergies-template.html"]='<fieldset id=\'allergies-fieldset\'>  <legend ng-if="buildLink" class=\'allergies-component-header\'><a href=\'javascript:APPLINK(0,"Powerchart.exe","{{allergiesLink}}")\'>{{allergiesLabel}}</a></legend>  <legend ng-if="!buildLink" class=\'allergies-component-header\'>{{allergiesLabel}}</legend>  <p class=\'allergies-component-subheader\' ng-hide=\'loading\'>{{i18n.ALL_ENCOUNTERS}}</p>  <table ng-hide=\'loading\'>    <tr ng-class-odd="\'allergy-row-odd\'" ng-class-even="\'allergy-row-even\'" ng-class="{\'allergy-severe-reaction\' : allergy.SEVERITY_IND == 1}" ng-repeat="allergy in allergies">      <td class=\'allergy-name\'>{{allergy.NAME}}</td>      <td class=\'allergy-reaction\'>{{allergy.REACTION}}</td>    </tr>  </table>  <div ng-show="allergies.length == 0">{{i18n.NO_DATA_FOUND}}</div>  <div ng-show="loading" lh-display-text="{{i18n.LOADING_MSG}}" lh-display-position="left" lh-display-text-position="right" lh-global-loading-image></div></fieldset>';
templates["lh-antibiotics-template.html"]='<fieldset id=\'antibiotics-fieldset\'>  <legend class=\'component-header\'>{{label}}</legend>  <p class=\'antibiotics-component-subheader\' ng-hide=\'loading\'>{{i18n.LAST}} {{lookback}} {{i18n.DAYS}}</p>  <table class=\'antibiotic-table\'>  <tr class=\'antibiotic-orders-header\'>  <th>{{i18n.ANTIBIOTIC_HEADER}}</th>        <th>{{i18n.ORDER_TYPE_HEADER}}</th>  <th>{{i18n.ORDER_DETAILS_HEADER}}</th>  <th>{{i18n.LAST_DOSE_HEADER}}</th>  <th>{{i18n.DURATION_HEADER}}</th>  </tr>    <tr ng-class-odd="\'row-odd\'" ng-class-even="\'row-even\'" ng-repeat="antibiotic in antibiotics">      <td class=\'antibiotic-name\'>{{antibiotic.NAME}}</td>      <td class=\'antibiotic-ord-type\'>{{antibiotic.ORDER_TYPE_DISP}}</td>  <td class=\'antibiotic-details\'>{{antibiotic.SIMPLIFIED_DISPLAY_LINE || antibiotic.CLINICAL_DISPLAY_LINE || i18n.NONE}}</td>  <td class=\'antibiotic-last-dose\'>{{antibiotic.LAST_DOSE_GIVEN || i18n.NONE}}</td>  <td ng-if=\'antibiotic.DURATION_VAL > 0 && antibiotic.DURATION_UNIT_DISP\' class=\'antibiotic-duration\'>{{antibiotic.DURATION_VAL}} {{antibiotic.DURATION_UNIT_DISP}}</td>  <td ng-if=\'antibiotic.DURATION_VAL === 0 || !antibiotic.DURATION_UNIT_DISP\' class=\'antibiotic-duration\'>{{i18n.NONE}}</td>          </tr>  </table>  <div ng-show="antibiotics.length == 0">{{i18n.NO_DATA_FOUND}}</div>  <div ng-show="loading" lh-display-text="{{i18n.LOADING_MSG}}" lh-display-position="center" lh-display-text-position="below" lh-global-loading-image></div></fieldset>';
templates["lh-demographic-bar-template.html"]='<div ng-repeat="obj in data"      class="lh-demo-div"      lh-key-name="{{obj.KEY_NAME}}"      lh-key-value="{{obj.KEY_VALUE}}"      lh-key-label="{{obj.KEY_LABEL}}"     lh-key-hover="{{obj.KEY_HOVER}}"     lh-demographic-bar-format /><!--<div ng-show="data.length == 0">{{i18n.NO_DATA_FOUND}}</div>--><div ng-show="loading" lh-display-text="{{i18n.LOADING_MSG}}" lh-display-position="left" lh-display-text-position="right" lh-global-loading-image></div>';
templates["lh-global-breadcrumb-template.html"]='<div lh-global-create-breadcrumb style="padding:0px 5px 0px 5px;"></div>';
templates["lh-microbiology-template.html"]='<fieldset id=\'microbiology-fieldset\'>  <legend ng-if="buildLink" class=\'micro-component-header\'><a href=\'javascript:APPLINK(0,"Powerchart.exe","{{link}}")\'>{{label}}</a></legend>  <legend ng-if="!buildLink" class=\'micro-component-header\'>{{label}}</legend>  <p class=\'microbiology-component-subheader\' ng-hide="loading">{{i18n.LAST}} {{maxResults}} {{i18n.RESULTS}}</p>  <table class=\'microbiology-table\' ng-hide="loading">  <tr class=\'microbiology-header\'>  <th> {{i18n.CULTURE}} </th>  <th> {{i18n.SOURCE_AND_BODY_SITE}} </th>  <th> {{i18n.COLL_DT_TM}} </th>  <th> {{i18n.RESULT}} </th>  <th> {{i18n.ORGANISM}} </th>  <th> {{i18n.STATUS}} </th>  </tr>    <tr ng-class-odd="\'result-row-odd\'" ng-class-even="\'result-row-even\'" ng-repeat="result in results">      <td ng-class="{\'micro-abnormal-result\' : result.POSITIVE_IND == 1}" class=\'result-culture\'>{{result.CULTURE_DISP || i18n.NULL}}</td>      <td class=\'result-source-body-site\'>{{result.SOURCE_TYPE_DISP || i18n.NULL}}/{{result.BODY_SITE_DISP || i18n.NULL}}</td>  <td class=\'result-collect-dttm\'><a ng-click="microViewer($index)" href="">{{result.COLLECTED_DT_TM_DISP}}</a></td>  <td ng-class="{\'micro-abnormal-result\' : result.POSITIVE_IND == 1}" class=\'result-normalcy\'>{{result.NORMALCY_DISP || i18n.NULL}}</td>  <td class=\'result-organism\'>{{result.ORGANISM_DESCRIPTION}}</td>  <td class=\'result-status\'>{{result.STATUS}}</td>    </tr>  </table>  <div ng-show="results.length == 0">{{i18n.NO_DATA_FOUND}}</div>  <div ng-show="loading" lh-display-text="{{i18n.LOADING_MSG}}" lh-display-position="center" lh-display-text-position="below" lh-global-loading-image></div></fieldset>';
templates["lh-recent-labs-template.html"]='<fieldset id=\'labs-fieldset\'>  <legend ng-if="buildLink" class=\'recent-labs-component-header\'><a href=\'javascript:APPLINK(0,"Powerchart.exe","{{link}}")\'>{{labsLabel}}</a></legend>  <legend ng-if="!buildLink" class=\'recent-labs-component-header\'>{{labsLabel}}</legend>  <p class=\'recent-labs-component-subheader\' ng-hide=\'loading\'>{{i18n.LAST}} {{lookBackRange}} {{i18n.HOURS}}</p>  <table class=\'lab-table\' ng-hide=\'loading\'>    <tr ng-class-odd="\'lab-row-odd\'" ng-class-even="\'lab-row-even\'" ng-repeat="lab in labs">      <td class=\'lab-name\'>{{lab.TYPE}}</td>      <td class=\'lab-value\' ng-class="{\'lab-value-bold lab-value-red\'  : (lab.NORMALCY_DISP === \'CRITICAL\' || lab.NORMALCY_DISP === \'ABNORMAL\')                                       ,\'lab-value-orange\'  : (lab.NORMALCY_DISP === \'HIGH\' && lab.NUMBER_IND === 1)                                       ,\'lab-value-blue\' : (lab.NORMALCY_DISP === \'LOW\' && lab.NUMBER_IND === 1)                                      }">        <span class=\'lab-critical-icon\' ng-show="lab.NORMALCY_DISP === \'CRITICAL\' && lab.NUMBER_IND === 1"></span>        <span class=\'lab-high-icon\'     ng-show="lab.NORMALCY_DISP === \'HIGH\' && lab.NUMBER_IND === 1"></span>        <span class=\'lab-low-icon\'      ng-show="lab.NORMALCY_DISP === \'LOW\' && lab.NUMBER_IND === 1"></span>        {{lab.VALUE}}<span class=\'res-modified-icon\' ng-show=\'lab.MODIFIED_IND\'></span> <span class=\'lab-unit\'>{{lab.UNIT}}</span>      </td>      <td class=\'lab-date\'>{{lab.EVENT_END_DT_TM_DISP}}</td>    </tr>  </table>  <div class=\'no-data\' ng-show="labs.length == 0">{{i18n.NO_DATA_FOUND}}</div>  <div ng-show="loading" lh-display-text="{{i18n.LOADING_MSG}}" lh-display-position="center" lh-display-text-position="bottom" lh-global-loading-image></div></fieldset>';
templates["lh-sepsis-active-meds-template.html"]='<div ng-show="!loading"><div class=\'antibiotics-found\' ng-show=\'antibiotics.length > 0\'>{{foundLbl}}</div><fieldset id="sepsis-active-meds-fieldset"><legend>{{activeAbxLbl}}</legend><table class=\'antibiotic-recs-table\'>    <tr ng-class=\'{cancelled: antibiotic.checked == true}\' ng-class-odd="\'row-odd\'" ng-class-even="\'row-even\'" ng-repeat="antibiotic in antibiotics">      <td   class=\'antibiotic-recs-name\'>      <label><input type="checkbox" ng-model="antibiotic.checked" ng-click=\'evaluateActiveMeds()\'>{{antibiotic.NAME}}</input></label></td>  <td class=\'antibiotic-recs-details\'>{{antibiotic.DETAILS}}</td>  <td> {{i18n.LAST_DOSE}} <span class=\'antibiotic-recs-last-dose\'> {{antibiotic.LAST_DOSE_GIVEN || i18n.NULL}} </span></td>    </tr>  </table><p ng-show=\'antibiotics.length == 0\'>{{i18n.NO_DATA_FOUND}}</p></fieldset><label class=\'broad-spectrum-antibiotics\'><input type="checkbox" ng-model="broadSpectrum.checked" ng-click=\'evaluateActiveMeds()\'/>{{broadSpectrum.label}}</label><br/></div><div ng-show="loading" lh-display-text="{{i18n.LOADING_MSG}}" lh-display-position="center" lh-display-text-position="bottom" lh-global-loading-image></div>';
templates["lh-sepsis-antibiotic-recs-template.html"]='<div ng-show="!loading"><fieldset ng-repeat="scenario in scenarios" class="sepsis-antibiotic-scenario"><legend>{{scenario.INFECTION_SOURCE_DISPLAY}} <span ng-show="scenario.INFECTION_FACTOR_DISPLAY" class="infection-factor-label">- {{scenario.INFECTION_FACTOR_DISPLAY}}</span></legend>    <fieldset ng-repeat="category in scenario.CATEGORY" class="sepsis-antibiotic-scenario-categories">      <legend>{{category.CATEGORY_NAME}} <span ng-show="category.CATEGORY_NOTE">- {{category.CATEGORY_NOTE}}</span></legend>            <table class=\'antibiotic-option-table\'>        <tr ng-repeat="option in category.OPTION.slice(0,category.firstColEnd)">          <td>            <label ng-switch on="category.SELECT_IND">              <label ng-switch-when="1"> <!-- 1 - Single Select;     2 - Multi Select -->                <input type="radio" value="{{option.OPTION_SEQ}}" ng-model="category.option_chosen" ng-click=\'evaluateAntibioticOrders()\'>                  <span ng-repeat="order in option.ORDER_LIST" class=\'antibiotic-option-order\'>                    {{order.ORDER_SYNONYM_DISP}} <span class=\'antibiotic-order-details\'>{{order.ORDER_SENTENCE_DISP}}</span>                    <span ng-if=\'order.ALLERGY_DRUGS.length > 0\' class=\'antibiotic-allergy-label\'>                            <span lh-sepsis-allergy-hover allergy-list="{{order.ALLERGY_DRUGS}}" my-position="left center" at-position="right center">{{i18n.PATIENT_ALLERGY}}</span>                        </span><br/>                  </span>                </input>              </label>              <label ng-switch-when="2">                <input type="checkbox" ng-model="option.checked" ng-click=\'evaluateAntibioticOrders()\'>                  <span ng-repeat="order in option.ORDER_LIST" class=\'antibiotic-option-order\'>                    {{order.ORDER_SYNONYM_DISP}} <span class=\'antibiotic-order-details\'>{{order.ORDER_SENTENCE_DISP}}</span>                    <span ng-if=\'order.ALLERGY_DRUGS.length > 0\' class=\'antibiotic-allergy-label\'>                            <span lh-sepsis-allergy-hover allergy-list="{{order.ALLERGY_DRUGS}}" my-position="left center" at-position="right center">{{i18n.PATIENT_ALLERGY}}</span>                        </span><br/>                  </span>                </input>              </label>            </label>          </td>        </tr>      </table>      <table class=\'antibiotic-option-table\'>        <tr ng-repeat="option in category.OPTION.slice(category.firstColEnd,category.OPTION.length)">          <td>            <label ng-switch on="category.SELECT_IND">              <label ng-switch-when="1"> <!-- 1 - Single Select;     2 - Multi Select -->                <input type="radio" value="{{option.OPTION_SEQ}}" ng-model="category.option_chosen" ng-click=\'evaluateAntibioticOrders()\'>                  <span ng-repeat="order in option.ORDER_LIST" class=\'antibiotic-option-order\'>                    {{order.ORDER_SYNONYM_DISP}} <span class=\'antibiotic-order-details\'>{{order.ORDER_SENTENCE_DISP}}</span>                    <span ng-if=\'order.ALLERGY_DRUGS.length > 0\' class=\'antibiotic-allergy-label\'>                            <span lh-sepsis-allergy-hover allergy-list="{{order.ALLERGY_DRUGS}}" my-position="left center" at-position="right center">{{i18n.PATIENT_ALLERGY}}</span>                        </span><br/>                  </span>                </input>              </label>              <label ng-switch-when="2">                <input type="checkbox" ng-model="option.checked" ng-click=\'evaluateAntibioticOrders()\'>                  <span ng-repeat="order in option.ORDER_LIST" class=\'antibiotic-option-order\'>                    {{order.ORDER_SYNONYM_DISP}} <span class=\'antibiotic-order-details\'>{{order.ORDER_SENTENCE_DISP}}</span>                    <span ng-if=\'order.ALLERGY_DRUGS.length > 0\' class=\'antibiotic-allergy-label\'>                            <span lh-sepsis-allergy-hover allergy-list="{{order.ALLERGY_DRUGS}}" my-position="left center" at-position="right center">{{i18n.PATIENT_ALLERGY}}</span>                        </span><br/>                  </span>                </input>              </label>            </label>          </td>        </tr>      </table>    </fieldset>        <div ng-show="scenario.CATEGORY.length === 0">{{i18n.NO_ANTIBIOTIC_RECOMMENDATIONS_FOUND}}</div>    </fieldset></div><div ng-show="loading" lh-display-text="{{loadingMessage}}" lh-display-position="center" lh-display-text-position="bottom" lh-global-loading-image></div>';
templates["lh-sepsis-diagnostics-template.html"]='<div ng-show="!loading"><div ng-show=\'categories.length === 0\' class="sepsis-diagnostics-scenario-categories">{{i18n.NO_ORDERS_FOUND}}</div><fieldset ng-repeat="category in categories" class="sepsis-diagnostics-scenario-categories">  <legend>{{category.CATEGORY_NAME}} <span ng-show="category.CATEGORY_NOTE">- {{category.CATEGORY_NOTE}}</span></legend>    <table class=\'diagnostics-option-table\'>  <tr class=\'diagnostic-order-header\'><th></th><th>{{i18n.DOCUMENTED}} </th></tr>    <tr ng-class-odd="\'diagnostic-row-odd\'" ng-class-even="\'diagnostic-row-even\'" ng-repeat="option in category.OPTION.slice(0,category.firstColEnd)">      <td>        <label ng-switch on="category.SELECT_IND">          <label ng-switch-when="1"> <!-- 1 - Single Select;     2 - Multi Select -->            <input type="radio" value="{{option.OPTION_SEQ}}" ng-model="category.option_chosen" ng-click=\'evaluateDiagnosticOrders()\'>              <span ng-repeat="order in option.ORDER_LIST" class=\'diagnostics-option-order\'>                {{order.ORDER_SYNONYM_DISP}} <span class=\'diagnostics-order-details\'>{{order.ORDER_SENTENCE_DISP}}<br></span>              </span>            </input>          </label>          <label ng-switch-when="2">            <input type="checkbox" ng-model="option.checked" ng-click=\'evaluateDiagnosticOrders()\'>              <span ng-repeat="order in option.ORDER_LIST" class=\'diagnostics-option-order\'>                {{order.ORDER_SYNONYM_DISP}} <span class=\'diagnostics-order-details\'>{{order.ORDER_SENTENCE_DISP}}<br></span>              </span>            </input>          </label>        </label>        <td class=\'diagnostic_order_status\'>        <span ng-repeat="order in option.ORDER_LIST">{{order.ORDER_STATUS_CD_DISP}}<span class=\'diagnostic-order-date-time\'>{{order.ORIG_ORDER_DT_TM_DISP}}</span></span>        </td>      </td>    </tr>  </table>  <table class=\'diagnostics-option-table\'>  <tr class=\'diagnostic-order-header\'><th></th><th>{{i18n.DOCUMENTED}} </th></tr>    <tr ng-class-odd="\'diagnostic-row-odd\'" ng-class-even="\'diagnostic-row-even\'" ng-repeat="option in category.OPTION.slice(category.firstColEnd,category.OPTION.length)">      <td>        <label ng-switch on="category.SELECT_IND">          <label ng-switch-when="1"> <!-- 1 - Single Select;     2 - Multi Select -->            <input type="radio" value="{{option.OPTION_SEQ}}" ng-model="category.option_chosen" ng-click=\'evaluateDiagnosticOrders()\'>              <span ng-repeat="order in option.ORDER_LIST" class=\'diagnostics-option-order\'>                {{order.ORDER_SYNONYM_DISP}} <span class=\'diagnostics-order-details\'>{{order.ORDER_SENTENCE_DISP}}<br></span>              </span>            </input>          </label>          <label ng-switch-when="2">            <input type="checkbox" ng-model="option.checked" ng-click=\'evaluateDiagnosticOrders()\'>              <span ng-repeat="order in option.ORDER_LIST" class=\'diagnostics-option-order\'>                {{order.ORDER_SYNONYM_DISP}} <span class=\'diagnostics-order-details\'>{{order.ORDER_SENTENCE_DISP}}<br></span>              </span>            </input>          </label>        </label>        <td class=\'diagnostic_order_status\'>        <span ng-repeat="order in option.ORDER_LIST">{{order.ORDER_STATUS_CD_DISP}}<span class=\'diagnostic-order-date-time\'>{{order.ORIG_ORDER_DT_TM_DISP}}</span></span>        </td>      </td>    </tr>  </table>     </fieldset></div>';
templates["lh-sepsis-document-sign-template.html"]='<fieldset id=\'document-sign-orders\'><h3 ng-show=\'sirsCulture.label || sourceList.length || diagnosis.checked\' class=\'review-section-header\'>{{i18n.DOCUMENT}}</h3><div class=\'review-section-row\'><div ng-class-odd="\'row-even\'" ng-class-even="\'row-odd\'" ng-repeat="source in sourceList"><div class=\'checkmark\'></div><span ng-show=\'source.SOURCE_KEY\'>{{i18n.DOCUMENT_SOURCE}}</span> {{source.SOURCE_DISPLAY}}</div><div ng-show=\'sirsCulture.label\'><div class=\'checkmark\'></div>{{sirsCulture.label}}</div><div ng-show=\'broadSpectrum.label\'><div class=\'checkmark\'></div>{{broadSpectrum.label}}</div><div ng-show=\'diagnosis.checked\'><div class=\'checkmark\'></div>{{i18n.ADD}} {{diagnosis.label}} {{i18n.DIAGNOSIS_LIST}}</div></div><div ng-show=\'dropdownValue === SIRS_VALUE\'><h3 class=\'review-section-header\'>{{sirsSectionLbl}}</h3><div class=\'review-section-row\'><div ng-class-odd="\'row-even\'" ng-class-even="\'row-odd\'" ng-repeat="order in sirsOrders"><div class=\'checkmark\'></div> {{order.ORDER_SYNONYM_DISP}} {{order.ORDER_SENTENCE_DISP}}</div><div ng-class="\'row-even\'" ng-show="sirsOrders.length === 0">{{i18n.NO_NEW_ORDERS}}</div></div></div><div ng-show=\'dropdownValue > SIRS_VALUE\'><h3 class=\'review-section-header\'>{{activeMedsSectionLbl}}</h3><div class=\'review-section-row\'>{{cancel_medications}}<div ng-class-odd="\'row-even\'" ng-class-even="\'row-odd\'" ng-repeat="order in activeOrders"><div class=\'checkmark\'></div><div ng-show=\'order.checked\'>{{i18n.CANCEL_MEDS}} {{order.NAME}} {{order.DETAILS}}</div><div ng-show=\'!order.checked\'>{{i18n.CONTINUE_MEDS}} {{order.NAME}} {{order.DETAILS}}</div></div><div ng-class="\'row-even\'" ng-show="activeOrders.length === 0">{{i18n.NO_NEW_ORDERS}}</div></div></div><div ng-show=\'dropdownValue > SIRS_VALUE\'><h3 class=\'review-section-header\'>{{antibioticsSectionLbl}}</h3><div class=\'review-section-row\'><div ng-class-odd="\'row-even\'" ng-class-even="\'row-odd\'" ng-repeat="order in antibioticOrders"><div class=\'checkmark\'></div> {{order.ORDER_SYNONYM_DISP}} {{order.ORDER_SENTENCE_DISP}}</div><div ng-class="\'row-even\'" ng-show="antibioticOrders.length === 0">{{i18n.NO_NEW_ORDERS}}</div></div></div><div ng-show=\'dropdownValue > SIRS_VALUE\'><h3 class=\'review-section-header\'>{{fluidsSectionLbl}}</h3><div class=\'review-section-row\'><div ng-class-odd="\'row-even\'" ng-class-even="\'row-odd\'" ng-repeat="order in fluidTherapyOrders"><div class=\'checkmark\'></div> {{order.ORDER_SYNONYM_DISP}} {{order.ORDER_SENTENCE_DISP}}</div><div ng-class="\'row-even\'" ng-show="fluidTherapyOrders.length === 0">{{i18n.NO_NEW_ORDERS}}</div></div></div><div ng-show=\'dropdownValue > SIRS_VALUE\'><h3 class=\'review-section-header\'>{{diagnosticsSectionLbl}}</h3><div class=\'review-section-row\'><div ng-class-odd="\'row-even\'" ng-class-even="\'row-odd\'" ng-repeat="order in diagnosticOrders">                    <div class=\'checkmark\'></div> {{order.ORDER_SYNONYM_DISP}} {{order.ORDER_SENTENCE_DISP}}</div><div ng-class="\'row-even\'" ng-show="diagnosticOrders.length === 0">{{i18n.NO_NEW_ORDERS}}</div></div></div><div ng-show=\'dropdownValue > SEVERE_SEPSIS_VALUE\'><h3 class=\'review-section-header\'>{{vasopressorsSectionLbl}}</h3><div class=\'review-section-row\'><div ng-class-odd="\'row-even\'" ng-class-even="\'row-odd\'" ng-repeat="order in vasopressorOrders"><div class=\'checkmark\'></div> {{order.ORDER_SYNONYM_DISP}} {{order.ORDER_SENTENCE_DISP}}</div><div ng-class="\'row-even\'" ng-show="vasopressorOrders.length === 0">{{i18n.NO_NEW_ORDERS}}</div></div></div><div ng-if="showSupportiveTherapies" ng-show=\'dropdownValue > SIRS_VALUE\'><h3 class=\'review-section-header\'>{{supportiveSectionLbl}}</h3><div class=\'review-section-row\'><div ng-class-odd="\'row-even\'" ng-class-even="\'row-odd\'" ng-repeat="order in supportivePowerplans"><div class=\'checkmark\'></div> {{order.DISPLAY_DESCRIPTION}} {{order.ORDER_SENTENCE_DISP}}</div><div ng-class="\'row-even\'" ng-show="supportivePowerplans.length === 0">{{i18n.NO_NEW_ORDERS}}</div></div></div><div class=\'sepsis-diagnosis-container\'> <div><label><input type="checkbox" ng-model="diagnosis.checked" ng-click="addDiagnosis()"/>{{i18n.ADD}} {{diagnosis.label}} {{i18n.DIAGNOSIS_LIST}}</label></div></div></fieldset>';
templates["lh-sepsis-dosing-template.html"]='<div ng-show="!loading">    <fieldset id="sepsis-dosing">        <legend class=\'component-header\'>{{renalFunctionLabel}}</legend>        <div class ="sepsis-weight-result">{{weightLabel}}:  {{weightResultValue}} {{weightUnitDisp}}</div>        <div id=\'creatinine-clearance\'>{{crclNameToDisplay}}: <span class=\'crcl_value_display\'>{{crclValueToDisplay}} {{crclUnitValueToDisplay}}</span> <span class=\'crcl-date-display\'>{{crclDateToDisplay}}</span></div>        <div id=\'estimated-creatinine-clearance\'>{{estCrclNameToDisplay}}: <span class=\'crcl_value_display\'>{{estCrclValueToDisplay}} {{estCrcrlUnitValueToDisplay}}</span> <span class=\'crcl-date-display\'>{{estCrclDateToDisplay}}</span></div>        <div id=\'renal-insufficiency-msg\' ng-show = \'hasRenalDiseaseOrDialysis\' >{{renalInsufficiencyLabel}}</div>        <label id=\'normal-dose\'><input ng-model="recommendations.specialDosing" ng-click="evaluateSpecialDosing()" value="normal" type="radio" name="dosing-type"/> {{normalDosingLabel}}</label>        <label id=\'renal-dose\' ng-if=\'renalDoseChoices\'><input ng-model="recommendations.specialDosing" ng-checked="recommendations.renalDropdown.id > 0" ng-click="evaluateSpecialDosing()" value="renal" type="radio" name="dosing-type"                                      ng-disabled=\'recommendations.patient_age_in_minutes <= TWENTY_NINE_DAYS_IN_MINUTES\'/> {{renallyAdjustDoseLabel}}            <select ng-model=\'recommendations.renalDropdown\' ng-change="updateRenalDosing()" ng-options=\'x.name for x in renalDoseChoices\'                    ng-disabled=\'recommendations.patient_age_in_minutes <= TWENTY_NINE_DAYS_IN_MINUTES\'></select>        </label>        <label id=\'single-dose\'><input ng-model="recommendations.specialDosing" ng-click="evaluateSpecialDosing()" value="single" type="radio" name="dosing-type"/> {{singleDoseLabel}}</label>        <label id=\'dialysis-dose\' ng-if=\'dialysisPatientChoices\'><input ng-model="recommendations.specialDosing" ng-checked="recommendations.dialysisDropdown.id > 0" ng-click="evaluateSpecialDosing()" value="dialysis" type="radio" name="dosing-type"                                         ng-disabled=\'recommendations.patient_age_in_minutes <= TWENTY_NINE_DAYS_IN_MINUTES\'/> {{dialysisPatientLabel}}            <select ng-model=\'recommendations.dialysisDropdown\' ng-change="updateDialysisDosing()" ng-options=\'x.name for x in dialysisPatientChoices\'                    ng-disabled=\'recommendations.patient_age_in_minutes <= TWENTY_NINE_DAYS_IN_MINUTES\'></select>        </label>    </fieldset></div><div ng-show="loading" lh-display-text="{{i18n.LOADING_MSG}}" lh-display-position="center" lh-display-text-position="bottom" lh-global-loading-image></div>';
templates["lh-sepsis-fluids-template.html"]='<div ng-show="!loading"><div ng-show=\'categories.length === 0\' class="sepsis-fluids-scenario-categories">{{i18n.NO_ORDERS_FOUND}}</div><fieldset ng-repeat="category in categories" class="sepsis-fluids-scenario-categories">  <legend>{{category.CATEGORY_NAME}} <span ng-show="category.CATEGORY_NOTE">- {{category.CATEGORY_NOTE}}</span></legend>  <table class=\'fluids-option-table\'>    <tr ng-class-odd="\'row-odd\'" ng-class-even="\'row-even\'" ng-repeat="option in category.OPTION.slice(0,category.firstColEnd)">      <td>        <label ng-switch on="category.SELECT_IND">          <label ng-switch-when="1"> <!-- 1 - Single Select;     2 - Multi Select -->            <input type="radio" value="{{option.OPTION_SEQ}}" ng-model="category.option_chosen" ng-click=\'evaluateFluidOrders()\'>              <span ng-repeat="order in option.ORDER_LIST"  class=\'fluids-option-order\'>                {{order.ORDER_SYNONYM_DISP}} <span class=\'fluids-order-details\'>{{order.ORDER_SENTENCE_DISP}}<br></span>              </span>            </input>          </label>          <label ng-switch-when="2">            <input type="checkbox" ng-model="option.checked" ng-click=\'evaluateFluidOrders()\'>               <span ng-repeat="order in option.ORDER_LIST"  class=\'fluids-option-order\'>                {{order.ORDER_SYNONYM_DISP}} <span class=\'fluids-order-details\'>{{order.ORDER_SENTENCE_DISP}}<br></span>              </span>            </input>          </label>        </label>      </td>    </tr>  </table>  <table class=\'fluids-option-table\'>    <tr ng-class-odd="\'row-odd\'" ng-class-even="\'row-even\'" ng-repeat="option in category.OPTION.slice(category.firstColEnd,category.OPTION.length)">      <td>        <label ng-switch on="category.SELECT_IND">          <label ng-switch-when="1"> <!-- 1 - Single Select;     2 - Multi Select -->            <input type="radio" value="{{option.OPTION_SEQ}}" ng-model="category.option_chosen" ng-click=\'evaluateFluidOrders()\'>              <span ng-repeat="order in option.ORDER_LIST"  class=\'fluids-option-order\'>                {{order.ORDER_SYNONYM_DISP}} <span class=\'fluids-order-details\'>{{order.ORDER_SENTENCE_DISP}}<br></span>              </span>            </input>          </label>          <label ng-switch-when="2">            <input type="checkbox" ng-model="option.checked" ng-click=\'evaluateFluidOrders()\'>              <span ng-repeat="order in option.ORDER_LIST"  class=\'fluids-option-order\'>                {{order.ORDER_SYNONYM_DISP}} <span class=\'fluids-order-details\'>{{order.ORDER_SENTENCE_DISP}}<br></span>              </span>            </input>          </label>        </label>      </td>    </tr>  </table>   </fieldset></div>';
templates["lh-sepsis-sirs-template.html"]='<div ng-show="!loading"><fieldset id=\'sepsis-sirs\'><div class=\'no-sirs-cultures\'><label><input type="checkbox" ng-model="collected.checked" ng-checked="collected.checked" ng-click=\'evaluateSirsOrders()\'>{{collected.label}}</input></label></div><div ng-show=\'categories.length === 0\' class="sepsis-sirs-scenario-categories">{{i18n.NO_ORDERS_FOUND}}</div><fieldset ng-repeat="category in categories" class="sepsis-sirs-scenario-categories">  <legend>{{category.CATEGORY_NAME}} <span ng-show="category.CATEGORY_NOTE">- {{category.CATEGORY_NOTE}}</span></legend>    <table class=\'sirs-option-table\'>    <tr ng-class-odd="\'row-odd\'" ng-class-even="\'row-even\'" ng-repeat="option in category.OPTION.slice(0,category.firstColEnd)">      <td>        <label ng-switch on="category.SELECT_IND">          <label ng-switch-when="1"> <!-- 1 - Single Select;     2 - Multi Select -->            <input type="radio" value="{{option.OPTION_SEQ}}" ng-model="category.option_chosen" ng-click=\'evaluateSirsOrders()\'>              <span ng-repeat="order in option.ORDER_LIST" class=\'sirs-option-order\'>                {{order.ORDER_SYNONYM_DISP}} <span class=\'sirs-order-details\'>{{order.ORDER_SENTENCE_DISP}}<br></span>              </span>            </input>          </label>          <label ng-switch-when="2">            <input type="checkbox" ng-model="option.checked" ng-click=\'evaluateSirsOrders()\'>              <span ng-repeat="order in option.ORDER_LIST" class=\'sirs-option-order\'>                {{order.ORDER_SYNONYM_DISP}} <span class=\'sirs-order-details\'>{{order.ORDER_SENTENCE_DISP}}<br></span>              </span>            </input>          </label>        </label>      </td>    </tr>  </table>  <table class=\'sirs-option-table\'>    <tr ng-class-odd="\'row-odd\'" ng-class-even="\'row-even\'" ng-repeat="option in category.OPTION.slice(category.firstColEnd,category.OPTION.length)">      <td>        <label ng-switch on="category.SELECT_IND">          <label ng-switch-when="1"> <!-- 1 - Single Select;     2 - Multi Select -->            <input type="radio" value="{{option.OPTION_SEQ}}" ng-model="category.option_chosen" ng-click=\'evaluateSirsOrders()\'>              <span ng-repeat="order in option.ORDER_LIST" class=\'sirs-option-order\'>                {{order.ORDER_SYNONYM_DISP}} <span class=\'sirs-order-details\'>{{order.ORDER_SENTENCE_DISP}}<br></span>              </span>            </input>          </label>          <label ng-switch-when="2">            <input type="checkbox" ng-model="option.checked" ng-click=\'evaluateSirsOrders()\'>              <span ng-repeat="order in option.ORDER_LIST" class=\'sirs-option-order\'>                {{order.ORDER_SYNONYM_DISP}} <span class=\'sirs-order-details\'>{{order.ORDER_SENTENCE_DISP}}<br></span>              </span>            </input>          </label>        </label>      </td>    </tr>  </table>      </fieldset></fieldset></div>';
templates["lh-sepsis-source-template.html"]='<fieldset id=\'infection-sources-factors\'><div ng-show="!loading"><div class=\'infection-max-source-lbl\'>{{maxSourceLbl}}</div><div class=\'no-infection-source\'><label><input type="checkbox" ng-model="noSource.checked" ng-checked="noSource.checked" ng-disabled="selectedSources.length > 0 && !noSource.checked"ng-click="evaluateSources()">{{noSource.noSourceLbl}}</label></div><div class=\'infection-source\'><div ng-repeat="source in sources.slice(0,firstColLength)"><label><input type="checkbox" ng-model="source.checked" ng-click="evaluateSources()" ng-disabled="noSource.checked || selectedSources.length >= maxSourceNum && !source.checked"/> {{source.SOURCE_DISPLAY}}<p class=\'required\' ng-show=\'source.FACTOR_LIST.length > 0\'>*</p></label>    </div>    </div>    <div class=\'infection-source\'><div ng-repeat="source in sources.slice(firstColLength,secondColLength)"><label><input type="checkbox" ng-model="source.checked" ng-click="evaluateSources()" ng-disabled="noSource.checked || selectedSources.length >= maxSourceNum && !source.checked"/> {{source.SOURCE_DISPLAY}}<p class=\'required\' ng-show=\'source.FACTOR_LIST.length > 0\'>*</p></label>   </div>   </div>   <div class=\'infection-source\'><div ng-repeat="source in sources.slice(secondColLength,sources.length)"><label><input type="checkbox" ng-model="source.checked" ng-click="evaluateSources()" ng-disabled="noSource.checked || selectedSources.length >= maxSourceNum && !source.checked"/> {{source.SOURCE_DISPLAY}}<p class=\'required\' ng-show=\'source.FACTOR_LIST.length > 0\'>*</p></label>   </div>   </div><div id=\'factors-fieldset\' ng-show="displayFactors"><h3>{{factorsLbl}}</h3><div class=\'infection-source-factor\' ng-repeat="source in selectedSources" ng-show="source.FACTOR_LIST.length"><legend class=\'lh-factor-subheader\'>{{source.SOURCE_DISPLAY}}<br/></legend><div class=\'infection-factor\'><div ng-repeat="factor in source.FACTOR_LIST.slice(0,source.FACTOR_LIST.firstColEnd)"><label><input type="checkbox" ng-model="factor.checked" ng-disabled="source.factorSelected && !factor.checked" ng-click="evaluateSources()"/>{{factor.FACTOR_DISPLAY}}</label></div></div><div class=\'infection-factor\'><div ng-repeat="factor in source.FACTOR_LIST.slice(source.FACTOR_LIST.firstColEnd,source.FACTOR_LIST.secondColEnd)"><label><input type="checkbox" ng-model="factor.checked" ng-disabled="source.factorSelected && !factor.checked" ng-click="evaluateSources()"/>{{factor.FACTOR_DISPLAY}}</label></div></div><div class=\'infection-factor\'><div ng-repeat="factor in source.FACTOR_LIST.slice(source.FACTOR_LIST.secondColEnd,source.FACTOR_LIST.length)"><label><input type="checkbox" ng-model="factor.checked" ng-disabled="source.factorSelected && !factor.checked" ng-click="evaluateSources()"/>{{factor.FACTOR_DISPLAY}}</label></div></div></div></div></div><div ng-show="loading" lh-display-text="{{i18n.LOADING_MSG}}" lh-display-position="center" lh-display-text-position="bottom" lh-global-loading-image></div></fieldset>';
templates["lh-sepsis-supportive-template.html"]='<fieldset id=\'sepsis-supportive\'><div ng-show="!loading"><div class=\'supportive-instruction\'>{{instruction}}</div><table class=\'supportive-therapy-table\'>    <tr ng-class-odd="\'row-odd\'" ng-class-even="\'row-even\'" ng-repeat="plan in plans.slice(0,firstColEnd)">      <td class=\'supportive-plan-name\'>      <label><input type="checkbox" ng-model="plan.checked" ng-click=\'evaluateSupportivePowerPlans()\'>      {{plan.DISPLAY_DESCRIPTION}}</input></label>      </td>    </tr>  </table>  <table class=\'supportive-therapy-table\'>    <tr ng-class-odd="\'row-odd\'" ng-class-even="\'row-even\'" ng-repeat="plan in plans.slice(firstColEnd,plans.length)">      <td class=\'supportive-plan-name\'>      <label><input type="checkbox" ng-model="plan.checked" ng-click=\'evaluateSupportivePowerPlans()\'>      {{plan.DISPLAY_DESCRIPTION}}</input></label>      </td>    </tr>  </table></div><div ng-show="loading" lh-display-text="{{i18n.LOADING_MSG}}" lh-display-position="center" lh-display-text-position="bottom" lh-global-loading-image></div></fieldset>';
templates["lh-sepsis-vasopressors-template.html"]='<div ng-show="!loading"><div ng-show=\'categories.length === 0\' class="sepsis-vasopressors-scenario-categories">{{i18n.NO_ORDERS_FOUND}}</div><fieldset ng-repeat="category in categories" class="sepsis-vasopressors-scenario-categories">  <legend>{{category.CATEGORY_NAME}} <span ng-show="category.CATEGORY_NOTE">- {{category.CATEGORY_NOTE}}</span></legend>  <table class=\'vasopressors-option-table\'>    <tr ng-class-odd="\'row-odd\'" ng-class-even="\'row-even\'" ng-repeat="option in category.OPTION.slice(0,category.firstColEnd)">      <td>        <label ng-switch on="category.SELECT_IND">          <label ng-switch-when="1"> <!-- 1 - Single Select;     2 - Multi Select -->            <input type="radio" value="{{option.OPTION_SEQ}}" ng-model="category.option_chosen" ng-click=\'evaluateVasopressorOrders()\'>              <span ng-repeat="order in option.ORDER_LIST"  class=\'vasopressors-option-order\'>                {{order.ORDER_SYNONYM_DISP}} <span class=\'vasopressors-order-details\'>{{order.ORDER_SENTENCE_DISP}}<br></span>              </span>            </input>          </label>          <label ng-switch-when="2">            <input type="checkbox" ng-model="option.checked" ng-click=\'evaluateVasopressorOrders()\'>              <span ng-repeat="order in option.ORDER_LIST"  class=\'vasopressors-option-order\'>                {{order.ORDER_SYNONYM_DISP}} <span class=\'vasopressors-order-details\'>{{order.ORDER_SENTENCE_DISP}}<br></span>              </span>            </input>          </label>        </label>      </td>    </tr>  </table>  <table class=\'vasopressors-option-table\'>    <tr ng-class-odd="\'row-odd\'" ng-class-even="\'row-even\'" ng-repeat="option in category.OPTION.slice(category.firstColEnd,category.OPTION.length)">      <td>        <label ng-switch on="category.SELECT_IND">          <label ng-switch-when="1"> <!-- 1 - Single Select;     2 - Multi Select -->            <input type="radio" value="{{option.OPTION_SEQ}}" ng-model="category.option_chosen" ng-click=\'evaluateVasopressorOrders()\'>              <span ng-repeat="order in option.ORDER_LIST"  class=\'vasopressors-option-order\'>                {{order.ORDER_SYNONYM_DISP}} <span class=\'vasopressors-order-details\'>{{order.ORDER_SENTENCE_DISP}}<br></span>              </span>            </input>          </label>          <label ng-switch-when="2">            <input type="checkbox" ng-model="option.checked" ng-click=\'evaluateVasopressorOrders()\'>              <span ng-repeat="order in option.ORDER_LIST"  class=\'vasopressors-option-order\'>                {{order.ORDER_SYNONYM_DISP}} <span class=\'vasopressors-order-details\'>{{order.ORDER_SENTENCE_DISP}}<br></span>              </span>            </input>          </label>        </label>      </td>    </tr>  </table>   </fieldset></div>';
templates["lh-vital-signs-template.html"]='<fieldset id=\'vital-signs-fieldset\'>  <legend ng-if="buildLink" class=\'vitals-component-header\'><a href=\'javascript:APPLINK(0,"Powerchart.exe","{{link}}")\'>{{vitalSignsLabel}}</a></legend>  <legend ng-if="!buildLink" class=\'vitals-component-header\'>{{vitalSignsLabel}}</legend>  <p ng-hide=\'loading\' class=\'vitals-component-subheader\'>{{i18n.LAST}} {{vitalsLookbackLabel}} {{i18n.HOURS}}</p>  <table class=\'vitals-table\' ng-hide=\'loading\'>    <tr>       <th></th>      <th>{{i18n.LATEST}}</th>      <th>{{i18n.PREVIOUS}}</th>      <th>{{i18n.PREVIOUS}}</th>    </tr>    <tr ng-class-odd="\'vital-row-odd\'"        ng-class-even="\'vital-row-even\'"                ng-repeat="vital in vitalSigns">      <td lh-display-vital-graph="vital{{vital.DISPLAY_FLAG}}" class=\'vital-signs-name\'>{{vital.DISPLAY_TEXT}}</td>      <td ng-repeat=\'result in vital.RESULTS | limitTo:3\'          lh-vital-type=\'{{vital.DISPLAY_FLAG}}\'          lh-result=\'{{result}}\'          lh-display-vital-result/>      <td class=\'vital-empty\' ng-show="vital.RESULTS.length < 3">--</td>      <td class=\'vital-empty\' ng-show="vital.RESULTS.length < 1">--</td>            <td class=\'vital-empty\' ng-show="vital.RESULTS.length < 2">--</td>    </tr>  </table>  <div ng-show="loading" lh-display-text="{{i18n.LOADING_MSG}}" lh-display-position="center" lh-display-text-position="bottom" lh-global-loading-image></div></fieldset>';
templates["messaging-builder-template.html"]='<div ng-repeat="message in Messages" lh-message-type="{{message.type}}" lh-message="{{message.content}}" lh-global-messaging-builder></div>';
lhSepsisAdvisorAppControllers.controller("lhAdvisorBreadcrumbCtrl",["$scope","lhGlobalStepSrvc","lhGlobalBrFiltersDataSrvc",function($scope,lhGlobalStepSrvc,lhGlobalBrFiltersDataSrvc){$scope.i18n=i18n.lh_sepsis_advisor_app;
$scope.$watch("lhGlobalBrFiltersDataSrvc.getAll()",function(){$scope.steps=[];
$scope.stepOne=lhGlobalBrFiltersDataSrvc.get("EVALUATE_PATIENT_RISK_LBL",0,"FREETEXT_DESC");
$scope.stepTwo=lhGlobalBrFiltersDataSrvc.get("SELECT_RECOMMENDATIONS_LBL",0,"FREETEXT_DESC");
$scope.stepThree=lhGlobalBrFiltersDataSrvc.get("DOCUMENT_SIGN_LBL",0,"FREETEXT_DESC");
if($scope.stepOne===undefined||$scope.stepOne==="--"){$scope.stepOne=$scope.i18n.SECTION_1;
}if($scope.stepTwo===undefined||$scope.stepTwo==="--"){$scope.stepTwo=$scope.i18n.SECTION_2;
}if($scope.stepThree===undefined||$scope.stepThree==="--"){$scope.stepThree=$scope.i18n.SECTION_3;
}if($scope.stepOne===undefined){$scope.stepOne=$scope.i18n.NOT_FOUND;
}if($scope.stepTwo===undefined){$scope.stepTwo=$scope.i18n.NOT_FOUND;
}if($scope.stepThree===undefined){$scope.stepThree=$scope.i18n.NOT_FOUND;
}$scope.steps.push($scope.stepOne);
$scope.steps.push($scope.stepTwo);
$scope.steps.push($scope.stepThree);
lhGlobalStepSrvc.setNumSteps($scope.steps.length);
$scope.template={url:"templates/lh-global-breadcrumb-template.html"};
});
$scope.navigateToSection=function(idx){if(lhGlobalStepSrvc.getFurthestStep()>=idx){lhGlobalStepSrvc.setStep(idx);
}};
}]);
lhSepsisAdvisorAppControllers.controller("lhSepsisAdvisorCtrl",["$scope","lhGlobalConstants","lhGlobalDataSrvc",function($scope,lhGlobalConstants,lhGlobalDataSrvc){$scope.loading=true;
$scope.weightFound=false;
$scope.pfIViewClicked=false;
$scope.i18n=i18n.lh_sepsis_advisor_app;
function getData(){var script={};
script.name="lhc_height_weight_driver";
script.params="^MINE^,"+lhGlobalConstants.person_id+","+lhGlobalConstants.encounter_id+",^"+lhGlobalConstants.topic_mean+"^";
lhGlobalDataSrvc.query(script,$scope).then(function(data){if(data.RECORD_DATA.WEIGHT_EXISTS===1){$scope.weightFound=true;
}$scope.powerforms=data.RECORD_DATA.POWERFORMS;
$scope.iviews=data.RECORD_DATA.IVIEWS;
$scope.loading=false;
});
}getData();
$scope.openPowerform=function(powerformId){$scope.pfIViewClicked=true;
window.external.DiscernObjectFactory("POWERFORM").OpenForm(lhGlobalConstants.person_id,lhGlobalConstants.encounter_id,powerformId,0,0);
};
$scope.openIView=function(bandName,sectionName,eventSetName){$scope.pfIViewClicked=true;
window.external.DiscernObjectFactory("TASKDOC").LaunchIView(bandName.toLowerCase(),sectionName,eventSetName,lhGlobalConstants.person_id,lhGlobalConstants.encounter_id);
};
$scope.reloadAdvisor=function(){location.reload();
};
}]);
lh_advisor_title_bar_controllers.controller("lhAdvisorTitleBarDataCtrl",["$scope","lhGlobalBrFiltersDataSrvc","lhGlobalMessagingSrvc",function($scope,lhGlobalBrFiltersDataSrvc,lhGlobalMessagingSrvc){$scope.componentName="lh_advisor_title_bar";
$scope.i18n=i18n[$scope.componentName];
$scope.$watch("lhGlobalBrFiltersDataSrvc.getAll()",function(newValue,oldValue){$scope.pageTitle=lhGlobalBrFiltersDataSrvc.get("ADVSR_TITLE_LBL",0,"FREETEXT_DESC");
if($scope.pageTitle=="--"){lhGlobalMessagingSrvc.log(i18n.lh_globals.MSG_SYSTEM_ADMIN+" "+i18n.lh_advisor_title_bar.MISSING_TITLE_MSG);
}$scope.template={url:"templates/"+$scope.componentName.replace(/_/g,"-")+"-template.html"};
},true);
}]);
lhAllergiesControllers.controller("lhAllergiesCtrl",["$scope","lhGlobalDataSrvc","lhGlobalConstants","lhGlobalMessagingSrvc",function($scope,lhGlobalDataSrvc,lhGlobalConstants,lhGlobalMessagingSrvc){var componentName="lh_allergies";
$scope.i18n=i18n[componentName];
$scope.template={url:"templates/"+componentName.replace(/_/g,"-")+"-template.html"};
$scope.loading=true;
$scope.buildLink=(typeof EksReply==="undefined");
function getData(){var script={};
script.name="LHC_ALLERGIES_DRIVER";
script.params="^MINE^,"+lhGlobalConstants.person_id+","+lhGlobalConstants.encounter_id+",^"+lhGlobalConstants.topic_mean+"^";
lhGlobalDataSrvc.query(script,$scope).then(function(data){$scope.allergies=data.RECORD_DATA.ALLERGY_LIST;
$scope.allergiesLabel=data.RECORD_DATA.ALLERGIES_LABEL;
$scope.allergiesLink="/PERSONID="+lhGlobalConstants.person_id+" /ENCNTRID="+lhGlobalConstants.encounter_id+" /FIRSTTAB=^"+data.RECORD_DATA.ALLERGIES_LINK+"^";
if(data.RECORD_DATA.IS_ALLERGIES_LABEL_SET===0){lhGlobalMessagingSrvc.info($scope.i18n.LABEL_NOT_SET_MSG);
}$scope.loading=false;
});
}getData();
}]);
lhAntibioticsControllers.controller("lhAntibioticsCtrl",["$scope","lhGlobalDataSrvc","lhGlobalConstants","lhGlobalMessagingSrvc",function($scope,lhGlobalDataSrvc,lhGlobalConstants,lhGlobalMessagingSrvc){var componentName="lh_antibiotics";
$scope.i18n=i18n[componentName];
$scope.template={url:"templates/"+componentName.replace(/_/g,"-")+"-template.html"};
$scope.loading=true;
function getData(){var script={};
script.name="LHC_ANTIBIOTIC_ORDERS_DRIVER_2";
script.params="^MINE^,"+lhGlobalConstants.person_id+","+lhGlobalConstants.encounter_id+",^"+lhGlobalConstants.topic_mean+"^";
lhGlobalDataSrvc.query(script,$scope).then(function(data){$scope.label=data.RECORD_DATA.ANTIBIOTICS_LBL;
$scope.lookback=data.RECORD_DATA.LOOKBACK_DAYS;
$scope.antibiotics=data.RECORD_DATA.ANTIBIOTIC_LIST;
var antibioticLength=$scope.antibiotics.length;
for(var i=0;
i<antibioticLength;
i++){$scope.antibiotics[i].DURATION_VAL=Math.round($scope.antibiotics[i].DURATION_VAL*10)/10;
if(!$scope.antibiotics[i].DURATION_UNIT_DISP&&$scope.antibiotics[i].DURATION_VAL>0){$scope.antibiotics[i].DURATION_UNIT_DISP=$scope.i18n.DURATION_IN_DAYS;
}switch($scope.antibiotics[i].ORIG_ORD_AS_FLAG){case 0:$scope.antibiotics[i].ORDER_TYPE_DISP=$scope.i18n.ORDER_TYPE_INPATIENT;
break;
case 1:$scope.antibiotics[i].ORDER_TYPE_DISP=$scope.i18n.ORDER_TYPE_DISCHARGE;
break;
case 2:$scope.antibiotics[i].ORDER_TYPE_DISP=$scope.i18n.ORDER_TYPE_HOME_MED;
break;
case 3:$scope.antibiotics[i].ORDER_TYPE_DISP=$scope.i18n.ORDER_TYPE_PATIENT_OWN;
break;
case 4:$scope.antibiotics[i].ORDER_TYPE_DISP=$scope.i18n.ORDER_TYPE_PHARM_CHARGE;
break;
case 5:$scope.antibiotics[i].ORDER_TYPE_DISP=$scope.i18n.ORDER_TYPE_IN_OFFICE;
break;
default:lhGlobalMessagingSrvc.warn("Unable to determine the correct order type to display for "+$scope.antibiotics[i].NAME);
}}$scope.loading=false;
});
}getData();
}]);
lh_demographic_bar_controllers.controller("lhDemographicBarDataCtrl",["$scope","lhGlobalDataSrvc","lhGlobalConstants","lhGlobalMessagingSrvc",function($scope,lhGlobalDataSrvc,lhGlobalConstants,lhGlobalMessagingSrvc){$scope.componentName="lh_demographic_bar";
$scope.i18n=i18n[$scope.componentName];
$scope.getData=function(){var script={};
script.name="LHC_PATIENT_DEMO_DRIVER";
script.params="^MINE^,"+lhGlobalConstants.person_id+","+lhGlobalConstants.encounter_id+",^"+lhGlobalConstants.topic_mean+"^";
lhGlobalDataSrvc.query(script,$scope).then(function(data){$scope.data=data.RECORD_DATA.DATA;
$scope.loading=false;
if($scope.data.length==0){lhGlobalMessagingSrvc.log($scope.i18n.NO_DATA_FOUND);
}log.info("lhDemographicBarDataCtrl");
log.info(JSON.stringify(data));
});
};
$scope.loading=true;
$scope.template={url:"templates/"+$scope.componentName.replace(/_/g,"-")+"-template.html"};
$scope.getData();
}]);
lhMicrobiologyControllers.controller("lhMicrobiologyCtrl",["$scope","lhGlobalDataSrvc","lhGlobalConstants",function($scope,lhGlobalDataSrvc,lhGlobalConstants){var componentName="lh_microbiology";
$scope.i18n=i18n[componentName];
$scope.template={url:"templates/"+componentName.replace(/_/g,"-")+"-template.html"};
$scope.loading=true;
$scope.buildLink=(typeof EksReply==="undefined");
function getData(){var script={};
script.name="LHC_MICROBIOLOGY_DRIVER_2";
script.params="^MINE^,"+lhGlobalConstants.person_id+","+lhGlobalConstants.encounter_id+",^"+lhGlobalConstants.topic_mean+"^";
lhGlobalDataSrvc.query(script,$scope).then(function(data){$scope.label=data.RECORD_DATA.MICRO_LBL;
$scope.results=data.RECORD_DATA.RESULT_LIST;
$scope.maxResults=data.RECORD_DATA.MICRO_RESULT_CNT;
$scope.link="/PERSONID="+lhGlobalConstants.person_id+" /ENCNTRID="+lhGlobalConstants.encounter_id+" /FIRSTTAB=^"+data.RECORD_DATA.MICRO_LINK+"^";
$scope.loading=false;
});
}getData();
$scope.microViewer=function($index){var personID=$scope.results[$index].PERSON_ID;
var eventID=$scope.results[$index].EVENT_ID;
if(document.location.hostname==="localhost"){log.info("lhMicrobiologyCtrl");
log.info("Not running in powerchart, microviewer will not open.");
}else{log.info("lhMicrobiologyCtrl");
log.info("Opening MicroViewer");
var objPVViewerMPage=window.external.DiscernObjectFactory("PVVIEWERMPAGE");
objPVViewerMPage.CreateMicroViewer(personID);
objPVViewerMPage.AppendMicroEvent(eventID);
objPVViewerMPage.LaunchMicroViewer();
}};
}]);
lhRecentLabsControllers.controller("lhRecentLabsCtrl",["$scope","lhGlobalDataSrvc","lhGlobalConstants","lhGlobalMessagingSrvc",function($scope,lhGlobalDataSrvc,lhGlobalConstants,lhGlobalMessagingSrvc){var componentName="lh_recent_labs";
$scope.i18n=i18n[componentName];
$scope.template={url:"templates/"+componentName.replace(/_/g,"-")+"-template.html"};
$scope.loading=true;
$scope.buildLink=(typeof EksReply==="undefined");
function getData(){var script={};
script.name="LHC_RECENT_LABS_DRIVER_2";
script.params="^MINE^,"+lhGlobalConstants.person_id+","+lhGlobalConstants.encounter_id+",96,^"+lhGlobalConstants.topic_mean+"^";
lhGlobalDataSrvc.query(script,$scope).then(function(data){$scope.labs=data.RECORD_DATA.EVENT;
$scope.lookBackRange=data.RECORD_DATA.LOOK_BACK_RANGE;
$scope.labsLabel=data.RECORD_DATA.LABS_LABEL;
$scope.link="/PERSONID="+lhGlobalConstants.person_id+" /ENCNTRID="+lhGlobalConstants.encounter_id+" /FIRSTTAB=^"+data.RECORD_DATA.LABS_LINK+"^";
if(data.RECORD_DATA.IS_LABS_LABEL_SET===0){lhGlobalMessagingSrvc.info($scope.i18n.LABEL_NOT_SET_MSG);
}$scope.loading=false;
});
}getData();
}]);
lhSepsisActiveMedsControllers.controller("lhSepsisActiveMedsCtrl",["$scope","lhGlobalDataSrvc","lhGlobalConstants","lhSepsisAppValuesSrvc",function($scope,lhGlobalDataSrvc,lhGlobalConstants,lhSepsisAppValuesSrvc){var componentName="lh_sepsis_active_meds";
$scope.i18n=i18n[componentName];
$scope.template={url:"templates/"+componentName.replace(/_/g,"-")+"-template.html"};
$scope.loading=true;
function getData(){var script={};
script.name="lhc_sepsis_active_meds_driver";
script.params="^MINE^,"+lhGlobalConstants.person_id+","+lhGlobalConstants.encounter_id+",^"+lhGlobalConstants.topic_mean+"^";
lhGlobalDataSrvc.query(script,$scope).then(function(data){$scope.foundLbl=data.RECORD_DATA.MEDS_FOUND_LBL;
$scope.activeAbxLbl=data.RECORD_DATA.ACTIVE_ORDERS_LBL;
$scope.broadSpectrum={};
$scope.broadSpectrum.label=data.RECORD_DATA.BROAD_SPECTRUM_LBL;
$scope.broadSpectrum.eventCd=data.RECORD_DATA.BROAD_SPECTRUM_EVENT_CD;
$scope.antibiotics=data.RECORD_DATA.ANTIBIOTIC_LIST;
for(var order=0,orderLength=$scope.antibiotics.length;
order<orderLength;
order++){$scope.antibiotics[order].checked=false;
}lhSepsisAppValuesSrvc.setActiveOrders($scope.antibiotics);
$scope.loading=false;
});
}getData();
$scope.evaluateActiveMeds=function(){lhSepsisAppValuesSrvc.setActiveOrders($scope.antibiotics);
if($scope.broadSpectrum.checked){lhSepsisAppValuesSrvc.setDocumentBroadSpectrumEvent($scope.broadSpectrum);
}else{lhSepsisAppValuesSrvc.setDocumentBroadSpectrumEvent({});
}};
}]);
lhSepsisAntibioticRecsControllers.controller("lhSepsisAntibioticRecsCtrl",["$scope","lhGlobalDataSrvc","lhGlobalConstants","lhGlobalMessagingSrvc","lhSepsisAppValuesSrvc",function($scope,lhGlobalDataSrvc,lhGlobalConstants,lhGlobalMessagingSrvc,lhSepsisAppValuesSrvc){var componentName="lh_sepsis_antibiotic_recs";
$scope.i18n=i18n[componentName];
$scope.template={url:"templates/"+componentName.replace(/_/g,"-")+"-template.html"};
$scope.loadingMessage=$scope.i18n.WAITING_MSG;
$scope.loading=true;
var recommendationsReceived=false;
var sourcesReceived=false;
var ordersToSign=[];
var sourceList=[];
var SINGLE_SELECT=1;
var MULTI_SELECT=2;
$scope.scenarios={};
$scope.$watch(lhSepsisAppValuesSrvc.getSelectRecommendations,function(){$scope.recommendations=lhSepsisAppValuesSrvc.getSelectRecommendations();
if($scope.recommendations.specialDosing){recommendationsReceived=true;
}if(recommendationsReceived&&sourcesReceived){$scope.loadingMessage=$scope.i18n.LOADING_MSG;
getScenarioFilterMeans();
}},true);
$scope.$watch(lhSepsisAppValuesSrvc.getSelectedSourcesAndFactors,function(){sourceList=lhSepsisAppValuesSrvc.getSelectedSourcesAndFactors();
sourcesReceived=true;
if(recommendationsReceived&&sourcesReceived){$scope.loadingMessage=$scope.i18n.LOADING_MSG;
getScenarioFilterMeans();
}});
function getScenarioFilterMeans(){var callScenarioScript=true;
var dataToSend={};
var scenarioParams={};
$scope.scenarios={};
ordersToSign=[];
scenarioParams.encounter_id=lhGlobalConstants.encounter_id;
scenarioParams.person_id=lhGlobalConstants.person_id;
scenarioParams.topic_mean=lhGlobalConstants.topic_mean;
scenarioParams.person_age=$scope.recommendations.patient_age_in_minutes;
scenarioParams.person_ega=$scope.recommendations.patient_ega_in_minutes;
scenarioParams.person_weight=$scope.recommendations.patient_weight_in_grams;
scenarioParams.crcl_1_units="-1";
scenarioParams.crcl_1_op="";
scenarioParams.crcl_2_units="-1";
scenarioParams.crcl_2_op="";
scenarioParams.special_dosing="";
scenarioParams.infections=[];
if(typeof $scope.recommendations.specialDosing!=="undefined"){if($scope.recommendations.specialDosing==="normal"){scenarioParams.crcl_1_units="50";
scenarioParams.crcl_1_op="GTE";
}else{if($scope.recommendations.specialDosing==="single"){scenarioParams.special_dosing="Single Dose";
}else{if($scope.recommendations.specialDosing==="renal"){if(typeof $scope.recommendations.renalDropdown!=="undefined"){if($scope.recommendations.renalDropdown.id===1){scenarioParams.crcl_1_units="40";
scenarioParams.crcl_1_op="GTE";
scenarioParams.crcl_2_units="50";
scenarioParams.crcl_2_op="LT";
}else{if($scope.recommendations.renalDropdown.id===2){scenarioParams.crcl_1_units="30";
scenarioParams.crcl_1_op="GTE";
scenarioParams.crcl_2_units="40";
scenarioParams.crcl_2_op="LT";
}else{if($scope.recommendations.renalDropdown.id===3){scenarioParams.crcl_1_units="20";
scenarioParams.crcl_1_op="GTE";
scenarioParams.crcl_2_units="30";
scenarioParams.crcl_2_op="LT";
}else{if($scope.recommendations.renalDropdown.id===4){scenarioParams.crcl_1_units="10";
scenarioParams.crcl_1_op="GTE";
scenarioParams.crcl_2_units="20";
scenarioParams.crcl_2_op="LT";
}else{if($scope.recommendations.renalDropdown.id===5){scenarioParams.crcl_1_units="10";
scenarioParams.crcl_1_op="LT";
scenarioParams.crcl_2_units="-1";
scenarioParams.crcl_2_op="";
}else{recommendationsReceived=false;
callScenarioScript=false;
$scope.loading=true;
$scope.loadingMessage=$scope.i18n.CHOOSE_FROM_RENAL_DROPDOWN_MSG;
}}}}}}else{recommendationsReceived=false;
callScenarioScript=false;
$scope.loading=true;
$scope.loadingMessage=$scope.i18n.CHOOSE_FROM_RENAL_DROPDOWN_MSG;
}}else{if($scope.recommendations.specialDosing==="dialysis"){if(typeof $scope.recommendations.dialysisDropdown!=="undefined"){if($scope.recommendations.dialysisDropdown.id===1){scenarioParams.special_dosing="IHD";
}else{if($scope.recommendations.dialysisDropdown.id===2){scenarioParams.special_dosing="PD";
}else{if($scope.recommendations.dialysisDropdown.id===3){scenarioParams.special_dosing="CRRT";
}else{recommendationsReceived=false;
callScenarioScript=false;
$scope.loading=true;
$scope.loadingMessage=$scope.i18n.CHOOSE_FROM_DIALYSIS_DROPDOWN_MSG;
}}}}else{recommendationsReceived=false;
callScenarioScript=false;
$scope.loading=true;
$scope.loadingMessage=$scope.i18n.CHOOSE_FROM_DIALYSIS_DROPDOWN_MSG;
}}}}}}else{recommendationsReceived=false;
callScenarioScript=false;
$scope.loading=true;
}if(sourceList.length>0){for(var sourceIdx=0,sourceLength=sourceList.length;
sourceIdx<sourceLength;
sourceIdx++){var sourceAndFactor={};
sourceAndFactor.infection_source=sourceList[sourceIdx].SOURCE_KEY;
sourceAndFactor.infection_source_display=sourceList[sourceIdx].SOURCE_DISPLAY;
sourceAndFactor.infection_factor="";
sourceAndFactor.infection_factor_display="";
if(typeof sourceList[sourceIdx].FACTOR_KEY!=="undefined"){sourceAndFactor.infection_factor=sourceList[sourceIdx].FACTOR_KEY;
sourceAndFactor.infection_factor_display=sourceList[sourceIdx].FACTOR_DISPLAY;
}scenarioParams.infections.push(sourceAndFactor);
if(sourceList[sourceIdx].FACTORS_REQUIRED&&sourceAndFactor.infection_factor===""){sourcesReceived=false;
callScenarioScript=false;
$scope.loading=true;
$scope.loadingMessage=$scope.i18n.FACTOR_WAIT_MSG;
}}}else{sourcesReceived=false;
callScenarioScript=false;
$scope.loading=true;
}dataToSend.scenario_rec=scenarioParams;
if(callScenarioScript){var script={};
script.name="lhc_get_sep_scenario_data";
script.params="^MINE^,^"+JSON.stringify(dataToSend)+"^";
lhGlobalDataSrvc.query(script,$scope).then(function(data){$scope.scenarios=data.RECORD_DATA.SCENARIOS;
for(var scenario=0,scenarioLength=$scope.scenarios.length;
scenario<scenarioLength;
scenario++){for(var category=0,categoryLength=$scope.scenarios[scenario].CATEGORY.length;
category<categoryLength;
category++){var optionListLength=$scope.scenarios[scenario].CATEGORY[category].OPTION_CNT;
$scope.scenarios[scenario].CATEGORY[category].firstColEnd=Math.ceil(optionListLength/2);
if($scope.scenarios[scenario].CATEGORY[category].SELECT_IND===SINGLE_SELECT){for(var option=0;
option<optionListLength;
option++){if($scope.scenarios[scenario].CATEGORY[category].OPTION[option].PRESELECT_IND===1){$scope.scenarios[scenario].CATEGORY[category].option_chosen=$scope.scenarios[scenario].CATEGORY[category].OPTION[option].OPTION_SEQ;
}}}else{if($scope.scenarios[scenario].CATEGORY[category].SELECT_IND===MULTI_SELECT){for(var multiOption=0;
multiOption<optionListLength;
multiOption++){if($scope.scenarios[scenario].CATEGORY[category].OPTION[multiOption].PRESELECT_IND===1){$scope.scenarios[scenario].CATEGORY[category].OPTION[multiOption].checked=true;
}}}}}}if(data.RECORD_DATA.STATUS_DATA.STATUS==="Z"){lhGlobalMessagingSrvc.info($scope.i18n.NO_SCENARIO+$scope.i18n.CONTACT_MSG);
}$scope.evaluateAntibioticOrders();
$scope.loading=false;
});
}}$scope.evaluateAntibioticOrders=function(){ordersToSign=[];
for(var scenario=0;
scenario<$scope.scenarios.length;
scenario++){for(var category=0,categoryLength=$scope.scenarios[scenario].CATEGORY.length;
category<categoryLength;
category++){if($scope.scenarios[scenario].CATEGORY[category].SELECT_IND===SINGLE_SELECT){for(var option=0,optionLength=$scope.scenarios[scenario].CATEGORY[category].OPTION.length;
option<optionLength;
option++){if(Number($scope.scenarios[scenario].CATEGORY[category].option_chosen)===$scope.scenarios[scenario].CATEGORY[category].OPTION[option].OPTION_SEQ){for(var order=0,orderLength=$scope.scenarios[scenario].CATEGORY[category].OPTION[option].ORDER_LIST.length;
order<orderLength;
order++){ordersToSign.push($scope.scenarios[scenario].CATEGORY[category].OPTION[option].ORDER_LIST[order]);
}}}}else{if($scope.scenarios[scenario].CATEGORY[category].SELECT_IND===MULTI_SELECT){for(var multiOption=0,multiOptionLength=$scope.scenarios[scenario].CATEGORY[category].OPTION.length;
multiOption<multiOptionLength;
multiOption++){if($scope.scenarios[scenario].CATEGORY[category].OPTION[multiOption].checked){for(var multiOrder=0,multiOrderLength=$scope.scenarios[scenario].CATEGORY[category].OPTION[multiOption].ORDER_LIST.length;
multiOrder<multiOrderLength;
multiOrder++){ordersToSign.push($scope.scenarios[scenario].CATEGORY[category].OPTION[multiOption].ORDER_LIST[multiOrder]);
}}}}}}}lhSepsisAppValuesSrvc.setAntibioticOrders(ordersToSign);
};
}]);
lhSepsisDiagnosticsControllers.controller("lhSepsisDiagnosticsCtrl",["$scope","lhGlobalDataSrvc","lhGlobalConstants","lhSepsisAppValuesSrvc",function($scope,lhGlobalDataSrvc,lhGlobalConstants,lhSepsisAppValuesSrvc){var componentName="lh_sepsis_diagnostics";
$scope.i18n=i18n[componentName];
$scope.template={url:"templates/"+componentName.replace(/_/g,"-")+"-template.html"};
$scope.loading=true;
var SINGLE_SELECT=1;
var MULTI_SELECT=2;
function getData(){var script={};
script.name="lhc_sepsis_diagnostics_driver";
script.params="^MINE^,"+lhGlobalConstants.person_id+","+lhGlobalConstants.encounter_id+",^"+lhGlobalConstants.topic_mean+"^,^ADV_SEP_ORD_DIAGNOSTICS^";
lhGlobalDataSrvc.query(script,$scope).then(function(data){$scope.categories=data.RECORD_DATA.CATEGORY;
for(var category=0,categoryLength=$scope.categories.length;
category<categoryLength;
category++){var optionListLength=$scope.categories[category].OPTION.length;
$scope.categories[category].firstColEnd=Math.ceil(optionListLength/2);
if($scope.categories[category].SELECT_IND===SINGLE_SELECT){for(var option=0,optionLength=$scope.categories[category].OPTION.length;
option<optionLength;
option++){if($scope.categories[category].OPTION[option].PRESELECT_IND===1){$scope.categories[category].option_chosen=$scope.categories[category].OPTION[option].OPTION_SEQ;
}}}else{if($scope.categories[category].SELECT_IND===MULTI_SELECT){for(var multiOption=0,multiOptionLength=$scope.categories[category].OPTION.length;
multiOption<multiOptionLength;
multiOption++){if($scope.categories[category].OPTION[multiOption].PRESELECT_IND===1){$scope.categories[category].OPTION[multiOption].checked=true;
}}}}}$scope.evaluateDiagnosticOrders();
$scope.loading=false;
});
}getData();
$scope.evaluateDiagnosticOrders=function(){var ordersToSign=[];
for(var category=0,categoryLength=$scope.categories.length;
category<categoryLength;
category++){if($scope.categories[category].SELECT_IND===SINGLE_SELECT){for(var option=0,optionLength=$scope.categories[category].OPTION.length;
option<optionLength;
option++){if(Number($scope.categories[category].option_chosen)===$scope.categories[category].OPTION[option].OPTION_SEQ){for(var order=0,orderLength=$scope.categories[category].OPTION[option].ORDER_LIST.length;
order<orderLength;
order++){ordersToSign.push($scope.categories[category].OPTION[option].ORDER_LIST[order]);
}}}}else{if($scope.categories[category].SELECT_IND===MULTI_SELECT){for(var multiOption=0,multiOptionLength=$scope.categories[category].OPTION.length;
multiOption<multiOptionLength;
multiOption++){if($scope.categories[category].OPTION[multiOption].checked){for(var multiOrder=0,multiOrderLength=$scope.categories[category].OPTION[multiOption].ORDER_LIST.length;
multiOrder<multiOrderLength;
multiOrder++){ordersToSign.push($scope.categories[category].OPTION[multiOption].ORDER_LIST[multiOrder]);
}}}}}}lhSepsisAppValuesSrvc.setDiagnosticStudyOrders(ordersToSign);
};
}]);
lhSepsisDocumentSignControllers.controller("lhSepsisDocumentSignCtrl",["$scope","lhGlobalConstants","lhSepsisAppValuesSrvc","lhGlobalBrFiltersDataSrvc",function($scope,lhGlobalConstants,lhSepsisAppValuesSrvc,lhGlobalBrFiltersDataSrvc){var componentName="lh_sepsis_document_sign";
$scope.i18n=i18n[componentName];
$scope.template={url:"templates/"+componentName.replace(/_/g,"-")+"-template.html"};
$scope.showSupportiveTherapies=(typeof EksReply==="undefined");
var sirs={},sepsis={},severeSepsis={},septicShock={};
$scope.SIRS_VALUE=0;
$scope.SEPSIS_VALUE=1;
$scope.SEVERE_SEPSIS_VALUE=2;
$scope.SEPTIC_SHOCK_VALUE=3;
$scope.diagnosis={};
$scope.addDiagnosis=function(){var sepsisTypeFlag=lhSepsisAppValuesSrvc.getDropdownValue();
if(sepsisTypeFlag===$scope.SIRS_VALUE){$scope.diagnosis.label=sirs.label;
$scope.diagnosis.diagnosis_id=sirs.diagnosis_id;
}else{if(sepsisTypeFlag===$scope.SEPSIS_VALUE){$scope.diagnosis.label=sepsis.label;
$scope.diagnosis.diagnosis_id=sepsis.diagnosis_id;
}else{if(sepsisTypeFlag===$scope.SEVERE_SEPSIS_VALUE){$scope.diagnosis.label=severeSepsis.label;
$scope.diagnosis.diagnosis_id=severeSepsis.diagnosis_id;
}else{if(sepsisTypeFlag===$scope.SEPTIC_SHOCK_VALUE){$scope.diagnosis.label=septicShock.label;
$scope.diagnosis.diagnosis_id=septicShock.diagnosis_id;
}}}}if($scope.diagnosis.checked){lhSepsisAppValuesSrvc.setDiagnosisToDocument($scope.diagnosis);
}else{lhSepsisAppValuesSrvc.setDiagnosisToDocument({});
}};
$scope.$watch(function(){return lhGlobalBrFiltersDataSrvc.getAll();
},function(){$scope.sirsSectionLbl=lhGlobalBrFiltersDataSrvc.get("SIRS_SECTION_LBL",0,"FREETEXT_DESC");
$scope.activeMedsSectionLbl=lhGlobalBrFiltersDataSrvc.get("ACTIVE_MEDS_SECTION_LBL",0,"FREETEXT_DESC");
$scope.antibioticsSectionLbl=lhGlobalBrFiltersDataSrvc.get("ANTIBIOTICS_SECTION_LBL",0,"FREETEXT_DESC");
$scope.fluidsSectionLbl=lhGlobalBrFiltersDataSrvc.get("FLUIDS_SECTION_LBL",0,"FREETEXT_DESC");
$scope.diagnosticsSectionLbl=lhGlobalBrFiltersDataSrvc.get("DIAGNOSTICS_SECTION_LBL",0,"FREETEXT_DESC");
$scope.vasopressorsSectionLbl=lhGlobalBrFiltersDataSrvc.get("VASOPRESSORS_SECTION_LBL",0,"FREETEXT_DESC");
$scope.supportiveSectionLbl=lhGlobalBrFiltersDataSrvc.get("SUPPORTIVE_SECTION_LBL",0,"FREETEXT_DESC");
sirs.label=$scope.i18n.SIRS;
sirs.diagnosis_id=lhGlobalBrFiltersDataSrvc.get("SIRS_DIAGNOSIS",0,"PARENT_ENTITY_ID");
sepsis.label=$scope.i18n.SEPSIS;
sepsis.diagnosis_id=lhGlobalBrFiltersDataSrvc.get("SEPSIS_DIAGNOSIS",0,"PARENT_ENTITY_ID");
severeSepsis.label=$scope.i18n.SVR_SEPSIS;
severeSepsis.diagnosis_id=lhGlobalBrFiltersDataSrvc.get("SVR_SEPSIS_DIAGNOSIS",0,"PARENT_ENTITY_ID");
septicShock.label=$scope.i18n.SEPTIC_SHOCK;
septicShock.diagnosis_id=lhGlobalBrFiltersDataSrvc.get("SEPTIC_SHOCK_DIAGNOSIS",0,"PARENT_ENTITY_ID");
$scope.addDiagnosis();
});
$scope.$watch(function(){return lhSepsisAppValuesSrvc.getDropdownValue();
},function(){$scope.dropdownValue=lhSepsisAppValuesSrvc.getDropdownValue();
$scope.addDiagnosis();
});
$scope.$watch(function(){return lhSepsisAppValuesSrvc.getSelectedSourcesAndFactors();
},function(){$scope.sourceList=lhSepsisAppValuesSrvc.getSelectedSourcesAndFactors();
});
$scope.$watch(function(){return lhSepsisAppValuesSrvc.getDocumentBroadSpectrumEvent();
},function(){$scope.broadSpectrum=lhSepsisAppValuesSrvc.getDocumentBroadSpectrumEvent();
});
$scope.$watch(function(){return lhSepsisAppValuesSrvc.getDocumentSirsCultureEvent();
},function(){$scope.sirsCulture=lhSepsisAppValuesSrvc.getDocumentSirsCultureEvent();
});
$scope.$watch(function(){return lhSepsisAppValuesSrvc.getSirsOrders();
},function(){$scope.sirsOrders=lhSepsisAppValuesSrvc.getSirsOrders();
});
$scope.$watch(function(){return lhSepsisAppValuesSrvc.getActiveOrders();
},function(){$scope.activeOrders=lhSepsisAppValuesSrvc.getActiveOrders();
});
$scope.$watch(function(){return lhSepsisAppValuesSrvc.getAntibioticOrders();
},function(){$scope.antibioticOrders=lhSepsisAppValuesSrvc.getAntibioticOrders();
});
$scope.$watch(function(){return lhSepsisAppValuesSrvc.getFluidTherapyOrders();
},function(){$scope.fluidTherapyOrders=lhSepsisAppValuesSrvc.getFluidTherapyOrders();
});
$scope.$watch(function(){return lhSepsisAppValuesSrvc.getDiagnosticStudyOrders();
},function(){$scope.diagnosticOrders=lhSepsisAppValuesSrvc.getDiagnosticStudyOrders();
});
$scope.$watch(function(){return lhSepsisAppValuesSrvc.getVasopressorOrders();
},function(){$scope.vasopressorOrders=lhSepsisAppValuesSrvc.getVasopressorOrders();
});
$scope.$watch(function(){return lhSepsisAppValuesSrvc.getSupportivePowerplans();
},function(){$scope.supportivePowerplans=lhSepsisAppValuesSrvc.getSupportivePowerplans();
});
}]);
lhSepsisDosingControllers.controller("lhSepsisDosingCtrl",["$scope","lhGlobalDataSrvc","lhGlobalConstants","lhSepsisAppValuesSrvc",function($scope,lhGlobalDataSrvc,lhGlobalConstants,lhSepsisAppValuesSrvc){var componentName="lh_sepsis_dosing";
$scope.i18n=i18n[componentName];
$scope.template={url:"templates/"+componentName.replace(/_/g,"-")+"-template.html"};
$scope.loading=true;
$scope.TWENTY_NINE_DAYS_IN_MINUTES=41760;
function getData(){var script={};
script.name="lhc_sep_special_dosing_driver";
script.params="^MINE^,"+lhGlobalConstants.person_id+","+lhGlobalConstants.encounter_id+",^"+lhGlobalConstants.topic_mean+"^";
lhGlobalDataSrvc.query(script,$scope).then(function(data){$scope.recommendations={};
$scope.recommendations.patient_weight_in_grams=data.RECORD_DATA.PATIENT_WEIGHT_IN_GRAMS;
$scope.recommendations.patient_ega_in_minutes=data.RECORD_DATA.PATIENT_EGA_IN_MINUTES;
$scope.recommendations.patient_age_in_minutes=data.RECORD_DATA.PATIENT_AGE_IN_MINUTES;
$scope.weightLabel=data.RECORD_DATA.WEIGHT_TYPE_FLAG===1?$scope.i18n.DOSING_MEAS_WEIGHT_NOTE:$scope.i18n.DOSING_EST_WEIGHT_NOTE;
$scope.weightResultValue=data.RECORD_DATA.WEIGHT_RESULT_VAL;
$scope.weightEventCdDisp=data.RECORD_DATA.WEIGHT_EVENT_CD_DISP;
$scope.weightUnitDisp=data.RECORD_DATA.WEIGHT_UNIT_DISP;
$scope.hasRenalDiseaseOrDialysis=data.RECORD_DATA.HAS_RENAL_DISEASE_OR_DIALYSIS;
$scope.renalInsufficiencyLabel=data.RECORD_DATA.RENAL_INSUFFICIENCY_LBL?data.RECORD_DATA.RENAL_INSUFFICIENCY_LBL:$scope.i18n.RENAL_INSUFFICIENCY_LABEL;
$scope.normalDosingLabel=data.RECORD_DATA.NORMAL_DOSING_LABEL?data.RECORD_DATA.NORMAL_DOSING_LABEL:$scope.i18n.NORMAL_DOSE;
$scope.singleDoseLabel=data.RECORD_DATA.SINGLE_DOSE_LABEL?data.RECORD_DATA.SINGLE_DOSE_LABEL:$scope.i18n.SINGLE_DOSE;
$scope.renallyAdjustDoseLabel=data.RECORD_DATA.RENALLY_ADJUST_DOSE_LABEL;
$scope.dialysisPatientLabel=data.RECORD_DATA.DIALYSIS_PATIENT_LABEL;
$scope.renalFunctionLabel=data.RECORD_DATA.RENAL_FUNCTION_LABEL;
$scope.dosingWeightLabel=$scope.i18n.DOSING_WEIGHT_NOTE;
$scope.dialysisPatientChoices=[{id:0,name:""},{id:1,name:$scope.i18n.INTERMITTENT_DIALYSIS},{id:2,name:$scope.i18n.PERITONEAL_DIALYSIS},{id:3,name:$scope.i18n.CONTINUOUS_RRT}];
$scope.renalDoseChoices=[{id:0,name:""},{id:1,name:$scope.i18n.RANGE_GE40_L50},{id:2,name:$scope.i18n.RANGE_GE30_L40},{id:3,name:$scope.i18n.RANGE_GE20_L30},{id:4,name:$scope.i18n.RANGE_GE10_L20},{id:5,name:$scope.i18n.RANGE_L10}];
$scope.recommendations.renalDropdown=$scope.renalDoseChoices[0];
$scope.recommendations.dialysisDropdown=$scope.dialysisPatientChoices[0];
if(data.RECORD_DATA.CRCL_NAME!==""){$scope.crclNameToDisplay=data.RECORD_DATA.CRCL_NAME;
$scope.crclValueToDisplay=data.RECORD_DATA.CRCL_VALUE;
$scope.crclUnitValueToDisplay=data.RECORD_DATA.CRCL_UNIT_VALUE;
$scope.crclDateToDisplay=data.RECORD_DATA.CRCL_DT_TM;
}else{$scope.crclNameToDisplay=$scope.i18n.DEFAULT_CRCL_NAME;
$scope.crclValueToDisplay=$scope.i18n.NULL;
$scope.crclDateToDisplay="";
$scope.crclUnitValueToDisplay="";
}if(data.RECORD_DATA.EST_CRCL_NAME!==""){$scope.estCrclNameToDisplay=data.RECORD_DATA.EST_CRCL_NAME;
$scope.estCrclValueToDisplay=data.RECORD_DATA.EST_CRCL_VALUE;
$scope.estCrcrlUnitValueToDisplay=data.RECORD_DATA.EST_CRCL_UNIT_VALUE;
$scope.estCrclDateToDisplay=data.RECORD_DATA.EST_CRCL_DT_TM;
}else{$scope.estCrclNameToDisplay=$scope.i18n.DEFAULT_EST_CRCL_NAME;
$scope.estCrclValueToDisplay=$scope.i18n.NULL;
$scope.estCrclDateToDisplay="";
$scope.estCrcrlUnitValueToDisplay="";
}$scope.valueToSuggestRenalDropDown=data.RECORD_DATA.EST_CRCL_VALUE;
if($scope.valueToSuggestRenalDropDown){if($scope.valueToSuggestRenalDropDown>=50){$scope.recommendations.specialDosing="normal";
}else{if($scope.valueToSuggestRenalDropDown>=40&&$scope.valueToSuggestRenalDropDown<50){$scope.recommendations.specialDosing="renal";
$scope.recommendations.renalDropdown=$scope.renalDoseChoices[1];
}else{if($scope.valueToSuggestRenalDropDown>=30&&$scope.valueToSuggestRenalDropDown<40){$scope.recommendations.specialDosing="renal";
$scope.recommendations.renalDropdown=$scope.renalDoseChoices[2];
}else{if($scope.valueToSuggestRenalDropDown>=20&&$scope.valueToSuggestRenalDropDown<30){$scope.recommendations.specialDosing="renal";
$scope.recommendations.renalDropdown=$scope.renalDoseChoices[3];
}else{if($scope.valueToSuggestRenalDropDown>=10&&$scope.valueToSuggestRenalDropDown<20){$scope.recommendations.specialDosing="renal";
$scope.recommendations.renalDropdown=$scope.renalDoseChoices[4];
}else{if($scope.valueToSuggestRenalDropDown<10){$scope.recommendations.specialDosing="renal";
$scope.recommendations.renalDropdown=$scope.renalDoseChoices[5];
}}}}}}$scope.evaluateSpecialDosing();
}$scope.loading=false;
});
}getData();
$scope.evaluateSpecialDosing=function(){if($scope.recommendations.specialDosing!=="renal"){$scope.recommendations.renalDropdown=$scope.renalDoseChoices[0];
}if($scope.recommendations.specialDosing!=="dialysis"){$scope.recommendations.dialysisDropdown=$scope.dialysisPatientChoices[0];
}lhSepsisAppValuesSrvc.setSelectRecommendations($scope.recommendations);
};
$scope.updateRenalDosing=function(){if($scope.recommendations.renalDropdown.id>0){$scope.recommendations.specialDosing="renal";
}$scope.evaluateSpecialDosing();
};
$scope.updateDialysisDosing=function(){if($scope.recommendations.dialysisDropdown.id>0){$scope.recommendations.specialDosing="dialysis";
}$scope.evaluateSpecialDosing();
};
}]);
lhSepsisFluidsControllers.controller("lhSepsisFluidsCtrl",["$scope","lhGlobalDataSrvc","lhGlobalConstants","lhSepsisAppValuesSrvc",function($scope,lhGlobalDataSrvc,lhGlobalConstants,lhSepsisAppValuesSrvc){var componentName="lh_sepsis_fluids";
$scope.i18n=i18n[componentName];
$scope.template={url:"templates/"+componentName.replace(/_/g,"-")+"-template.html"};
$scope.loading=true;
var SINGLE_SELECT=1;
var MULTI_SELECT=2;
function getData(){var script={};
script.name="lhc_get_ado_scenario_driver";
script.params="^MINE^,"+lhGlobalConstants.encounter_id+",^"+lhGlobalConstants.topic_mean+"^,^ADV_SEP_ORD_FLUIDS^";
lhGlobalDataSrvc.query(script,$scope).then(function(data){$scope.categories=data.RECORD_DATA.CATEGORY;
for(var category=0,categoryLength=$scope.categories.length;
category<categoryLength;
category++){var optionListLength=$scope.categories[category].OPTION.length;
$scope.categories[category].firstColEnd=Math.ceil(optionListLength/2);
if($scope.categories[category].SELECT_IND===SINGLE_SELECT){for(var option=0,optionLength=$scope.categories[category].OPTION.length;
option<optionLength;
option++){if($scope.categories[category].OPTION[option].PRESELECT_IND===1){$scope.categories[category].option_chosen=$scope.categories[category].OPTION[option].OPTION_SEQ;
}}}else{if($scope.categories[category].SELECT_IND===MULTI_SELECT){for(var multiOption=0,multiOptionLength=$scope.categories[category].OPTION.length;
multiOption<multiOptionLength;
multiOption++){if($scope.categories[category].OPTION[multiOption].PRESELECT_IND===1){$scope.categories[category].OPTION[multiOption].checked=true;
}}}}}$scope.evaluateFluidOrders();
$scope.loading=false;
});
}getData();
$scope.evaluateFluidOrders=function(){var ordersToSign=[];
for(var category=0,categoryLength=$scope.categories.length;
category<categoryLength;
category++){if($scope.categories[category].SELECT_IND===SINGLE_SELECT){for(var option=0,optionLength=$scope.categories[category].OPTION.length;
option<optionLength;
option++){if(Number($scope.categories[category].option_chosen)===$scope.categories[category].OPTION[option].OPTION_SEQ){for(var order=0,orderLength=$scope.categories[category].OPTION[option].ORDER_LIST.length;
order<orderLength;
order++){ordersToSign.push($scope.categories[category].OPTION[option].ORDER_LIST[order]);
}}}}else{if($scope.categories[category].SELECT_IND===MULTI_SELECT){for(var multiOption=0,multiOptionLength=$scope.categories[category].OPTION.length;
multiOption<multiOptionLength;
multiOption++){if($scope.categories[category].OPTION[multiOption].checked){for(var multiOrder=0,multiOrderLength=$scope.categories[category].OPTION[multiOption].ORDER_LIST.length;
multiOrder<multiOrderLength;
multiOrder++){ordersToSign.push($scope.categories[category].OPTION[multiOption].ORDER_LIST[multiOrder]);
}}}}}}lhSepsisAppValuesSrvc.setFluidTherapyOrders(ordersToSign);
};
}]);
lhSepsisSirsControllers.controller("lhSepsisSirsCtrl",["$scope","lhGlobalDataSrvc","lhGlobalConstants","lhGlobalMessagingSrvc","lhSepsisAppValuesSrvc",function($scope,lhGlobalDataSrvc,lhGlobalConstants,lhGlobalMessagingSrvc,lhSepsisAppValuesSrvc){var componentName="lh_sepsis_sirs";
$scope.i18n=i18n[componentName];
$scope.template={url:"templates/"+componentName.replace(/_/g,"-")+"-template.html"};
$scope.loading=true;
$scope.collected={};
$scope.collected.checked=false;
$scope.categories=[];
var SINGLE_SELECT=1;
var MULTI_SELECT=2;
function getData(){var script={};
script.name="lhc_sepsis_sirs_driver";
script.params="^MINE^,"+lhGlobalConstants.encounter_id+",^"+lhGlobalConstants.topic_mean+"^";
lhGlobalDataSrvc.query(script,$scope).then(function(data){$scope.collected.label=data.RECORD_DATA.SIRS_NO_CULTURES_LBL;
$scope.collected.eventCd=data.RECORD_DATA.SIRS_NO_CULTURES_EVENT_CD;
});
}function getOrders(){var script={};
script.name="lhc_get_ado_scenario_driver";
script.params="^MINE^,"+lhGlobalConstants.encounter_id+",^"+lhGlobalConstants.topic_mean+"^,^ADV_SEP_ORD_SIRS^";
lhGlobalDataSrvc.query(script,$scope).then(function(data){$scope.categories=data.RECORD_DATA.CATEGORY;
for(var category=0,categoryLength=$scope.categories.length;
category<categoryLength;
category++){var optionListLength=$scope.categories[category].OPTION.length;
$scope.categories[category].firstColEnd=Math.ceil(optionListLength/2);
if($scope.categories[category].SELECT_IND===SINGLE_SELECT){for(var option=0,optionLength=$scope.categories[category].OPTION.length;
option<optionLength;
option++){if($scope.categories[category].OPTION[option].PRESELECT_IND===1){$scope.categories[category].option_chosen=$scope.categories[category].OPTION[option].OPTION_SEQ;
}}}else{if($scope.categories[category].SELECT_IND===MULTI_SELECT){for(var multiOption=0,multiOptionLength=$scope.categories[category].OPTION.length;
multiOption<multiOptionLength;
multiOption++){if($scope.categories[category].OPTION[multiOption].PRESELECT_IND===1){$scope.categories[category].OPTION[multiOption].checked=true;
}}}}}$scope.evaluateSirsOrders();
$scope.loading=false;
});
}getData();
getOrders();
$scope.evaluateSirsOrders=function(){if($scope.collected.checked){lhSepsisAppValuesSrvc.setDocumentSirsCultureEvent($scope.collected);
}else{lhSepsisAppValuesSrvc.setDocumentSirsCultureEvent({});
}var ordersToSign=[];
for(var category=0,categoryLength=$scope.categories.length;
category<categoryLength;
category++){if($scope.categories[category].SELECT_IND===SINGLE_SELECT){for(var option=0,optionLength=$scope.categories[category].OPTION.length;
option<optionLength;
option++){if(Number($scope.categories[category].option_chosen)===$scope.categories[category].OPTION[option].OPTION_SEQ){for(var order=0,orderLength=$scope.categories[category].OPTION[option].ORDER_LIST.length;
order<orderLength;
order++){ordersToSign.push($scope.categories[category].OPTION[option].ORDER_LIST[order]);
}}}}else{if($scope.categories[category].SELECT_IND===MULTI_SELECT){for(var multiOption=0,multiOptionLength=$scope.categories[category].OPTION.length;
multiOption<multiOptionLength;
multiOption++){if($scope.categories[category].OPTION[multiOption].checked){for(var multiOrder=0,multiOrderLength=$scope.categories[category].OPTION[multiOption].ORDER_LIST.length;
multiOrder<multiOrderLength;
multiOrder++){ordersToSign.push($scope.categories[category].OPTION[multiOption].ORDER_LIST[multiOrder]);
}}}}}}lhSepsisAppValuesSrvc.setSirsOrders(ordersToSign);
};
}]);
lhSepsisSourceControllers.controller("lhSepsisSourceCtrl",["$scope","lhGlobalDataSrvc","lhGlobalConstants","lhSepsisAppValuesSrvc","$filter",function($scope,lhGlobalDataSrvc,lhGlobalConstants,lhSepsisAppValuesSrvc,$filter){var componentName="lh_sepsis_source";
$scope.i18n=i18n[componentName];
$scope.template={url:"templates/"+componentName.replace(/_/g,"-")+"-template.html"};
$scope.loading=true;
$scope.selectedSources=[];
function getData(){var script={};
script.name="lhc_sep_source_factor_driver";
script.params="^MINE^,"+lhGlobalConstants.person_id+","+lhGlobalConstants.encounter_id+",^"+lhGlobalConstants.topic_mean+"^";
lhGlobalDataSrvc.query(script,$scope).then(function(data){$scope.sourcesLbl=data.RECORD_DATA.SOURCES_LBL;
$scope.factorsLbl=data.RECORD_DATA.FACTORS_LBL;
$scope.sources=data.RECORD_DATA.SOURCE_LIST;
$scope.noSource={};
$scope.noSource.checked=false;
$scope.noSource.noSourceLbl=data.RECORD_DATA.NO_SOURCE_LBL;
$scope.maxSourceLbl=data.RECORD_DATA.MAX_SOURCE_LBL;
$scope.maxSourceNum=data.RECORD_DATA.MAX_SOURCE_NUM;
$scope.loading=false;
var sourceListLength=data.RECORD_DATA.SOURCE_LIST.length;
$scope.firstColLength=Math.ceil(sourceListLength/3);
$scope.secondColLength=$scope.firstColLength+Math.ceil((sourceListLength-$scope.firstColLength)/2);
$scope.evaluateSources();
});
}getData();
$scope.evaluateSources=function(){$scope.displayFactors=false;
lhSepsisAppValuesSrvc.setDisableSelectRecommendation(true);
var selectedSourcesAndFactors=[];
if($scope.noSource.checked){lhSepsisAppValuesSrvc.setDropdownValue(0);
lhSepsisAppValuesSrvc.setDisableSelectRecommendation(false);
}else{$scope.selectedSources=$filter("filter")($scope.sources,{checked:true});
for(var source=0,sourceLength=$scope.selectedSources.length;
source<sourceLength;
source++){if($scope.selectedSources[source].FACTOR_LIST.length>0){$scope.displayFactors=true;
lhSepsisAppValuesSrvc.setDisableSelectRecommendation(true);
}else{lhSepsisAppValuesSrvc.setDisableSelectRecommendation(false);
}var factorListLength=$scope.selectedSources[source].FACTOR_LIST.length;
var firstColEnd=Math.ceil(factorListLength/3);
var secondColEnd=firstColEnd+Math.ceil((factorListLength-firstColEnd)/2);
$scope.selectedSources[source].FACTOR_LIST.firstColEnd=firstColEnd;
$scope.selectedSources[source].FACTOR_LIST.secondColEnd=secondColEnd;
var sourceAndFactor={};
sourceAndFactor.SOURCE_DISPLAY=$scope.selectedSources[source].SOURCE_DISPLAY;
sourceAndFactor.SOURCE_KEY=$scope.selectedSources[source].SOURCE_KEY;
sourceAndFactor.FACTORS_REQUIRED=$scope.selectedSources[source].FACTOR_LIST.length?true:false;
$scope.selectedSources[source].factorSelected=false;
for(var factor=0,factorLength=$scope.selectedSources[source].FACTOR_LIST.length;
factor<factorLength;
factor++){if($scope.selectedSources[source].FACTOR_LIST[factor].checked){sourceAndFactor.FACTOR_DISPLAY=$scope.selectedSources[source].FACTOR_LIST[factor].FACTOR_DISPLAY;
sourceAndFactor.FACTOR_KEY=$scope.selectedSources[source].FACTOR_LIST[factor].FACTOR_KEY;
$scope.selectedSources[source].factorSelected=true;
lhSepsisAppValuesSrvc.setDisableSelectRecommendation(false);
}}selectedSourcesAndFactors.push(sourceAndFactor);
}}lhSepsisAppValuesSrvc.setSelectedSourcesAndFactors(selectedSourcesAndFactors);
if((Number(lhSepsisAppValuesSrvc.getDropdownValue())===0)&&($scope.selectedSources.length>0)&&!($scope.noSource.checked)){lhSepsisAppValuesSrvc.setDropdownValue(1);
}if((Number(lhSepsisAppValuesSrvc.getDropdownValue())===1)&&($scope.selectedSources.length>0)&&($scope.noSource.checked)){lhSepsisAppValuesSrvc.setDropdownValue(0);
}};
}]);
lhSepsisSupportiveControllers.controller("lhSepsisSupportiveCtrl",["$scope","lhGlobalDataSrvc","lhGlobalConstants","lhSepsisAppValuesSrvc","$filter",function($scope,lhGlobalDataSrvc,lhGlobalConstants,lhSepsisAppValuesSrvc,$filter){var componentName="lh_sepsis_supportive";
$scope.i18n=i18n[componentName];
$scope.template={url:"templates/"+componentName.replace(/_/g,"-")+"-template.html"};
$scope.loading=true;
function getData(){var script={};
script.name="lhc_sepsis_supportive_driver";
script.params="^MINE^,"+lhGlobalConstants.person_id+","+lhGlobalConstants.encounter_id+",^"+lhGlobalConstants.topic_mean+"^";
lhGlobalDataSrvc.query(script,$scope).then(function(data){$scope.instruction=data.RECORD_DATA.SUPPORTIVE_INSTRUCTION;
$scope.plans=data.RECORD_DATA.POWERPLAN_LIST;
for(var plan=0,planLength=$scope.plans.length;
plan<planLength;
plan++){if($scope.plans[plan].PRESELECT_IND===1){$scope.plans[plan].checked=true;
}}lhSepsisAppValuesSrvc.setSupportivePowerplans($filter("filter")($scope.plans,{checked:true}));
var powerPlanListLength=data.RECORD_DATA.POWERPLAN_LIST.length;
$scope.firstColEnd=Math.ceil(powerPlanListLength/2);
$scope.loading=false;
});
}getData();
$scope.evaluateSupportivePowerPlans=function(){lhSepsisAppValuesSrvc.setSupportivePowerplans($filter("filter")($scope.plans,{checked:true}));
};
}]);
lhSepsisVasopressorsControllers.controller("lhSepsisVasopressorsCtrl",["$scope","lhGlobalDataSrvc","lhGlobalConstants","lhSepsisAppValuesSrvc",function($scope,lhGlobalDataSrvc,lhGlobalConstants,lhSepsisAppValuesSrvc){var componentName="lh_sepsis_vasopressors";
$scope.i18n=i18n[componentName];
$scope.template={url:"templates/"+componentName.replace(/_/g,"-")+"-template.html"};
$scope.loading=true;
var SINGLE_SELECT=1;
var MULTI_SELECT=2;
function getData(){var script={};
script.name="lhc_get_ado_scenario_driver";
script.params="^MINE^,"+lhGlobalConstants.encounter_id+",^"+lhGlobalConstants.topic_mean+"^,^ADV_SEP_ORD_VASOPRESSORS^";
lhGlobalDataSrvc.query(script,$scope).then(function(data){$scope.categories=data.RECORD_DATA.CATEGORY;
for(var category=0,categoriesLength=$scope.categories.length;
category<categoriesLength;
category++){var optionListLength=$scope.categories[category].OPTION.length;
$scope.categories[category].firstColEnd=Math.ceil(optionListLength/2);
if($scope.categories[category].SELECT_IND===SINGLE_SELECT){for(var option=0,optionLength=$scope.categories[category].OPTION.length;
option<optionLength;
option++){if($scope.categories[category].OPTION[option].PRESELECT_IND===1){$scope.categories[category].option_chosen=$scope.categories[category].OPTION[option].OPTION_SEQ;
}}}else{if($scope.categories[category].SELECT_IND===MULTI_SELECT){for(var multiOption=0,multiOptionLength=$scope.categories[category].OPTION.length;
multiOption<multiOptionLength;
multiOption++){if($scope.categories[category].OPTION[multiOption].PRESELECT_IND===1){$scope.categories[category].OPTION[multiOption].checked=true;
}}}}}$scope.evaluateVasopressorOrders();
$scope.loading=false;
});
}function checkDropdown(){if(lhSepsisAppValuesSrvc.getDropdownValue()===3){$("div#vasopressors-section").show("fast");
}else{$("div#vasopressors-section").hide("fast");
}}getData();
checkDropdown();
$scope.$watch(function(){return lhSepsisAppValuesSrvc.getDropdownValue();
},function(){checkDropdown();
});
$scope.evaluateVasopressorOrders=function(){var ordersToSign=[];
for(var category=0,categoriesLength=$scope.categories.length;
category<categoriesLength;
category++){if($scope.categories[category].SELECT_IND===SINGLE_SELECT){for(var option=0,optionLength=$scope.categories[category].OPTION.length;
option<optionLength;
option++){if(Number($scope.categories[category].option_chosen)===$scope.categories[category].OPTION[option].OPTION_SEQ){for(var order=0,orderLength=$scope.categories[category].OPTION[option].ORDER_LIST.length;
order<orderLength;
order++){ordersToSign.push($scope.categories[category].OPTION[option].ORDER_LIST[order]);
}}}}else{if($scope.categories[category].SELECT_IND===MULTI_SELECT){for(var multiOption=0,multiOptionLength=$scope.categories[category].OPTION.length;
multiOption<multiOptionLength;
multiOption++){if($scope.categories[category].OPTION[multiOption].checked){for(var multiOrder=0,multiOrderLength=$scope.categories[category].OPTION[multiOption].ORDER_LIST.length;
multiOrder<multiOrderLength;
multiOrder++){ordersToSign.push($scope.categories[category].OPTION[multiOption].ORDER_LIST[multiOrder]);
}}}}}}lhSepsisAppValuesSrvc.setVasopressorOrders(ordersToSign);
};
}]);
lhVitalSignsControllers.controller("lhVitalSignsCtrl",["$scope","lhGlobalDataSrvc","lhGlobalConstants","lhGlobalMessagingSrvc","lhShareVitalsSrvc",function($scope,lhGlobalDataSrvc,lhGlobalConstants,lhGlobalMessagingSrvc,lhShareVitalsSrvc){var componentName="lh_vital_signs";
$scope.i18n=i18n[componentName];
$scope.template={url:"templates/"+componentName.replace(/_/g,"-")+"-template.html"};
$scope.loading=true;
$scope.buildLink=(typeof EksReply==="undefined");
function getData(){var script={};
script.name="LHC_VITALS_DRIVER_2";
script.lastNResults="0";
script.maxLookBackRange="96";
script.params="^MINE^,"+lhGlobalConstants.person_id+","+lhGlobalConstants.encounter_id+","+script.lastNResults+","+script.maxLookBackRange+",^"+lhGlobalConstants.topic_mean+"^";
lhGlobalDataSrvc.query(script,$scope).then(function(data){$scope.loading=false;
$scope.vitalSigns=data.RECORD_DATA.VITALS;
lhShareVitalsSrvc.setSharedVitals($scope.vitalSigns);
$scope.vitalSignsLabel=data.RECORD_DATA.VITALS_LABEL;
$scope.vitalsLookbackLabel=data.RECORD_DATA.VITALS_LOOK_BACK_LABEL;
$scope.link="/PERSONID="+lhGlobalConstants.person_id+" /ENCNTRID="+lhGlobalConstants.encounter_id+" /FIRSTTAB=^"+data.RECORD_DATA.VITALS_LINK+"^";
$scope.temperatureGraphData=[];
$scope.sysGraphData=[];
$scope.diaGraphData=[];
$scope.heartRateGraphData=[];
$scope.respiratoryRateGraphData=[];
$scope.meanArterialPressureGraphData=[];
$scope.temperatureUnits="";
$scope.bloodPressureUnits="";
$scope.heartRateUnits="";
$scope.respiratoryRateUnits="";
$scope.meanArterialPressureUnits="";
for(var vitalIdx=0,vitalLength=$scope.vitalSigns.length;
vitalIdx<vitalLength;
vitalIdx++){switch($scope.vitalSigns[vitalIdx].DISPLAY_FLAG){case 1:$scope.vitalSigns[vitalIdx].DISPLAY_TEXT=$scope.i18n.TEMPERATURE;
for(var tempIdx=0,tempLength=$scope.vitalSigns[vitalIdx].RESULTS.length;
tempIdx<tempLength;
tempIdx++){var temperatureResult=[];
temperatureResult.push($scope.vitalSigns[vitalIdx].RESULTS[tempIdx].DATETIME);
temperatureResult.push(parseFloat($scope.vitalSigns[vitalIdx].RESULTS[tempIdx].VALUE));
$scope.temperatureGraphData.push(temperatureResult);
$scope.temperatureUnits=$scope.vitalSigns[vitalIdx].RESULTS[tempIdx].UNITS;
}break;
case 2:$scope.vitalSigns[vitalIdx].DISPLAY_TEXT=$scope.i18n.BLOOD_PRESSURE;
for(var bpIdx=0,bpLength=$scope.vitalSigns[vitalIdx].RESULTS.length;
bpIdx<bpLength;
bpIdx++){var sysResult=[];
var diaResult=[];
sysResult.push($scope.vitalSigns[vitalIdx].RESULTS[bpIdx].DATETIME);
sysResult.push(parseFloat($scope.vitalSigns[vitalIdx].RESULTS[bpIdx].BP_SYS_VALUE));
diaResult.push($scope.vitalSigns[vitalIdx].RESULTS[bpIdx].DATETIME);
diaResult.push(parseFloat($scope.vitalSigns[vitalIdx].RESULTS[bpIdx].BP_DIA_VALUE));
$scope.sysGraphData.push(sysResult);
$scope.diaGraphData.push(diaResult);
$scope.bloodPressureUnits=$scope.vitalSigns[vitalIdx].RESULTS[bpIdx].BP_SYS_UNITS;
}break;
case 3:$scope.vitalSigns[vitalIdx].DISPLAY_TEXT=$scope.i18n.HEART_RATE;
for(var hrIdx=0,hrLength=$scope.vitalSigns[vitalIdx].RESULTS.length;
hrIdx<hrLength;
hrIdx++){var hrResult=[];
hrResult.push($scope.vitalSigns[vitalIdx].RESULTS[hrIdx].DATETIME);
hrResult.push(parseFloat($scope.vitalSigns[vitalIdx].RESULTS[hrIdx].VALUE));
$scope.heartRateGraphData.push(hrResult);
$scope.heartRateUnits=$scope.vitalSigns[vitalIdx].RESULTS[hrIdx].UNITS;
}break;
case 4:$scope.vitalSigns[vitalIdx].DISPLAY_TEXT=$scope.i18n.RESPIRATORY_RATE;
for(var rrIdx=0,rrLength=$scope.vitalSigns[vitalIdx].RESULTS.length;
rrIdx<rrLength;
rrIdx++){var rrResult=[];
rrResult.push($scope.vitalSigns[vitalIdx].RESULTS[rrIdx].DATETIME);
rrResult.push(parseFloat($scope.vitalSigns[vitalIdx].RESULTS[rrIdx].VALUE));
$scope.respiratoryRateGraphData.push(rrResult);
$scope.respiratoryRateUnits=$scope.vitalSigns[vitalIdx].RESULTS[rrIdx].UNITS;
}break;
case 5:$scope.vitalSigns[vitalIdx].DISPLAY_TEXT=$scope.i18n.MEAN_ARTERIAL_PRESSURE;
for(var mapIdx=0,mapLength=$scope.vitalSigns[vitalIdx].RESULTS.length;
mapIdx<mapLength;
mapIdx++){var mapResult=[];
mapResult.push($scope.vitalSigns[vitalIdx].RESULTS[mapIdx].DATETIME);
mapResult.push(parseFloat($scope.vitalSigns[vitalIdx].RESULTS[mapIdx].VALUE));
$scope.meanArterialPressureGraphData.push(mapResult);
$scope.meanArterialPressureUnits=$scope.vitalSigns[vitalIdx].RESULTS[mapIdx].UNITS;
}break;
}}if(data.RECORD_DATA.IS_VITALS_LABEL_SET===0){lhGlobalMessagingSrvc.info($scope.i18n.LABEL_NOT_SET_MSG);
}});
}getData();
}]);
messaging_builder_module_controllers.controller("lhGlobalMessagingCtrl",["$scope","lhGlobalMessagingSrvc",function($scope,lhGlobalMessagingSrvc){$scope.componentName="messaging_builder";
$scope.Messages=[];
$scope.template={url:"templates/"+$scope.componentName.replace(/_/g,"-")+"-template.html"};
$scope.getMessages=function(){return lhGlobalMessagingSrvc.getMessages();
};
$scope.$watch("getMessages()",function(n,o){$scope.Messages=n;
},true);
}]);
lh_global_directives.directive("lhGlobalAssociatedToAdvisorImage",function(){var documentImg='<div class="lh-global-icon lh-global-icon-associated-to-advisor" title="{{titleValue}}" />';
return{restrict:"A",replace:true,template:documentImg,link:function(scope,element,attrs){attrs.$observe("lhTitleValue",function(val){scope.titleValue=val;
});
}};
});
lh_global_directives.directive("lhGlobalBlueModifyTriangle",function(){var blueTriangleImg='<div class="lh-global-icon lh-global-icon-blue-modify-triangle" ng-show="showThis == 1" />';
return{restrict:"A",scope:{lhShow:"@",lhFunction:"&"},replace:true,template:blueTriangleImg,link:function(scope,element,attrs){scope.showThis=0;
if(scope.lhShow!==undefined){scope.showThis=scope.lhShow;
if(scope.lhShow==1){if(scope.lhFunction!==undefined){scope.$eval(scope.lhFunction);
}}}}};
});
lh_global_directives.directive("lhGlobalCreateBreadcrumb",function(){var breadCrumbTemplate="<ul id=\"lh-global-breadcrumb\"><li ng-repeat=\"step in steps\" ng-click=\"navigateToSection($index); expandCollapseSections($index)\"><a ng-class=\"{'active':($index == currentStep()) && !$last, 'visited':($index <= furthestStep()) && ($index != currentStep()) && !$last, 'not-enabled':($index > furthestStep()) && !$last, 'last':($index > furthestStep()) && $last, 'last-enabled':($index == currentStep()) && $last, 'last-visited':($index <= furthestStep()) && ($index != currentStep()) && $last}\">{{step}}</a></li></ul>";
return{restrict:"A",template:breadCrumbTemplate,controller:["$scope","$attrs","$rootScope","lhGlobalStepSrvc",function($scope,$attrs,$rootScope,lhGlobalStepSrvc){$scope.currentStep=function(){return lhGlobalStepSrvc.getCurrentStep();
};
$scope.furthestStep=function(){return lhGlobalStepSrvc.getFurthestStep();
};
$scope.expandCollapseSections=function(idx){if(lhGlobalStepSrvc.getFurthestStep()>=idx){$rootScope.$broadcast("breadCrumbClicked",$scope.currentStep());
}};
}]};
});
lh_global_directives.directive("lhGlobalLoadingImage",function(){var myTemplate_1='<div class="lh-global-loading-container"><div class="lh-global-{{alignment}}-align"><div class="lh-global-loading-image lh-global-{{listOrInline}}"></div><div class="lh-global-loading-text lh-global-{{listOrInline}}">{{displayText}}</div></div></div>';
var myTemplate_2='<div class="lh-global-loading-container"><div class="lh-global-{{alignment}}-align"><div class="lh-global-loading-text lh-global-{{listOrInline}}">{{displayText}}</div><div class="lh-global-loading-image lh-global-{{listOrInline}}"></div></div></div>';
return{restrict:"A",replace:true,compile:function(element,attrs){var whichTemplate;
var listOrInline;
switch(attrs.lhDisplayTextPosition){case"top":whichTemplate=myTemplate_2;
listOrInline="list";
break;
case"right":whichTemplate=myTemplate_1;
listOrInline="inline";
break;
case"bottom":whichTemplate=myTemplate_1;
listOrInline="list";
break;
case"left":whichTemplate=myTemplate_2;
listOrInline="inline";
break;
default:whichTemplate=myTemplate_1;
listOrInline="list";
}element.html(whichTemplate);
return function LinkingFunction(scope,element,attrs){scope.alignment;
scope.listOrInline=listOrInline;
scope.displayText;
attrs.$observe("lhDisplayText",function(value){scope.displayText=value;
});
attrs.$observe("lhDisplayPosition",function(value){scope.alignment=value;
});
};
}};
});
lh_global_directives.directive("lhGlobalNotCurrentEncounterTriangle",function(){var yellowTriangleImg='<div class="lh-global-icon lh-global-icon-not-current-encounter" />';
return{restrict:"A",replace:true,template:yellowTriangleImg,link:function(scope,element,attrs){}};
});
lh_global_directives.directive("lhGlobalRequired",function(){var redRequiredAsteriskImg='<div class="lh-global-icon lh-global-icon-red-required-asterisk" />';
return{restrict:"A",replace:true,template:redRequiredAsteriskImg,link:function(scope,element,attrs){}};
});
lh_global_directives.directive("lhGlobalCreateSection",function(){var sectionTemplate='<div ng-show="componentSectionNum <= furthestStep()" lh-section="{{componentSectionNum}}" class="lh-global-section"><p ng-class="{\'lh-global-section-header\':isVisible,\'closed lh-global-section-header\':!isVisible}" ng-click="toggle()"><span ng-class="{\'sec-tgl\':isVisible,\'closed-sec-tgl\':!isVisible}"></span><span class="header-link">{{componentSectionName}}</span><span class="additional-info" ng-if="additionalHeaderInfo != undefined">({{additionalHeaderInfo}})</span><span class="record-count" ng-show="recordCount != \'\' && recordCount != undefined">({{recordCount}})</span></p><div ng-class="{\'lh-global-section-content\':isVisible,\'closed lh-global-section-content\':!isVisible}" ng-show="isVisible"><div ng-class="{\'content-body\':isVisible,\'closed content-body\':!isVisible}" ng-transclude></div></div></div>';
var sectionCount=0;
return{restrict:"A",replace:true,transclude:true,scope:{defaultOpen:"@lhDefaultOpen",recordCount:"@lhRowCount"},template:sectionTemplate,controller:["$scope","$attrs","lhGlobalStepSrvc","lhAppConstants","lhGlobalBrFiltersDataSrvc",function($scope,$attrs,lhGlobalStepSrvc,lhAppConstants,lhGlobalBrFiltersDataSrvc){$scope.componentSectionNum=sectionCount;
sectionCount++;
$scope.componentSectionName=i18n[lhAppConstants.moduleVariable]["SECTION_"+sectionCount];
if($scope.componentSectionName===undefined){$scope.componentSectionName=i18n[lhAppConstants.moduleVariable].NOT_FOUND;
}$scope.$watch("lhGlobalBrFiltersDataSrvc.getAll()",function(newValue,oldValue){$scope.filterSectionName=lhGlobalBrFiltersDataSrvc.get($attrs.lhHeaderMean,0,"FREETEXT_DESC");
if($scope.filterSectionName!=="--"&&$scope.filterSectionName!==undefined){$scope.componentSectionName=$scope.filterSectionName;
}});
$scope.$on("appendToSectionHeader",function(event,val){if($attrs.lhShowAdditionalInfo!=undefined&&$attrs.lhShowAdditionalInfo==1&&val!=""){$scope.additionalHeaderInfo=val;
}});
$scope.furthestStep=function(){return lhGlobalStepSrvc.getFurthestStep();
};
$scope.toggle=function(){$scope.isVisible=!$scope.isVisible;
};
if($scope.defaultOpen==="false"){$scope.isVisible=false;
}else{$scope.isVisible=true;
}}]};
});
lh_global_directives.directive("lhGlobalCreateSubSection",["lhGlobalBrFiltersDataSrvc","lhAppConstants","lhGlobalConstants",function(lhGlobalBrFiltersDataSrvc,lhAppConstants,lhGlobalConstants){var subSectionTemplate='<div><p class="lh-global-sub-section-header" ng-click="toggle()"><span ng-class="{\'sub-sec-tgl\':isVisible,\'closed-sub-sec-tgl\':!isVisible}"></span><span class="header-link">{{componentName}}{{headerNameAddon}}</span><span class="record-count" ng-show="componentRecordCount != \'\' && componentRecordCount != undefined">({{componentRecordCount}})</span><span title="{{addButtonTitle}}" class="lh-global-icon lh-global-icon-plus {{addButtonClass}}" ng-click="addFunction(); $event.stopPropagation();"></span><span ng-show="(sectionType == sectionTypeChecked) && (sectionType != undefined && sectionTypeChecked != undefined)" ng-click="scrollToSelected($event); $event.stopPropagation();" class="lh-global-icon lh-global-icon-checkbox"></span><span ng-show="(requiredFunction != undefined && requiredFunction() == 0)" class="lh-global-icon lh-global-icon-red-required-asterisk"></span><span class="lh-global-icon lh-global-icon-question-16 {{helpButtonClass}}" style="margin-left:5px;" ng-click="helpFunction(); $event.stopPropagation();"></span></p><div ng-class="{\'lh-global-sub-section-content\':isVisible,\'closed lh-global-sub-section-content\':!isVisible}" ng-show="isVisible"><div class="look-back-range" ng-show="lookbackRangeStart != undefined && lookbackRangeEnd != undefined">{{lookbackRangeStart}} - {{lookbackRangeEnd}}</div><div ng-class="{\'content-body\':isVisible,\'closed content-body\':!isVisible}" ng-transclude></div></div></div>';
var subSectionCount=0;
return{restrict:"A",replace:true,transclude:true,scope:{componentRecordCount:"@lhRowCount",lookbackRangeStart:"@lhLookbackStart",lookbackRangeEnd:"@lhLookbackEnd",addFunction:"&lhAddFunction",sectionType:"@lhSectionType",sectionTypeChecked:"@lhSectionTypeChecked",forceCollapse:"@lhForceCollapse",forceExpand:"@lhForceExpand",headerName:"@lhHeaderMean",headerNameAddon:"@lhHeaderMeanAddon",helpFunction:"&lhHelpFunction",requiredFunction:"&lhRequiredFunction"},template:subSectionTemplate,link:function(scope,element,attrs){scope.parentSectionNum;
scope.$watch(function(){return element.parents("div.lh-global-section").attr("lh-section");
},function(newValue){scope.parentSectionNum=newValue;
element.attr("class","lh-global-sub-section lh-global-parent-section"+newValue);
});
subSectionCount++;
scope.componentName=i18n[lhAppConstants.moduleVariable]["COMPONENT_"+subSectionCount];
if(scope.componentName===undefined){if(scope.headerName===undefined){scope.componentName=i18n[lhAppConstants.moduleVariable].NOT_FOUND;
}else{scope.componentName=scope.headerName;
}}if(scope.headerNameAddon===undefined){scope.headernameAddon="";
}scope.$watch("lhGlobalBrFiltersDataSrvc.getAll()",function(newValue,oldValue){scope.filterComponentName=lhGlobalBrFiltersDataSrvc.get(scope.headerName,0,"FREETEXT_DESC");
if(scope.filterComponentName!=="--"&&scope.filterComponentName!==undefined){scope.componentName=scope.filterComponentName;
}scope.headerLink=lhGlobalBrFiltersDataSrvc.get(attrs.lhLinkMean);
if(scope.headerLink!==undefined&&scope.headerLink!=="--"){scope.headerLinkTitle=scope.headerLink.FILTER_DISPLAY;
scope.headerLinkUrl=scope.headerLink.VALUE[0].FREETEXT_DESC;
var componentHeaderLinkElem=element.find(".header-link");
componentHeaderLinkElem.attr("href","javascript:APPLINK(0,'Powerchart.exe','/PERSONID="+lhGlobalConstants.person_id+" /ENCNTRID="+lhGlobalConstants.encounter_id+" /FIRSTTAB=^"+scope.headerLinkUrl+"^')");
componentHeaderLinkElem.bind("click",function(e){e.stopPropagation();
}).css("cursor","pointer");
componentHeaderLinkElem.mouseenter(function(){$(this).css("text-decoration","underline");
});
componentHeaderLinkElem.mouseleave(function(){$(this).css("text-decoration","none");
});
}});
scope.addButtonClass="lh-global-display-none";
if(attrs.lhAddFunction!==undefined){scope.addButtonTitle=i18n.lh_globals.ADD_BUTTON_TITLE;
scope.addButtonClass="lh-global-display-inline-block";
}scope.helpButtonClass="lh-global-display-none";
if(attrs.lhHelpFunction!==undefined){scope.helpButtonClass="lh-global-display-inline-block";
}},controller:["$scope","$attrs","$element",function($scope,$attrs,$element){$scope.$watch("componentRecordCount + forceCollapse + forceExpand",function(){if($scope.componentRecordCount!==undefined){if(parseInt($scope.componentRecordCount)===0){$scope.isVisible=false;
if($scope.forceExpand!==undefined){if(parseInt($scope.forceExpand)===1){$scope.isVisible=true;
}}}else{$scope.isVisible=true;
if($scope.forceCollapse!==undefined){if(parseInt($scope.forceCollapse)===1){$scope.isVisible=false;
}}}}});
$scope.$on("breadCrumbClicked",function(event,val){if($element.hasClass("lh-global-parent-section"+val)){$scope.isVisible=true;
}else{$scope.isVisible=false;
}});
$scope.toggle=function(){$scope.isVisible=!$scope.isVisible;
};
$scope.isVisible=true;
$scope.scrollToSelected=function(event){var checkMarkImage=$(event.target);
var scrollTable=checkMarkImage.parents(".lh-global-sub-section-header").next().find('div[id$="_body_wrap"]');
var scrollTableRow=scrollTable.find("tr.lh-global-highlight-yellow").first();
var scrollPosition=0;
scrollTable.scrollTop(0);
scrollPosition=scrollTableRow.position().top-(scrollTable.position().top+(scrollTable.height()-2))+((scrollTable.height()-2)/2);
scrollTable.scrollTop(scrollPosition);
};
}]};
}]);
lh_global_directives.directive("lhGlobalCreateComponent",function(){var componentTemplate='<div><div ng-include="template.url"></div></div>';
return{restrict:"A",replace:true,scope:{},template:componentTemplate,compile:function(element,attrs){var ctrlDiv=element.find("div");
ctrlDiv.attr("ng-controller",attrs.lhNgControllerName);
}};
});
lh_global_directives.directive("lhGlobalCreateInnerSection",["lhGlobalBrFiltersDataSrvc","lhAppConstants","lhGlobalConstants",function(lhGlobalBrFiltersDataSrvc,lhAppConstants,lhGlobalConstants){var subSectionHeaderTemplate='<div ng-show="recordCount > 0 || (forceShow != undefined && forceShow == 1)" class="lh-global-inner-section"><p class="lh-global-inner-section-header" ng-click="toggle()" ng-class="{\'lvl-1\':sectionLvl == undefined || sectionLvl == 1,\'lvl-2\':sectionLvl >= 2}"><span ng-class="{\'sub-sec-tgl\':isVisible,\'closed-sub-sec-tgl\':!isVisible}"></span><span class="heading"><span class="heading-name" ng-show="headerName != \'\' && headerName != undefined">{{componentName}}</span> <span class="record-count" ng-show="recordCount != \'\' && recordCount != undefined">({{recordCount}})</span><span ng-show="(sectionType == sectionTypeChecked) && (sectionType != undefined && sectionTypeChecked != undefined)" ng-click="scrollToSelected($event); $event.stopPropagation();" class="lh-global-icon lh-global-icon-checkbox"></span></span><span class="inner-hdr">&nbsp;</span></p><div ng-class="{\'lh-global-inner-section-content\':isVisible,\'closed lh-global-inner-section-content\':!isVisible}" ng-show="isVisible"><div ng-class="{\'content-body\':isVisible,\'closed content-body\':!isVisible}" ng-transclude></div></div></div>';
var innerSectionCount=0;
return{restrict:"A",replace:true,transclude:true,scope:{headerName:"@lhHeaderMean",recordCount:"@lhRowCount",sectionType:"@lhSectionType",sectionTypeChecked:"@lhSectionTypeChecked",forceCollapse:"@lhForceCollapse",forceExpand:"@lhForceExpand",forceShow:"@lhForceShow",sectionLvl:"@lhSectionLevel"},template:subSectionHeaderTemplate,link:function(scope,element,attrs){innerSectionCount++;
scope.componentName=i18n[lhAppConstants.moduleVariable]["INNER_SECTION_"+innerSectionCount];
if(scope.componentName===undefined){if(scope.headerName===undefined){scope.componentName=i18n[lhAppConstants.moduleVariable].NOT_FOUND;
}else{scope.componentName=scope.headerName;
}}scope.$watch("lhGlobalBrFiltersDataSrvc.getAll()",function(newValue,oldValue){scope.filterComponentName=lhGlobalBrFiltersDataSrvc.get(scope.headerName,0,"FREETEXT_DESC");
if(scope.filterComponentName!=="--"&&scope.filterComponentName!==undefined){scope.componentName=scope.filterComponentName;
}});
},controller:["$scope","$attrs","$element",function($scope,$attrs,$element){$scope.$watch("recordCount + forceCollapse + forceExpand",function(){if($scope.recordCount!==undefined){if(parseInt($scope.recordCount)===0){if($scope.forceExpand!==undefined){if(parseInt($scope.forceExpand)===1){$scope.isVisible=true;
}}else{$scope.isVisible=false;
}}else{$scope.isVisible=true;
if($scope.forceCollapse!==undefined){if(parseInt($scope.forceCollapse)===1){$scope.isVisible=false;
}}}}});
$scope.toggle=function(){$scope.isVisible=!$scope.isVisible;
};
$scope.isVisible=true;
$scope.scrollToSelected=function(event){var checkMarkImage=$(event.target);
var scrollTable=checkMarkImage.parents("p.lh-ic-advisor-app-inner-section-header").next().find('div[id$="_body_wrap"]');
var scrollTableRow=scrollTable.find("tr td:first-child input:checked").parents("tr");
var scrollPosition=scrollTableRow.offset().top-scrollTableRow.parent().offset().top;
scrollTable.scrollTop(scrollPosition-85);
};
}]};
}]);
lh_demographic_bar_directives.directive("lhDemographicBarFormat",function(){var myTemplate='<span class="lh-demo-label">{{keyLabel}}</span> <span class="lh-demo-{{keyName}} lh-demo-hover">{{keyValue}}</span>';
return{restrict:"A",template:myTemplate,link:function(scope,element,attrs){scope.keyLabel,scope.keyName,scope.keyValue;
attrs.$observe("lhKeyLabel",function(value){scope.keyLabel=value;
});
attrs.$observe("lhKeyValue",function(value){if(value!=""){scope.keyValue=value;
}else{scope.keyValue=scope.i18n.NO_VALUE;
}});
attrs.$observe("lhKeyName",function(value){scope.keyName=value;
});
attrs.$observe("lhKeyHover",function(jsonString){var hoverObj=JSON.parse(jsonString);
if(hoverObj[0]&&hoverObj[0].KEY_HOVER_VALUE!=""){var hoverContent='<span class="lh-demo-label">'+hoverObj[0].KEY_HOVER_LABEL+"</span> <span>"+hoverObj[0].KEY_HOVER_VALUE+"</span>";
$("<div />").qtip({content:{text:hoverContent},style:{classes:"ui-tooltip-shadow qtip-plain",widget:true},position:{target:"event",effect:false,viewport:$(window),my:"left center",at:"right center"},show:{target:$(element).find(".lh-demo-hover")},hide:{target:$(element).find(".lh-demo-hover")},events:{show:function(event,api){var target=$(event.originalEvent.target);
if(target.length){api.set("content.text",target.attr("tooltip"));
}}}});
}});
}};
});
lhVitalSignsDirectives.directive("lhDisplayVitalGraph",function(){return{restrict:"A",link:function(scope,element,attrs){var dialogId,dialogTitle,plotData,dtaUnits;
var hasData=false;
attrs.$observe("lhDisplayVitalGraph",function(value){dialogId=value;
switch(dialogId){case"vital1":element.bind("click",showVitalsGraph).css("cursor","pointer");
dialogTitle=i18n.lh_vital_signs.TEMPERATURE_DOCUMENTED;
plotData=scope.temperatureGraphData;
dtaUnits=scope.temperatureUnits;
if(plotData.length>0){hasData=true;
}break;
case"vital2":element.bind("click",showVitalsGraph).css("cursor","pointer");
dialogTitle=i18n.lh_vital_signs.BLOOD_PRESSURE_DOCUMENTED;
dtaUnits=scope.bloodPressureUnits;
if(scope.sysGraphData.length>0){hasData=true;
}break;
case"vital3":element.bind("click",showVitalsGraph).css("cursor","pointer");
dialogTitle=i18n.lh_vital_signs.HEART_RATE_DOCUMENTED;
plotData=scope.heartRateGraphData;
dtaUnits=scope.heartRateUnits;
if(plotData.length>0){hasData=true;
}break;
case"vital4":element.bind("click",showVitalsGraph).css("cursor","pointer");
dialogTitle=i18n.lh_vital_signs.RESPIRATORY_RATE_DOCUMENTED;
plotData=scope.respiratoryRateGraphData;
dtaUnits=scope.respiratoryRateUnits;
if(plotData.length>0){hasData=true;
}break;
case"vital5":element.bind("click",showVitalsGraph).css("cursor","pointer");
dialogTitle=i18n.lh_vital_signs.MEAN_ARTERIAL_PRESSURE_DOCUMENTED;
plotData=scope.meanArterialPressureGraphData;
dtaUnits=scope.meanArterialPressureUnits;
if(plotData.length>0){hasData=true;
}break;
}dialogTitle=dialogTitle+" - "+i18n.lh_vital_signs.LAST+" "+scope.vitals_look_back_label+" "+i18n.lh_vital_signs.HOURS;
});
function showVitalsGraph(){$.jqplot.config.enablePlugins=true;
var vitalsGraphPopup=$("#"+dialogId);
if(vitalsGraphPopup.length===0){var vitalsGraphDetails=[];
vitalsGraphDetails.push('<div id="'+dialogId+'">');
if(hasData){vitalsGraphDetails.push('<div id="'+dialogId+'-chart"></div>');
vitalsGraphDetails.push('<table border="1" class="vital-graph-table">');
vitalsGraphDetails.push("<tr>");
vitalsGraphDetails.push('<th class="vital-graph-datetime-header">'+i18n.lh_vital_signs.GRAPH_DATE_TIME+"</th>");
if(dialogId==="vital2"){vitalsGraphDetails.push('<th class="vital-graph-sys-header">'+i18n.lh_vital_signs.SYSTOLIC_ABBREVIATION+"</th>");
vitalsGraphDetails.push('<th class="vital-graph-dia-header">'+i18n.lh_vital_signs.DIASTOLIC_ABBREVIATION+"</th>");
}else{vitalsGraphDetails.push('<th class="vital-graph-result-header">'+i18n.lh_vital_signs.GRAPH_RESULT+"</th>");
}vitalsGraphDetails.push("</tr>");
if(dialogId==="vital2"){for(var sysPointIdx=0,sysLength=scope.sysGraphData.length;
sysPointIdx<sysLength;
sysPointIdx++){vitalsGraphDetails.push("<tr>");
vitalsGraphDetails.push('<td class="vital-graph-datetime">'+scope.sysGraphData[sysPointIdx][0]+"</td>");
vitalsGraphDetails.push('<td class="vital-graph-sys">'+scope.sysGraphData[sysPointIdx][1]+"</td>");
vitalsGraphDetails.push('<td class="vital-graph-dia">'+scope.diaGraphData[sysPointIdx][1]+"</td>");
vitalsGraphDetails.push("</tr>");
}}else{for(var dataPointIdx=0,dataLength=plotData.length;
dataPointIdx<dataLength;
dataPointIdx++){vitalsGraphDetails.push("<tr>");
vitalsGraphDetails.push('<td class="vital-graph-datetime">'+plotData[dataPointIdx][0]+"</td>");
vitalsGraphDetails.push('<td class="vital-graph-result">'+plotData[dataPointIdx][1]+"</td>");
vitalsGraphDetails.push("</tr>");
}}vitalsGraphDetails.push("</table>");
}else{vitalsGraphDetails.push("<p>"+i18n.lh_vital_signs.GRAPH_NO_DATA+"</p>");
}vitalsGraphDetails.push("</div>");
vitalsGraphPopup=$(vitalsGraphDetails.join(""));
}if(hasData){vitalsGraphPopup.dialog({title:dialogTitle,width:900,height:400});
$(function(){if(dialogId==="vital2"){$.jqplot(dialogId+"-chart",[scope.sysGraphData,scope.diaGraphData],{series:[{label:i18n.lh_vital_signs.SYSTOLIC_ABBREVIATION,markerOptions:{style:"filledSquare",size:7}},{label:i18n.lh_vital_signs.DIASTOLIC_ABBREVIATION,marketOptions:{size:2}}],legend:{show:true,location:"nw"},axes:{xaxis:{renderer:$.jqplot.DateAxisRenderer,rendererOptions:{tickRenderer:$.jqplot.CanvasAxisTickRenderer},tickOptions:{formatString:"%B %d %H:%M",angle:-25,fontSize:"8pt"}},yaxis:{label:dtaUnits}},highlighter:{show:true,sizeAdjust:7.5}});
}else{$.jqplot(dialogId+"-chart",[plotData],{axes:{xaxis:{renderer:$.jqplot.DateAxisRenderer,rendererOptions:{tickRenderer:$.jqplot.CanvasAxisTickRenderer},tickOptions:{formatString:"%B %d %H:%M",angle:-25,fontSize:"8pt"}},yaxis:{label:dtaUnits}},highlighter:{show:true,sizeAdjust:7.5}});
}});
}else{vitalsGraphPopup.dialog({title:dialogTitle,width:450,height:120});
}}}};
});
lhVitalSignsDirectives.directive("lhDisplayVitalResult",function(){var vitalResultTemplate="<td><span class='{{severityIconClass}}' ng-show='severityIconClass'></span><span class='vital-normalcy-{{resultNormalcy}}'>{{resultValue}}</span><span class='res-modified-icon' ng-show='modified'></span><span class='res-modified-icon' ng-show='sysBPModified'></span><span ng-show='resultValueTwo'>/</span><span class='{{severityIconClassTwo}}' ng-show='severityIconClassTwo'></span><span class='vital-normalcy-{{resultNormalcyTwo}}' ng-show='resultValueTwo'>{{resultValueTwo}}</span><span class='res-modified-icon' ng-show='diaBPModified'></span><span class='vital-result-date-time'>{{resultDateTime}}</span></td>";
return{restrict:"A",template:vitalResultTemplate,link:function(scope,element,attrs){scope.resultValue="";
scope.resultDateTime="";
scope.normalcy="";
scope.result;
scope.resultValueTwo="";
scope.severityIconClass="";
var hoverContent="";
function getSeverityClass(severity){if(severity==="LC"||severity==="HC"){return"res-critical-icon";
}else{if(severity==="AL"){return"res-low-icon";
}else{if(severity==="AH"){return"res-high-icon";
}}}}attrs.$observe("lhResult",function(value){scope.result=JSON.parse(value);
});
attrs.$observe("lhVitalType",function(value){if(Number(value)===2){scope.resultValue=scope.result.BP_SYS_VALUE;
scope.resultValueTwo=scope.result.BP_DIA_VALUE;
scope.resultDateTime=scope.result.DATETIME;
scope.resultNormalcy=scope.result.BP_SYS_NORMALCY;
scope.resultNormalcyTwo=scope.result.BP_DIA_NORMALCY;
scope.severityIconClass=getSeverityClass(scope.resultNormalcy);
scope.severityIconClassTwo=getSeverityClass(scope.resultNormalcyTwo);
scope.sysBPModified=scope.result.BP_SYS_MODIFIED_IND;
scope.diaBPModified=scope.result.BP_DIA_MODIFIED_IND;
var bpSysNormalcyLow=(scope.result.BP_SYS_NORMALCY_LOW.length>0)?scope.result.BP_SYS_NORMALCY_LOW:"--";
var bpDiaNormalcyLow=(scope.result.BP_DIA_NORMALCY_LOW.length>0)?scope.result.BP_DIA_NORMALCY_LOW:"--";
var bpNormalcyLow=bpSysNormalcyLow+"/"+bpDiaNormalcyLow;
var bpSysNormalcyHigh=(scope.result.BP_SYS_NORMALCY_HIGH.length>0)?scope.result.BP_SYS_NORMALCY_HIGH:"--";
var bpDiaNormalcyHigh=(scope.result.BP_DIA_NORMALCY_HIGH.length>0)?scope.result.BP_DIA_NORMALCY_HIGH:"--";
var bpNormalcyHigh=bpSysNormalcyHigh+"/"+bpDiaNormalcyHigh;
var bpSysCriticalLow=(scope.result.BP_SYS_CRITICAL_LOW.length>0)?scope.result.BP_SYS_CRITICAL_LOW:"--";
var bpDiaCriticalLow=(scope.result.BP_DIA_CRITICAL_LOW.length>0)?scope.result.BP_DIA_CRITICAL_LOW:"--";
var bpCriticalLow=bpSysCriticalLow+"/"+bpDiaCriticalLow;
var bpSysCriticalHigh=(scope.result.BP_SYS_CRITICAL_HIGH.length>0)?scope.result.BP_SYS_CRITICAL_HIGH:"--";
var bpDiaCriticalHigh=(scope.result.BP_DIA_CRITICAL_HIGH.length>0)?scope.result.BP_DIA_CRITICAL_HIGH:"--";
var bpCriticalHigh=bpSysCriticalHigh+"/"+bpDiaCriticalHigh;
hoverContent="<div>"+scope.i18n.NAME+": "+scope.result.TYPE+"</div><div>"+scope.i18n.RESULT+": "+scope.resultValue+"/"+scope.resultValueTwo+"</div><div>"+scope.i18n.DATE_TM+": "+scope.resultDateTime+"</div><div>"+scope.i18n.NORMAL_LOW+": "+bpNormalcyLow+"</div><div>"+scope.i18n.NORMAL_HIGH+": "+bpNormalcyHigh+"</div><div>"+scope.i18n.CRITICAL_LOW+": "+bpCriticalLow+"</div><div>"+scope.i18n.CRITICAL_HIGH+": "+bpCriticalHigh+"</div>";
}else{scope.resultValue=scope.result.VALUE;
scope.resultDateTime=scope.result.DATETIME;
scope.resultNormalcy=scope.result.NORMALCY;
scope.severityIconClass=getSeverityClass(scope.resultNormalcy);
scope.modified=scope.result.MODIFIED_IND;
var normalcyLow=(scope.result.NORMALCYL.length>0)?scope.result.NORMALCYL:"--";
var normalcyHigh=(scope.result.NORMALCYH.length>0)?scope.result.NORMALCYH:"--";
var criticalLow=(scope.result.CRITICALL.length>0)?scope.result.CRITICALL:"--";
var criticalHigh=(scope.result.CRITICALH.length>0)?scope.result.CRITICALH:"--";
hoverContent="<div>"+scope.i18n.NAME+": "+scope.result.TYPE+"</div><div>"+scope.i18n.RESULT+": "+scope.resultValue+"</div><div>"+scope.i18n.DATE_TM+": "+scope.resultDateTime+"</div><div>"+scope.i18n.NORMAL_LOW+": "+normalcyLow+"</div><div>"+scope.i18n.NORMAL_HIGH+": "+normalcyHigh+"</div><div>"+scope.i18n.CRITICAL_LOW+": "+criticalLow+"</div><div>"+scope.i18n.CRITICAL_HIGH+": "+criticalHigh+"</div>";
}$(element).qtip({content:{text:hoverContent},style:{classes:"ui-tooltip-shadow qtip-plain",widget:true},position:{target:"event",effect:false,viewport:$(window),my:"left center",at:"right center"},events:{show:function(event,api){var target=$(event.originalEvent.target);
if(target.length){api.set("content.text",target.attr("tooltip"));
}}}});
});
}};
});
lhSepsisAntibioticRecsDirectives.directive("lhSepsisAllergyHover",["$compile",function($compile){return{restrict:"A",link:function(scope,element,attrs){scope.myPosition="";
scope.atPosition="";
scope.allergyList;
var hoverTemplate="<span class='lh-sepsis-hover'><div ng-repeat='allergy in allergyList'><span>{{allergy.ALLERGY_DRUG_DISP}}</span></div></span>";
attrs.$observe("allergyList",function(value){scope.allergyList=JSON.parse(value);
buildQtip();
});
attrs.$observe("myPosition",function(value){scope.myPosition=value;
buildQtip();
});
attrs.$observe("atPosition",function(value){scope.atPosition=value;
buildQtip();
});
function buildQtip(){var hoverContent=$compile(hoverTemplate)(scope);
$(element).qtip({content:{text:hoverContent},style:{classes:"ui-tooltip-shadow qtip-plain",widget:true,width:{max:420}},position:{target:"event",effect:false,viewport:$(window),my:scope.myPosition,at:scope.atPosition},events:{show:function(event,api){var target=$(event.originalEvent.target);
if(target.length){api.set("content.text",target.attr("tooltip"));
}}}});
}}};
}]);
messaging_builder_module_directives.directive("lhGlobalMessagingBuilder",["lhGlobalMessagingSrvc",function(lhGlobalMessagingSrvc){return{restrict:"A",link:function(scope,element,attrs){function createMsg(msg,msgType){var myStyle,myTitle,myMessage=msg;
if(myMessage!=""){switch(msgType){case"error":myStyle="ui-tooltip-lh-red";
myTitle=i18n.messaging_builder.MSG_ERROR_TITLE;
break;
case"warn":myStyle="ui-tooltip-lh-yellow";
myTitle=i18n.messaging_builder.MSG_WARNING_TITLE;
break;
case"success":myStyle="ui-tooltip-lh-green";
myTitle=i18n.messaging_builder.MSG_SUCCESS_TITLE;
break;
case"info":myStyle="ui-tooltip-lh-light";
myTitle=i18n.messaging_builder.MSG_INFO_TITLE;
break;
case"log":myStyle="ui-tooltip-lh-blue";
myTitle=i18n.messaging_builder.MSG_DEFAULT_TITLE;
break;
default:msgType="log";
myStyle="ui-tooltip-lh-blue";
myTitle=i18n.messaging_builder.MSG_DEFAULT_TITLE;
}var target=$(".qtip.jgrowl:visible:last");
$(element).qtip({content:{text:myMessage,title:{text:'<div class="lh-global-messaging-icon lh-global-messaging-'+msgType+'" /> '+myTitle,button:true}},position:{my:"top right",container:$(element),at:(target.length?"bottom":"top")+" right",target:target.length?target:$(element),adjust:{y:5},effect:function(api,newPos){$(this).animate(newPos,{duration:200,queue:false});
api.cache.finalPos=newPos;
}},show:{event:false,ready:true,effect:function(){$(this).stop(0,1).fadeIn(400);
},delay:0,persistent:true},hide:{event:false,effect:function(api){$(this).stop(0,1).fadeOut(400).queue(function(){api.destroy();
updateGrowls();
if($(".lh-global-messaging-content").length==0){lhGlobalMessagingSrvc.clearMessages();
}});
}},style:{classes:"jgrowl lh-global-messaging-content "+myStyle,tip:false,width:"280px"},events:{render:function(event,api){timer.call(api.elements.tooltip,event);
}}}).removeData("qtip");
}}function updateGrowls(){var jGrowls=$(".qtip.jgrowl"),width=jGrowls.outerWidth(),height=jGrowls.outerHeight(),gap=jGrowls.eq(0).qtip("option","position.adjust.y"),pos;
jGrowls.each(function(i){var api=$(this).data("qtip");
api.options.position.target=!i?$(element):[pos.left+width,pos.top+(height*i)+Math.abs(gap*(i-1))];
api.set("position.at","top right");
if(!i){pos=api.cache.finalPos;
}});
}function timer(event){var api=$(this).data("qtip"),lifespan=5000;
if(api.get("show.persistent")===true){return;
}clearTimeout(api.timer);
if(event.type!=="mouseover"){api.timer=setTimeout(api.hide,lifespan);
}}var createMessage=function(){createMsg(attrs.lhMessage,attrs.lhMessageType);
};
scope.$watch("attrs.lhMessage + attrs.lhMessageType",createMessage);
}};
}]);
lhSepsisAdvisorAppDirectives.directive("lhSepsisConfirmButton",function(){var confirmTemplate="<div class='sepsis-button-container'><button type='button' ng-click='selectConfirmButton()'>{{buttonName}}</button></div>";
return{restrict:"A",template:confirmTemplate,controller:["$scope","lhGlobalStepSrvc","lhSepsisAppValuesSrvc","$timeout",function($scope,lhGlobalStepSrvc,lhSepsisAppValuesSrvc,$timeout){$scope.buttonName=i18n.lh_sepsis_advisor_app.CONFIRM_BUTTON;
$scope.selectConfirmButton=function(){if(lhGlobalStepSrvc.getCurrentStep()<2){lhGlobalStepSrvc.setNextStep();
}$timeout(function(){$("div#evaluate-patient-section p.lh-global-section-header").click();
$("div#select-recommendations-section p.lh-global-section-header").click();
if(lhSepsisAppValuesSrvc.getDropdownValue()===0){$("div#review-sirs-section").show("fast");
$("div#review-sirs-section div.lh-global-sub-section-content").show("fast");
$("div#review-active-meds-section").hide("fast");
$("div#review-special-dosing-section").hide("fast");
$("div#review-antibiotics-section").hide("fast");
$("div#review-fluids-section").hide("fast");
$("div#review-diagnostics-section").hide("fast");
$("div#review-vasopressors-section").hide("fast");
$("div#review-supportive-section").hide("fast");
}else{$("div#review-sirs-section").hide("fast");
$("div#review-active-meds-section").show("fast");
$("div#review-active-meds-section div.lh-global-sub-section-content").show("fast");
$("div#review-special-dosing-section").show("fast");
$("div#review-special-dosing-section div.lh-global-sub-section-content").show("fast");
$("div#review-antibiotics-section").show("fast");
$("div#review-antibiotics-section div.lh-global-sub-section-content").show("fast");
$("div#review-fluids-section").show("fast");
$("div#review-fluids-section div.lh-global-sub-section-content").show("fast");
$("div#review-diagnostics-section").show("fast");
$("div#review-diagnostics-section div.lh-global-sub-section-content").show("fast");
$("div#review-vasopressors-section").show("fast");
$("div#review-vasopressors-section div.lh-global-sub-section-content").show("fast");
$("div#review-supportive-section").show("fast");
$("div#review-supportive-section div.lh-global-sub-section-content").show("fast");
}});
};
}]};
});
lhSepsisAdvisorAppDirectives.directive("lhSepsisExitButton",function(){var buttonTemplate="<div class='sepsis-exit-button-container'><button type='button' ng-click='exit()'>{{exitButtonName}}</button></div>";
return{restrict:"A",template:buttonTemplate,controller:["$scope",function($scope){$scope.exitButtonName=i18n.lh_sepsis_advisor_app.EXIT_BUTTON;
$scope.exit=function(){CCLEVENT("EVENT_EKS_OK","");
};
}]};
});
lhSepsisAdvisorAppDirectives.directive("lhSepsisResetButton",function(){var buttonTemplate="<div class='sepsis-reset-button-container'><button type='button' ng-click='reset()'>{{buttonName}}</button></div>";
return{restrict:"A",template:buttonTemplate,controller:["$scope",function($scope){$scope.buttonName=i18n.lh_sepsis_advisor_app.RESET_BUTTON;
$scope.reset=function(){location.reload();
};
}]};
});
lhSepsisAdvisorAppDirectives.directive("lhSepsisSelectRecButton",function(){var buttonTemplate="<div class='sepsis-button-container'><button ng-disabled='isDisabled()' type='button' ng-click='selectRecButton()'>{{buttonName}}</button></div>";
return{restrict:"A",template:buttonTemplate,controller:["$scope","lhGlobalStepSrvc","lhSepsisAppValuesSrvc","$timeout",function($scope,lhGlobalStepSrvc,lhSepsisAppValuesSrvc,$timeout){$scope.buttonName=i18n.lh_sepsis_advisor_app.SELECT_RECS_BUTTON;
$scope.isDisabled=function(){return lhSepsisAppValuesSrvc.getDisableSelectRecommendation();
};
$scope.selectRecButton=function(){if(lhGlobalStepSrvc.getCurrentStep()<1){lhGlobalStepSrvc.setNextStep();
}$timeout(function(){$("div#infection-sources-section p.lh-global-sub-section-header").click();
if(lhSepsisAppValuesSrvc.getDropdownValue()===0){$("div#sirs-section").show("fast");
$("div#sirs-section div.lh-global-sub-section-content").show("fast");
$("div#active-meds-section").hide("fast");
$("div#special-dosing-section").hide("fast");
$("div#antibiotics-section").hide("fast");
$("div#fluids-section").hide("fast");
$("div#diagnostics-section").hide("fast");
$("div#supportive-section").hide("fast");
}else{$("div#sirs-section").hide("fast");
$("div#active-meds-section").show("fast");
$("div#active-meds-section div.lh-global-sub-section-content").show("fast");
$("div#special-dosing-section").show("fast");
$("div#special-dosing-section div.lh-global-sub-section-content").show("fast");
$("div#antibiotics-section").show("fast");
$("div#antibiotics-section div.lh-global-sub-section-content").show("fast");
$("div#fluids-section").show("fast");
$("div#fluids-section div.lh-global-sub-section-content").show("fast");
$("div#diagnostics-section").show("fast");
$("div#diagnostics-section div.lh-global-sub-section-content").show("fast");
$("div#supportive-section").show("fast");
$("div#supportive-section div.lh-global-sub-section-content").show("fast");
}});
};
}]};
});
lhSepsisAdvisorAppDirectives.directive("lhSepsisSepticShockCheckbox",function(){var mapCheckboxTemplate='<div id="septic-shock-checkbox-row"><label ng-click="updateToSepticShock($event)" ng-show="receivedData" id="septic-shock-checkbox-label"><input type="checkbox" ng-checked="hasAbnormalVitals()" />{{septicShockTargetRangeLabel}}</label></div>';
return{restrict:"A",template:mapCheckboxTemplate,controller:["$scope","lhGlobalDataSrvc","lhGlobalConstants","lhGlobalMessagingSrvc","lhShareVitalsSrvc","lhSepsisAppValuesSrvc",function($scope,lhGlobalDataSrvc,lhGlobalConstants,lhGlobalMessagingSrvc,lhShareVitalsSrvc,lhSepsisAppValuesSrvc){$scope.passedThroughResultsOnce=false;
$scope.initialResultValue=false;
$scope.receivedData=false;
function getData(){var script={};
script.name="lhc_get_sep_shock_chkbox_data";
script.params="^MINE^,"+lhGlobalConstants.person_id+","+lhGlobalConstants.encounter_id+",^"+lhGlobalConstants.topic_mean+"^";
lhGlobalDataSrvc.query(script,$scope).then(function(data){$scope.receivedData=true;
$scope.septicShockTargetRangeLabel=data.RECORD_DATA.SEPTIC_SHOCK_TARGET_RANGE_LBL;
$scope.sbpThreshold=data.RECORD_DATA.SBP_THRESHOLD;
$scope.mapThreshold=data.RECORD_DATA.MAP_THRESHOLD;
});
}getData();
$scope.$watch(function(){return lhShareVitalsSrvc.getSharedVitals();
},function(){$scope.sharedVitals=lhShareVitalsSrvc.getSharedVitals();
});
$scope.updateToSepticShock=function($event){if($event.target.checked){lhSepsisAppValuesSrvc.setDropdownValue(3);
}};
$scope.hasAbnormalVitals=function(){if($scope.receivedData===true&&$scope.passedThroughResultsOnce===false&&lhSepsisAppValuesSrvc.getDropdownSetViaCCL()===true){if($scope.sharedVitals!==null){if($scope.sharedVitals.length>0){for(var dtaIdx=0,dtaLength=$scope.sharedVitals.length;
dtaIdx<dtaLength;
dtaIdx++){if($scope.sharedVitals[dtaIdx].DISPLAY_FLAG===2){if($scope.sharedVitals[dtaIdx].RESULTS.length>0){if(Number($scope.sharedVitals[dtaIdx].RESULTS[0].BP_SYS_VALUE)<=$scope.sbpThreshold){lhSepsisAppValuesSrvc.setDropdownValue(3);
$scope.passedThroughResultsOnce=true;
$scope.initialResultValue=true;
return true;
}}}else{if($scope.sharedVitals[dtaIdx].DISPLAY_FLAG===5){if($scope.sharedVitals[dtaIdx].RESULTS.length>0){if(Number($scope.sharedVitals[dtaIdx].RESULTS[0].VALUE)<=$scope.mapThreshold){lhSepsisAppValuesSrvc.setDropdownValue(3);
$scope.passedThroughResultsOnce=true;
$scope.initialResultValue=true;
return true;
}}}}}$scope.passedThroughResultsOnce=true;
return false;
}else{return false;
}}else{return false;
}}else{return $scope.initialResultValue;
}};
}]};
});
lhSepsisAdvisorAppDirectives.directive("lhSepsisSignButton",function(){var signTemplate="<div class='sepsis-button-container'><button type='button' ng-click='sign()'>{{buttonName}}</button></div>";
return{restrict:"A",template:signTemplate,controller:["$scope","lhGlobalConstants","lhGlobalDataSrvc","lhGlobalMessagingSrvc","lhSepsisAppValuesSrvc","$filter",function($scope,lhGlobalConstants,lhGlobalDataSrvc,lhGlobalMessagingSrvc,lhSepsisAppValuesSrvc,$filter){$scope.buttonName=i18n.lh_sepsis_advisor_app.SIGN_ORDERS_BUTTON;
$scope.disableSignButton=false;
function documentEvents(broadSpectrumEvent,sirsCultureEvent){log.info("broadSpectrumEvent: "+JSON.stringify(broadSpectrumEvent));
log.info("sirsCultureEvent: "+JSON.stringify(sirsCultureEvent));
if(broadSpectrumEvent.eventCd>0){documentEvent(broadSpectrumEvent.eventCd);
}if(sirsCultureEvent.eventCd>0){documentEvent(sirsCultureEvent.eventCd);
}function documentEvent(eventCode){var script={};
script.name="lhc_add_event_coded_result";
script.params="^MINE^,"+lhGlobalConstants.person_id+","+lhGlobalConstants.encounter_id+","+lhGlobalConstants.user_id+","+eventCode+".0,0.0";
lhGlobalDataSrvc.query(script,$scope).then(function(data){if(data.RECORD_DATA.STATUS_DATA.STATUS==="F"){lhGlobalMessagingSrvc.warn(i18n.lh_sepsis_advisor_app.FAILURE_MSG+script.name+i18n.lh_sepsis_advisor_app.CONTACT_MSG);
}});
}}function documentSources(sources){log.info("documentSource: "+JSON.stringify(sources));
for(var source=0,sourceLength=sources.length;
source<sourceLength;
source++){documentSource(sources[source].SOURCE_KEY);
}function documentSource(sourceKey){var script={};
script.name="lhc_sepsis_source_event_driver";
script.params="^MINE^,"+lhGlobalConstants.person_id+","+lhGlobalConstants.encounter_id+","+lhGlobalConstants.user_id+",^"+sourceKey+"^,^"+lhGlobalConstants.topic_mean+"^";
lhGlobalDataSrvc.query(script,$scope).then(function(){});
}}function addDiagnosis(diagnosis){log.info("addDiagnosis: "+JSON.stringify(diagnosis));
if(diagnosis.diagnosis_id>0){var script={};
script.name="lhc_sep_add_diagnosis_driver";
script.params="^MINE^,"+lhGlobalConstants.person_id+","+lhGlobalConstants.encounter_id+","+lhGlobalConstants.user_id+","+diagnosis.diagnosis_id+".0,^"+lhGlobalConstants.topic_mean+"^";
lhGlobalDataSrvc.query(script,$scope).then(function(){});
}}function cancelOrders(ordersToCancel){log.info("cancelOrders:"+JSON.stringify(ordersToCancel));
if(ordersToCancel.length){var cancelOrderString="~COMMITRULE~,~";
cancelOrderString+=(lhGlobalConstants.person_id+"~,");
cancelOrderString+=("~"+lhGlobalConstants.encounter_id+"~,");
cancelOrderString+=("~0.0~,~sepsiscancelorders~,~");
cancelOrderString+="<P>ORDER_PROVIDER_NAME="+lhGlobalConstants.user_id;
cancelOrderString+="<P>OPT_VALUE_A2="+lhGlobalConstants.user_id+"<6>"+lhGlobalConstants.user_id;
cancelOrderString+="<P>ORDER_LIST=";
for(var order=0,orderLength=ordersToCancel.length;
order<orderLength;
order++){cancelOrderString+=ordersToCancel[order].ORDER_ID+"|";
}cancelOrderString+="~";
if(typeof(window.external.DiscernObjectFactory)==="undefined"){log.info("Not running in powerchart, orders will not be canceled.");
log.info(cancelOrderString);
}else{log.info(cancelOrderString);
CCLLINK("eks_call_synch_event",cancelOrderString,1);
}}}function placeOrdersMpage(allOrders,allSupportivePowerPlans){log.info("placeOrdersMpage");
log.info("allOrders: "+JSON.stringify(allOrders));
log.info("allSupportivePowerPlans: "+JSON.stringify(allSupportivePowerPlans));
var placeOrderString=lhGlobalConstants.person_id+"|"+lhGlobalConstants.encounter_id+"|";
if(allOrders.length){for(var order=0,orderLength=allOrders.length;
order<orderLength;
order++){placeOrderString+="{ORDER|";
placeOrderString+=allOrders[order].ORDER_SYNONYM_ID;
placeOrderString+="|0|";
placeOrderString+=allOrders[order].ORDER_SENTENCE_ID;
placeOrderString+="|0|";
placeOrderString+="0}";
}placeOrderString+="|24|";
placeOrderString+="{2|127}";
placeOrderString+="{3|127}";
placeOrderString+="|32";
placeOrderString+="|0";
}if(typeof(window.external.DiscernObjectFactory)==="undefined"){log.info("Not running in powerchart, orders/powerplans will not be placed.");
log.info(placeOrderString);
for(var plan=0,planLength=allSupportivePowerPlans.length;
plan<planLength;
plan++){log.info("AddPowerPlanMOEW: "+allSupportivePowerPlans[plan].PATHWAY_CATALOG_ID);
}}else{var PowerOrdersMPageUtils=window.external.DiscernObjectFactory("POWERORDERS");
var m_hMOEW=PowerOrdersMPageUtils.CreateMOEW(lhGlobalConstants.person_id,lhGlobalConstants.encounter_id,24,2,127);
PowerOrdersMPageUtils.CustomizeTabMOEW(m_hMOEW,2,127);
PowerOrdersMPageUtils.CustomizeTabMOEW(m_hMOEW,3,127);
if(allSupportivePowerPlans.length){for(var powerPlan=0,powerplanLength=allSupportivePowerPlans.length;
powerPlan<powerplanLength;
powerPlan++){log.info("AddPowerPlanMOEW: "+allSupportivePowerPlans[powerPlan].PATHWAY_CATALOG_ID);
PowerOrdersMPageUtils.AddPowerPlanMOEW(m_hMOEW,allSupportivePowerPlans[powerPlan].PATHWAY_CATALOG_ID,0);
}}if(allOrders.length){log.info("placeOrderString: "+placeOrderString);
MPAGES_EVENT("ORDERS",placeOrderString);
}PowerOrdersMPageUtils.DestroyMOEW(m_hMOEW);
}}function placeOrdersEKS(allOrders){log.info("placeOrdersEKS");
log.info("allOrders: "+JSON.stringify(allOrders));
var eksReplyObject=new EksReply();
eksReplyObject.setScratchPadChangeInd(1);
eksReplyObject.setCancelOrder(99);
var scratchPad=eksReplyObject.getScratchPad();
scratchPad.setActionFlag(1);
if(allOrders.length>0){var orderListString="";
var orderSentenceList=[];
for(var i=0,ordersLength=allOrders.length;
i<ordersLength;
i++){if(i>0){orderListString+="$$";
}orderListString+=allOrders[i].ORDER_SYNONYM_DISP+"%%"+allOrders[i].ORDER_CATALOG_CD+"%%"+allOrders[i].ORDER_SYNONYM_ID+"%%"+allOrders[i].ORDER_OE_FORMAT_ID;
orderSentenceList.push([allOrders[i].ORDER_SENTENCE_ID,allOrders[i].ORDER_SENTENCE_DISP]);
}var orderableList=eksCreateOrderables(orderListString);
for(var k=0,orderableLength=orderableList.length;
k<orderableLength;
k++){var orderable=orderableList[k];
orderable.setOrderSentenceDisplay(orderSentenceList[k][1]);
orderable.setOrderSentenceId(orderSentenceList[k][0]);
eksReplyObject.appendOrderable(orderable);
}}log.info("eksReplyObject: "+JSON.stringify(eksReplyObject));
CCLEVENT("EVENT_EKS_REPLY",eksReplyObject.toXML());
CCLEVENT("EVENT_EKS_OK","");
}function documentSepsisSeverity(sepsisTypeFlag){log.info("documentSepsisSeverity");
log.info("sepsisTypeFlag: "+sepsisTypeFlag);
var script={};
script.name="lhc_document_sepsis_severity";
script.params="^MINE^,"+lhGlobalConstants.person_id+","+lhGlobalConstants.encounter_id+","+lhGlobalConstants.user_id+","+sepsisTypeFlag;
lhGlobalDataSrvc.query(script,$scope).then(function(data){if(data.RECORD_DATA.STATUS_DATA.STATUS==="F"){lhGlobalMessagingSrvc.warn(i18n.lh_sepsis_advisor_app.FAILURE_MSG+script.name+i18n.lh_sepsis_advisor_app.CONTACT_MSG);
}});
}$scope.sign=function(){var broadSpectrumEvent=lhSepsisAppValuesSrvc.getDocumentBroadSpectrumEvent();
var sirsCultureEvent=lhSepsisAppValuesSrvc.getDocumentSirsCultureEvent();
documentEvents(broadSpectrumEvent,sirsCultureEvent);
var sources=lhSepsisAppValuesSrvc.getSelectedSourcesAndFactors();
documentSources(sources);
var diagnosis=lhSepsisAppValuesSrvc.getDiagnosisToDocument();
addDiagnosis(diagnosis);
var ordersToCancel=$filter("filter")(lhSepsisAppValuesSrvc.getActiveOrders(),{checked:true});
cancelOrders(ordersToCancel);
var sirsOrders=[],antibioticOrders=[],fluidTherapyOrders=[],diagnosticStudyOrders=[],vasopressorOrders=[],allOrders=[];
var sepsis_type_flag=lhSepsisAppValuesSrvc.getDropdownValue();
documentSepsisSeverity(sepsis_type_flag);
if(sepsis_type_flag===0){sirsOrders=lhSepsisAppValuesSrvc.getSirsOrders();
}if(sepsis_type_flag>0){antibioticOrders=lhSepsisAppValuesSrvc.getAntibioticOrders();
fluidTherapyOrders=lhSepsisAppValuesSrvc.getFluidTherapyOrders();
diagnosticStudyOrders=lhSepsisAppValuesSrvc.getDiagnosticStudyOrders();
}if(sepsis_type_flag>2){vasopressorOrders=lhSepsisAppValuesSrvc.getVasopressorOrders();
}allOrders=allOrders.concat(sirsOrders,antibioticOrders,fluidTherapyOrders,diagnosticStudyOrders,vasopressorOrders);
var allSupportivePowerPlans=$filter("filter")(lhSepsisAppValuesSrvc.getSupportivePowerplans(),{checked:true});
if(typeof EksReply==="undefined"){placeOrdersMpage(allOrders,allSupportivePowerPlans);
location.reload();
}else{placeOrdersEKS(allOrders,allSupportivePowerPlans);
}};
}]};
});
lhSepsisAdvisorAppDirectives.directive("lhSepsisTypeDropdown",function(){var sepsisTypeTemplate="<div ng-if='types' ng-show='label' id='sepsis-type-dropdown''> {{label}} <select ng-model='selected.type' ng-options='type.label for type in types'ng-change='updateDropdownValue(selected.type)'></select><span><a class='sepsis-popup-link' href='#' id='sepsisPopupLink'>{{i18n.SEPSIS_POPUP_LINK_TEXT}}</a></span><span class='sepsis-last-result'>{{i18n.LAST_ALERT}} {{result_type}} {{result_dt_tm}}</span></div>";
return{restrict:"A",template:sepsisTypeTemplate,controller:["$scope","lhGlobalStepSrvc","lhSepsisAppValuesSrvc","lhGlobalDataSrvc","lhGlobalConstants","lhGlobalBrFiltersDataSrvc",function($scope,lhGlobalStepSrvc,lhSepsisAppValuesSrvc,lhGlobalDataSrvc,lhGlobalConstants,lhGlobalBrFiltersDataSrvc){$scope.i18n=i18n.lh_sepsis_advisor_app;
$scope.types=[{label:$scope.i18n.SIRS,value:0},{label:$scope.i18n.SEPSIS,value:1},{label:$scope.i18n.SVR_SEPSIS,value:2},{label:$scope.i18n.SEPTIC_SHOCK,value:3}];
$scope.$watch("lhGlobalBrFiltersDataSrvc.getAll()",function(){SIRS_DEF=lhGlobalBrFiltersDataSrvc.get("SIRS_DEF",0,"FREETEXT_DESC");
SEVERE_SEP_DEF=lhGlobalBrFiltersDataSrvc.get("SEV_SEP_DEF",0,"FREETEXT_DESC");
SEP_DEF=lhGlobalBrFiltersDataSrvc.get("SEP_DEF",0,"FREETEXT_DESC");
SEPTIC_SHOCK_DEF=lhGlobalBrFiltersDataSrvc.get("SEP_SHOCK_DEF",0,"FREETEXT_DESC");
if(SIRS_DEF==="--"){SIRS_DEF=$scope.i18n.SIRS_DEF;
}if(SEVERE_SEP_DEF==="--"){SEVERE_SEP_DEF=$scope.i18n.SEV_SEPSIS_DEF;
}if(SEP_DEF==="--"){SEP_DEF=$scope.i18n.SEPSIS_DEF;
}if(SEPTIC_SHOCK_DEF==="--"){SEPTIC_SHOCK_DEF=$scope.i18n.SEPTIC_SHOCK_DEF;
}$scope.popup_body="<div class='sepsis-popup-link-body'><b>"+$scope.i18n.SIRS_TITLE+":</b> "+SIRS_DEF+"<br><br><b>"+$scope.i18n.SEPSIS_TITLE+":</b> "+SEP_DEF+"<br><br><b>"+$scope.i18n.SEV_SEPSIS_TITLE+":</b> "+SEVERE_SEP_DEF+"<br><br><b>"+$scope.i18n.SEPTIC_SHOCK_TITLE+":</b> "+SEPTIC_SHOCK_DEF+"</div>";
});
function getData(){var script={};
script.name="lhc_sepsis_alert_driver";
script.params="^MINE^,"+lhGlobalConstants.person_id+","+lhGlobalConstants.encounter_id+",^"+lhGlobalConstants.topic_mean+"^";
lhGlobalDataSrvc.query(script,$scope).then(function(data){var sepsis_type_flag=data.RECORD_DATA.SEPSIS_TYPE_FLAG;
if(!data.RECORD_DATA.SEPSIS_TYPE_DT_TM){$scope.result_dt_tm=$scope.i18n.NOT_FOUND;
}else{$scope.result_dt_tm=data.RECORD_DATA.SEPSIS_TYPE_DT_TM;
switch(sepsis_type_flag){case"0":$scope.result_type=$scope.i18n.SIRS;
break;
case"1":$scope.result_type=$scope.i18n.SEPSIS;
break;
case"2":$scope.result_type=$scope.i18n.SVR_SEPSIS;
break;
case"3":$scope.result_type=$scope.i18n.SEPTIC_SHOCK;
break;
default:$scope.result_type=$scope.i18n.SIRS;
break;
}}if(!data.RECORD_DATA.SEPSIS_TYPE_LBL){$scope.label=$scope.i18n.DROPDOWN_LABEL;
}else{$scope.label=data.RECORD_DATA.SEPSIS_TYPE_LBL;
}lhSepsisAppValuesSrvc.setDropdownValue(sepsis_type_flag);
lhSepsisAppValuesSrvc.setDropdownSetViaCCL();
createPopupLink();
});
}function createPopupLink(){var popup=new MPageUI.Popup();
popup.setAnchorId("sepsisPopupLink");
popup.setBodyContent($scope.popup_body);
$("#sepsisPopupLink").click(function(){popup.toggle();
});
popup.setWidth(MPageUI.POPUP_OPTIONS.WIDTH.MEDIUM);
popup.setPosition(MPageUI.POPUP_OPTIONS.POSITION.BOTTOM);
}getData();
$scope.selected={};
$scope.selected.type=$scope.types[lhSepsisAppValuesSrvc.getDropdownValue()];
$scope.$watch(function(){return lhSepsisAppValuesSrvc.getDropdownValue();
},function(){$scope.selected.type=$scope.types[lhSepsisAppValuesSrvc.getDropdownValue()];
});
$scope.updateDropdownValue=function(selectedType){lhSepsisAppValuesSrvc.setDropdownValue(selectedType.value);
};
}]};
});
lh_global_services.factory("lhGlobalStepSrvc",function(){var currentStep=0;
var furthestStep=0;
var numSteps=0;
return{getCurrentStep:function(){return currentStep;
},setNextStep:function(){if(currentStep<(numSteps-1)){currentStep+=1;
if(currentStep>furthestStep){furthestStep+=1;
}}},setStep:function(stepIdx){currentStep=stepIdx;
},getFurthestStep:function(){return furthestStep;
},setFurthestStep:function(stepNo){furthestStep=stepNo;
},setNumSteps:function(num){numSteps=num;
},getNumSteps:function(){return numSteps;
}};
});
bedrock_filters_data_module_services.factory("lhGlobalBrFiltersDataSrvc",["$q","lhGlobalMessagingSrvc",function($q,lhGlobalMessagingSrvc){var missingValue="--";
var brFilters={};
return{set:function(filterObj){var newFilterObj={};
for(var i=0;
i<filterObj.FILTER.length;
i++){newFilterObj[filterObj.FILTER[i].FILTER_MEAN]={};
newFilterObj[filterObj.FILTER[i].FILTER_MEAN]["VALUE"]=filterObj.FILTER[i].VALUE;
newFilterObj[filterObj.FILTER[i].FILTER_MEAN]["FILTER_CAT_MEAN"]=filterObj.FILTER[i].FILTER_CAT_MEAN;
newFilterObj[filterObj.FILTER[i].FILTER_MEAN]["FILTER_DISPLAY"]=filterObj.FILTER[i].FILTER_DISPLAY;
}brFilters=newFilterObj;
log.info("Global Bedrock Filter Object: "+JSON.stringify(newFilterObj));
},get:function(filterMean,valueIdx,keyName){var filter=brFilters[filterMean];
if(filter!=undefined){if(valueIdx!=undefined){filter=filter.VALUE[valueIdx];
if(filter!=undefined){if(keyName!=undefined){filter=filter[keyName];
if(filter!=undefined){}else{filter=missingValue;
}}}else{filter=missingValue;
}}}else{filter=missingValue;
}return filter;
},getAll:function(){return brFilters;
},query:function(scriptObj){var deferred=$q.defer();
var proceed=true;
var msgList="";
if(scriptObj.name===undefined){deferred.reject("lhGlobalBrFiltersDataSrvc - no script name defined");
proceed=false;
lhGlobalMessagingSrvc.error(i18n.bedrock_filters_data.MSG_SCRIPT_NAME_MISSING);
log.error("lhGlobalBrFiltersDataSrvc: script name has not been defined.");
}if(scriptObj.topic_mean===undefined){deferred.reject("lhGlobalBrFiltersDataSrvc - no topic mean defined");
proceed=false;
lhGlobalMessagingSrvc.error(i18n.bedrock_filters_data.MSG_TOPIC_MEAN_MISSING);
log.error("lhGlobalBrFiltersDataSrvc: topic mean has not been defined.");
}if(scriptObj.encounter_id===undefined){deferred.reject("lhGlobalBrFiltersDataSrvc - no encounter id defined");
proceed=false;
lhGlobalMessagingSrvc.error(i18n.bedrock_filters_data.MSG_ENCOUNTER_ID_MISSING);
log.warn("lhGlobalBrFiltersDataSrvc: encounter id has not been defined.");
}if(scriptObj.filter_means===undefined){deferred.reject("lhGlobalBrFiltersDataSrvc - no filter means defined");
proceed=false;
lhGlobalMessagingSrvc.error(i18n.bedrock_filters_data.MSG_FILTER_MEANS_MISSING);
log.warn("lhGlobalBrFiltersDataSrvc: filter means have not been defined.");
}if(proceed){var scriptParams={};
scriptParams.PARAMS={};
scriptParams.PARAMS.CATEGORY_MEAN=scriptObj.topic_mean;
scriptParams.PARAMS.ENCOUNTER_ID=scriptObj.encounter_id;
scriptParams.PARAMS.FILTER_MEANS=[];
for(var z=0;
z<scriptObj.filter_means.length;
z++){scriptParams.PARAMS.FILTER_MEANS.push({VALUE:scriptObj.filter_means[z]});
}var myAjaxData="^MINE^,^"+JSON.stringify(scriptParams)+"^";
$.ajax({url:scriptObj.name,data:myAjaxData,type:"POST",async:false,error:function(xhr,status,errorMsg){deferred.reject("Failure getting bedrock filters from script: "+scriptObj.name);
var errMessage=i18n.bedrock_filters_data.SCRIPT+" "+scriptObj.name+" "+i18n.bedrock_filters_data.FAILED_WITH_FOLLOWING+" <strong>"+i18n.bedrock_filters_data.STATUS_EQUALS+" </strong> "+status+", <strong>"+i18n.bedrock_filters_data.ERROR_MESSAGE_EQUALS+" </strong> "+errorMsg;
lhGlobalMessagingSrvc.error(errMessage);
},success:function(response){try{var dataResults=JSON.parse(response);
deferred.resolve(dataResults.RECORD_DATA);
}catch(e){deferred.reject("Failure retrieving data for script: "+scriptObj.name);
lhGlobalMessagingSrvc.error(i18n.bedrock_filters_data.MSG_SYSTEM_ADMIN+"<br />"+i18n.bedrock_filters_data.MSG_PARSE_FILTERS_ERROR);
log.error("lhGlobalBrFiltersDataSrvc: Error occurred when trying to build filter object. "+scriptObj.name+".");
}}});
}return deferred.promise;
}};
}]);
ccl_data_module_services.factory("lhGlobalDataSrvc",["$q","lhGlobalMessagingSrvc",function($q,lhGlobalMessagingSrvc){return{query:function(scriptObj,scope){if(scriptObj.async===undefined){scriptObj.async=true;
}else{if(jQuery.type(scriptObj.async)==="string"){switch(scriptObj.async.toLowerCase()){case"true":scriptObj.async=true;
break;
case"false":scriptObj.async=false;
break;
default:scriptObj.async=true;
}}}if(scriptObj.rootKey===undefined){scriptObj.rootKey="RECORD_DATA";
}var deferred=$q.defer();
$.ajax({url:scriptObj.name,data:scriptObj.params,type:"POST",requestBinding:scriptObj.requestBinding,async:scriptObj.async,timer:scriptObj.timer,error:function(response){deferred.reject("Failure retrieving data for script: "+scriptObj.name);
lhGlobalMessagingSrvc.error(i18n.ccl_data_service.MSG_SYSTEM_ADMIN+"<br />"+i18n.ccl_data_service.MSG_ERROR_RETRIEVING_DATA+" "+scriptObj.name);
log.error("lhGlobalDataSrvc: Error occurred when trying to run script "+scriptObj.name+".");
log.error(JSON.stringify(response));
if(!scope.$$phase){scope.$apply();
}},success:function(response){try{var data=JSON.parse(response);
if(data[scriptObj.rootKey].STATUS_DATA.STATUS=="F"){deferred.reject("Status block had a failure for script: "+scriptObj.name);
lhGlobalMessagingSrvc.error(i18n.ccl_data_service.MSG_SYSTEM_ADMIN+"<br />"+i18n.ccl_data_service.SCRIPT+" "+scriptObj.name+" "+i18n.ccl_data_service.FAILED_WITH_FOLLOWING+" "+data[scriptObj.rootKey].STATUS_DATA.SUBEVENTSTATUS[0].TARGETOBJECTVALUE);
log.error("lhGlobalDataSrvc: Script "+scriptObj.name+" had a failure in the status block. Error received was: "+data[scriptObj.rootKey].STATUS_DATA.SUBEVENTSTATUS[0].TARGETOBJECTVALUE);
scope.loading=false;
}else{deferred.resolve(data);
}}catch(e){deferred.reject("Failure retrieving data for script: "+scriptObj.name);
lhGlobalMessagingSrvc.error(i18n.ccl_data_service.MSG_SYSTEM_ADMIN+"<br />"+i18n.ccl_data_service.MSG_ERROR_RETRIEVING_DATA+" "+scriptObj.name);
log.error("lhGlobalDataSrvc: Error occurred when trying to run script "+scriptObj.name+". Error received was: "+response);
scope.loading=false;
}finally{if(!scope.$$phase){scope.$apply();
}}}});
return deferred.promise;
}};
}]);
lhVitalSignsServices.factory("lhShareVitalsSrvc",function(){var sharedVitals={};
return{getSharedVitals:function(){return sharedVitals;
},setSharedVitals:function(value){sharedVitals=value;
}};
});
messaging_builder_module_services.factory("lhGlobalMessagingSrvc",function(){var messages=[];
return{error:function(msg){messages.push({content:msg,type:"error"});
},warn:function(msg){messages.push({content:msg,type:"warn"});
},info:function(msg){messages.push({content:msg,type:"info"});
},success:function(msg){messages.push({content:msg,type:"success"});
},log:function(msg){messages.push({content:msg,type:"log"});
},getMessages:function(){return messages;
},removeMessage:function(idx){messages.splice(messages.indexOf(idx),1);
},clearMessages:function(){messages.length=0;
}};
});
lhSepsisAdvisorAppServices.factory("lhSepsisAppValuesSrvc",function(){var disableSelectRecommendation=true;
var selectedSourcesAndFactors=[];
var broadSpectrumEvent={};
var sirsCultureEvent={};
var dropdownValue=0;
var dropdownSetViaCCL=false;
var sirsOrders=[];
var antibioticOrders=[];
var activeOrders=[];
var fluidTherapyOrders=[];
var diagnosticStudyOrders=[];
var vasopressorOrders=[];
var supportivePowerplans=[];
var diagnosis={};
var selectRecommendations={};
return{getSelectedSourcesAndFactors:function(){return selectedSourcesAndFactors;
},setSelectedSourcesAndFactors:function(value){selectedSourcesAndFactors=value;
},getDocumentBroadSpectrumEvent:function(){return broadSpectrumEvent;
},setDocumentBroadSpectrumEvent:function(value){broadSpectrumEvent=value;
},getDocumentSirsCultureEvent:function(){return sirsCultureEvent;
},setDocumentSirsCultureEvent:function(value){sirsCultureEvent=value;
},getDiagnosisToDocument:function(){return diagnosis;
},setDiagnosisToDocument:function(value){diagnosis=value;
},getDisableSelectRecommendation:function(){return disableSelectRecommendation;
},setDisableSelectRecommendation:function(value){disableSelectRecommendation=value;
},getDropdownValue:function(){return dropdownValue;
},setDropdownValue:function(value){dropdownValue=Number(value);
},getDropdownSetViaCCL:function(){return dropdownSetViaCCL;
},setDropdownSetViaCCL:function(){dropdownSetViaCCL=true;
},getSirsOrders:function(){return sirsOrders;
},setSirsOrders:function(value){sirsOrders=value;
},getActiveOrders:function(){return activeOrders;
},setActiveOrders:function(value){activeOrders=value;
},getAntibioticOrders:function(){return antibioticOrders;
},setAntibioticOrders:function(value){antibioticOrders=value;
},getFluidTherapyOrders:function(){return fluidTherapyOrders;
},setFluidTherapyOrders:function(value){fluidTherapyOrders=value;
},getDiagnosticStudyOrders:function(){return diagnosticStudyOrders;
},setDiagnosticStudyOrders:function(value){diagnosticStudyOrders=value;
},getVasopressorOrders:function(){return vasopressorOrders;
},setVasopressorOrders:function(value){vasopressorOrders=value;
},getSupportivePowerplans:function(){return supportivePowerplans;
},setSupportivePowerplans:function(value){supportivePowerplans=value;
},getSelectRecommendations:function(){return selectRecommendations;
},setSelectRecommendations:function(value){selectRecommendations=value;
}};
});
